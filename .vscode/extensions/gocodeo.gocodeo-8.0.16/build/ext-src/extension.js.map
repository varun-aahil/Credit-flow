{"version":3,"file":"extension.js","mappings":"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","sources":["../webpack/runtime/require chunk loading",".././node_modules/@google/generative-ai/dist/index.js",".././node_modules/abort-controller/dist/abort-controller.js",".././node_modules/agent-base/dist/src/index.js",".././node_modules/agent-base/dist/src/promisify.js",".././node_modules/agentkeepalive/index.js",".././node_modules/agentkeepalive/lib/agent.js",".././node_modules/agentkeepalive/lib/constants.js",".././node_modules/agentkeepalive/lib/https_agent.js",".././node_modules/asynckit/index.js",".././node_modules/asynckit/lib/abort.js",".././node_modules/asynckit/lib/async.js",".././node_modules/asynckit/lib/defer.js",".././node_modules/asynckit/lib/iterate.js",".././node_modules/asynckit/lib/state.js",".././node_modules/asynckit/lib/terminator.js",".././node_modules/asynckit/parallel.js",".././node_modules/asynckit/serial.js",".././node_modules/asynckit/serialOrdered.js",".././node_modules/combined-stream/lib/combined_stream.js",".././node_modules/debug/src/browser.js",".././node_modules/debug/src/common.js",".././node_modules/debug/src/index.js",".././node_modules/debug/src/node.js",".././node_modules/delayed-stream/lib/delayed_stream.js",".././node_modules/dotenv/lib/main.js",".././node_modules/event-target-shim/dist/event-target-shim.js",".././node_modules/follow-redirects/debug.js",".././node_modules/follow-redirects/index.js",".././node_modules/form-data/lib/form_data.js",".././node_modules/form-data/lib/populate.js",".././node_modules/has-flag/index.js",".././node_modules/https-proxy-agent/dist/agent.js",".././node_modules/https-proxy-agent/dist/index.js",".././node_modules/https-proxy-agent/dist/parse-proxy-response.js",".././node_modules/humanize-ms/index.js",".././node_modules/mime-db/index.js",".././node_modules/mime-types/index.js",".././node_modules/mixpanel/lib/groups.js",".././node_modules/mixpanel/lib/mixpanel-node.js",".././node_modules/mixpanel/lib/people.js",".././node_modules/mixpanel/lib/profile_helpers.js",".././node_modules/mixpanel/lib/utils.js",".././node_modules/ms/index.js",".././node_modules/openai/node_modules/tr46/index.js",".././node_modules/openai/node_modules/webidl-conversions/lib/index.js",".././node_modules/openai/node_modules/whatwg-url/lib/URL-impl.js",".././node_modules/openai/node_modules/whatwg-url/lib/URL.js",".././node_modules/openai/node_modules/whatwg-url/lib/public-api.js",".././node_modules/openai/node_modules/whatwg-url/lib/url-state-machine.js",".././node_modules/openai/node_modules/whatwg-url/lib/utils.js",".././node_modules/proxy-from-env/index.js",".././node_modules/python-shell/index.js",".././node_modules/supports-color/index.js","../external node-commonjs \"assert\"","../external node-commonjs \"buffer\"","../external node-commonjs \"child_process\"","../external node-commonjs \"crypto\"","../external node-commonjs \"events\"","../external node-commonjs \"fs\"","../external node-commonjs \"http\"","../external node-commonjs \"https\"","../external node-commonjs \"net\"","../external node-commonjs \"os\"","../external node-commonjs \"path\"","../external node-commonjs \"punycode\"","../external node-commonjs \"querystring\"","../external node-commonjs \"stream\"","../external node-commonjs \"tls\"","../external node-commonjs \"tty\"","../external node-commonjs \"url\"","../external node-commonjs \"util\"","../external node-commonjs \"worker_threads\"",".././node_modules/formdata-node/node_modules/web-streams-polyfill/dist/ponyfill.mjs",".././node_modules/formdata-node/lib/esm/blobHelpers.js",".././node_modules/formdata-node/lib/esm/Blob.js",".././node_modules/formdata-node/lib/esm/File.js",".././node_modules/formdata-node/lib/esm/isFile.js",".././node_modules/formdata-node/lib/esm/isFunction.js","../webpack/bootstrap","../webpack/runtime/compat get default export","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../external commonjs \"vscode\"",".././ext-src/CodeParser.ts",".././ext-src/CodelensProvider.ts",".././ext-src/Constants.ts",".././node_modules/axios/lib/helpers/bind.js",".././node_modules/axios/lib/utils.js",".././node_modules/axios/lib/core/AxiosError.js",".././node_modules/axios/lib/platform/node/classes/FormData.js",".././node_modules/axios/lib/helpers/toFormData.js",".././node_modules/axios/lib/helpers/AxiosURLSearchParams.js",".././node_modules/axios/lib/helpers/buildURL.js",".././node_modules/axios/lib/core/InterceptorManager.js",".././node_modules/axios/lib/defaults/transitional.js",".././node_modules/axios/lib/platform/node/classes/URLSearchParams.js",".././node_modules/axios/lib/platform/node/index.js",".././node_modules/axios/lib/helpers/formDataToJSON.js",".././node_modules/axios/lib/defaults/index.js",".././node_modules/axios/lib/helpers/toURLEncodedForm.js",".././node_modules/axios/lib/helpers/parseHeaders.js",".././node_modules/axios/lib/core/AxiosHeaders.js",".././node_modules/axios/lib/core/transformData.js",".././node_modules/axios/lib/cancel/isCancel.js",".././node_modules/axios/lib/cancel/CanceledError.js",".././node_modules/axios/lib/core/settle.js",".././node_modules/axios/lib/core/buildFullPath.js",".././node_modules/axios/lib/helpers/isAbsoluteURL.js",".././node_modules/axios/lib/helpers/combineURLs.js","../external node-commonjs \"zlib\"",".././node_modules/axios/lib/env/data.js",".././node_modules/axios/lib/helpers/parseProtocol.js",".././node_modules/axios/lib/helpers/fromDataURI.js",".././node_modules/axios/lib/helpers/throttle.js",".././node_modules/axios/lib/helpers/speedometer.js",".././node_modules/axios/lib/helpers/AxiosTransformStream.js",".././node_modules/axios/lib/helpers/readBlob.js",".././node_modules/axios/lib/helpers/formDataToStream.js",".././node_modules/axios/lib/helpers/ZlibHeaderTransformStream.js",".././node_modules/axios/lib/helpers/callbackify.js",".././node_modules/axios/lib/adapters/http.js",".././node_modules/axios/lib/helpers/cookies.js",".././node_modules/axios/lib/helpers/isURLSameOrigin.js",".././node_modules/axios/lib/adapters/xhr.js",".././node_modules/axios/lib/adapters/adapters.js",".././node_modules/axios/lib/core/dispatchRequest.js",".././node_modules/axios/lib/core/mergeConfig.js",".././node_modules/axios/lib/helpers/validator.js",".././node_modules/axios/lib/core/Axios.js",".././node_modules/axios/lib/cancel/CancelToken.js",".././node_modules/axios/lib/helpers/HttpStatusCode.js",".././node_modules/axios/lib/axios.js",".././node_modules/axios/lib/helpers/spread.js",".././node_modules/axios/lib/helpers/isAxiosError.js",".././node_modules/uuid/dist/esm-node/native.js",".././node_modules/uuid/dist/esm-node/rng.js",".././node_modules/uuid/dist/esm-node/stringify.js",".././node_modules/uuid/dist/esm-node/v4.js",".././ext-src/StorageService.ts",".././ext-src/CommonServices.ts",".././ext-src/Sidebar.ts",".././node_modules/openai/internal/qs/formats.mjs",".././node_modules/openai/internal/qs/utils.mjs",".././node_modules/openai/internal/qs/stringify.mjs",".././node_modules/openai/version.mjs",".././node_modules/openai/_shims/registry.mjs",".././node_modules/openai/node_modules/node-fetch/lib/index.mjs",".././node_modules/formdata-node/lib/esm/deprecateConstructorEntries.js",".././node_modules/formdata-node/lib/esm/FormData.js",".././node_modules/formdata-node/lib/esm/isBlob.js","../external node-commonjs \"node:fs\"",".././node_modules/form-data-encoder/lib/esm/util/isPlainObject.js",".././node_modules/form-data-encoder/lib/esm/util/normalizeValue.js",".././node_modules/form-data-encoder/lib/esm/util/escapeName.js",".././node_modules/form-data-encoder/lib/esm/util/isFunction.js",".././node_modules/form-data-encoder/lib/esm/util/isFileLike.js",".././node_modules/form-data-encoder/lib/esm/FormDataEncoder.js",".././node_modules/form-data-encoder/lib/esm/util/isFormData.js",".././node_modules/form-data-encoder/lib/esm/util/createBoundary.js","../external node-commonjs \"node:stream\"",".././node_modules/openai/_shims/MultipartBody.mjs","../external node-commonjs \"node:stream/web\"",".././node_modules/openai/_shims/node-runtime.mjs",".././node_modules/openai/_shims/index.mjs",".././node_modules/openai/error.mjs",".././node_modules/openai/internal/decoders/line.mjs",".././node_modules/openai/streaming.mjs",".././node_modules/openai/uploads.mjs",".././node_modules/openai/core.mjs",".././node_modules/openai/resource.mjs",".././node_modules/openai/resources/completions.mjs",".././node_modules/openai/resources/chat/completions.mjs",".././node_modules/openai/resources/chat/chat.mjs",".././node_modules/openai/resources/embeddings.mjs",".././node_modules/openai/pagination.mjs",".././node_modules/openai/resources/files.mjs",".././node_modules/openai/resources/images.mjs",".././node_modules/openai/resources/audio/speech.mjs",".././node_modules/openai/resources/audio/transcriptions.mjs",".././node_modules/openai/resources/audio/translations.mjs",".././node_modules/openai/resources/audio/audio.mjs",".././node_modules/openai/resources/moderations.mjs",".././node_modules/openai/resources/models.mjs",".././node_modules/openai/resources/fine-tuning/jobs/checkpoints.mjs",".././node_modules/openai/resources/fine-tuning/jobs/jobs.mjs",".././node_modules/openai/resources/fine-tuning/fine-tuning.mjs",".././node_modules/openai/resources/beta/assistants.mjs",".././node_modules/openai/lib/RunnableFunction.mjs",".././node_modules/openai/lib/chatCompletionUtils.mjs",".././node_modules/openai/lib/EventStream.mjs",".././node_modules/openai/lib/parser.mjs",".././node_modules/openai/lib/AbstractChatCompletionRunner.mjs",".././node_modules/openai/lib/ChatCompletionRunner.mjs",".././node_modules/openai/_vendor/partial-json-parser/parser.mjs",".././node_modules/openai/lib/ChatCompletionStream.mjs",".././node_modules/openai/lib/ChatCompletionStreamingRunner.mjs",".././node_modules/openai/resources/beta/chat/completions.mjs",".././node_modules/openai/resources/beta/chat/chat.mjs",".././node_modules/openai/lib/AssistantStream.mjs",".././node_modules/openai/index.mjs",".././node_modules/openai/resources/beta/threads/messages.mjs",".././node_modules/openai/resources/beta/threads/runs/steps.mjs",".././node_modules/openai/resources/beta/threads/runs/runs.mjs",".././node_modules/openai/resources/beta/threads/threads.mjs",".././node_modules/openai/resources/beta/vector-stores/files.mjs",".././node_modules/openai/resources/beta/vector-stores/file-batches.mjs",".././node_modules/openai/lib/Util.mjs",".././node_modules/openai/resources/beta/vector-stores/vector-stores.mjs",".././node_modules/openai/resources/beta/beta.mjs",".././node_modules/openai/resources/batches.mjs",".././node_modules/openai/resources/uploads/parts.mjs",".././node_modules/openai/resources/uploads/uploads.mjs",".././ext-src/util.ts",".././ext-src/helper_agents.ts",".././ext-src/commandExecuterAgent.ts",".././ext-src/FileOperations.ts",".././ext-src/ModifyCode_agents.ts",".././ext-src/Parsing_agents.ts",".././node_modules/diff/lib/index.mjs",".././ext-src/EncryptDecrypt.ts",".././ext-src/parseAndCreateFiles.ts",".././ext-src/FileContextProvider.ts",".././ext-src/backend_workspace/fastify.ts",".././ext-src/backend_workspace/koa.ts",".././ext-src/backend_workspace/springboot.ts",".././ext-src/backend_workspace/echo.ts",".././ext-src/backend_workspace/gin.ts",".././ext-src/backend_workspace/flask.ts",".././ext-src/backend_workspace/NestJS.ts",".././ext-src/workspace/react_vite.ts",".././ext-src/workspace/react.ts",".././ext-src/workspace/nextjs.ts",".././ext-src/workspace/vue.ts",".././ext-src/workspace/typeScript.ts",".././ext-src/workspace/angular.ts",".././ext-src/workspace/svelteKit.ts",".././ext-src/workspace/remix.ts",".././ext-src/workspace/astro.ts",".././ext-src/workspace/nuxtjs.ts",".././ext-src/workspace/qwik.ts",".././ext-src/workspace/nativeScript.ts",".././ext-src/workspace/slidev.ts",".././ext-src/workspace/remotion.ts",".././ext-src/workspace/vite.ts",".././ext-src/backend_workspace/express.js",".././ext-src/backend_workspace/nodejs.js",".././ext-src/backend_workspace/fastAPI.js",".././ext-src/WebViewPanel.ts",".././ext-src/file_setup.ts",".././ext-src/CodeBlockProvider.ts",".././node_modules/fastest-levenshtein/esm/mod.js",".././ext-src/promptBuilder.ts",".././ext-src/postProcessing.ts",".././ext-src/openaiLLM.ts",".././ext-src/charStream.ts",".././ext-src/AICodeCompletionProvider.ts",".././ext-src/MixpanelAnalytics.ts",".././ext-src/AnalyticsConstants.ts",".././src/api.js",".././ext-src/extension.ts"],"sourcesContent":["// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"loaded\", otherwise not loaded yet\nvar installedChunks = {\n\t179: 1\n};\n\n// no on chunks loaded\n\nvar installChunk = (chunk) => {\n\tvar moreModules = chunk.modules, chunkIds = chunk.ids, runtime = chunk.runtime;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tfor(var i = 0; i < chunkIds.length; i++)\n\t\tinstalledChunks[chunkIds[i]] = 1;\n\n};\n\n// require() chunk loading for javascript\n__webpack_require__.f.require = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\tinstallChunk(require(\"./\" + __webpack_require__.u(chunkId)));\n\t\t} else installedChunks[chunkId] = 1;\n\t}\n};\n\n// no external install chunk\n\n// no HMR\n\n// no HMR manifest","'use strict';\n\n/**\n * Contains the list of OpenAPI data types\n * as defined by https://swagger.io/docs/specification/data-models/data-types/\n * @public\n */\nexports.SchemaType = void 0;\n(function (SchemaType) {\n    /** String type. */\n    SchemaType[\"STRING\"] = \"string\";\n    /** Number type. */\n    SchemaType[\"NUMBER\"] = \"number\";\n    /** Integer type. */\n    SchemaType[\"INTEGER\"] = \"integer\";\n    /** Boolean type. */\n    SchemaType[\"BOOLEAN\"] = \"boolean\";\n    /** Array type. */\n    SchemaType[\"ARRAY\"] = \"array\";\n    /** Object type. */\n    SchemaType[\"OBJECT\"] = \"object\";\n})(exports.SchemaType || (exports.SchemaType = {}));\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @public\n */\nexports.ExecutableCodeLanguage = void 0;\n(function (ExecutableCodeLanguage) {\n    ExecutableCodeLanguage[\"LANGUAGE_UNSPECIFIED\"] = \"language_unspecified\";\n    ExecutableCodeLanguage[\"PYTHON\"] = \"python\";\n})(exports.ExecutableCodeLanguage || (exports.ExecutableCodeLanguage = {}));\n/**\n * Possible outcomes of code execution.\n * @public\n */\nexports.Outcome = void 0;\n(function (Outcome) {\n    /**\n     * Unspecified status. This value should not be used.\n     */\n    Outcome[\"OUTCOME_UNSPECIFIED\"] = \"outcome_unspecified\";\n    /**\n     * Code execution completed successfully.\n     */\n    Outcome[\"OUTCOME_OK\"] = \"outcome_ok\";\n    /**\n     * Code execution finished but with a failure. `stderr` should contain the\n     * reason.\n     */\n    Outcome[\"OUTCOME_FAILED\"] = \"outcome_failed\";\n    /**\n     * Code execution ran for too long, and was cancelled. There may or may not\n     * be a partial output present.\n     */\n    Outcome[\"OUTCOME_DEADLINE_EXCEEDED\"] = \"outcome_deadline_exceeded\";\n})(exports.Outcome || (exports.Outcome = {}));\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Possible roles.\n * @public\n */\nconst POSSIBLE_ROLES = [\"user\", \"model\", \"function\", \"system\"];\n/**\n * Harm categories that would cause prompts or candidates to be blocked.\n * @public\n */\nexports.HarmCategory = void 0;\n(function (HarmCategory) {\n    HarmCategory[\"HARM_CATEGORY_UNSPECIFIED\"] = \"HARM_CATEGORY_UNSPECIFIED\";\n    HarmCategory[\"HARM_CATEGORY_HATE_SPEECH\"] = \"HARM_CATEGORY_HATE_SPEECH\";\n    HarmCategory[\"HARM_CATEGORY_SEXUALLY_EXPLICIT\"] = \"HARM_CATEGORY_SEXUALLY_EXPLICIT\";\n    HarmCategory[\"HARM_CATEGORY_HARASSMENT\"] = \"HARM_CATEGORY_HARASSMENT\";\n    HarmCategory[\"HARM_CATEGORY_DANGEROUS_CONTENT\"] = \"HARM_CATEGORY_DANGEROUS_CONTENT\";\n})(exports.HarmCategory || (exports.HarmCategory = {}));\n/**\n * Threshold above which a prompt or candidate will be blocked.\n * @public\n */\nexports.HarmBlockThreshold = void 0;\n(function (HarmBlockThreshold) {\n    // Threshold is unspecified.\n    HarmBlockThreshold[\"HARM_BLOCK_THRESHOLD_UNSPECIFIED\"] = \"HARM_BLOCK_THRESHOLD_UNSPECIFIED\";\n    // Content with NEGLIGIBLE will be allowed.\n    HarmBlockThreshold[\"BLOCK_LOW_AND_ABOVE\"] = \"BLOCK_LOW_AND_ABOVE\";\n    // Content with NEGLIGIBLE and LOW will be allowed.\n    HarmBlockThreshold[\"BLOCK_MEDIUM_AND_ABOVE\"] = \"BLOCK_MEDIUM_AND_ABOVE\";\n    // Content with NEGLIGIBLE, LOW, and MEDIUM will be allowed.\n    HarmBlockThreshold[\"BLOCK_ONLY_HIGH\"] = \"BLOCK_ONLY_HIGH\";\n    // All content will be allowed.\n    HarmBlockThreshold[\"BLOCK_NONE\"] = \"BLOCK_NONE\";\n})(exports.HarmBlockThreshold || (exports.HarmBlockThreshold = {}));\n/**\n * Probability that a prompt or candidate matches a harm category.\n * @public\n */\nexports.HarmProbability = void 0;\n(function (HarmProbability) {\n    // Probability is unspecified.\n    HarmProbability[\"HARM_PROBABILITY_UNSPECIFIED\"] = \"HARM_PROBABILITY_UNSPECIFIED\";\n    // Content has a negligible chance of being unsafe.\n    HarmProbability[\"NEGLIGIBLE\"] = \"NEGLIGIBLE\";\n    // Content has a low chance of being unsafe.\n    HarmProbability[\"LOW\"] = \"LOW\";\n    // Content has a medium chance of being unsafe.\n    HarmProbability[\"MEDIUM\"] = \"MEDIUM\";\n    // Content has a high chance of being unsafe.\n    HarmProbability[\"HIGH\"] = \"HIGH\";\n})(exports.HarmProbability || (exports.HarmProbability = {}));\n/**\n * Reason that a prompt was blocked.\n * @public\n */\nexports.BlockReason = void 0;\n(function (BlockReason) {\n    // A blocked reason was not specified.\n    BlockReason[\"BLOCKED_REASON_UNSPECIFIED\"] = \"BLOCKED_REASON_UNSPECIFIED\";\n    // Content was blocked by safety settings.\n    BlockReason[\"SAFETY\"] = \"SAFETY\";\n    // Content was blocked, but the reason is uncategorized.\n    BlockReason[\"OTHER\"] = \"OTHER\";\n})(exports.BlockReason || (exports.BlockReason = {}));\n/**\n * Reason that a candidate finished.\n * @public\n */\nexports.FinishReason = void 0;\n(function (FinishReason) {\n    // Default value. This value is unused.\n    FinishReason[\"FINISH_REASON_UNSPECIFIED\"] = \"FINISH_REASON_UNSPECIFIED\";\n    // Natural stop point of the model or provided stop sequence.\n    FinishReason[\"STOP\"] = \"STOP\";\n    // The maximum number of tokens as specified in the request was reached.\n    FinishReason[\"MAX_TOKENS\"] = \"MAX_TOKENS\";\n    // The candidate content was flagged for safety reasons.\n    FinishReason[\"SAFETY\"] = \"SAFETY\";\n    // The candidate content was flagged for recitation reasons.\n    FinishReason[\"RECITATION\"] = \"RECITATION\";\n    // The candidate content was flagged for using an unsupported language.\n    FinishReason[\"LANGUAGE\"] = \"LANGUAGE\";\n    // Unknown reason.\n    FinishReason[\"OTHER\"] = \"OTHER\";\n})(exports.FinishReason || (exports.FinishReason = {}));\n/**\n * Task type for embedding content.\n * @public\n */\nexports.TaskType = void 0;\n(function (TaskType) {\n    TaskType[\"TASK_TYPE_UNSPECIFIED\"] = \"TASK_TYPE_UNSPECIFIED\";\n    TaskType[\"RETRIEVAL_QUERY\"] = \"RETRIEVAL_QUERY\";\n    TaskType[\"RETRIEVAL_DOCUMENT\"] = \"RETRIEVAL_DOCUMENT\";\n    TaskType[\"SEMANTIC_SIMILARITY\"] = \"SEMANTIC_SIMILARITY\";\n    TaskType[\"CLASSIFICATION\"] = \"CLASSIFICATION\";\n    TaskType[\"CLUSTERING\"] = \"CLUSTERING\";\n})(exports.TaskType || (exports.TaskType = {}));\n/**\n * @public\n */\nexports.FunctionCallingMode = void 0;\n(function (FunctionCallingMode) {\n    // Unspecified function calling mode. This value should not be used.\n    FunctionCallingMode[\"MODE_UNSPECIFIED\"] = \"MODE_UNSPECIFIED\";\n    // Default model behavior, model decides to predict either a function call\n    // or a natural language repspose.\n    FunctionCallingMode[\"AUTO\"] = \"AUTO\";\n    // Model is constrained to always predicting a function call only.\n    // If \"allowed_function_names\" are set, the predicted function call will be\n    // limited to any one of \"allowed_function_names\", else the predicted\n    // function call will be any one of the provided \"function_declarations\".\n    FunctionCallingMode[\"ANY\"] = \"ANY\";\n    // Model will not predict any function call. Model behavior is same as when\n    // not passing any function declarations.\n    FunctionCallingMode[\"NONE\"] = \"NONE\";\n})(exports.FunctionCallingMode || (exports.FunctionCallingMode = {}));\n/**\n * The mode of the predictor to be used in dynamic retrieval.\n * @public\n */\nexports.DynamicRetrievalMode = void 0;\n(function (DynamicRetrievalMode) {\n    // Unspecified function calling mode. This value should not be used.\n    DynamicRetrievalMode[\"MODE_UNSPECIFIED\"] = \"MODE_UNSPECIFIED\";\n    // Run retrieval only when system decides it is necessary.\n    DynamicRetrievalMode[\"MODE_DYNAMIC\"] = \"MODE_DYNAMIC\";\n})(exports.DynamicRetrievalMode || (exports.DynamicRetrievalMode = {}));\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Basic error type for this SDK.\n * @public\n */\nclass GoogleGenerativeAIError extends Error {\n    constructor(message) {\n        super(`[GoogleGenerativeAI Error]: ${message}`);\n    }\n}\n/**\n * Errors in the contents of a response from the model. This includes parsing\n * errors, or responses including a safety block reason.\n * @public\n */\nclass GoogleGenerativeAIResponseError extends GoogleGenerativeAIError {\n    constructor(message, response) {\n        super(message);\n        this.response = response;\n    }\n}\n/**\n * Error class covering HTTP errors when calling the server. Includes HTTP\n * status, statusText, and optional details, if provided in the server response.\n * @public\n */\nclass GoogleGenerativeAIFetchError extends GoogleGenerativeAIError {\n    constructor(message, status, statusText, errorDetails) {\n        super(message);\n        this.status = status;\n        this.statusText = statusText;\n        this.errorDetails = errorDetails;\n    }\n}\n/**\n * Errors in the contents of a request originating from user input.\n * @public\n */\nclass GoogleGenerativeAIRequestInputError extends GoogleGenerativeAIError {\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst DEFAULT_BASE_URL = \"https://generativelanguage.googleapis.com\";\nconst DEFAULT_API_VERSION = \"v1beta\";\n/**\n * We can't `require` package.json if this runs on web. We will use rollup to\n * swap in the version number here at build time.\n */\nconst PACKAGE_VERSION = \"0.21.0\";\nconst PACKAGE_LOG_HEADER = \"genai-js\";\nvar Task;\n(function (Task) {\n    Task[\"GENERATE_CONTENT\"] = \"generateContent\";\n    Task[\"STREAM_GENERATE_CONTENT\"] = \"streamGenerateContent\";\n    Task[\"COUNT_TOKENS\"] = \"countTokens\";\n    Task[\"EMBED_CONTENT\"] = \"embedContent\";\n    Task[\"BATCH_EMBED_CONTENTS\"] = \"batchEmbedContents\";\n})(Task || (Task = {}));\nclass RequestUrl {\n    constructor(model, task, apiKey, stream, requestOptions) {\n        this.model = model;\n        this.task = task;\n        this.apiKey = apiKey;\n        this.stream = stream;\n        this.requestOptions = requestOptions;\n    }\n    toString() {\n        var _a, _b;\n        const apiVersion = ((_a = this.requestOptions) === null || _a === void 0 ? void 0 : _a.apiVersion) || DEFAULT_API_VERSION;\n        const baseUrl = ((_b = this.requestOptions) === null || _b === void 0 ? void 0 : _b.baseUrl) || DEFAULT_BASE_URL;\n        let url = `${baseUrl}/${apiVersion}/${this.model}:${this.task}`;\n        if (this.stream) {\n            url += \"?alt=sse\";\n        }\n        return url;\n    }\n}\n/**\n * Simple, but may become more complex if we add more versions to log.\n */\nfunction getClientHeaders(requestOptions) {\n    const clientHeaders = [];\n    if (requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.apiClient) {\n        clientHeaders.push(requestOptions.apiClient);\n    }\n    clientHeaders.push(`${PACKAGE_LOG_HEADER}/${PACKAGE_VERSION}`);\n    return clientHeaders.join(\" \");\n}\nasync function getHeaders(url) {\n    var _a;\n    const headers = new Headers();\n    headers.append(\"Content-Type\", \"application/json\");\n    headers.append(\"x-goog-api-client\", getClientHeaders(url.requestOptions));\n    headers.append(\"x-goog-api-key\", url.apiKey);\n    let customHeaders = (_a = url.requestOptions) === null || _a === void 0 ? void 0 : _a.customHeaders;\n    if (customHeaders) {\n        if (!(customHeaders instanceof Headers)) {\n            try {\n                customHeaders = new Headers(customHeaders);\n            }\n            catch (e) {\n                throw new GoogleGenerativeAIRequestInputError(`unable to convert customHeaders value ${JSON.stringify(customHeaders)} to Headers: ${e.message}`);\n            }\n        }\n        for (const [headerName, headerValue] of customHeaders.entries()) {\n            if (headerName === \"x-goog-api-key\") {\n                throw new GoogleGenerativeAIRequestInputError(`Cannot set reserved header name ${headerName}`);\n            }\n            else if (headerName === \"x-goog-api-client\") {\n                throw new GoogleGenerativeAIRequestInputError(`Header name ${headerName} can only be set using the apiClient field`);\n            }\n            headers.append(headerName, headerValue);\n        }\n    }\n    return headers;\n}\nasync function constructModelRequest(model, task, apiKey, stream, body, requestOptions) {\n    const url = new RequestUrl(model, task, apiKey, stream, requestOptions);\n    return {\n        url: url.toString(),\n        fetchOptions: Object.assign(Object.assign({}, buildFetchOptions(requestOptions)), { method: \"POST\", headers: await getHeaders(url), body }),\n    };\n}\nasync function makeModelRequest(model, task, apiKey, stream, body, requestOptions = {}, \n// Allows this to be stubbed for tests\nfetchFn = fetch) {\n    const { url, fetchOptions } = await constructModelRequest(model, task, apiKey, stream, body, requestOptions);\n    return makeRequest(url, fetchOptions, fetchFn);\n}\nasync function makeRequest(url, fetchOptions, fetchFn = fetch) {\n    let response;\n    try {\n        response = await fetchFn(url, fetchOptions);\n    }\n    catch (e) {\n        handleResponseError(e, url);\n    }\n    if (!response.ok) {\n        await handleResponseNotOk(response, url);\n    }\n    return response;\n}\nfunction handleResponseError(e, url) {\n    let err = e;\n    if (!(e instanceof GoogleGenerativeAIFetchError ||\n        e instanceof GoogleGenerativeAIRequestInputError)) {\n        err = new GoogleGenerativeAIError(`Error fetching from ${url.toString()}: ${e.message}`);\n        err.stack = e.stack;\n    }\n    throw err;\n}\nasync function handleResponseNotOk(response, url) {\n    let message = \"\";\n    let errorDetails;\n    try {\n        const json = await response.json();\n        message = json.error.message;\n        if (json.error.details) {\n            message += ` ${JSON.stringify(json.error.details)}`;\n            errorDetails = json.error.details;\n        }\n    }\n    catch (e) {\n        // ignored\n    }\n    throw new GoogleGenerativeAIFetchError(`Error fetching from ${url.toString()}: [${response.status} ${response.statusText}] ${message}`, response.status, response.statusText, errorDetails);\n}\n/**\n * Generates the request options to be passed to the fetch API.\n * @param requestOptions - The user-defined request options.\n * @returns The generated request options.\n */\nfunction buildFetchOptions(requestOptions) {\n    const fetchOptions = {};\n    if ((requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.signal) !== undefined || (requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.timeout) >= 0) {\n        const controller = new AbortController();\n        if ((requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.timeout) >= 0) {\n            setTimeout(() => controller.abort(), requestOptions.timeout);\n        }\n        if (requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.signal) {\n            requestOptions.signal.addEventListener(\"abort\", () => {\n                controller.abort();\n            });\n        }\n        fetchOptions.signal = controller.signal;\n    }\n    return fetchOptions;\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Adds convenience helper methods to a response object, including stream\n * chunks (as long as each chunk is a complete GenerateContentResponse JSON).\n */\nfunction addHelpers(response) {\n    response.text = () => {\n        if (response.candidates && response.candidates.length > 0) {\n            if (response.candidates.length > 1) {\n                console.warn(`This response had ${response.candidates.length} ` +\n                    `candidates. Returning text from the first candidate only. ` +\n                    `Access response.candidates directly to use the other candidates.`);\n            }\n            if (hadBadFinishReason(response.candidates[0])) {\n                throw new GoogleGenerativeAIResponseError(`${formatBlockErrorMessage(response)}`, response);\n            }\n            return getText(response);\n        }\n        else if (response.promptFeedback) {\n            throw new GoogleGenerativeAIResponseError(`Text not available. ${formatBlockErrorMessage(response)}`, response);\n        }\n        return \"\";\n    };\n    /**\n     * TODO: remove at next major version\n     */\n    response.functionCall = () => {\n        if (response.candidates && response.candidates.length > 0) {\n            if (response.candidates.length > 1) {\n                console.warn(`This response had ${response.candidates.length} ` +\n                    `candidates. Returning function calls from the first candidate only. ` +\n                    `Access response.candidates directly to use the other candidates.`);\n            }\n            if (hadBadFinishReason(response.candidates[0])) {\n                throw new GoogleGenerativeAIResponseError(`${formatBlockErrorMessage(response)}`, response);\n            }\n            console.warn(`response.functionCall() is deprecated. ` +\n                `Use response.functionCalls() instead.`);\n            return getFunctionCalls(response)[0];\n        }\n        else if (response.promptFeedback) {\n            throw new GoogleGenerativeAIResponseError(`Function call not available. ${formatBlockErrorMessage(response)}`, response);\n        }\n        return undefined;\n    };\n    response.functionCalls = () => {\n        if (response.candidates && response.candidates.length > 0) {\n            if (response.candidates.length > 1) {\n                console.warn(`This response had ${response.candidates.length} ` +\n                    `candidates. Returning function calls from the first candidate only. ` +\n                    `Access response.candidates directly to use the other candidates.`);\n            }\n            if (hadBadFinishReason(response.candidates[0])) {\n                throw new GoogleGenerativeAIResponseError(`${formatBlockErrorMessage(response)}`, response);\n            }\n            return getFunctionCalls(response);\n        }\n        else if (response.promptFeedback) {\n            throw new GoogleGenerativeAIResponseError(`Function call not available. ${formatBlockErrorMessage(response)}`, response);\n        }\n        return undefined;\n    };\n    return response;\n}\n/**\n * Returns all text found in all parts of first candidate.\n */\nfunction getText(response) {\n    var _a, _b, _c, _d;\n    const textStrings = [];\n    if ((_b = (_a = response.candidates) === null || _a === void 0 ? void 0 : _a[0].content) === null || _b === void 0 ? void 0 : _b.parts) {\n        for (const part of (_d = (_c = response.candidates) === null || _c === void 0 ? void 0 : _c[0].content) === null || _d === void 0 ? void 0 : _d.parts) {\n            if (part.text) {\n                textStrings.push(part.text);\n            }\n            if (part.executableCode) {\n                textStrings.push(\"\\n```\" +\n                    part.executableCode.language +\n                    \"\\n\" +\n                    part.executableCode.code +\n                    \"\\n```\\n\");\n            }\n            if (part.codeExecutionResult) {\n                textStrings.push(\"\\n```\\n\" + part.codeExecutionResult.output + \"\\n```\\n\");\n            }\n        }\n    }\n    if (textStrings.length > 0) {\n        return textStrings.join(\"\");\n    }\n    else {\n        return \"\";\n    }\n}\n/**\n * Returns functionCall of first candidate.\n */\nfunction getFunctionCalls(response) {\n    var _a, _b, _c, _d;\n    const functionCalls = [];\n    if ((_b = (_a = response.candidates) === null || _a === void 0 ? void 0 : _a[0].content) === null || _b === void 0 ? void 0 : _b.parts) {\n        for (const part of (_d = (_c = response.candidates) === null || _c === void 0 ? void 0 : _c[0].content) === null || _d === void 0 ? void 0 : _d.parts) {\n            if (part.functionCall) {\n                functionCalls.push(part.functionCall);\n            }\n        }\n    }\n    if (functionCalls.length > 0) {\n        return functionCalls;\n    }\n    else {\n        return undefined;\n    }\n}\nconst badFinishReasons = [\n    exports.FinishReason.RECITATION,\n    exports.FinishReason.SAFETY,\n    exports.FinishReason.LANGUAGE,\n];\nfunction hadBadFinishReason(candidate) {\n    return (!!candidate.finishReason &&\n        badFinishReasons.includes(candidate.finishReason));\n}\nfunction formatBlockErrorMessage(response) {\n    var _a, _b, _c;\n    let message = \"\";\n    if ((!response.candidates || response.candidates.length === 0) &&\n        response.promptFeedback) {\n        message += \"Response was blocked\";\n        if ((_a = response.promptFeedback) === null || _a === void 0 ? void 0 : _a.blockReason) {\n            message += ` due to ${response.promptFeedback.blockReason}`;\n        }\n        if ((_b = response.promptFeedback) === null || _b === void 0 ? void 0 : _b.blockReasonMessage) {\n            message += `: ${response.promptFeedback.blockReasonMessage}`;\n        }\n    }\n    else if ((_c = response.candidates) === null || _c === void 0 ? void 0 : _c[0]) {\n        const firstCandidate = response.candidates[0];\n        if (hadBadFinishReason(firstCandidate)) {\n            message += `Candidate was blocked due to ${firstCandidate.finishReason}`;\n            if (firstCandidate.finishMessage) {\n                message += `: ${firstCandidate.finishMessage}`;\n            }\n        }\n    }\n    return message;\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\n\r\nfunction __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nfunction __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst responseLineRE = /^data\\: (.*)(?:\\n\\n|\\r\\r|\\r\\n\\r\\n)/;\n/**\n * Process a response.body stream from the backend and return an\n * iterator that provides one complete GenerateContentResponse at a time\n * and a promise that resolves with a single aggregated\n * GenerateContentResponse.\n *\n * @param response - Response from a fetch call\n */\nfunction processStream(response) {\n    const inputStream = response.body.pipeThrough(new TextDecoderStream(\"utf8\", { fatal: true }));\n    const responseStream = getResponseStream(inputStream);\n    const [stream1, stream2] = responseStream.tee();\n    return {\n        stream: generateResponseSequence(stream1),\n        response: getResponsePromise(stream2),\n    };\n}\nasync function getResponsePromise(stream) {\n    const allResponses = [];\n    const reader = stream.getReader();\n    while (true) {\n        const { done, value } = await reader.read();\n        if (done) {\n            return addHelpers(aggregateResponses(allResponses));\n        }\n        allResponses.push(value);\n    }\n}\nfunction generateResponseSequence(stream) {\n    return __asyncGenerator(this, arguments, function* generateResponseSequence_1() {\n        const reader = stream.getReader();\n        while (true) {\n            const { value, done } = yield __await(reader.read());\n            if (done) {\n                break;\n            }\n            yield yield __await(addHelpers(value));\n        }\n    });\n}\n/**\n * Reads a raw stream from the fetch response and join incomplete\n * chunks, returning a new stream that provides a single complete\n * GenerateContentResponse in each iteration.\n */\nfunction getResponseStream(inputStream) {\n    const reader = inputStream.getReader();\n    const stream = new ReadableStream({\n        start(controller) {\n            let currentText = \"\";\n            return pump();\n            function pump() {\n                return reader.read().then(({ value, done }) => {\n                    if (done) {\n                        if (currentText.trim()) {\n                            controller.error(new GoogleGenerativeAIError(\"Failed to parse stream\"));\n                            return;\n                        }\n                        controller.close();\n                        return;\n                    }\n                    currentText += value;\n                    let match = currentText.match(responseLineRE);\n                    let parsedResponse;\n                    while (match) {\n                        try {\n                            parsedResponse = JSON.parse(match[1]);\n                        }\n                        catch (e) {\n                            controller.error(new GoogleGenerativeAIError(`Error parsing JSON response: \"${match[1]}\"`));\n                            return;\n                        }\n                        controller.enqueue(parsedResponse);\n                        currentText = currentText.substring(match[0].length);\n                        match = currentText.match(responseLineRE);\n                    }\n                    return pump();\n                });\n            }\n        },\n    });\n    return stream;\n}\n/**\n * Aggregates an array of `GenerateContentResponse`s into a single\n * GenerateContentResponse.\n */\nfunction aggregateResponses(responses) {\n    const lastResponse = responses[responses.length - 1];\n    const aggregatedResponse = {\n        promptFeedback: lastResponse === null || lastResponse === void 0 ? void 0 : lastResponse.promptFeedback,\n    };\n    for (const response of responses) {\n        if (response.candidates) {\n            for (const candidate of response.candidates) {\n                const i = candidate.index;\n                if (!aggregatedResponse.candidates) {\n                    aggregatedResponse.candidates = [];\n                }\n                if (!aggregatedResponse.candidates[i]) {\n                    aggregatedResponse.candidates[i] = {\n                        index: candidate.index,\n                    };\n                }\n                // Keep overwriting, the last one will be final\n                aggregatedResponse.candidates[i].citationMetadata =\n                    candidate.citationMetadata;\n                aggregatedResponse.candidates[i].groundingMetadata =\n                    candidate.groundingMetadata;\n                aggregatedResponse.candidates[i].finishReason = candidate.finishReason;\n                aggregatedResponse.candidates[i].finishMessage =\n                    candidate.finishMessage;\n                aggregatedResponse.candidates[i].safetyRatings =\n                    candidate.safetyRatings;\n                /**\n                 * Candidates should always have content and parts, but this handles\n                 * possible malformed responses.\n                 */\n                if (candidate.content && candidate.content.parts) {\n                    if (!aggregatedResponse.candidates[i].content) {\n                        aggregatedResponse.candidates[i].content = {\n                            role: candidate.content.role || \"user\",\n                            parts: [],\n                        };\n                    }\n                    const newPart = {};\n                    for (const part of candidate.content.parts) {\n                        if (part.text) {\n                            newPart.text = part.text;\n                        }\n                        if (part.functionCall) {\n                            newPart.functionCall = part.functionCall;\n                        }\n                        if (part.executableCode) {\n                            newPart.executableCode = part.executableCode;\n                        }\n                        if (part.codeExecutionResult) {\n                            newPart.codeExecutionResult = part.codeExecutionResult;\n                        }\n                        if (Object.keys(newPart).length === 0) {\n                            newPart.text = \"\";\n                        }\n                        aggregatedResponse.candidates[i].content.parts.push(newPart);\n                    }\n                }\n            }\n        }\n        if (response.usageMetadata) {\n            aggregatedResponse.usageMetadata = response.usageMetadata;\n        }\n    }\n    return aggregatedResponse;\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nasync function generateContentStream(apiKey, model, params, requestOptions) {\n    const response = await makeModelRequest(model, Task.STREAM_GENERATE_CONTENT, apiKey, \n    /* stream */ true, JSON.stringify(params), requestOptions);\n    return processStream(response);\n}\nasync function generateContent(apiKey, model, params, requestOptions) {\n    const response = await makeModelRequest(model, Task.GENERATE_CONTENT, apiKey, \n    /* stream */ false, JSON.stringify(params), requestOptions);\n    const responseJson = await response.json();\n    const enhancedResponse = addHelpers(responseJson);\n    return {\n        response: enhancedResponse,\n    };\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction formatSystemInstruction(input) {\n    // null or undefined\n    if (input == null) {\n        return undefined;\n    }\n    else if (typeof input === \"string\") {\n        return { role: \"system\", parts: [{ text: input }] };\n    }\n    else if (input.text) {\n        return { role: \"system\", parts: [input] };\n    }\n    else if (input.parts) {\n        if (!input.role) {\n            return { role: \"system\", parts: input.parts };\n        }\n        else {\n            return input;\n        }\n    }\n}\nfunction formatNewContent(request) {\n    let newParts = [];\n    if (typeof request === \"string\") {\n        newParts = [{ text: request }];\n    }\n    else {\n        for (const partOrString of request) {\n            if (typeof partOrString === \"string\") {\n                newParts.push({ text: partOrString });\n            }\n            else {\n                newParts.push(partOrString);\n            }\n        }\n    }\n    return assignRoleToPartsAndValidateSendMessageRequest(newParts);\n}\n/**\n * When multiple Part types (i.e. FunctionResponsePart and TextPart) are\n * passed in a single Part array, we may need to assign different roles to each\n * part. Currently only FunctionResponsePart requires a role other than 'user'.\n * @private\n * @param parts Array of parts to pass to the model\n * @returns Array of content items\n */\nfunction assignRoleToPartsAndValidateSendMessageRequest(parts) {\n    const userContent = { role: \"user\", parts: [] };\n    const functionContent = { role: \"function\", parts: [] };\n    let hasUserContent = false;\n    let hasFunctionContent = false;\n    for (const part of parts) {\n        if (\"functionResponse\" in part) {\n            functionContent.parts.push(part);\n            hasFunctionContent = true;\n        }\n        else {\n            userContent.parts.push(part);\n            hasUserContent = true;\n        }\n    }\n    if (hasUserContent && hasFunctionContent) {\n        throw new GoogleGenerativeAIError(\"Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.\");\n    }\n    if (!hasUserContent && !hasFunctionContent) {\n        throw new GoogleGenerativeAIError(\"No content is provided for sending chat message.\");\n    }\n    if (hasUserContent) {\n        return userContent;\n    }\n    return functionContent;\n}\nfunction formatCountTokensInput(params, modelParams) {\n    var _a;\n    let formattedGenerateContentRequest = {\n        model: modelParams === null || modelParams === void 0 ? void 0 : modelParams.model,\n        generationConfig: modelParams === null || modelParams === void 0 ? void 0 : modelParams.generationConfig,\n        safetySettings: modelParams === null || modelParams === void 0 ? void 0 : modelParams.safetySettings,\n        tools: modelParams === null || modelParams === void 0 ? void 0 : modelParams.tools,\n        toolConfig: modelParams === null || modelParams === void 0 ? void 0 : modelParams.toolConfig,\n        systemInstruction: modelParams === null || modelParams === void 0 ? void 0 : modelParams.systemInstruction,\n        cachedContent: (_a = modelParams === null || modelParams === void 0 ? void 0 : modelParams.cachedContent) === null || _a === void 0 ? void 0 : _a.name,\n        contents: [],\n    };\n    const containsGenerateContentRequest = params.generateContentRequest != null;\n    if (params.contents) {\n        if (containsGenerateContentRequest) {\n            throw new GoogleGenerativeAIRequestInputError(\"CountTokensRequest must have one of contents or generateContentRequest, not both.\");\n        }\n        formattedGenerateContentRequest.contents = params.contents;\n    }\n    else if (containsGenerateContentRequest) {\n        formattedGenerateContentRequest = Object.assign(Object.assign({}, formattedGenerateContentRequest), params.generateContentRequest);\n    }\n    else {\n        // Array or string\n        const content = formatNewContent(params);\n        formattedGenerateContentRequest.contents = [content];\n    }\n    return { generateContentRequest: formattedGenerateContentRequest };\n}\nfunction formatGenerateContentInput(params) {\n    let formattedRequest;\n    if (params.contents) {\n        formattedRequest = params;\n    }\n    else {\n        // Array or string\n        const content = formatNewContent(params);\n        formattedRequest = { contents: [content] };\n    }\n    if (params.systemInstruction) {\n        formattedRequest.systemInstruction = formatSystemInstruction(params.systemInstruction);\n    }\n    return formattedRequest;\n}\nfunction formatEmbedContentInput(params) {\n    if (typeof params === \"string\" || Array.isArray(params)) {\n        const content = formatNewContent(params);\n        return { content };\n    }\n    return params;\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// https://ai.google.dev/api/rest/v1beta/Content#part\nconst VALID_PART_FIELDS = [\n    \"text\",\n    \"inlineData\",\n    \"functionCall\",\n    \"functionResponse\",\n    \"executableCode\",\n    \"codeExecutionResult\",\n];\nconst VALID_PARTS_PER_ROLE = {\n    user: [\"text\", \"inlineData\"],\n    function: [\"functionResponse\"],\n    model: [\"text\", \"functionCall\", \"executableCode\", \"codeExecutionResult\"],\n    // System instructions shouldn't be in history anyway.\n    system: [\"text\"],\n};\nfunction validateChatHistory(history) {\n    let prevContent = false;\n    for (const currContent of history) {\n        const { role, parts } = currContent;\n        if (!prevContent && role !== \"user\") {\n            throw new GoogleGenerativeAIError(`First content should be with role 'user', got ${role}`);\n        }\n        if (!POSSIBLE_ROLES.includes(role)) {\n            throw new GoogleGenerativeAIError(`Each item should include role field. Got ${role} but valid roles are: ${JSON.stringify(POSSIBLE_ROLES)}`);\n        }\n        if (!Array.isArray(parts)) {\n            throw new GoogleGenerativeAIError(\"Content should have 'parts' property with an array of Parts\");\n        }\n        if (parts.length === 0) {\n            throw new GoogleGenerativeAIError(\"Each Content should have at least one part\");\n        }\n        const countFields = {\n            text: 0,\n            inlineData: 0,\n            functionCall: 0,\n            functionResponse: 0,\n            fileData: 0,\n            executableCode: 0,\n            codeExecutionResult: 0,\n        };\n        for (const part of parts) {\n            for (const key of VALID_PART_FIELDS) {\n                if (key in part) {\n                    countFields[key] += 1;\n                }\n            }\n        }\n        const validParts = VALID_PARTS_PER_ROLE[role];\n        for (const key of VALID_PART_FIELDS) {\n            if (!validParts.includes(key) && countFields[key] > 0) {\n                throw new GoogleGenerativeAIError(`Content with role '${role}' can't contain '${key}' part`);\n            }\n        }\n        prevContent = true;\n    }\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Do not log a message for this error.\n */\nconst SILENT_ERROR = \"SILENT_ERROR\";\n/**\n * ChatSession class that enables sending chat messages and stores\n * history of sent and received messages so far.\n *\n * @public\n */\nclass ChatSession {\n    constructor(apiKey, model, params, _requestOptions = {}) {\n        this.model = model;\n        this.params = params;\n        this._requestOptions = _requestOptions;\n        this._history = [];\n        this._sendPromise = Promise.resolve();\n        this._apiKey = apiKey;\n        if (params === null || params === void 0 ? void 0 : params.history) {\n            validateChatHistory(params.history);\n            this._history = params.history;\n        }\n    }\n    /**\n     * Gets the chat history so far. Blocked prompts are not added to history.\n     * Blocked candidates are not added to history, nor are the prompts that\n     * generated them.\n     */\n    async getHistory() {\n        await this._sendPromise;\n        return this._history;\n    }\n    /**\n     * Sends a chat message and receives a non-streaming\n     * {@link GenerateContentResult}.\n     *\n     * Fields set in the optional {@link SingleRequestOptions} parameter will\n     * take precedence over the {@link RequestOptions} values provided to\n     * {@link GoogleGenerativeAI.getGenerativeModel }.\n     */\n    async sendMessage(request, requestOptions = {}) {\n        var _a, _b, _c, _d, _e, _f;\n        await this._sendPromise;\n        const newContent = formatNewContent(request);\n        const generateContentRequest = {\n            safetySettings: (_a = this.params) === null || _a === void 0 ? void 0 : _a.safetySettings,\n            generationConfig: (_b = this.params) === null || _b === void 0 ? void 0 : _b.generationConfig,\n            tools: (_c = this.params) === null || _c === void 0 ? void 0 : _c.tools,\n            toolConfig: (_d = this.params) === null || _d === void 0 ? void 0 : _d.toolConfig,\n            systemInstruction: (_e = this.params) === null || _e === void 0 ? void 0 : _e.systemInstruction,\n            cachedContent: (_f = this.params) === null || _f === void 0 ? void 0 : _f.cachedContent,\n            contents: [...this._history, newContent],\n        };\n        const chatSessionRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);\n        let finalResult;\n        // Add onto the chain.\n        this._sendPromise = this._sendPromise\n            .then(() => generateContent(this._apiKey, this.model, generateContentRequest, chatSessionRequestOptions))\n            .then((result) => {\n            var _a;\n            if (result.response.candidates &&\n                result.response.candidates.length > 0) {\n                this._history.push(newContent);\n                const responseContent = Object.assign({ parts: [], \n                    // Response seems to come back without a role set.\n                    role: \"model\" }, (_a = result.response.candidates) === null || _a === void 0 ? void 0 : _a[0].content);\n                this._history.push(responseContent);\n            }\n            else {\n                const blockErrorMessage = formatBlockErrorMessage(result.response);\n                if (blockErrorMessage) {\n                    console.warn(`sendMessage() was unsuccessful. ${blockErrorMessage}. Inspect response object for details.`);\n                }\n            }\n            finalResult = result;\n        });\n        await this._sendPromise;\n        return finalResult;\n    }\n    /**\n     * Sends a chat message and receives the response as a\n     * {@link GenerateContentStreamResult} containing an iterable stream\n     * and a response promise.\n     *\n     * Fields set in the optional {@link SingleRequestOptions} parameter will\n     * take precedence over the {@link RequestOptions} values provided to\n     * {@link GoogleGenerativeAI.getGenerativeModel }.\n     */\n    async sendMessageStream(request, requestOptions = {}) {\n        var _a, _b, _c, _d, _e, _f;\n        await this._sendPromise;\n        const newContent = formatNewContent(request);\n        const generateContentRequest = {\n            safetySettings: (_a = this.params) === null || _a === void 0 ? void 0 : _a.safetySettings,\n            generationConfig: (_b = this.params) === null || _b === void 0 ? void 0 : _b.generationConfig,\n            tools: (_c = this.params) === null || _c === void 0 ? void 0 : _c.tools,\n            toolConfig: (_d = this.params) === null || _d === void 0 ? void 0 : _d.toolConfig,\n            systemInstruction: (_e = this.params) === null || _e === void 0 ? void 0 : _e.systemInstruction,\n            cachedContent: (_f = this.params) === null || _f === void 0 ? void 0 : _f.cachedContent,\n            contents: [...this._history, newContent],\n        };\n        const chatSessionRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);\n        const streamPromise = generateContentStream(this._apiKey, this.model, generateContentRequest, chatSessionRequestOptions);\n        // Add onto the chain.\n        this._sendPromise = this._sendPromise\n            .then(() => streamPromise)\n            // This must be handled to avoid unhandled rejection, but jump\n            // to the final catch block with a label to not log this error.\n            .catch((_ignored) => {\n            throw new Error(SILENT_ERROR);\n        })\n            .then((streamResult) => streamResult.response)\n            .then((response) => {\n            if (response.candidates && response.candidates.length > 0) {\n                this._history.push(newContent);\n                const responseContent = Object.assign({}, response.candidates[0].content);\n                // Response seems to come back without a role set.\n                if (!responseContent.role) {\n                    responseContent.role = \"model\";\n                }\n                this._history.push(responseContent);\n            }\n            else {\n                const blockErrorMessage = formatBlockErrorMessage(response);\n                if (blockErrorMessage) {\n                    console.warn(`sendMessageStream() was unsuccessful. ${blockErrorMessage}. Inspect response object for details.`);\n                }\n            }\n        })\n            .catch((e) => {\n            // Errors in streamPromise are already catchable by the user as\n            // streamPromise is returned.\n            // Avoid duplicating the error message in logs.\n            if (e.message !== SILENT_ERROR) {\n                // Users do not have access to _sendPromise to catch errors\n                // downstream from streamPromise, so they should not throw.\n                console.error(e);\n            }\n        });\n        return streamPromise;\n    }\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nasync function countTokens(apiKey, model, params, singleRequestOptions) {\n    const response = await makeModelRequest(model, Task.COUNT_TOKENS, apiKey, false, JSON.stringify(params), singleRequestOptions);\n    return response.json();\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nasync function embedContent(apiKey, model, params, requestOptions) {\n    const response = await makeModelRequest(model, Task.EMBED_CONTENT, apiKey, false, JSON.stringify(params), requestOptions);\n    return response.json();\n}\nasync function batchEmbedContents(apiKey, model, params, requestOptions) {\n    const requestsWithModel = params.requests.map((request) => {\n        return Object.assign(Object.assign({}, request), { model });\n    });\n    const response = await makeModelRequest(model, Task.BATCH_EMBED_CONTENTS, apiKey, false, JSON.stringify({ requests: requestsWithModel }), requestOptions);\n    return response.json();\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Class for generative model APIs.\n * @public\n */\nclass GenerativeModel {\n    constructor(apiKey, modelParams, _requestOptions = {}) {\n        this.apiKey = apiKey;\n        this._requestOptions = _requestOptions;\n        if (modelParams.model.includes(\"/\")) {\n            // Models may be named \"models/model-name\" or \"tunedModels/model-name\"\n            this.model = modelParams.model;\n        }\n        else {\n            // If path is not included, assume it's a non-tuned model.\n            this.model = `models/${modelParams.model}`;\n        }\n        this.generationConfig = modelParams.generationConfig || {};\n        this.safetySettings = modelParams.safetySettings || [];\n        this.tools = modelParams.tools;\n        this.toolConfig = modelParams.toolConfig;\n        this.systemInstruction = formatSystemInstruction(modelParams.systemInstruction);\n        this.cachedContent = modelParams.cachedContent;\n    }\n    /**\n     * Makes a single non-streaming call to the model\n     * and returns an object containing a single {@link GenerateContentResponse}.\n     *\n     * Fields set in the optional {@link SingleRequestOptions} parameter will\n     * take precedence over the {@link RequestOptions} values provided to\n     * {@link GoogleGenerativeAI.getGenerativeModel }.\n     */\n    async generateContent(request, requestOptions = {}) {\n        var _a;\n        const formattedParams = formatGenerateContentInput(request);\n        const generativeModelRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);\n        return generateContent(this.apiKey, this.model, Object.assign({ generationConfig: this.generationConfig, safetySettings: this.safetySettings, tools: this.tools, toolConfig: this.toolConfig, systemInstruction: this.systemInstruction, cachedContent: (_a = this.cachedContent) === null || _a === void 0 ? void 0 : _a.name }, formattedParams), generativeModelRequestOptions);\n    }\n    /**\n     * Makes a single streaming call to the model and returns an object\n     * containing an iterable stream that iterates over all chunks in the\n     * streaming response as well as a promise that returns the final\n     * aggregated response.\n     *\n     * Fields set in the optional {@link SingleRequestOptions} parameter will\n     * take precedence over the {@link RequestOptions} values provided to\n     * {@link GoogleGenerativeAI.getGenerativeModel }.\n     */\n    async generateContentStream(request, requestOptions = {}) {\n        var _a;\n        const formattedParams = formatGenerateContentInput(request);\n        const generativeModelRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);\n        return generateContentStream(this.apiKey, this.model, Object.assign({ generationConfig: this.generationConfig, safetySettings: this.safetySettings, tools: this.tools, toolConfig: this.toolConfig, systemInstruction: this.systemInstruction, cachedContent: (_a = this.cachedContent) === null || _a === void 0 ? void 0 : _a.name }, formattedParams), generativeModelRequestOptions);\n    }\n    /**\n     * Gets a new {@link ChatSession} instance which can be used for\n     * multi-turn chats.\n     */\n    startChat(startChatParams) {\n        var _a;\n        return new ChatSession(this.apiKey, this.model, Object.assign({ generationConfig: this.generationConfig, safetySettings: this.safetySettings, tools: this.tools, toolConfig: this.toolConfig, systemInstruction: this.systemInstruction, cachedContent: (_a = this.cachedContent) === null || _a === void 0 ? void 0 : _a.name }, startChatParams), this._requestOptions);\n    }\n    /**\n     * Counts the tokens in the provided request.\n     *\n     * Fields set in the optional {@link SingleRequestOptions} parameter will\n     * take precedence over the {@link RequestOptions} values provided to\n     * {@link GoogleGenerativeAI.getGenerativeModel }.\n     */\n    async countTokens(request, requestOptions = {}) {\n        const formattedParams = formatCountTokensInput(request, {\n            model: this.model,\n            generationConfig: this.generationConfig,\n            safetySettings: this.safetySettings,\n            tools: this.tools,\n            toolConfig: this.toolConfig,\n            systemInstruction: this.systemInstruction,\n            cachedContent: this.cachedContent,\n        });\n        const generativeModelRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);\n        return countTokens(this.apiKey, this.model, formattedParams, generativeModelRequestOptions);\n    }\n    /**\n     * Embeds the provided content.\n     *\n     * Fields set in the optional {@link SingleRequestOptions} parameter will\n     * take precedence over the {@link RequestOptions} values provided to\n     * {@link GoogleGenerativeAI.getGenerativeModel }.\n     */\n    async embedContent(request, requestOptions = {}) {\n        const formattedParams = formatEmbedContentInput(request);\n        const generativeModelRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);\n        return embedContent(this.apiKey, this.model, formattedParams, generativeModelRequestOptions);\n    }\n    /**\n     * Embeds an array of {@link EmbedContentRequest}s.\n     *\n     * Fields set in the optional {@link SingleRequestOptions} parameter will\n     * take precedence over the {@link RequestOptions} values provided to\n     * {@link GoogleGenerativeAI.getGenerativeModel }.\n     */\n    async batchEmbedContents(batchEmbedContentRequest, requestOptions = {}) {\n        const generativeModelRequestOptions = Object.assign(Object.assign({}, this._requestOptions), requestOptions);\n        return batchEmbedContents(this.apiKey, this.model, batchEmbedContentRequest, generativeModelRequestOptions);\n    }\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Top-level class for this SDK\n * @public\n */\nclass GoogleGenerativeAI {\n    constructor(apiKey) {\n        this.apiKey = apiKey;\n    }\n    /**\n     * Gets a {@link GenerativeModel} instance for the provided model name.\n     */\n    getGenerativeModel(modelParams, requestOptions) {\n        if (!modelParams.model) {\n            throw new GoogleGenerativeAIError(`Must provide a model name. ` +\n                `Example: genai.getGenerativeModel({ model: 'my-model-name' })`);\n        }\n        return new GenerativeModel(this.apiKey, modelParams, requestOptions);\n    }\n    /**\n     * Creates a {@link GenerativeModel} instance from provided content cache.\n     */\n    getGenerativeModelFromCachedContent(cachedContent, modelParams, requestOptions) {\n        if (!cachedContent.name) {\n            throw new GoogleGenerativeAIRequestInputError(\"Cached content must contain a `name` field.\");\n        }\n        if (!cachedContent.model) {\n            throw new GoogleGenerativeAIRequestInputError(\"Cached content must contain a `model` field.\");\n        }\n        /**\n         * Not checking tools and toolConfig for now as it would require a deep\n         * equality comparison and isn't likely to be a common case.\n         */\n        const disallowedDuplicates = [\"model\", \"systemInstruction\"];\n        for (const key of disallowedDuplicates) {\n            if ((modelParams === null || modelParams === void 0 ? void 0 : modelParams[key]) &&\n                cachedContent[key] &&\n                (modelParams === null || modelParams === void 0 ? void 0 : modelParams[key]) !== cachedContent[key]) {\n                if (key === \"model\") {\n                    const modelParamsComp = modelParams.model.startsWith(\"models/\")\n                        ? modelParams.model.replace(\"models/\", \"\")\n                        : modelParams.model;\n                    const cachedContentComp = cachedContent.model.startsWith(\"models/\")\n                        ? cachedContent.model.replace(\"models/\", \"\")\n                        : cachedContent.model;\n                    if (modelParamsComp === cachedContentComp) {\n                        continue;\n                    }\n                }\n                throw new GoogleGenerativeAIRequestInputError(`Different value for \"${key}\" specified in modelParams` +\n                    ` (${modelParams[key]}) and cachedContent (${cachedContent[key]})`);\n            }\n        }\n        const modelParamsFromCache = Object.assign(Object.assign({}, modelParams), { model: cachedContent.model, tools: cachedContent.tools, toolConfig: cachedContent.toolConfig, systemInstruction: cachedContent.systemInstruction, cachedContent });\n        return new GenerativeModel(this.apiKey, modelParamsFromCache, requestOptions);\n    }\n}\n\nexports.ChatSession = ChatSession;\nexports.GenerativeModel = GenerativeModel;\nexports.GoogleGenerativeAI = GoogleGenerativeAI;\nexports.GoogleGenerativeAIError = GoogleGenerativeAIError;\nexports.GoogleGenerativeAIFetchError = GoogleGenerativeAIFetchError;\nexports.GoogleGenerativeAIRequestInputError = GoogleGenerativeAIRequestInputError;\nexports.GoogleGenerativeAIResponseError = GoogleGenerativeAIResponseError;\nexports.POSSIBLE_ROLES = POSSIBLE_ROLES;\n//# sourceMappingURL=index.js.map\n","/**\n * @author Toru Nagashima <https://github.com/mysticatea>\n * See LICENSE file in root directory for full license.\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar eventTargetShim = require('event-target-shim');\n\n/**\n * The signal class.\n * @see https://dom.spec.whatwg.org/#abortsignal\n */\nclass AbortSignal extends eventTargetShim.EventTarget {\n    /**\n     * AbortSignal cannot be constructed directly.\n     */\n    constructor() {\n        super();\n        throw new TypeError(\"AbortSignal cannot be constructed directly\");\n    }\n    /**\n     * Returns `true` if this `AbortSignal`'s `AbortController` has signaled to abort, and `false` otherwise.\n     */\n    get aborted() {\n        const aborted = abortedFlags.get(this);\n        if (typeof aborted !== \"boolean\") {\n            throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this === null ? \"null\" : typeof this}`);\n        }\n        return aborted;\n    }\n}\neventTargetShim.defineEventAttribute(AbortSignal.prototype, \"abort\");\n/**\n * Create an AbortSignal object.\n */\nfunction createAbortSignal() {\n    const signal = Object.create(AbortSignal.prototype);\n    eventTargetShim.EventTarget.call(signal);\n    abortedFlags.set(signal, false);\n    return signal;\n}\n/**\n * Abort a given signal.\n */\nfunction abortSignal(signal) {\n    if (abortedFlags.get(signal) !== false) {\n        return;\n    }\n    abortedFlags.set(signal, true);\n    signal.dispatchEvent({ type: \"abort\" });\n}\n/**\n * Aborted flag for each instances.\n */\nconst abortedFlags = new WeakMap();\n// Properties should be enumerable.\nObject.defineProperties(AbortSignal.prototype, {\n    aborted: { enumerable: true },\n});\n// `toString()` should return `\"[object AbortSignal]\"`\nif (typeof Symbol === \"function\" && typeof Symbol.toStringTag === \"symbol\") {\n    Object.defineProperty(AbortSignal.prototype, Symbol.toStringTag, {\n        configurable: true,\n        value: \"AbortSignal\",\n    });\n}\n\n/**\n * The AbortController.\n * @see https://dom.spec.whatwg.org/#abortcontroller\n */\nclass AbortController {\n    /**\n     * Initialize this controller.\n     */\n    constructor() {\n        signals.set(this, createAbortSignal());\n    }\n    /**\n     * Returns the `AbortSignal` object associated with this object.\n     */\n    get signal() {\n        return getSignal(this);\n    }\n    /**\n     * Abort and signal to any observers that the associated activity is to be aborted.\n     */\n    abort() {\n        abortSignal(getSignal(this));\n    }\n}\n/**\n * Associated signals.\n */\nconst signals = new WeakMap();\n/**\n * Get the associated signal of a given controller.\n */\nfunction getSignal(controller) {\n    const signal = signals.get(controller);\n    if (signal == null) {\n        throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${controller === null ? \"null\" : typeof controller}`);\n    }\n    return signal;\n}\n// Properties should be enumerable.\nObject.defineProperties(AbortController.prototype, {\n    signal: { enumerable: true },\n    abort: { enumerable: true },\n});\nif (typeof Symbol === \"function\" && typeof Symbol.toStringTag === \"symbol\") {\n    Object.defineProperty(AbortController.prototype, Symbol.toStringTag, {\n        configurable: true,\n        value: \"AbortController\",\n    });\n}\n\nexports.AbortController = AbortController;\nexports.AbortSignal = AbortSignal;\nexports.default = AbortController;\n\nmodule.exports = AbortController\nmodule.exports.AbortController = module.exports[\"default\"] = AbortController\nmodule.exports.AbortSignal = AbortSignal\n//# sourceMappingURL=abort-controller.js.map\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst events_1 = require(\"events\");\nconst debug_1 = __importDefault(require(\"debug\"));\nconst promisify_1 = __importDefault(require(\"./promisify\"));\nconst debug = debug_1.default('agent-base');\nfunction isAgent(v) {\n    return Boolean(v) && typeof v.addRequest === 'function';\n}\nfunction isSecureEndpoint() {\n    const { stack } = new Error();\n    if (typeof stack !== 'string')\n        return false;\n    return stack.split('\\n').some(l => l.indexOf('(https.js:') !== -1 || l.indexOf('node:https:') !== -1);\n}\nfunction createAgent(callback, opts) {\n    return new createAgent.Agent(callback, opts);\n}\n(function (createAgent) {\n    /**\n     * Base `http.Agent` implementation.\n     * No pooling/keep-alive is implemented by default.\n     *\n     * @param {Function} callback\n     * @api public\n     */\n    class Agent extends events_1.EventEmitter {\n        constructor(callback, _opts) {\n            super();\n            let opts = _opts;\n            if (typeof callback === 'function') {\n                this.callback = callback;\n            }\n            else if (callback) {\n                opts = callback;\n            }\n            // Timeout for the socket to be returned from the callback\n            this.timeout = null;\n            if (opts && typeof opts.timeout === 'number') {\n                this.timeout = opts.timeout;\n            }\n            // These aren't actually used by `agent-base`, but are required\n            // for the TypeScript definition files in `@types/node` :/\n            this.maxFreeSockets = 1;\n            this.maxSockets = 1;\n            this.maxTotalSockets = Infinity;\n            this.sockets = {};\n            this.freeSockets = {};\n            this.requests = {};\n            this.options = {};\n        }\n        get defaultPort() {\n            if (typeof this.explicitDefaultPort === 'number') {\n                return this.explicitDefaultPort;\n            }\n            return isSecureEndpoint() ? 443 : 80;\n        }\n        set defaultPort(v) {\n            this.explicitDefaultPort = v;\n        }\n        get protocol() {\n            if (typeof this.explicitProtocol === 'string') {\n                return this.explicitProtocol;\n            }\n            return isSecureEndpoint() ? 'https:' : 'http:';\n        }\n        set protocol(v) {\n            this.explicitProtocol = v;\n        }\n        callback(req, opts, fn) {\n            throw new Error('\"agent-base\" has no default implementation, you must subclass and override `callback()`');\n        }\n        /**\n         * Called by node-core's \"_http_client.js\" module when creating\n         * a new HTTP request with this Agent instance.\n         *\n         * @api public\n         */\n        addRequest(req, _opts) {\n            const opts = Object.assign({}, _opts);\n            if (typeof opts.secureEndpoint !== 'boolean') {\n                opts.secureEndpoint = isSecureEndpoint();\n            }\n            if (opts.host == null) {\n                opts.host = 'localhost';\n            }\n            if (opts.port == null) {\n                opts.port = opts.secureEndpoint ? 443 : 80;\n            }\n            if (opts.protocol == null) {\n                opts.protocol = opts.secureEndpoint ? 'https:' : 'http:';\n            }\n            if (opts.host && opts.path) {\n                // If both a `host` and `path` are specified then it's most\n                // likely the result of a `url.parse()` call... we need to\n                // remove the `path` portion so that `net.connect()` doesn't\n                // attempt to open that as a unix socket file.\n                delete opts.path;\n            }\n            delete opts.agent;\n            delete opts.hostname;\n            delete opts._defaultAgent;\n            delete opts.defaultPort;\n            delete opts.createConnection;\n            // Hint to use \"Connection: close\"\n            // XXX: non-documented `http` module API :(\n            req._last = true;\n            req.shouldKeepAlive = false;\n            let timedOut = false;\n            let timeoutId = null;\n            const timeoutMs = opts.timeout || this.timeout;\n            const onerror = (err) => {\n                if (req._hadError)\n                    return;\n                req.emit('error', err);\n                // For Safety. Some additional errors might fire later on\n                // and we need to make sure we don't double-fire the error event.\n                req._hadError = true;\n            };\n            const ontimeout = () => {\n                timeoutId = null;\n                timedOut = true;\n                const err = new Error(`A \"socket\" was not created for HTTP request before ${timeoutMs}ms`);\n                err.code = 'ETIMEOUT';\n                onerror(err);\n            };\n            const callbackError = (err) => {\n                if (timedOut)\n                    return;\n                if (timeoutId !== null) {\n                    clearTimeout(timeoutId);\n                    timeoutId = null;\n                }\n                onerror(err);\n            };\n            const onsocket = (socket) => {\n                if (timedOut)\n                    return;\n                if (timeoutId != null) {\n                    clearTimeout(timeoutId);\n                    timeoutId = null;\n                }\n                if (isAgent(socket)) {\n                    // `socket` is actually an `http.Agent` instance, so\n                    // relinquish responsibility for this `req` to the Agent\n                    // from here on\n                    debug('Callback returned another Agent instance %o', socket.constructor.name);\n                    socket.addRequest(req, opts);\n                    return;\n                }\n                if (socket) {\n                    socket.once('free', () => {\n                        this.freeSocket(socket, opts);\n                    });\n                    req.onSocket(socket);\n                    return;\n                }\n                const err = new Error(`no Duplex stream was returned to agent-base for \\`${req.method} ${req.path}\\``);\n                onerror(err);\n            };\n            if (typeof this.callback !== 'function') {\n                onerror(new Error('`callback` is not defined'));\n                return;\n            }\n            if (!this.promisifiedCallback) {\n                if (this.callback.length >= 3) {\n                    debug('Converting legacy callback function to promise');\n                    this.promisifiedCallback = promisify_1.default(this.callback);\n                }\n                else {\n                    this.promisifiedCallback = this.callback;\n                }\n            }\n            if (typeof timeoutMs === 'number' && timeoutMs > 0) {\n                timeoutId = setTimeout(ontimeout, timeoutMs);\n            }\n            if ('port' in opts && typeof opts.port !== 'number') {\n                opts.port = Number(opts.port);\n            }\n            try {\n                debug('Resolving socket for %o request: %o', opts.protocol, `${req.method} ${req.path}`);\n                Promise.resolve(this.promisifiedCallback(req, opts)).then(onsocket, callbackError);\n            }\n            catch (err) {\n                Promise.reject(err).catch(callbackError);\n            }\n        }\n        freeSocket(socket, opts) {\n            debug('Freeing socket %o %o', socket.constructor.name, opts);\n            socket.destroy();\n        }\n        destroy() {\n            debug('Destroying agent %o', this.constructor.name);\n        }\n    }\n    createAgent.Agent = Agent;\n    // So that `instanceof` works correctly\n    createAgent.prototype = createAgent.Agent.prototype;\n})(createAgent || (createAgent = {}));\nmodule.exports = createAgent;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction promisify(fn) {\n    return function (req, opts) {\n        return new Promise((resolve, reject) => {\n            fn.call(this, req, opts, (err, rtn) => {\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    resolve(rtn);\n                }\n            });\n        });\n    };\n}\nexports.default = promisify;\n//# sourceMappingURL=promisify.js.map","'use strict';\n\nmodule.exports = require('./lib/agent');\nmodule.exports.HttpsAgent = require('./lib/https_agent');\nmodule.exports.constants = require('./lib/constants');\n","'use strict';\n\nconst OriginalAgent = require('http').Agent;\nconst ms = require('humanize-ms');\nconst debug = require('util').debuglog('agentkeepalive');\nconst {\n  INIT_SOCKET,\n  CURRENT_ID,\n  CREATE_ID,\n  SOCKET_CREATED_TIME,\n  SOCKET_NAME,\n  SOCKET_REQUEST_COUNT,\n  SOCKET_REQUEST_FINISHED_COUNT,\n} = require('./constants');\n\n// OriginalAgent come from\n// - https://github.com/nodejs/node/blob/v8.12.0/lib/_http_agent.js\n// - https://github.com/nodejs/node/blob/v10.12.0/lib/_http_agent.js\n\n// node <= 10\nlet defaultTimeoutListenerCount = 1;\nconst majorVersion = parseInt(process.version.split('.', 1)[0].substring(1));\nif (majorVersion >= 11 && majorVersion <= 12) {\n  defaultTimeoutListenerCount = 2;\n} else if (majorVersion >= 13) {\n  defaultTimeoutListenerCount = 3;\n}\n\nfunction deprecate(message) {\n  console.log('[agentkeepalive:deprecated] %s', message);\n}\n\nclass Agent extends OriginalAgent {\n  constructor(options) {\n    options = options || {};\n    options.keepAlive = options.keepAlive !== false;\n    // default is keep-alive and 4s free socket timeout\n    // see https://medium.com/ssense-tech/reduce-networking-errors-in-nodejs-23b4eb9f2d83\n    if (options.freeSocketTimeout === undefined) {\n      options.freeSocketTimeout = 4000;\n    }\n    // Legacy API: keepAliveTimeout should be rename to `freeSocketTimeout`\n    if (options.keepAliveTimeout) {\n      deprecate('options.keepAliveTimeout is deprecated, please use options.freeSocketTimeout instead');\n      options.freeSocketTimeout = options.keepAliveTimeout;\n      delete options.keepAliveTimeout;\n    }\n    // Legacy API: freeSocketKeepAliveTimeout should be rename to `freeSocketTimeout`\n    if (options.freeSocketKeepAliveTimeout) {\n      deprecate('options.freeSocketKeepAliveTimeout is deprecated, please use options.freeSocketTimeout instead');\n      options.freeSocketTimeout = options.freeSocketKeepAliveTimeout;\n      delete options.freeSocketKeepAliveTimeout;\n    }\n\n    // Sets the socket to timeout after timeout milliseconds of inactivity on the socket.\n    // By default is double free socket timeout.\n    if (options.timeout === undefined) {\n      // make sure socket default inactivity timeout >= 8s\n      options.timeout = Math.max(options.freeSocketTimeout * 2, 8000);\n    }\n\n    // support humanize format\n    options.timeout = ms(options.timeout);\n    options.freeSocketTimeout = ms(options.freeSocketTimeout);\n    options.socketActiveTTL = options.socketActiveTTL ? ms(options.socketActiveTTL) : 0;\n\n    super(options);\n\n    this[CURRENT_ID] = 0;\n\n    // create socket success counter\n    this.createSocketCount = 0;\n    this.createSocketCountLastCheck = 0;\n\n    this.createSocketErrorCount = 0;\n    this.createSocketErrorCountLastCheck = 0;\n\n    this.closeSocketCount = 0;\n    this.closeSocketCountLastCheck = 0;\n\n    // socket error event count\n    this.errorSocketCount = 0;\n    this.errorSocketCountLastCheck = 0;\n\n    // request finished counter\n    this.requestCount = 0;\n    this.requestCountLastCheck = 0;\n\n    // including free socket timeout counter\n    this.timeoutSocketCount = 0;\n    this.timeoutSocketCountLastCheck = 0;\n\n    this.on('free', socket => {\n      // https://github.com/nodejs/node/pull/32000\n      // Node.js native agent will check socket timeout eqs agent.options.timeout.\n      // Use the ttl or freeSocketTimeout to overwrite.\n      const timeout = this.calcSocketTimeout(socket);\n      if (timeout > 0 && socket.timeout !== timeout) {\n        socket.setTimeout(timeout);\n      }\n    });\n  }\n\n  get freeSocketKeepAliveTimeout() {\n    deprecate('agent.freeSocketKeepAliveTimeout is deprecated, please use agent.options.freeSocketTimeout instead');\n    return this.options.freeSocketTimeout;\n  }\n\n  get timeout() {\n    deprecate('agent.timeout is deprecated, please use agent.options.timeout instead');\n    return this.options.timeout;\n  }\n\n  get socketActiveTTL() {\n    deprecate('agent.socketActiveTTL is deprecated, please use agent.options.socketActiveTTL instead');\n    return this.options.socketActiveTTL;\n  }\n\n  calcSocketTimeout(socket) {\n    /**\n     * return <= 0: should free socket\n     * return > 0: should update socket timeout\n     * return undefined: not find custom timeout\n     */\n    let freeSocketTimeout = this.options.freeSocketTimeout;\n    const socketActiveTTL = this.options.socketActiveTTL;\n    if (socketActiveTTL) {\n      // check socketActiveTTL\n      const aliveTime = Date.now() - socket[SOCKET_CREATED_TIME];\n      const diff = socketActiveTTL - aliveTime;\n      if (diff <= 0) {\n        return diff;\n      }\n      if (freeSocketTimeout && diff < freeSocketTimeout) {\n        freeSocketTimeout = diff;\n      }\n    }\n    // set freeSocketTimeout\n    if (freeSocketTimeout) {\n      // set free keepalive timer\n      // try to use socket custom freeSocketTimeout first, support headers['keep-alive']\n      // https://github.com/node-modules/urllib/blob/b76053020923f4d99a1c93cf2e16e0c5ba10bacf/lib/urllib.js#L498\n      const customFreeSocketTimeout = socket.freeSocketTimeout || socket.freeSocketKeepAliveTimeout;\n      return customFreeSocketTimeout || freeSocketTimeout;\n    }\n  }\n\n  keepSocketAlive(socket) {\n    const result = super.keepSocketAlive(socket);\n    // should not keepAlive, do nothing\n    if (!result) return result;\n\n    const customTimeout = this.calcSocketTimeout(socket);\n    if (typeof customTimeout === 'undefined') {\n      return true;\n    }\n    if (customTimeout <= 0) {\n      debug('%s(requests: %s, finished: %s) free but need to destroy by TTL, request count %s, diff is %s',\n        socket[SOCKET_NAME], socket[SOCKET_REQUEST_COUNT], socket[SOCKET_REQUEST_FINISHED_COUNT], customTimeout);\n      return false;\n    }\n    if (socket.timeout !== customTimeout) {\n      socket.setTimeout(customTimeout);\n    }\n    return true;\n  }\n\n  // only call on addRequest\n  reuseSocket(...args) {\n    // reuseSocket(socket, req)\n    super.reuseSocket(...args);\n    const socket = args[0];\n    const req = args[1];\n    req.reusedSocket = true;\n    const agentTimeout = this.options.timeout;\n    if (getSocketTimeout(socket) !== agentTimeout) {\n      // reset timeout before use\n      socket.setTimeout(agentTimeout);\n      debug('%s reset timeout to %sms', socket[SOCKET_NAME], agentTimeout);\n    }\n    socket[SOCKET_REQUEST_COUNT]++;\n    debug('%s(requests: %s, finished: %s) reuse on addRequest, timeout %sms',\n      socket[SOCKET_NAME], socket[SOCKET_REQUEST_COUNT], socket[SOCKET_REQUEST_FINISHED_COUNT],\n      getSocketTimeout(socket));\n  }\n\n  [CREATE_ID]() {\n    const id = this[CURRENT_ID]++;\n    if (this[CURRENT_ID] === Number.MAX_SAFE_INTEGER) this[CURRENT_ID] = 0;\n    return id;\n  }\n\n  [INIT_SOCKET](socket, options) {\n    // bugfix here.\n    // https on node 8, 10 won't set agent.options.timeout by default\n    // TODO: need to fix on node itself\n    if (options.timeout) {\n      const timeout = getSocketTimeout(socket);\n      if (!timeout) {\n        socket.setTimeout(options.timeout);\n      }\n    }\n\n    if (this.options.keepAlive) {\n      // Disable Nagle's algorithm: http://blog.caustik.com/2012/04/08/scaling-node-js-to-100k-concurrent-connections/\n      // https://fengmk2.com/benchmark/nagle-algorithm-delayed-ack-mock.html\n      socket.setNoDelay(true);\n    }\n    this.createSocketCount++;\n    if (this.options.socketActiveTTL) {\n      socket[SOCKET_CREATED_TIME] = Date.now();\n    }\n    // don't show the hole '-----BEGIN CERTIFICATE----' key string\n    socket[SOCKET_NAME] = `sock[${this[CREATE_ID]()}#${options._agentKey}]`.split('-----BEGIN', 1)[0];\n    socket[SOCKET_REQUEST_COUNT] = 1;\n    socket[SOCKET_REQUEST_FINISHED_COUNT] = 0;\n    installListeners(this, socket, options);\n  }\n\n  createConnection(options, oncreate) {\n    let called = false;\n    const onNewCreate = (err, socket) => {\n      if (called) return;\n      called = true;\n\n      if (err) {\n        this.createSocketErrorCount++;\n        return oncreate(err);\n      }\n      this[INIT_SOCKET](socket, options);\n      oncreate(err, socket);\n    };\n\n    const newSocket = super.createConnection(options, onNewCreate);\n    if (newSocket) onNewCreate(null, newSocket);\n    return newSocket;\n  }\n\n  get statusChanged() {\n    const changed = this.createSocketCount !== this.createSocketCountLastCheck ||\n      this.createSocketErrorCount !== this.createSocketErrorCountLastCheck ||\n      this.closeSocketCount !== this.closeSocketCountLastCheck ||\n      this.errorSocketCount !== this.errorSocketCountLastCheck ||\n      this.timeoutSocketCount !== this.timeoutSocketCountLastCheck ||\n      this.requestCount !== this.requestCountLastCheck;\n    if (changed) {\n      this.createSocketCountLastCheck = this.createSocketCount;\n      this.createSocketErrorCountLastCheck = this.createSocketErrorCount;\n      this.closeSocketCountLastCheck = this.closeSocketCount;\n      this.errorSocketCountLastCheck = this.errorSocketCount;\n      this.timeoutSocketCountLastCheck = this.timeoutSocketCount;\n      this.requestCountLastCheck = this.requestCount;\n    }\n    return changed;\n  }\n\n  getCurrentStatus() {\n    return {\n      createSocketCount: this.createSocketCount,\n      createSocketErrorCount: this.createSocketErrorCount,\n      closeSocketCount: this.closeSocketCount,\n      errorSocketCount: this.errorSocketCount,\n      timeoutSocketCount: this.timeoutSocketCount,\n      requestCount: this.requestCount,\n      freeSockets: inspect(this.freeSockets),\n      sockets: inspect(this.sockets),\n      requests: inspect(this.requests),\n    };\n  }\n}\n\n// node 8 don't has timeout attribute on socket\n// https://github.com/nodejs/node/pull/21204/files#diff-e6ef024c3775d787c38487a6309e491dR408\nfunction getSocketTimeout(socket) {\n  return socket.timeout || socket._idleTimeout;\n}\n\nfunction installListeners(agent, socket, options) {\n  debug('%s create, timeout %sms', socket[SOCKET_NAME], getSocketTimeout(socket));\n\n  // listener socket events: close, timeout, error, free\n  function onFree() {\n    // create and socket.emit('free') logic\n    // https://github.com/nodejs/node/blob/master/lib/_http_agent.js#L311\n    // no req on the socket, it should be the new socket\n    if (!socket._httpMessage && socket[SOCKET_REQUEST_COUNT] === 1) return;\n\n    socket[SOCKET_REQUEST_FINISHED_COUNT]++;\n    agent.requestCount++;\n    debug('%s(requests: %s, finished: %s) free',\n      socket[SOCKET_NAME], socket[SOCKET_REQUEST_COUNT], socket[SOCKET_REQUEST_FINISHED_COUNT]);\n\n    // should reuse on pedding requests?\n    const name = agent.getName(options);\n    if (socket.writable && agent.requests[name] && agent.requests[name].length) {\n      // will be reuse on agent free listener\n      socket[SOCKET_REQUEST_COUNT]++;\n      debug('%s(requests: %s, finished: %s) will be reuse on agent free event',\n        socket[SOCKET_NAME], socket[SOCKET_REQUEST_COUNT], socket[SOCKET_REQUEST_FINISHED_COUNT]);\n    }\n  }\n  socket.on('free', onFree);\n\n  function onClose(isError) {\n    debug('%s(requests: %s, finished: %s) close, isError: %s',\n      socket[SOCKET_NAME], socket[SOCKET_REQUEST_COUNT], socket[SOCKET_REQUEST_FINISHED_COUNT], isError);\n    agent.closeSocketCount++;\n  }\n  socket.on('close', onClose);\n\n  // start socket timeout handler\n  function onTimeout() {\n    // onTimeout and emitRequestTimeout(_http_client.js)\n    // https://github.com/nodejs/node/blob/v12.x/lib/_http_client.js#L711\n    const listenerCount = socket.listeners('timeout').length;\n    // node <= 10, default listenerCount is 1, onTimeout\n    // 11 < node <= 12, default listenerCount is 2, onTimeout and emitRequestTimeout\n    // node >= 13, default listenerCount is 3, onTimeout,\n    //   onTimeout(https://github.com/nodejs/node/pull/32000/files#diff-5f7fb0850412c6be189faeddea6c5359R333)\n    //   and emitRequestTimeout\n    const timeout = getSocketTimeout(socket);\n    const req = socket._httpMessage;\n    const reqTimeoutListenerCount = req && req.listeners('timeout').length || 0;\n    debug('%s(requests: %s, finished: %s) timeout after %sms, listeners %s, defaultTimeoutListenerCount %s, hasHttpRequest %s, HttpRequest timeoutListenerCount %s',\n      socket[SOCKET_NAME], socket[SOCKET_REQUEST_COUNT], socket[SOCKET_REQUEST_FINISHED_COUNT],\n      timeout, listenerCount, defaultTimeoutListenerCount, !!req, reqTimeoutListenerCount);\n    if (debug.enabled) {\n      debug('timeout listeners: %s', socket.listeners('timeout').map(f => f.name).join(', '));\n    }\n    agent.timeoutSocketCount++;\n    const name = agent.getName(options);\n    if (agent.freeSockets[name] && agent.freeSockets[name].indexOf(socket) !== -1) {\n      // free socket timeout, destroy quietly\n      socket.destroy();\n      // Remove it from freeSockets list immediately to prevent new requests\n      // from being sent through this socket.\n      agent.removeSocket(socket, options);\n      debug('%s is free, destroy quietly', socket[SOCKET_NAME]);\n    } else {\n      // if there is no any request socket timeout handler,\n      // agent need to handle socket timeout itself.\n      //\n      // custom request socket timeout handle logic must follow these rules:\n      //  1. Destroy socket first\n      //  2. Must emit socket 'agentRemove' event tell agent remove socket\n      //     from freeSockets list immediately.\n      //     Otherise you may be get 'socket hang up' error when reuse\n      //     free socket and timeout happen in the same time.\n      if (reqTimeoutListenerCount === 0) {\n        const error = new Error('Socket timeout');\n        error.code = 'ERR_SOCKET_TIMEOUT';\n        error.timeout = timeout;\n        // must manually call socket.end() or socket.destroy() to end the connection.\n        // https://nodejs.org/dist/latest-v10.x/docs/api/net.html#net_socket_settimeout_timeout_callback\n        socket.destroy(error);\n        agent.removeSocket(socket, options);\n        debug('%s destroy with timeout error', socket[SOCKET_NAME]);\n      }\n    }\n  }\n  socket.on('timeout', onTimeout);\n\n  function onError(err) {\n    const listenerCount = socket.listeners('error').length;\n    debug('%s(requests: %s, finished: %s) error: %s, listenerCount: %s',\n      socket[SOCKET_NAME], socket[SOCKET_REQUEST_COUNT], socket[SOCKET_REQUEST_FINISHED_COUNT],\n      err, listenerCount);\n    agent.errorSocketCount++;\n    if (listenerCount === 1) {\n      // if socket don't contain error event handler, don't catch it, emit it again\n      debug('%s emit uncaught error event', socket[SOCKET_NAME]);\n      socket.removeListener('error', onError);\n      socket.emit('error', err);\n    }\n  }\n  socket.on('error', onError);\n\n  function onRemove() {\n    debug('%s(requests: %s, finished: %s) agentRemove',\n      socket[SOCKET_NAME],\n      socket[SOCKET_REQUEST_COUNT], socket[SOCKET_REQUEST_FINISHED_COUNT]);\n    // We need this function for cases like HTTP 'upgrade'\n    // (defined by WebSockets) where we need to remove a socket from the\n    // pool because it'll be locked up indefinitely\n    socket.removeListener('close', onClose);\n    socket.removeListener('error', onError);\n    socket.removeListener('free', onFree);\n    socket.removeListener('timeout', onTimeout);\n    socket.removeListener('agentRemove', onRemove);\n  }\n  socket.on('agentRemove', onRemove);\n}\n\nmodule.exports = Agent;\n\nfunction inspect(obj) {\n  const res = {};\n  for (const key in obj) {\n    res[key] = obj[key].length;\n  }\n  return res;\n}\n","'use strict';\n\nmodule.exports = {\n  // agent\n  CURRENT_ID: Symbol('agentkeepalive#currentId'),\n  CREATE_ID: Symbol('agentkeepalive#createId'),\n  INIT_SOCKET: Symbol('agentkeepalive#initSocket'),\n  CREATE_HTTPS_CONNECTION: Symbol('agentkeepalive#createHttpsConnection'),\n  // socket\n  SOCKET_CREATED_TIME: Symbol('agentkeepalive#socketCreatedTime'),\n  SOCKET_NAME: Symbol('agentkeepalive#socketName'),\n  SOCKET_REQUEST_COUNT: Symbol('agentkeepalive#socketRequestCount'),\n  SOCKET_REQUEST_FINISHED_COUNT: Symbol('agentkeepalive#socketRequestFinishedCount'),\n};\n","'use strict';\n\nconst OriginalHttpsAgent = require('https').Agent;\nconst HttpAgent = require('./agent');\nconst {\n  INIT_SOCKET,\n  CREATE_HTTPS_CONNECTION,\n} = require('./constants');\n\nclass HttpsAgent extends HttpAgent {\n  constructor(options) {\n    super(options);\n\n    this.defaultPort = 443;\n    this.protocol = 'https:';\n    this.maxCachedSessions = this.options.maxCachedSessions;\n    /* istanbul ignore next */\n    if (this.maxCachedSessions === undefined) {\n      this.maxCachedSessions = 100;\n    }\n\n    this._sessionCache = {\n      map: {},\n      list: [],\n    };\n  }\n\n  createConnection(options, oncreate) {\n    const socket = this[CREATE_HTTPS_CONNECTION](options, oncreate);\n    this[INIT_SOCKET](socket, options);\n    return socket;\n  }\n}\n\n// https://github.com/nodejs/node/blob/master/lib/https.js#L89\nHttpsAgent.prototype[CREATE_HTTPS_CONNECTION] = OriginalHttpsAgent.prototype.createConnection;\n\n[\n  'getName',\n  '_getSession',\n  '_cacheSession',\n  // https://github.com/nodejs/node/pull/4982\n  '_evictSession',\n].forEach(function(method) {\n  /* istanbul ignore next */\n  if (typeof OriginalHttpsAgent.prototype[method] === 'function') {\n    HttpsAgent.prototype[method] = OriginalHttpsAgent.prototype[method];\n  }\n});\n\nmodule.exports = HttpsAgent;\n","module.exports =\n{\n  parallel      : require('./parallel.js'),\n  serial        : require('./serial.js'),\n  serialOrdered : require('./serialOrdered.js')\n};\n","// API\nmodule.exports = abort;\n\n/**\n * Aborts leftover active jobs\n *\n * @param {object} state - current state object\n */\nfunction abort(state)\n{\n  Object.keys(state.jobs).forEach(clean.bind(state));\n\n  // reset leftover jobs\n  state.jobs = {};\n}\n\n/**\n * Cleans up leftover job by invoking abort function for the provided job id\n *\n * @this  state\n * @param {string|number} key - job id to abort\n */\nfunction clean(key)\n{\n  if (typeof this.jobs[key] == 'function')\n  {\n    this.jobs[key]();\n  }\n}\n","var defer = require('./defer.js');\n\n// API\nmodule.exports = async;\n\n/**\n * Runs provided callback asynchronously\n * even if callback itself is not\n *\n * @param   {function} callback - callback to invoke\n * @returns {function} - augmented callback\n */\nfunction async(callback)\n{\n  var isAsync = false;\n\n  // check if async happened\n  defer(function() { isAsync = true; });\n\n  return function async_callback(err, result)\n  {\n    if (isAsync)\n    {\n      callback(err, result);\n    }\n    else\n    {\n      defer(function nextTick_callback()\n      {\n        callback(err, result);\n      });\n    }\n  };\n}\n","module.exports = defer;\n\n/**\n * Runs provided function on next iteration of the event loop\n *\n * @param {function} fn - function to run\n */\nfunction defer(fn)\n{\n  var nextTick = typeof setImmediate == 'function'\n    ? setImmediate\n    : (\n      typeof process == 'object' && typeof process.nextTick == 'function'\n      ? process.nextTick\n      : null\n    );\n\n  if (nextTick)\n  {\n    nextTick(fn);\n  }\n  else\n  {\n    setTimeout(fn, 0);\n  }\n}\n","var async = require('./async.js')\n  , abort = require('./abort.js')\n  ;\n\n// API\nmodule.exports = iterate;\n\n/**\n * Iterates over each job object\n *\n * @param {array|object} list - array or object (named list) to iterate over\n * @param {function} iterator - iterator to run\n * @param {object} state - current job status\n * @param {function} callback - invoked when all elements processed\n */\nfunction iterate(list, iterator, state, callback)\n{\n  // store current index\n  var key = state['keyedList'] ? state['keyedList'][state.index] : state.index;\n\n  state.jobs[key] = runJob(iterator, key, list[key], function(error, output)\n  {\n    // don't repeat yourself\n    // skip secondary callbacks\n    if (!(key in state.jobs))\n    {\n      return;\n    }\n\n    // clean up jobs\n    delete state.jobs[key];\n\n    if (error)\n    {\n      // don't process rest of the results\n      // stop still active jobs\n      // and reset the list\n      abort(state);\n    }\n    else\n    {\n      state.results[key] = output;\n    }\n\n    // return salvaged results\n    callback(error, state.results);\n  });\n}\n\n/**\n * Runs iterator over provided job element\n *\n * @param   {function} iterator - iterator to invoke\n * @param   {string|number} key - key/index of the element in the list of jobs\n * @param   {mixed} item - job description\n * @param   {function} callback - invoked after iterator is done with the job\n * @returns {function|mixed} - job abort function or something else\n */\nfunction runJob(iterator, key, item, callback)\n{\n  var aborter;\n\n  // allow shortcut if iterator expects only two arguments\n  if (iterator.length == 2)\n  {\n    aborter = iterator(item, async(callback));\n  }\n  // otherwise go with full three arguments\n  else\n  {\n    aborter = iterator(item, key, async(callback));\n  }\n\n  return aborter;\n}\n","// API\nmodule.exports = state;\n\n/**\n * Creates initial state object\n * for iteration over list\n *\n * @param   {array|object} list - list to iterate over\n * @param   {function|null} sortMethod - function to use for keys sort,\n *                                     or `null` to keep them as is\n * @returns {object} - initial state object\n */\nfunction state(list, sortMethod)\n{\n  var isNamedList = !Array.isArray(list)\n    , initState =\n    {\n      index    : 0,\n      keyedList: isNamedList || sortMethod ? Object.keys(list) : null,\n      jobs     : {},\n      results  : isNamedList ? {} : [],\n      size     : isNamedList ? Object.keys(list).length : list.length\n    }\n    ;\n\n  if (sortMethod)\n  {\n    // sort array keys based on it's values\n    // sort object's keys just on own merit\n    initState.keyedList.sort(isNamedList ? sortMethod : function(a, b)\n    {\n      return sortMethod(list[a], list[b]);\n    });\n  }\n\n  return initState;\n}\n","var abort = require('./abort.js')\n  , async = require('./async.js')\n  ;\n\n// API\nmodule.exports = terminator;\n\n/**\n * Terminates jobs in the attached state context\n *\n * @this  AsyncKitState#\n * @param {function} callback - final callback to invoke after termination\n */\nfunction terminator(callback)\n{\n  if (!Object.keys(this.jobs).length)\n  {\n    return;\n  }\n\n  // fast forward iteration index\n  this.index = this.size;\n\n  // abort jobs\n  abort(this);\n\n  // send back results we have so far\n  async(callback)(null, this.results);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = parallel;\n\n/**\n * Runs iterator over provided array elements in parallel\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction parallel(list, iterator, callback)\n{\n  var state = initState(list);\n\n  while (state.index < (state['keyedList'] || list).length)\n  {\n    iterate(list, iterator, state, function(error, result)\n    {\n      if (error)\n      {\n        callback(error, result);\n        return;\n      }\n\n      // looks like it's the last one\n      if (Object.keys(state.jobs).length === 0)\n      {\n        callback(null, state.results);\n        return;\n      }\n    });\n\n    state.index++;\n  }\n\n  return terminator.bind(state, callback);\n}\n","var serialOrdered = require('./serialOrdered.js');\n\n// Public API\nmodule.exports = serial;\n\n/**\n * Runs iterator over provided array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serial(list, iterator, callback)\n{\n  return serialOrdered(list, iterator, null, callback);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = serialOrdered;\n// sorting helpers\nmodule.exports.ascending  = ascending;\nmodule.exports.descending = descending;\n\n/**\n * Runs iterator over provided sorted array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} sortMethod - custom sort function\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serialOrdered(list, iterator, sortMethod, callback)\n{\n  var state = initState(list, sortMethod);\n\n  iterate(list, iterator, state, function iteratorHandler(error, result)\n  {\n    if (error)\n    {\n      callback(error, result);\n      return;\n    }\n\n    state.index++;\n\n    // are we there yet?\n    if (state.index < (state['keyedList'] || list).length)\n    {\n      iterate(list, iterator, state, iteratorHandler);\n      return;\n    }\n\n    // done here\n    callback(null, state.results);\n  });\n\n  return terminator.bind(state, callback);\n}\n\n/*\n * -- Sort methods\n */\n\n/**\n * sort helper to sort array elements in ascending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction ascending(a, b)\n{\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\n/**\n * sort helper to sort array elements in descending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction descending(a, b)\n{\n  return -1 * ascending(a, b);\n}\n","var util = require('util');\nvar Stream = require('stream').Stream;\nvar DelayedStream = require('delayed-stream');\n\nmodule.exports = CombinedStream;\nfunction CombinedStream() {\n  this.writable = false;\n  this.readable = true;\n  this.dataSize = 0;\n  this.maxDataSize = 2 * 1024 * 1024;\n  this.pauseStreams = true;\n\n  this._released = false;\n  this._streams = [];\n  this._currentStream = null;\n  this._insideLoop = false;\n  this._pendingNext = false;\n}\nutil.inherits(CombinedStream, Stream);\n\nCombinedStream.create = function(options) {\n  var combinedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    combinedStream[option] = options[option];\n  }\n\n  return combinedStream;\n};\n\nCombinedStream.isStreamLike = function(stream) {\n  return (typeof stream !== 'function')\n    && (typeof stream !== 'string')\n    && (typeof stream !== 'boolean')\n    && (typeof stream !== 'number')\n    && (!Buffer.isBuffer(stream));\n};\n\nCombinedStream.prototype.append = function(stream) {\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n\n  if (isStreamLike) {\n    if (!(stream instanceof DelayedStream)) {\n      var newStream = DelayedStream.create(stream, {\n        maxDataSize: Infinity,\n        pauseStream: this.pauseStreams,\n      });\n      stream.on('data', this._checkDataSize.bind(this));\n      stream = newStream;\n    }\n\n    this._handleErrors(stream);\n\n    if (this.pauseStreams) {\n      stream.pause();\n    }\n  }\n\n  this._streams.push(stream);\n  return this;\n};\n\nCombinedStream.prototype.pipe = function(dest, options) {\n  Stream.prototype.pipe.call(this, dest, options);\n  this.resume();\n  return dest;\n};\n\nCombinedStream.prototype._getNext = function() {\n  this._currentStream = null;\n\n  if (this._insideLoop) {\n    this._pendingNext = true;\n    return; // defer call\n  }\n\n  this._insideLoop = true;\n  try {\n    do {\n      this._pendingNext = false;\n      this._realGetNext();\n    } while (this._pendingNext);\n  } finally {\n    this._insideLoop = false;\n  }\n};\n\nCombinedStream.prototype._realGetNext = function() {\n  var stream = this._streams.shift();\n\n\n  if (typeof stream == 'undefined') {\n    this.end();\n    return;\n  }\n\n  if (typeof stream !== 'function') {\n    this._pipeNext(stream);\n    return;\n  }\n\n  var getStream = stream;\n  getStream(function(stream) {\n    var isStreamLike = CombinedStream.isStreamLike(stream);\n    if (isStreamLike) {\n      stream.on('data', this._checkDataSize.bind(this));\n      this._handleErrors(stream);\n    }\n\n    this._pipeNext(stream);\n  }.bind(this));\n};\n\nCombinedStream.prototype._pipeNext = function(stream) {\n  this._currentStream = stream;\n\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n  if (isStreamLike) {\n    stream.on('end', this._getNext.bind(this));\n    stream.pipe(this, {end: false});\n    return;\n  }\n\n  var value = stream;\n  this.write(value);\n  this._getNext();\n};\n\nCombinedStream.prototype._handleErrors = function(stream) {\n  var self = this;\n  stream.on('error', function(err) {\n    self._emitError(err);\n  });\n};\n\nCombinedStream.prototype.write = function(data) {\n  this.emit('data', data);\n};\n\nCombinedStream.prototype.pause = function() {\n  if (!this.pauseStreams) {\n    return;\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.pause) == 'function') this._currentStream.pause();\n  this.emit('pause');\n};\n\nCombinedStream.prototype.resume = function() {\n  if (!this._released) {\n    this._released = true;\n    this.writable = true;\n    this._getNext();\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.resume) == 'function') this._currentStream.resume();\n  this.emit('resume');\n};\n\nCombinedStream.prototype.end = function() {\n  this._reset();\n  this.emit('end');\n};\n\nCombinedStream.prototype.destroy = function() {\n  this._reset();\n  this.emit('close');\n};\n\nCombinedStream.prototype._reset = function() {\n  this.writable = false;\n  this._streams = [];\n  this._currentStream = null;\n};\n\nCombinedStream.prototype._checkDataSize = function() {\n  this._updateDataSize();\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.';\n  this._emitError(new Error(message));\n};\n\nCombinedStream.prototype._updateDataSize = function() {\n  this.dataSize = 0;\n\n  var self = this;\n  this._streams.forEach(function(stream) {\n    if (!stream.dataSize) {\n      return;\n    }\n\n    self.dataSize += stream.dataSize;\n  });\n\n  if (this._currentStream && this._currentStream.dataSize) {\n    this.dataSize += this._currentStream.dataSize;\n  }\n};\n\nCombinedStream.prototype._emitError = function(err) {\n  this._reset();\n  this.emit('error', err);\n};\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","var Stream = require('stream').Stream;\nvar util = require('util');\n\nmodule.exports = DelayedStream;\nfunction DelayedStream() {\n  this.source = null;\n  this.dataSize = 0;\n  this.maxDataSize = 1024 * 1024;\n  this.pauseStream = true;\n\n  this._maxDataSizeExceeded = false;\n  this._released = false;\n  this._bufferedEvents = [];\n}\nutil.inherits(DelayedStream, Stream);\n\nDelayedStream.create = function(source, options) {\n  var delayedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    delayedStream[option] = options[option];\n  }\n\n  delayedStream.source = source;\n\n  var realEmit = source.emit;\n  source.emit = function() {\n    delayedStream._handleEmit(arguments);\n    return realEmit.apply(source, arguments);\n  };\n\n  source.on('error', function() {});\n  if (delayedStream.pauseStream) {\n    source.pause();\n  }\n\n  return delayedStream;\n};\n\nObject.defineProperty(DelayedStream.prototype, 'readable', {\n  configurable: true,\n  enumerable: true,\n  get: function() {\n    return this.source.readable;\n  }\n});\n\nDelayedStream.prototype.setEncoding = function() {\n  return this.source.setEncoding.apply(this.source, arguments);\n};\n\nDelayedStream.prototype.resume = function() {\n  if (!this._released) {\n    this.release();\n  }\n\n  this.source.resume();\n};\n\nDelayedStream.prototype.pause = function() {\n  this.source.pause();\n};\n\nDelayedStream.prototype.release = function() {\n  this._released = true;\n\n  this._bufferedEvents.forEach(function(args) {\n    this.emit.apply(this, args);\n  }.bind(this));\n  this._bufferedEvents = [];\n};\n\nDelayedStream.prototype.pipe = function() {\n  var r = Stream.prototype.pipe.apply(this, arguments);\n  this.resume();\n  return r;\n};\n\nDelayedStream.prototype._handleEmit = function(args) {\n  if (this._released) {\n    this.emit.apply(this, args);\n    return;\n  }\n\n  if (args[0] === 'data') {\n    this.dataSize += args[1].length;\n    this._checkIfMaxDataSizeExceeded();\n  }\n\n  this._bufferedEvents.push(args);\n};\n\nDelayedStream.prototype._checkIfMaxDataSizeExceeded = function() {\n  if (this._maxDataSizeExceeded) {\n    return;\n  }\n\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  this._maxDataSizeExceeded = true;\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.'\n  this.emit('error', new Error(message));\n};\n","const fs = require('fs')\nconst path = require('path')\nconst os = require('os')\nconst crypto = require('crypto')\nconst packageJson = require('../package.json')\n\nconst version = packageJson.version\n\nconst LINE = /(?:^|^)\\s*(?:export\\s+)?([\\w.-]+)(?:\\s*=\\s*?|:\\s+?)(\\s*'(?:\\\\'|[^'])*'|\\s*\"(?:\\\\\"|[^\"])*\"|\\s*`(?:\\\\`|[^`])*`|[^#\\r\\n]+)?\\s*(?:#.*)?(?:$|$)/mg\n\n// Parse src into an Object\nfunction parse (src) {\n  const obj = {}\n\n  // Convert buffer to string\n  let lines = src.toString()\n\n  // Convert line breaks to same format\n  lines = lines.replace(/\\r\\n?/mg, '\\n')\n\n  let match\n  while ((match = LINE.exec(lines)) != null) {\n    const key = match[1]\n\n    // Default undefined or null to empty string\n    let value = (match[2] || '')\n\n    // Remove whitespace\n    value = value.trim()\n\n    // Check if double quoted\n    const maybeQuote = value[0]\n\n    // Remove surrounding quotes\n    value = value.replace(/^(['\"`])([\\s\\S]*)\\1$/mg, '$2')\n\n    // Expand newlines if double quoted\n    if (maybeQuote === '\"') {\n      value = value.replace(/\\\\n/g, '\\n')\n      value = value.replace(/\\\\r/g, '\\r')\n    }\n\n    // Add to object\n    obj[key] = value\n  }\n\n  return obj\n}\n\nfunction _parseVault (options) {\n  const vaultPath = _vaultPath(options)\n\n  // Parse .env.vault\n  const result = DotenvModule.configDotenv({ path: vaultPath })\n  if (!result.parsed) {\n    const err = new Error(`MISSING_DATA: Cannot parse ${vaultPath} for an unknown reason`)\n    err.code = 'MISSING_DATA'\n    throw err\n  }\n\n  // handle scenario for comma separated keys - for use with key rotation\n  // example: DOTENV_KEY=\"dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=prod,dotenv://:key_7890@dotenvx.com/vault/.env.vault?environment=prod\"\n  const keys = _dotenvKey(options).split(',')\n  const length = keys.length\n\n  let decrypted\n  for (let i = 0; i < length; i++) {\n    try {\n      // Get full key\n      const key = keys[i].trim()\n\n      // Get instructions for decrypt\n      const attrs = _instructions(result, key)\n\n      // Decrypt\n      decrypted = DotenvModule.decrypt(attrs.ciphertext, attrs.key)\n\n      break\n    } catch (error) {\n      // last key\n      if (i + 1 >= length) {\n        throw error\n      }\n      // try next key\n    }\n  }\n\n  // Parse decrypted .env string\n  return DotenvModule.parse(decrypted)\n}\n\nfunction _log (message) {\n  console.log(`[dotenv@${version}][INFO] ${message}`)\n}\n\nfunction _warn (message) {\n  console.log(`[dotenv@${version}][WARN] ${message}`)\n}\n\nfunction _debug (message) {\n  console.log(`[dotenv@${version}][DEBUG] ${message}`)\n}\n\nfunction _dotenvKey (options) {\n  // prioritize developer directly setting options.DOTENV_KEY\n  if (options && options.DOTENV_KEY && options.DOTENV_KEY.length > 0) {\n    return options.DOTENV_KEY\n  }\n\n  // secondary infra already contains a DOTENV_KEY environment variable\n  if (process.env.DOTENV_KEY && process.env.DOTENV_KEY.length > 0) {\n    return process.env.DOTENV_KEY\n  }\n\n  // fallback to empty string\n  return ''\n}\n\nfunction _instructions (result, dotenvKey) {\n  // Parse DOTENV_KEY. Format is a URI\n  let uri\n  try {\n    uri = new URL(dotenvKey)\n  } catch (error) {\n    if (error.code === 'ERR_INVALID_URL') {\n      const err = new Error('INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development')\n      err.code = 'INVALID_DOTENV_KEY'\n      throw err\n    }\n\n    throw error\n  }\n\n  // Get decrypt key\n  const key = uri.password\n  if (!key) {\n    const err = new Error('INVALID_DOTENV_KEY: Missing key part')\n    err.code = 'INVALID_DOTENV_KEY'\n    throw err\n  }\n\n  // Get environment\n  const environment = uri.searchParams.get('environment')\n  if (!environment) {\n    const err = new Error('INVALID_DOTENV_KEY: Missing environment part')\n    err.code = 'INVALID_DOTENV_KEY'\n    throw err\n  }\n\n  // Get ciphertext payload\n  const environmentKey = `DOTENV_VAULT_${environment.toUpperCase()}`\n  const ciphertext = result.parsed[environmentKey] // DOTENV_VAULT_PRODUCTION\n  if (!ciphertext) {\n    const err = new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${environmentKey} in your .env.vault file.`)\n    err.code = 'NOT_FOUND_DOTENV_ENVIRONMENT'\n    throw err\n  }\n\n  return { ciphertext, key }\n}\n\nfunction _vaultPath (options) {\n  let possibleVaultPath = null\n\n  if (options && options.path && options.path.length > 0) {\n    if (Array.isArray(options.path)) {\n      for (const filepath of options.path) {\n        if (fs.existsSync(filepath)) {\n          possibleVaultPath = filepath.endsWith('.vault') ? filepath : `${filepath}.vault`\n        }\n      }\n    } else {\n      possibleVaultPath = options.path.endsWith('.vault') ? options.path : `${options.path}.vault`\n    }\n  } else {\n    possibleVaultPath = path.resolve(process.cwd(), '.env.vault')\n  }\n\n  if (fs.existsSync(possibleVaultPath)) {\n    return possibleVaultPath\n  }\n\n  return null\n}\n\nfunction _resolveHome (envPath) {\n  return envPath[0] === '~' ? path.join(os.homedir(), envPath.slice(1)) : envPath\n}\n\nfunction _configVault (options) {\n  _log('Loading env from encrypted .env.vault')\n\n  const parsed = DotenvModule._parseVault(options)\n\n  let processEnv = process.env\n  if (options && options.processEnv != null) {\n    processEnv = options.processEnv\n  }\n\n  DotenvModule.populate(processEnv, parsed, options)\n\n  return { parsed }\n}\n\nfunction configDotenv (options) {\n  const dotenvPath = path.resolve(process.cwd(), '.env')\n  let encoding = 'utf8'\n  const debug = Boolean(options && options.debug)\n\n  if (options && options.encoding) {\n    encoding = options.encoding\n  } else {\n    if (debug) {\n      _debug('No encoding is specified. UTF-8 is used by default')\n    }\n  }\n\n  let optionPaths = [dotenvPath] // default, look for .env\n  if (options && options.path) {\n    if (!Array.isArray(options.path)) {\n      optionPaths = [_resolveHome(options.path)]\n    } else {\n      optionPaths = [] // reset default\n      for (const filepath of options.path) {\n        optionPaths.push(_resolveHome(filepath))\n      }\n    }\n  }\n\n  // Build the parsed data in a temporary object (because we need to return it).  Once we have the final\n  // parsed data, we will combine it with process.env (or options.processEnv if provided).\n  let lastError\n  const parsedAll = {}\n  for (const path of optionPaths) {\n    try {\n      // Specifying an encoding returns a string instead of a buffer\n      const parsed = DotenvModule.parse(fs.readFileSync(path, { encoding }))\n\n      DotenvModule.populate(parsedAll, parsed, options)\n    } catch (e) {\n      if (debug) {\n        _debug(`Failed to load ${path} ${e.message}`)\n      }\n      lastError = e\n    }\n  }\n\n  let processEnv = process.env\n  if (options && options.processEnv != null) {\n    processEnv = options.processEnv\n  }\n\n  DotenvModule.populate(processEnv, parsedAll, options)\n\n  if (lastError) {\n    return { parsed: parsedAll, error: lastError }\n  } else {\n    return { parsed: parsedAll }\n  }\n}\n\n// Populates process.env from .env file\nfunction config (options) {\n  // fallback to original dotenv if DOTENV_KEY is not set\n  if (_dotenvKey(options).length === 0) {\n    return DotenvModule.configDotenv(options)\n  }\n\n  const vaultPath = _vaultPath(options)\n\n  // dotenvKey exists but .env.vault file does not exist\n  if (!vaultPath) {\n    _warn(`You set DOTENV_KEY but you are missing a .env.vault file at ${vaultPath}. Did you forget to build it?`)\n\n    return DotenvModule.configDotenv(options)\n  }\n\n  return DotenvModule._configVault(options)\n}\n\nfunction decrypt (encrypted, keyStr) {\n  const key = Buffer.from(keyStr.slice(-64), 'hex')\n  let ciphertext = Buffer.from(encrypted, 'base64')\n\n  const nonce = ciphertext.subarray(0, 12)\n  const authTag = ciphertext.subarray(-16)\n  ciphertext = ciphertext.subarray(12, -16)\n\n  try {\n    const aesgcm = crypto.createDecipheriv('aes-256-gcm', key, nonce)\n    aesgcm.setAuthTag(authTag)\n    return `${aesgcm.update(ciphertext)}${aesgcm.final()}`\n  } catch (error) {\n    const isRange = error instanceof RangeError\n    const invalidKeyLength = error.message === 'Invalid key length'\n    const decryptionFailed = error.message === 'Unsupported state or unable to authenticate data'\n\n    if (isRange || invalidKeyLength) {\n      const err = new Error('INVALID_DOTENV_KEY: It must be 64 characters long (or more)')\n      err.code = 'INVALID_DOTENV_KEY'\n      throw err\n    } else if (decryptionFailed) {\n      const err = new Error('DECRYPTION_FAILED: Please check your DOTENV_KEY')\n      err.code = 'DECRYPTION_FAILED'\n      throw err\n    } else {\n      throw error\n    }\n  }\n}\n\n// Populate process.env with parsed values\nfunction populate (processEnv, parsed, options = {}) {\n  const debug = Boolean(options && options.debug)\n  const override = Boolean(options && options.override)\n\n  if (typeof parsed !== 'object') {\n    const err = new Error('OBJECT_REQUIRED: Please check the processEnv argument being passed to populate')\n    err.code = 'OBJECT_REQUIRED'\n    throw err\n  }\n\n  // Set process.env\n  for (const key of Object.keys(parsed)) {\n    if (Object.prototype.hasOwnProperty.call(processEnv, key)) {\n      if (override === true) {\n        processEnv[key] = parsed[key]\n      }\n\n      if (debug) {\n        if (override === true) {\n          _debug(`\"${key}\" is already defined and WAS overwritten`)\n        } else {\n          _debug(`\"${key}\" is already defined and was NOT overwritten`)\n        }\n      }\n    } else {\n      processEnv[key] = parsed[key]\n    }\n  }\n}\n\nconst DotenvModule = {\n  configDotenv,\n  _configVault,\n  _parseVault,\n  config,\n  decrypt,\n  parse,\n  populate\n}\n\nmodule.exports.configDotenv = DotenvModule.configDotenv\nmodule.exports._configVault = DotenvModule._configVault\nmodule.exports._parseVault = DotenvModule._parseVault\nmodule.exports.config = DotenvModule.config\nmodule.exports.decrypt = DotenvModule.decrypt\nmodule.exports.parse = DotenvModule.parse\nmodule.exports.populate = DotenvModule.populate\n\nmodule.exports = DotenvModule\n","/**\n * @author Toru Nagashima <https://github.com/mysticatea>\n * @copyright 2015 Toru Nagashima. All rights reserved.\n * See LICENSE file in root directory for full license.\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n/**\n * @typedef {object} PrivateData\n * @property {EventTarget} eventTarget The event target.\n * @property {{type:string}} event The original event object.\n * @property {number} eventPhase The current event phase.\n * @property {EventTarget|null} currentTarget The current event target.\n * @property {boolean} canceled The flag to prevent default.\n * @property {boolean} stopped The flag to stop propagation.\n * @property {boolean} immediateStopped The flag to stop propagation immediately.\n * @property {Function|null} passiveListener The listener if the current listener is passive. Otherwise this is null.\n * @property {number} timeStamp The unix time.\n * @private\n */\n\n/**\n * Private data for event wrappers.\n * @type {WeakMap<Event, PrivateData>}\n * @private\n */\nconst privateData = new WeakMap();\n\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrappers = new WeakMap();\n\n/**\n * Get private data.\n * @param {Event} event The event object to get private data.\n * @returns {PrivateData} The private data of the event.\n * @private\n */\nfunction pd(event) {\n    const retv = privateData.get(event);\n    console.assert(\n        retv != null,\n        \"'this' is expected an Event object, but got\",\n        event\n    );\n    return retv\n}\n\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data {PrivateData} private data.\n */\nfunction setCancelFlag(data) {\n    if (data.passiveListener != null) {\n        if (\n            typeof console !== \"undefined\" &&\n            typeof console.error === \"function\"\n        ) {\n            console.error(\n                \"Unable to preventDefault inside passive event listener invocation.\",\n                data.passiveListener\n            );\n        }\n        return\n    }\n    if (!data.event.cancelable) {\n        return\n    }\n\n    data.canceled = true;\n    if (typeof data.event.preventDefault === \"function\") {\n        data.event.preventDefault();\n    }\n}\n\n/**\n * @see https://dom.spec.whatwg.org/#interface-event\n * @private\n */\n/**\n * The event wrapper.\n * @constructor\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Event|{type:string}} event The original event to wrap.\n */\nfunction Event(eventTarget, event) {\n    privateData.set(this, {\n        eventTarget,\n        event,\n        eventPhase: 2,\n        currentTarget: eventTarget,\n        canceled: false,\n        stopped: false,\n        immediateStopped: false,\n        passiveListener: null,\n        timeStamp: event.timeStamp || Date.now(),\n    });\n\n    // https://heycam.github.io/webidl/#Unforgeable\n    Object.defineProperty(this, \"isTrusted\", { value: false, enumerable: true });\n\n    // Define accessors\n    const keys = Object.keys(event);\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in this)) {\n            Object.defineProperty(this, key, defineRedirectDescriptor(key));\n        }\n    }\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEvent.prototype = {\n    /**\n     * The type of this event.\n     * @type {string}\n     */\n    get type() {\n        return pd(this).event.type\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get target() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get currentTarget() {\n        return pd(this).currentTarget\n    },\n\n    /**\n     * @returns {EventTarget[]} The composed path of this event.\n     */\n    composedPath() {\n        const currentTarget = pd(this).currentTarget;\n        if (currentTarget == null) {\n            return []\n        }\n        return [currentTarget]\n    },\n\n    /**\n     * Constant of NONE.\n     * @type {number}\n     */\n    get NONE() {\n        return 0\n    },\n\n    /**\n     * Constant of CAPTURING_PHASE.\n     * @type {number}\n     */\n    get CAPTURING_PHASE() {\n        return 1\n    },\n\n    /**\n     * Constant of AT_TARGET.\n     * @type {number}\n     */\n    get AT_TARGET() {\n        return 2\n    },\n\n    /**\n     * Constant of BUBBLING_PHASE.\n     * @type {number}\n     */\n    get BUBBLING_PHASE() {\n        return 3\n    },\n\n    /**\n     * The target of this event.\n     * @type {number}\n     */\n    get eventPhase() {\n        return pd(this).eventPhase\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopPropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.stopPropagation === \"function\") {\n            data.event.stopPropagation();\n        }\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopImmediatePropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        data.immediateStopped = true;\n        if (typeof data.event.stopImmediatePropagation === \"function\") {\n            data.event.stopImmediatePropagation();\n        }\n    },\n\n    /**\n     * The flag to be bubbling.\n     * @type {boolean}\n     */\n    get bubbles() {\n        return Boolean(pd(this).event.bubbles)\n    },\n\n    /**\n     * The flag to be cancelable.\n     * @type {boolean}\n     */\n    get cancelable() {\n        return Boolean(pd(this).event.cancelable)\n    },\n\n    /**\n     * Cancel this event.\n     * @returns {void}\n     */\n    preventDefault() {\n        setCancelFlag(pd(this));\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     */\n    get defaultPrevented() {\n        return pd(this).canceled\n    },\n\n    /**\n     * The flag to be composed.\n     * @type {boolean}\n     */\n    get composed() {\n        return Boolean(pd(this).event.composed)\n    },\n\n    /**\n     * The unix time of this event.\n     * @type {number}\n     */\n    get timeStamp() {\n        return pd(this).timeStamp\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     * @deprecated\n     */\n    get srcElement() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The flag to stop event bubbling.\n     * @type {boolean}\n     * @deprecated\n     */\n    get cancelBubble() {\n        return pd(this).stopped\n    },\n    set cancelBubble(value) {\n        if (!value) {\n            return\n        }\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.cancelBubble === \"boolean\") {\n            data.event.cancelBubble = true;\n        }\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     * @deprecated\n     */\n    get returnValue() {\n        return !pd(this).canceled\n    },\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag(pd(this));\n        }\n    },\n\n    /**\n     * Initialize this event object. But do nothing under event dispatching.\n     * @param {string} type The event type.\n     * @param {boolean} [bubbles=false] The flag to be possible to bubble up.\n     * @param {boolean} [cancelable=false] The flag to be possible to cancel.\n     * @deprecated\n     */\n    initEvent() {\n        // Do nothing.\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(Event.prototype, \"constructor\", {\n    value: Event,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof window !== \"undefined\" && typeof window.Event !== \"undefined\") {\n    Object.setPrototypeOf(Event.prototype, window.Event.prototype);\n\n    // Make association for wrappers.\n    wrappers.set(window.Event.prototype, Event);\n}\n\n/**\n * Get the property descriptor to redirect a given property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to redirect the property.\n * @private\n */\nfunction defineRedirectDescriptor(key) {\n    return {\n        get() {\n            return pd(this).event[key]\n        },\n        set(value) {\n            pd(this).event[key] = value;\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Get the property descriptor to call a given method property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to call the method property.\n * @private\n */\nfunction defineCallDescriptor(key) {\n    return {\n        value() {\n            const event = pd(this).event;\n            return event[key].apply(event, arguments)\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define new wrapper class.\n * @param {Function} BaseEvent The base wrapper class.\n * @param {Object} proto The prototype of the original event.\n * @returns {Function} The defined wrapper class.\n * @private\n */\nfunction defineWrapper(BaseEvent, proto) {\n    const keys = Object.keys(proto);\n    if (keys.length === 0) {\n        return BaseEvent\n    }\n\n    /** CustomEvent */\n    function CustomEvent(eventTarget, event) {\n        BaseEvent.call(this, eventTarget, event);\n    }\n\n    CustomEvent.prototype = Object.create(BaseEvent.prototype, {\n        constructor: { value: CustomEvent, configurable: true, writable: true },\n    });\n\n    // Define accessors.\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in BaseEvent.prototype)) {\n            const descriptor = Object.getOwnPropertyDescriptor(proto, key);\n            const isFunc = typeof descriptor.value === \"function\";\n            Object.defineProperty(\n                CustomEvent.prototype,\n                key,\n                isFunc\n                    ? defineCallDescriptor(key)\n                    : defineRedirectDescriptor(key)\n            );\n        }\n    }\n\n    return CustomEvent\n}\n\n/**\n * Get the wrapper class of a given prototype.\n * @param {Object} proto The prototype of the original event to get its wrapper.\n * @returns {Function} The wrapper class.\n * @private\n */\nfunction getWrapper(proto) {\n    if (proto == null || proto === Object.prototype) {\n        return Event\n    }\n\n    let wrapper = wrappers.get(proto);\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapper(Object.getPrototypeOf(proto)), proto);\n        wrappers.set(proto, wrapper);\n    }\n    return wrapper\n}\n\n/**\n * Wrap a given event to management a dispatching.\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Object} event The event to wrap.\n * @returns {Event} The wrapper instance.\n * @private\n */\nfunction wrapEvent(eventTarget, event) {\n    const Wrapper = getWrapper(Object.getPrototypeOf(event));\n    return new Wrapper(eventTarget, event)\n}\n\n/**\n * Get the immediateStopped flag of a given event.\n * @param {Event} event The event to get.\n * @returns {boolean} The flag to stop propagation immediately.\n * @private\n */\nfunction isStopped(event) {\n    return pd(event).immediateStopped\n}\n\n/**\n * Set the current event phase of a given event.\n * @param {Event} event The event to set current target.\n * @param {number} eventPhase New event phase.\n * @returns {void}\n * @private\n */\nfunction setEventPhase(event, eventPhase) {\n    pd(event).eventPhase = eventPhase;\n}\n\n/**\n * Set the current target of a given event.\n * @param {Event} event The event to set current target.\n * @param {EventTarget|null} currentTarget New current target.\n * @returns {void}\n * @private\n */\nfunction setCurrentTarget(event, currentTarget) {\n    pd(event).currentTarget = currentTarget;\n}\n\n/**\n * Set a passive listener of a given event.\n * @param {Event} event The event to set current target.\n * @param {Function|null} passiveListener New passive listener.\n * @returns {void}\n * @private\n */\nfunction setPassiveListener(event, passiveListener) {\n    pd(event).passiveListener = passiveListener;\n}\n\n/**\n * @typedef {object} ListenerNode\n * @property {Function} listener\n * @property {1|2|3} listenerType\n * @property {boolean} passive\n * @property {boolean} once\n * @property {ListenerNode|null} next\n * @private\n */\n\n/**\n * @type {WeakMap<object, Map<string, ListenerNode>>}\n * @private\n */\nconst listenersMap = new WeakMap();\n\n// Listener types\nconst CAPTURE = 1;\nconst BUBBLE = 2;\nconst ATTRIBUTE = 3;\n\n/**\n * Check whether a given value is an object or not.\n * @param {any} x The value to check.\n * @returns {boolean} `true` if the value is an object.\n */\nfunction isObject(x) {\n    return x !== null && typeof x === \"object\" //eslint-disable-line no-restricted-syntax\n}\n\n/**\n * Get listeners.\n * @param {EventTarget} eventTarget The event target to get.\n * @returns {Map<string, ListenerNode>} The listeners.\n * @private\n */\nfunction getListeners(eventTarget) {\n    const listeners = listenersMap.get(eventTarget);\n    if (listeners == null) {\n        throw new TypeError(\n            \"'this' is expected an EventTarget object, but got another value.\"\n        )\n    }\n    return listeners\n}\n\n/**\n * Get the property descriptor for the event attribute of a given event.\n * @param {string} eventName The event name to get property descriptor.\n * @returns {PropertyDescriptor} The property descriptor.\n * @private\n */\nfunction defineEventAttributeDescriptor(eventName) {\n    return {\n        get() {\n            const listeners = getListeners(this);\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    return node.listener\n                }\n                node = node.next;\n            }\n            return null\n        },\n\n        set(listener) {\n            if (typeof listener !== \"function\" && !isObject(listener)) {\n                listener = null; // eslint-disable-line no-param-reassign\n            }\n            const listeners = getListeners(this);\n\n            // Traverse to the tail while removing old value.\n            let prev = null;\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    // Remove old value.\n                    if (prev !== null) {\n                        prev.next = node.next;\n                    } else if (node.next !== null) {\n                        listeners.set(eventName, node.next);\n                    } else {\n                        listeners.delete(eventName);\n                    }\n                } else {\n                    prev = node;\n                }\n\n                node = node.next;\n            }\n\n            // Add new value.\n            if (listener !== null) {\n                const newNode = {\n                    listener,\n                    listenerType: ATTRIBUTE,\n                    passive: false,\n                    once: false,\n                    next: null,\n                };\n                if (prev === null) {\n                    listeners.set(eventName, newNode);\n                } else {\n                    prev.next = newNode;\n                }\n            }\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define an event attribute (e.g. `eventTarget.onclick`).\n * @param {Object} eventTargetPrototype The event target prototype to define an event attrbite.\n * @param {string} eventName The event name to define.\n * @returns {void}\n */\nfunction defineEventAttribute(eventTargetPrototype, eventName) {\n    Object.defineProperty(\n        eventTargetPrototype,\n        `on${eventName}`,\n        defineEventAttributeDescriptor(eventName)\n    );\n}\n\n/**\n * Define a custom EventTarget with event attributes.\n * @param {string[]} eventNames Event names for event attributes.\n * @returns {EventTarget} The custom EventTarget.\n * @private\n */\nfunction defineCustomEventTarget(eventNames) {\n    /** CustomEventTarget */\n    function CustomEventTarget() {\n        EventTarget.call(this);\n    }\n\n    CustomEventTarget.prototype = Object.create(EventTarget.prototype, {\n        constructor: {\n            value: CustomEventTarget,\n            configurable: true,\n            writable: true,\n        },\n    });\n\n    for (let i = 0; i < eventNames.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, eventNames[i]);\n    }\n\n    return CustomEventTarget\n}\n\n/**\n * EventTarget.\n *\n * - This is constructor if no arguments.\n * - This is a function which returns a CustomEventTarget constructor if there are arguments.\n *\n * For example:\n *\n *     class A extends EventTarget {}\n *     class B extends EventTarget(\"message\") {}\n *     class C extends EventTarget(\"message\", \"error\") {}\n *     class D extends EventTarget([\"message\", \"error\"]) {}\n */\nfunction EventTarget() {\n    /*eslint-disable consistent-return */\n    if (this instanceof EventTarget) {\n        listenersMap.set(this, new Map());\n        return\n    }\n    if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return defineCustomEventTarget(arguments[0])\n    }\n    if (arguments.length > 0) {\n        const types = new Array(arguments.length);\n        for (let i = 0; i < arguments.length; ++i) {\n            types[i] = arguments[i];\n        }\n        return defineCustomEventTarget(types)\n    }\n    throw new TypeError(\"Cannot call a class as a function\")\n    /*eslint-enable consistent-return */\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEventTarget.prototype = {\n    /**\n     * Add a given listener to this event target.\n     * @param {string} eventName The event name to add.\n     * @param {Function} listener The listener to add.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    addEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n        if (typeof listener !== \"function\" && !isObject(listener)) {\n            throw new TypeError(\"'listener' should be a function or an object.\")\n        }\n\n        const listeners = getListeners(this);\n        const optionsIsObj = isObject(options);\n        const capture = optionsIsObj\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n        const newNode = {\n            listener,\n            listenerType,\n            passive: optionsIsObj && Boolean(options.passive),\n            once: optionsIsObj && Boolean(options.once),\n            next: null,\n        };\n\n        // Set it as the first node if the first node is null.\n        let node = listeners.get(eventName);\n        if (node === undefined) {\n            listeners.set(eventName, newNode);\n            return\n        }\n\n        // Traverse to the tail while checking duplication..\n        let prev = null;\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                // Should ignore duplication.\n                return\n            }\n            prev = node;\n            node = node.next;\n        }\n\n        // Add it.\n        prev.next = newNode;\n    },\n\n    /**\n     * Remove a given listener from this event target.\n     * @param {string} eventName The event name to remove.\n     * @param {Function} listener The listener to remove.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    removeEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n\n        const listeners = getListeners(this);\n        const capture = isObject(options)\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n\n        let prev = null;\n        let node = listeners.get(eventName);\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n                return\n            }\n\n            prev = node;\n            node = node.next;\n        }\n    },\n\n    /**\n     * Dispatch a given event.\n     * @param {Event|{type:string}} event The event to dispatch.\n     * @returns {boolean} `false` if canceled.\n     */\n    dispatchEvent(event) {\n        if (event == null || typeof event.type !== \"string\") {\n            throw new TypeError('\"event.type\" should be a string.')\n        }\n\n        // If listeners aren't registered, terminate.\n        const listeners = getListeners(this);\n        const eventName = event.type;\n        let node = listeners.get(eventName);\n        if (node == null) {\n            return true\n        }\n\n        // Since we cannot rewrite several properties, so wrap object.\n        const wrappedEvent = wrapEvent(this, event);\n\n        // This doesn't process capturing phase and bubbling phase.\n        // This isn't participating in a tree.\n        let prev = null;\n        while (node != null) {\n            // Remove this listener if it's once\n            if (node.once) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n            } else {\n                prev = node;\n            }\n\n            // Call this listener\n            setPassiveListener(\n                wrappedEvent,\n                node.passive ? node.listener : null\n            );\n            if (typeof node.listener === \"function\") {\n                try {\n                    node.listener.call(this, wrappedEvent);\n                } catch (err) {\n                    if (\n                        typeof console !== \"undefined\" &&\n                        typeof console.error === \"function\"\n                    ) {\n                        console.error(err);\n                    }\n                }\n            } else if (\n                node.listenerType !== ATTRIBUTE &&\n                typeof node.listener.handleEvent === \"function\"\n            ) {\n                node.listener.handleEvent(wrappedEvent);\n            }\n\n            // Break if `event.stopImmediatePropagation` was called.\n            if (isStopped(wrappedEvent)) {\n                break\n            }\n\n            node = node.next;\n        }\n        setPassiveListener(wrappedEvent, null);\n        setEventPhase(wrappedEvent, 0);\n        setCurrentTarget(wrappedEvent, null);\n\n        return !wrappedEvent.defaultPrevented\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(EventTarget.prototype, \"constructor\", {\n    value: EventTarget,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (\n    typeof window !== \"undefined\" &&\n    typeof window.EventTarget !== \"undefined\"\n) {\n    Object.setPrototypeOf(EventTarget.prototype, window.EventTarget.prototype);\n}\n\nexports.defineEventAttribute = defineEventAttribute;\nexports.EventTarget = EventTarget;\nexports.default = EventTarget;\n\nmodule.exports = EventTarget\nmodule.exports.EventTarget = module.exports[\"default\"] = EventTarget\nmodule.exports.defineEventAttribute = defineEventAttribute\n//# sourceMappingURL=event-target-shim.js.map\n","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) { /* */ }\n    if (typeof debug !== \"function\") {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Create handlers that pass events from native requests\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\nvar eventHandlers = Object.create(null);\nevents.forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\nvar InvalidUrlError = createErrorType(\n  \"ERR_INVALID_URL\",\n  \"Invalid URL\",\n  TypeError\n);\n// Error types with codes\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"Redirected request failed\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\"\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    self._processResponse(response);\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  abortRequest(this._currentRequest);\n  this.emit(\"abort\");\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!isString(data) && !isBuffer(data)) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (isFunction(data)) {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n\n  // Destroys the socket on timeout\n  function destroyOnTimeout(socket) {\n    socket.setTimeout(msecs);\n    socket.removeListener(\"timeout\", socket.destroy);\n    socket.addListener(\"timeout\", socket.destroy);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer(socket) {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n    destroyOnTimeout(socket);\n  }\n\n  // Stops a timeout from triggering\n  function clearTimer() {\n    // Clear the timeout\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n      self._timeout = null;\n    }\n\n    // Clean up all attached listeners\n    self.removeListener(\"abort\", clearTimer);\n    self.removeListener(\"error\", clearTimer);\n    self.removeListener(\"response\", clearTimer);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!self.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Attach callback if passed\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Start the timer if or when the socket is opened\n  if (this.socket) {\n    startTimer(this.socket);\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  // Clean up on events\n  this.on(\"socket\", destroyOnTimeout);\n  this.on(\"abort\", clearTimer);\n  this.on(\"error\", clearTimer);\n  this.on(\"response\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    this.emit(\"error\", new TypeError(\"Unsupported protocol \" + protocol));\n    return;\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.slice(0, -1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request and set up its event handlers\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  request._redirectable = this;\n  for (var event of events) {\n    request.on(event, eventHandlers[event]);\n  }\n\n  // RFC7230§5.3.1: When making a request directly to an origin server, […]\n  // a client MUST send only the absolute path […] as the request-target.\n  this._currentUrl = /^\\//.test(this._options.path) ?\n    url.format(this._options) :\n    // When making a request to a proxy, […]\n    // a client MUST send the target URI in absolute-form […].\n    this._options.path;\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      /* istanbul ignore else */\n      if (request === self._currentRequest) {\n        // Report any write errors\n        /* istanbul ignore if */\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          /* istanbul ignore else */\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC7231§6.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n\n  // If the response is not a redirect; return it as-is\n  var location = response.headers.location;\n  if (!location || this._options.followRedirects === false ||\n      statusCode < 300 || statusCode >= 400) {\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n    return;\n  }\n\n  // The response is a redirect, so abort the current request\n  abortRequest(this._currentRequest);\n  // Discard the remainder of the response to avoid waiting for data\n  response.destroy();\n\n  // RFC7231§6.4: A client SHOULD detect and intervene\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\n  if (++this._redirectCount > this._options.maxRedirects) {\n    this.emit(\"error\", new TooManyRedirectsError());\n    return;\n  }\n\n  // Store the request headers if applicable\n  var requestHeaders;\n  var beforeRedirect = this._options.beforeRedirect;\n  if (beforeRedirect) {\n    requestHeaders = Object.assign({\n      // The Host header was set by nativeProtocol.request\n      Host: response.req.getHeader(\"host\"),\n    }, this._options.headers);\n  }\n\n  // RFC7231§6.4: Automatic redirection needs to done with\n  // care for methods not known to be safe, […]\n  // RFC7231§6.4.2–3: For historical reasons, a user agent MAY change\n  // the request method from POST to GET for the subsequent request.\n  var method = this._options.method;\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n      // RFC7231§6.4.4: The 303 (See Other) status code indicates that\n      // the server is redirecting the user agent to a different resource […]\n      // A user agent can perform a retrieval request targeting that URI\n      // (a GET or HEAD request if using HTTP) […]\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n    this._options.method = \"GET\";\n    // Drop a possible entity and headers related to it\n    this._requestBodyBuffers = [];\n    removeMatchingHeaders(/^content-/i, this._options.headers);\n  }\n\n  // Drop the Host header, as the redirect might lead to a different host\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\n\n  // If the redirect is relative, carry over the host of the last request\n  var currentUrlParts = url.parse(this._currentUrl);\n  var currentHost = currentHostHeader || currentUrlParts.host;\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\n\n  // Determine the URL of the redirection\n  var redirectUrl;\n  try {\n    redirectUrl = url.resolve(currentUrl, location);\n  }\n  catch (cause) {\n    this.emit(\"error\", new RedirectionError({ cause: cause }));\n    return;\n  }\n\n  // Create the redirected request\n  debug(\"redirecting to\", redirectUrl);\n  this._isRedirect = true;\n  var redirectUrlParts = url.parse(redirectUrl);\n  Object.assign(this._options, redirectUrlParts);\n\n  // Drop confidential headers when redirecting to a less secure protocol\n  // or to a different domain that is not a superdomain\n  if (redirectUrlParts.protocol !== currentUrlParts.protocol &&\n     redirectUrlParts.protocol !== \"https:\" ||\n     redirectUrlParts.host !== currentHost &&\n     !isSubdomain(redirectUrlParts.host, currentHost)) {\n    removeMatchingHeaders(/^(?:authorization|cookie)$/i, this._options.headers);\n  }\n\n  // Evaluate the beforeRedirect callback\n  if (isFunction(beforeRedirect)) {\n    var responseDetails = {\n      headers: response.headers,\n      statusCode: statusCode,\n    };\n    var requestDetails = {\n      url: currentUrl,\n      method: method,\n      headers: requestHeaders,\n    };\n    try {\n      beforeRedirect(this._options, responseDetails, requestDetails);\n    }\n    catch (err) {\n      this.emit(\"error\", err);\n      return;\n    }\n    this._sanitizeOptions(this._options);\n  }\n\n  // Perform the redirected request\n  try {\n    this._performRequest();\n  }\n  catch (cause) {\n    this.emit(\"error\", new RedirectionError({ cause: cause }));\n  }\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters\n      if (isString(input)) {\n        var parsed;\n        try {\n          parsed = urlToOptions(new URL(input));\n        }\n        catch (err) {\n          /* istanbul ignore next */\n          parsed = url.parse(input);\n        }\n        if (!isString(parsed.protocol)) {\n          throw new InvalidUrlError({ input });\n        }\n        input = parsed;\n      }\n      else if (URL && (input instanceof URL)) {\n        input = urlToOptions(input);\n      }\n      else {\n        callback = options;\n        options = input;\n        input = { protocol: protocol };\n      }\n      if (isFunction(options)) {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n      if (!isString(options.host) && !isString(options.hostname)) {\n        options.hostname = \"::1\";\n      }\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\n/* istanbul ignore next */\nfunction noop() { /* empty */ }\n\n// from https://github.com/nodejs/node/blob/master/lib/internal/url.js\nfunction urlToOptions(urlObject) {\n  var options = {\n    protocol: urlObject.protocol,\n    hostname: urlObject.hostname.startsWith(\"[\") ?\n      /* istanbul ignore next */\n      urlObject.hostname.slice(1, -1) :\n      urlObject.hostname,\n    hash: urlObject.hash,\n    search: urlObject.search,\n    pathname: urlObject.pathname,\n    path: urlObject.pathname + urlObject.search,\n    href: urlObject.href,\n  };\n  if (urlObject.port !== \"\") {\n    options.port = Number(urlObject.port);\n  }\n  return options;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\n    undefined : String(lastValue).trim();\n}\n\nfunction createErrorType(code, message, baseClass) {\n  // Create constructor\n  function CustomError(properties) {\n    Error.captureStackTrace(this, this.constructor);\n    Object.assign(this, properties || {});\n    this.code = code;\n    this.message = this.cause ? message + \": \" + this.cause.message : message;\n  }\n\n  // Attach constructor and set default properties\n  CustomError.prototype = new (baseClass || Error)();\n  CustomError.prototype.constructor = CustomError;\n  CustomError.prototype.name = \"Error [\" + code + \"]\";\n  return CustomError;\n}\n\nfunction abortRequest(request) {\n  for (var event of events) {\n    request.removeListener(event, eventHandlers[event]);\n  }\n  request.on(\"error\", noop);\n  request.abort();\n}\n\nfunction isSubdomain(subdomain, domain) {\n  assert(isString(subdomain) && isString(domain));\n  var dot = subdomain.length - domain.length - 1;\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\n}\n\nfunction isString(value) {\n  return typeof value === \"string\" || value instanceof String;\n}\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\nfunction isBuffer(value) {\n  return typeof value === \"object\" && (\"length\" in value);\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","var CombinedStream = require('combined-stream');\nvar util = require('util');\nvar path = require('path');\nvar http = require('http');\nvar https = require('https');\nvar parseUrl = require('url').parse;\nvar fs = require('fs');\nvar Stream = require('stream').Stream;\nvar mime = require('mime-types');\nvar asynckit = require('asynckit');\nvar populate = require('./populate.js');\n\n// Public API\nmodule.exports = FormData;\n\n// make it a Stream\nutil.inherits(FormData, CombinedStream);\n\n/**\n * Create readable \"multipart/form-data\" streams.\n * Can be used to submit forms\n * and file uploads to other web applications.\n *\n * @constructor\n * @param {Object} options - Properties to be added/overriden for FormData and CombinedStream\n */\nfunction FormData(options) {\n  if (!(this instanceof FormData)) {\n    return new FormData(options);\n  }\n\n  this._overheadLength = 0;\n  this._valueLength = 0;\n  this._valuesToMeasure = [];\n\n  CombinedStream.call(this);\n\n  options = options || {};\n  for (var option in options) {\n    this[option] = options[option];\n  }\n}\n\nFormData.LINE_BREAK = '\\r\\n';\nFormData.DEFAULT_CONTENT_TYPE = 'application/octet-stream';\n\nFormData.prototype.append = function(field, value, options) {\n\n  options = options || {};\n\n  // allow filename as single option\n  if (typeof options == 'string') {\n    options = {filename: options};\n  }\n\n  var append = CombinedStream.prototype.append.bind(this);\n\n  // all that streamy business can't handle numbers\n  if (typeof value == 'number') {\n    value = '' + value;\n  }\n\n  // https://github.com/felixge/node-form-data/issues/38\n  if (Array.isArray(value)) {\n    // Please convert your array into string\n    // the way web server expects it\n    this._error(new Error('Arrays are not supported.'));\n    return;\n  }\n\n  var header = this._multiPartHeader(field, value, options);\n  var footer = this._multiPartFooter();\n\n  append(header);\n  append(value);\n  append(footer);\n\n  // pass along options.knownLength\n  this._trackLength(header, value, options);\n};\n\nFormData.prototype._trackLength = function(header, value, options) {\n  var valueLength = 0;\n\n  // used w/ getLengthSync(), when length is known.\n  // e.g. for streaming directly from a remote server,\n  // w/ a known file a size, and not wanting to wait for\n  // incoming file to finish to get its size.\n  if (options.knownLength != null) {\n    valueLength += +options.knownLength;\n  } else if (Buffer.isBuffer(value)) {\n    valueLength = value.length;\n  } else if (typeof value === 'string') {\n    valueLength = Buffer.byteLength(value);\n  }\n\n  this._valueLength += valueLength;\n\n  // @check why add CRLF? does this account for custom/multiple CRLFs?\n  this._overheadLength +=\n    Buffer.byteLength(header) +\n    FormData.LINE_BREAK.length;\n\n  // empty or either doesn't have path or not an http response or not a stream\n  if (!value || ( !value.path && !(value.readable && value.hasOwnProperty('httpVersion')) && !(value instanceof Stream))) {\n    return;\n  }\n\n  // no need to bother with the length\n  if (!options.knownLength) {\n    this._valuesToMeasure.push(value);\n  }\n};\n\nFormData.prototype._lengthRetriever = function(value, callback) {\n\n  if (value.hasOwnProperty('fd')) {\n\n    // take read range into a account\n    // `end` = Infinity –> read file till the end\n    //\n    // TODO: Looks like there is bug in Node fs.createReadStream\n    // it doesn't respect `end` options without `start` options\n    // Fix it when node fixes it.\n    // https://github.com/joyent/node/issues/7819\n    if (value.end != undefined && value.end != Infinity && value.start != undefined) {\n\n      // when end specified\n      // no need to calculate range\n      // inclusive, starts with 0\n      callback(null, value.end + 1 - (value.start ? value.start : 0));\n\n    // not that fast snoopy\n    } else {\n      // still need to fetch file size from fs\n      fs.stat(value.path, function(err, stat) {\n\n        var fileSize;\n\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        // update final size based on the range options\n        fileSize = stat.size - (value.start ? value.start : 0);\n        callback(null, fileSize);\n      });\n    }\n\n  // or http response\n  } else if (value.hasOwnProperty('httpVersion')) {\n    callback(null, +value.headers['content-length']);\n\n  // or request stream http://github.com/mikeal/request\n  } else if (value.hasOwnProperty('httpModule')) {\n    // wait till response come back\n    value.on('response', function(response) {\n      value.pause();\n      callback(null, +response.headers['content-length']);\n    });\n    value.resume();\n\n  // something else\n  } else {\n    callback('Unknown stream');\n  }\n};\n\nFormData.prototype._multiPartHeader = function(field, value, options) {\n  // custom header specified (as string)?\n  // it becomes responsible for boundary\n  // (e.g. to handle extra CRLFs on .NET servers)\n  if (typeof options.header == 'string') {\n    return options.header;\n  }\n\n  var contentDisposition = this._getContentDisposition(value, options);\n  var contentType = this._getContentType(value, options);\n\n  var contents = '';\n  var headers  = {\n    // add custom disposition as third element or keep it two elements if not\n    'Content-Disposition': ['form-data', 'name=\"' + field + '\"'].concat(contentDisposition || []),\n    // if no content type. allow it to be empty array\n    'Content-Type': [].concat(contentType || [])\n  };\n\n  // allow custom headers.\n  if (typeof options.header == 'object') {\n    populate(headers, options.header);\n  }\n\n  var header;\n  for (var prop in headers) {\n    if (!headers.hasOwnProperty(prop)) continue;\n    header = headers[prop];\n\n    // skip nullish headers.\n    if (header == null) {\n      continue;\n    }\n\n    // convert all headers to arrays.\n    if (!Array.isArray(header)) {\n      header = [header];\n    }\n\n    // add non-empty headers.\n    if (header.length) {\n      contents += prop + ': ' + header.join('; ') + FormData.LINE_BREAK;\n    }\n  }\n\n  return '--' + this.getBoundary() + FormData.LINE_BREAK + contents + FormData.LINE_BREAK;\n};\n\nFormData.prototype._getContentDisposition = function(value, options) {\n\n  var filename\n    , contentDisposition\n    ;\n\n  if (typeof options.filepath === 'string') {\n    // custom filepath for relative paths\n    filename = path.normalize(options.filepath).replace(/\\\\/g, '/');\n  } else if (options.filename || value.name || value.path) {\n    // custom filename take precedence\n    // formidable and the browser add a name property\n    // fs- and request- streams have path property\n    filename = path.basename(options.filename || value.name || value.path);\n  } else if (value.readable && value.hasOwnProperty('httpVersion')) {\n    // or try http response\n    filename = path.basename(value.client._httpMessage.path || '');\n  }\n\n  if (filename) {\n    contentDisposition = 'filename=\"' + filename + '\"';\n  }\n\n  return contentDisposition;\n};\n\nFormData.prototype._getContentType = function(value, options) {\n\n  // use custom content-type above all\n  var contentType = options.contentType;\n\n  // or try `name` from formidable, browser\n  if (!contentType && value.name) {\n    contentType = mime.lookup(value.name);\n  }\n\n  // or try `path` from fs-, request- streams\n  if (!contentType && value.path) {\n    contentType = mime.lookup(value.path);\n  }\n\n  // or if it's http-reponse\n  if (!contentType && value.readable && value.hasOwnProperty('httpVersion')) {\n    contentType = value.headers['content-type'];\n  }\n\n  // or guess it from the filepath or filename\n  if (!contentType && (options.filepath || options.filename)) {\n    contentType = mime.lookup(options.filepath || options.filename);\n  }\n\n  // fallback to the default content type if `value` is not simple value\n  if (!contentType && typeof value == 'object') {\n    contentType = FormData.DEFAULT_CONTENT_TYPE;\n  }\n\n  return contentType;\n};\n\nFormData.prototype._multiPartFooter = function() {\n  return function(next) {\n    var footer = FormData.LINE_BREAK;\n\n    var lastPart = (this._streams.length === 0);\n    if (lastPart) {\n      footer += this._lastBoundary();\n    }\n\n    next(footer);\n  }.bind(this);\n};\n\nFormData.prototype._lastBoundary = function() {\n  return '--' + this.getBoundary() + '--' + FormData.LINE_BREAK;\n};\n\nFormData.prototype.getHeaders = function(userHeaders) {\n  var header;\n  var formHeaders = {\n    'content-type': 'multipart/form-data; boundary=' + this.getBoundary()\n  };\n\n  for (header in userHeaders) {\n    if (userHeaders.hasOwnProperty(header)) {\n      formHeaders[header.toLowerCase()] = userHeaders[header];\n    }\n  }\n\n  return formHeaders;\n};\n\nFormData.prototype.setBoundary = function(boundary) {\n  this._boundary = boundary;\n};\n\nFormData.prototype.getBoundary = function() {\n  if (!this._boundary) {\n    this._generateBoundary();\n  }\n\n  return this._boundary;\n};\n\nFormData.prototype.getBuffer = function() {\n  var dataBuffer = new Buffer.alloc( 0 );\n  var boundary = this.getBoundary();\n\n  // Create the form content. Add Line breaks to the end of data.\n  for (var i = 0, len = this._streams.length; i < len; i++) {\n    if (typeof this._streams[i] !== 'function') {\n\n      // Add content to the buffer.\n      if(Buffer.isBuffer(this._streams[i])) {\n        dataBuffer = Buffer.concat( [dataBuffer, this._streams[i]]);\n      }else {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(this._streams[i])]);\n      }\n\n      // Add break after content.\n      if (typeof this._streams[i] !== 'string' || this._streams[i].substring( 2, boundary.length + 2 ) !== boundary) {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(FormData.LINE_BREAK)] );\n      }\n    }\n  }\n\n  // Add the footer and return the Buffer object.\n  return Buffer.concat( [dataBuffer, Buffer.from(this._lastBoundary())] );\n};\n\nFormData.prototype._generateBoundary = function() {\n  // This generates a 50 character boundary similar to those used by Firefox.\n  // They are optimized for boyer-moore parsing.\n  var boundary = '--------------------------';\n  for (var i = 0; i < 24; i++) {\n    boundary += Math.floor(Math.random() * 10).toString(16);\n  }\n\n  this._boundary = boundary;\n};\n\n// Note: getLengthSync DOESN'T calculate streams length\n// As workaround one can calculate file size manually\n// and add it as knownLength option\nFormData.prototype.getLengthSync = function() {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  // Don't get confused, there are 3 \"internal\" streams for each keyval pair\n  // so it basically checks if there is any value added to the form\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  // https://github.com/form-data/form-data/issues/40\n  if (!this.hasKnownLength()) {\n    // Some async length retrievers are present\n    // therefore synchronous length calculation is false.\n    // Please use getLength(callback) to get proper length\n    this._error(new Error('Cannot calculate proper length in synchronous way.'));\n  }\n\n  return knownLength;\n};\n\n// Public API to check if length of added values is known\n// https://github.com/form-data/form-data/issues/196\n// https://github.com/form-data/form-data/issues/262\nFormData.prototype.hasKnownLength = function() {\n  var hasKnownLength = true;\n\n  if (this._valuesToMeasure.length) {\n    hasKnownLength = false;\n  }\n\n  return hasKnownLength;\n};\n\nFormData.prototype.getLength = function(cb) {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  if (!this._valuesToMeasure.length) {\n    process.nextTick(cb.bind(this, null, knownLength));\n    return;\n  }\n\n  asynckit.parallel(this._valuesToMeasure, this._lengthRetriever, function(err, values) {\n    if (err) {\n      cb(err);\n      return;\n    }\n\n    values.forEach(function(length) {\n      knownLength += length;\n    });\n\n    cb(null, knownLength);\n  });\n};\n\nFormData.prototype.submit = function(params, cb) {\n  var request\n    , options\n    , defaults = {method: 'post'}\n    ;\n\n  // parse provided url if it's string\n  // or treat it as options object\n  if (typeof params == 'string') {\n\n    params = parseUrl(params);\n    options = populate({\n      port: params.port,\n      path: params.pathname,\n      host: params.hostname,\n      protocol: params.protocol\n    }, defaults);\n\n  // use custom params\n  } else {\n\n    options = populate(params, defaults);\n    // if no port provided use default one\n    if (!options.port) {\n      options.port = options.protocol == 'https:' ? 443 : 80;\n    }\n  }\n\n  // put that good code in getHeaders to some use\n  options.headers = this.getHeaders(params.headers);\n\n  // https if specified, fallback to http in any other case\n  if (options.protocol == 'https:') {\n    request = https.request(options);\n  } else {\n    request = http.request(options);\n  }\n\n  // get content length and fire away\n  this.getLength(function(err, length) {\n    if (err && err !== 'Unknown stream') {\n      this._error(err);\n      return;\n    }\n\n    // add content length\n    if (length) {\n      request.setHeader('Content-Length', length);\n    }\n\n    this.pipe(request);\n    if (cb) {\n      var onResponse;\n\n      var callback = function (error, responce) {\n        request.removeListener('error', callback);\n        request.removeListener('response', onResponse);\n\n        return cb.call(this, error, responce);\n      };\n\n      onResponse = callback.bind(this, null);\n\n      request.on('error', callback);\n      request.on('response', onResponse);\n    }\n  }.bind(this));\n\n  return request;\n};\n\nFormData.prototype._error = function(err) {\n  if (!this.error) {\n    this.error = err;\n    this.pause();\n    this.emit('error', err);\n  }\n};\n\nFormData.prototype.toString = function () {\n  return '[object FormData]';\n};\n","// populates missing values\nmodule.exports = function(dst, src) {\n\n  Object.keys(src).forEach(function(prop)\n  {\n    dst[prop] = dst[prop] || src[prop];\n  });\n\n  return dst;\n};\n","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst net_1 = __importDefault(require(\"net\"));\nconst tls_1 = __importDefault(require(\"tls\"));\nconst url_1 = __importDefault(require(\"url\"));\nconst assert_1 = __importDefault(require(\"assert\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst agent_base_1 = require(\"agent-base\");\nconst parse_proxy_response_1 = __importDefault(require(\"./parse-proxy-response\"));\nconst debug = debug_1.default('https-proxy-agent:agent');\n/**\n * The `HttpsProxyAgent` implements an HTTP Agent subclass that connects to\n * the specified \"HTTP(s) proxy server\" in order to proxy HTTPS requests.\n *\n * Outgoing HTTP requests are first tunneled through the proxy server using the\n * `CONNECT` HTTP request method to establish a connection to the proxy server,\n * and then the proxy server connects to the destination target and issues the\n * HTTP request from the proxy server.\n *\n * `https:` requests have their socket connection upgraded to TLS once\n * the connection to the proxy server has been established.\n *\n * @api public\n */\nclass HttpsProxyAgent extends agent_base_1.Agent {\n    constructor(_opts) {\n        let opts;\n        if (typeof _opts === 'string') {\n            opts = url_1.default.parse(_opts);\n        }\n        else {\n            opts = _opts;\n        }\n        if (!opts) {\n            throw new Error('an HTTP(S) proxy server `host` and `port` must be specified!');\n        }\n        debug('creating new HttpsProxyAgent instance: %o', opts);\n        super(opts);\n        const proxy = Object.assign({}, opts);\n        // If `true`, then connect to the proxy server over TLS.\n        // Defaults to `false`.\n        this.secureProxy = opts.secureProxy || isHTTPS(proxy.protocol);\n        // Prefer `hostname` over `host`, and set the `port` if needed.\n        proxy.host = proxy.hostname || proxy.host;\n        if (typeof proxy.port === 'string') {\n            proxy.port = parseInt(proxy.port, 10);\n        }\n        if (!proxy.port && proxy.host) {\n            proxy.port = this.secureProxy ? 443 : 80;\n        }\n        // ALPN is supported by Node.js >= v5.\n        // attempt to negotiate http/1.1 for proxy servers that support http/2\n        if (this.secureProxy && !('ALPNProtocols' in proxy)) {\n            proxy.ALPNProtocols = ['http 1.1'];\n        }\n        if (proxy.host && proxy.path) {\n            // If both a `host` and `path` are specified then it's most likely\n            // the result of a `url.parse()` call... we need to remove the\n            // `path` portion so that `net.connect()` doesn't attempt to open\n            // that as a Unix socket file.\n            delete proxy.path;\n            delete proxy.pathname;\n        }\n        this.proxy = proxy;\n    }\n    /**\n     * Called when the node-core HTTP client library is creating a\n     * new HTTP request.\n     *\n     * @api protected\n     */\n    callback(req, opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { proxy, secureProxy } = this;\n            // Create a socket connection to the proxy server.\n            let socket;\n            if (secureProxy) {\n                debug('Creating `tls.Socket`: %o', proxy);\n                socket = tls_1.default.connect(proxy);\n            }\n            else {\n                debug('Creating `net.Socket`: %o', proxy);\n                socket = net_1.default.connect(proxy);\n            }\n            const headers = Object.assign({}, proxy.headers);\n            const hostname = `${opts.host}:${opts.port}`;\n            let payload = `CONNECT ${hostname} HTTP/1.1\\r\\n`;\n            // Inject the `Proxy-Authorization` header if necessary.\n            if (proxy.auth) {\n                headers['Proxy-Authorization'] = `Basic ${Buffer.from(proxy.auth).toString('base64')}`;\n            }\n            // The `Host` header should only include the port\n            // number when it is not the default port.\n            let { host, port, secureEndpoint } = opts;\n            if (!isDefaultPort(port, secureEndpoint)) {\n                host += `:${port}`;\n            }\n            headers.Host = host;\n            headers.Connection = 'close';\n            for (const name of Object.keys(headers)) {\n                payload += `${name}: ${headers[name]}\\r\\n`;\n            }\n            const proxyResponsePromise = parse_proxy_response_1.default(socket);\n            socket.write(`${payload}\\r\\n`);\n            const { statusCode, buffered } = yield proxyResponsePromise;\n            if (statusCode === 200) {\n                req.once('socket', resume);\n                if (opts.secureEndpoint) {\n                    const servername = opts.servername || opts.host;\n                    if (!servername) {\n                        throw new Error('Could not determine \"servername\"');\n                    }\n                    // The proxy is connecting to a TLS server, so upgrade\n                    // this socket connection to a TLS connection.\n                    debug('Upgrading socket connection to TLS');\n                    return tls_1.default.connect(Object.assign(Object.assign({}, omit(opts, 'host', 'hostname', 'path', 'port')), { socket,\n                        servername }));\n                }\n                return socket;\n            }\n            // Some other status code that's not 200... need to re-play the HTTP\n            // header \"data\" events onto the socket once the HTTP machinery is\n            // attached so that the node core `http` can parse and handle the\n            // error status code.\n            // Close the original socket, and a new \"fake\" socket is returned\n            // instead, so that the proxy doesn't get the HTTP request\n            // written to it (which may contain `Authorization` headers or other\n            // sensitive data).\n            //\n            // See: https://hackerone.com/reports/541502\n            socket.destroy();\n            const fakeSocket = new net_1.default.Socket();\n            fakeSocket.readable = true;\n            // Need to wait for the \"socket\" event to re-play the \"data\" events.\n            req.once('socket', (s) => {\n                debug('replaying proxy buffer for failed request');\n                assert_1.default(s.listenerCount('data') > 0);\n                // Replay the \"buffered\" Buffer onto the fake `socket`, since at\n                // this point the HTTP module machinery has been hooked up for\n                // the user.\n                s.push(buffered);\n                s.push(null);\n            });\n            return fakeSocket;\n        });\n    }\n}\nexports.default = HttpsProxyAgent;\nfunction resume(socket) {\n    socket.resume();\n}\nfunction isDefaultPort(port, secure) {\n    return Boolean((!secure && port === 80) || (secure && port === 443));\n}\nfunction isHTTPS(protocol) {\n    return typeof protocol === 'string' ? /^https:?$/i.test(protocol) : false;\n}\nfunction omit(obj, ...keys) {\n    const ret = {};\n    let key;\n    for (key in obj) {\n        if (!keys.includes(key)) {\n            ret[key] = obj[key];\n        }\n    }\n    return ret;\n}\n//# sourceMappingURL=agent.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nconst agent_1 = __importDefault(require(\"./agent\"));\nfunction createHttpsProxyAgent(opts) {\n    return new agent_1.default(opts);\n}\n(function (createHttpsProxyAgent) {\n    createHttpsProxyAgent.HttpsProxyAgent = agent_1.default;\n    createHttpsProxyAgent.prototype = agent_1.default.prototype;\n})(createHttpsProxyAgent || (createHttpsProxyAgent = {}));\nmodule.exports = createHttpsProxyAgent;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst debug_1 = __importDefault(require(\"debug\"));\nconst debug = debug_1.default('https-proxy-agent:parse-proxy-response');\nfunction parseProxyResponse(socket) {\n    return new Promise((resolve, reject) => {\n        // we need to buffer any HTTP traffic that happens with the proxy before we get\n        // the CONNECT response, so that if the response is anything other than an \"200\"\n        // response code, then we can re-play the \"data\" events on the socket once the\n        // HTTP parser is hooked up...\n        let buffersLength = 0;\n        const buffers = [];\n        function read() {\n            const b = socket.read();\n            if (b)\n                ondata(b);\n            else\n                socket.once('readable', read);\n        }\n        function cleanup() {\n            socket.removeListener('end', onend);\n            socket.removeListener('error', onerror);\n            socket.removeListener('close', onclose);\n            socket.removeListener('readable', read);\n        }\n        function onclose(err) {\n            debug('onclose had error %o', err);\n        }\n        function onend() {\n            debug('onend');\n        }\n        function onerror(err) {\n            cleanup();\n            debug('onerror %o', err);\n            reject(err);\n        }\n        function ondata(b) {\n            buffers.push(b);\n            buffersLength += b.length;\n            const buffered = Buffer.concat(buffers, buffersLength);\n            const endOfHeaders = buffered.indexOf('\\r\\n\\r\\n');\n            if (endOfHeaders === -1) {\n                // keep buffering\n                debug('have not received end of HTTP headers yet...');\n                read();\n                return;\n            }\n            const firstLine = buffered.toString('ascii', 0, buffered.indexOf('\\r\\n'));\n            const statusCode = +firstLine.split(' ')[1];\n            debug('got proxy server response: %o', firstLine);\n            resolve({\n                statusCode,\n                buffered\n            });\n        }\n        socket.on('error', onerror);\n        socket.on('close', onclose);\n        socket.on('end', onend);\n        read();\n    });\n}\nexports.default = parseProxyResponse;\n//# sourceMappingURL=parse-proxy-response.js.map","/*!\n * humanize-ms - index.js\n * Copyright(c) 2014 dead_horse <dead_horse@qq.com>\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar util = require('util');\nvar ms = require('ms');\n\nmodule.exports = function (t) {\n  if (typeof t === 'number') return t;\n  var r = ms(t);\n  if (r === undefined) {\n    var err = new Error(util.format('humanize-ms(%j) result undefined', t));\n    console.warn(err.stack);\n  }\n  return r;\n};\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","/**\n * Group profile methods. Learn more: https://help.mixpanel.com/hc/en-us/articles/360025333632\n */\n\nconst {ProfileHelpers} = require('./profile_helpers');\n\nclass MixpanelGroups extends ProfileHelpers() {\n    constructor(mp_instance) {\n        super();\n        this.mixpanel = mp_instance;\n        this.endpoint = '/groups';\n    }\n\n    /** groups.set_once(group_key, group_id, prop, to, modifiers, callback)\n        ---\n        The same as groups.set, but adds a property value to a group only if it has not been set before.\n    */\n    set_once(group_key, group_id, prop, to, modifiers, callback) {\n        const identifiers = {$group_key: group_key, $group_id: group_id};\n        this._set(prop, to, modifiers, callback, {identifiers, set_once: true});\n    }\n\n    /**\n        groups.set(group_key, group_id, prop, to, modifiers, callback)\n        ---\n        set properties on a group profile\n\n        usage:\n\n            mixpanel.groups.set('company', 'Acme Inc.', '$name', 'Acme Inc.');\n\n            mixpanel.groups.set('company', 'Acme Inc.', {\n                'Industry': 'widgets',\n                '$name': 'Acme Inc.',\n            });\n    */\n    set(group_key, group_id, prop, to, modifiers, callback) {\n        const identifiers = {$group_key: group_key, $group_id: group_id};\n        this._set(prop, to, modifiers, callback, {identifiers});\n    }\n\n    /**\n     groups.delete_group(group_key, group_id, modifiers, callback)\n        ---\n        delete a group profile permanently\n\n        usage:\n\n        mixpanel.groups.delete_group('company', 'Acme Inc.');\n        */\n    delete_group(group_key, group_id, modifiers, callback) {\n        const identifiers = {$group_key: group_key, $group_id: group_id};\n        this._delete_profile({identifiers, modifiers, callback});\n    }\n\n    /**\n     groups.remove(group_key, group_id, data, modifiers, callback)\n        ---\n        remove a value from a list-valued group profile property.\n\n        usage:\n\n        mixpanel.groups.remove('company', 'Acme Inc.', {'products': 'anvil'});\n\n        mixpanel.groups.remove('company', 'Acme Inc.', {\n            'products': 'anvil',\n            'customer segments': 'coyotes'\n        });\n        */\n    remove(group_key, group_id, data, modifiers, callback) {\n        const identifiers = {$group_key: group_key, $group_id: group_id};\n        this._remove({identifiers, data, modifiers, callback});\n    }\n\n    /**\n     groups.union(group_key, group_id, data, modifiers, callback)\n        ---\n        merge value(s) into a list-valued group profile property.\n\n        usage:\n\n        mixpanel.groups.union('company', 'Acme Inc.', {'products': 'anvil'});\n\n        mixpanel.groups.union('company', 'Acme Inc.', {'products': ['anvil'], 'customer segments': ['coyotes']});\n        */\n    union(group_key, group_id, data, modifiers, callback) {\n        const identifiers = {$group_key: group_key, $group_id: group_id};\n        this._union({identifiers, data, modifiers, callback})\n    }\n\n    /**\n     groups.unset(group_key, group_id, prop, modifiers, callback)\n        ---\n        delete a property on a group profile\n\n        usage:\n\n        mixpanel.groups.unset('company', 'Acme Inc.', 'products');\n\n        mixpanel.groups.unset('company', 'Acme Inc.', ['products', 'customer segments']);\n        */\n    unset(group_key, group_id, prop, modifiers, callback) {\n        const identifiers = {$group_key: group_key, $group_id: group_id};\n        this._unset({identifiers, prop, modifiers, callback})\n    }\n}\n\nexports.MixpanelGroups = MixpanelGroups;\n","/*\n    Heavily inspired by the original js library copyright Mixpanel, Inc.\n    (http://mixpanel.com/)\n\n    Copyright (c) 2012 Carl Sverre\n\n    Released under the MIT license.\n*/\n\nconst querystring = require('querystring');\nconst Buffer = require('buffer').Buffer;\nconst http = require('http');\nconst https = require('https');\nconst HttpsProxyAgent = require('https-proxy-agent');\nconst url = require('url');\nconst packageInfo = require('../package.json')\n\nconst {async_all, ensure_timestamp} = require('./utils');\nconst {MixpanelGroups} = require('./groups');\nconst {MixpanelPeople} = require('./people');\n\nconst DEFAULT_CONFIG = {\n    test: false,\n    debug: false,\n    verbose: false,\n    host: 'api.mixpanel.com',\n    protocol: 'https',\n    path: '',\n    keepAlive: true,\n    // set this to true to automatically geolocate based on the client's ip.\n    // e.g., when running under electron\n    geolocate: false,\n};\n\nvar create_client = function(token, config) {\n    if (!token) {\n        throw new Error(\"The Mixpanel Client needs a Mixpanel token: `init(token)`\");\n    }\n\n    const metrics = {\n        token,\n        config: {...DEFAULT_CONFIG},\n    };\n    const {keepAlive} = metrics.config;\n\n    // mixpanel constants\n    const MAX_BATCH_SIZE = 50;\n    const REQUEST_LIBS = {http, https};\n    const REQUEST_AGENTS = {\n        http: new http.Agent({keepAlive}),\n        https: new https.Agent({keepAlive}),\n    };\n    const proxyPath = process.env.HTTPS_PROXY || process.env.HTTP_PROXY;\n    const proxyAgent = proxyPath ? new HttpsProxyAgent(Object.assign(url.parse(proxyPath), {\n      keepAlive,\n    })) : null;\n\n    /**\n     * sends an async GET or POST request to mixpanel\n     * for batch processes data must be send in the body of a POST\n     * @param {object} options\n     * @param {string} options.endpoint\n     * @param {object} options.data         the data to send in the request\n     * @param {string} [options.method]     e.g. `get` or `post`, defaults to `get`\n     * @param {function} callback           called on request completion or error\n     */\n    metrics.send_request = function(options, callback) {\n        callback = callback || function() {};\n\n        let content = Buffer.from(JSON.stringify(options.data)).toString('base64');\n        const endpoint = options.endpoint;\n        const method = (options.method || 'GET').toUpperCase();\n        let query_params = {\n            'ip': metrics.config.geolocate ? 1 : 0,\n            'verbose': metrics.config.verbose ? 1 : 0\n        };\n        const key = metrics.config.key;\n        const secret = metrics.config.secret;\n        const request_lib = REQUEST_LIBS[metrics.config.protocol];\n        let request_options = {\n            host: metrics.config.host,\n            port: metrics.config.port,\n            headers: {},\n            method: method\n        };\n        let request;\n\n        if (!request_lib) {\n            throw new Error(\n                \"Mixpanel Initialization Error: Unsupported protocol \" + metrics.config.protocol + \". \" +\n                \"Supported protocols are: \" + Object.keys(REQUEST_LIBS)\n            );\n        }\n\n\n        if (method === 'POST') {\n            content = 'data=' + content;\n            request_options.headers['Content-Type'] = 'application/x-www-form-urlencoded';\n            request_options.headers['Content-Length'] = Buffer.byteLength(content);\n        } else if (method === 'GET') {\n            query_params.data = content;\n        }\n\n\n        // add auth params\n        if (secret) {\n            if (request_lib !== https) {\n                throw new Error(\"Must use HTTPS if authenticating with API Secret\");\n            }\n            const encoded = Buffer.from(secret + ':').toString('base64');\n            request_options.headers['Authorization'] = 'Basic ' + encoded;\n        } else if (key) {\n            query_params.api_key = key;\n        } else if (endpoint === '/import') {\n            throw new Error(\"The Mixpanel Client needs a Mixpanel API Secret when importing old events: `init(token, { secret: ... })`\");\n        }\n\n        request_options.agent = proxyAgent || REQUEST_AGENTS[metrics.config.protocol];\n\n        if (metrics.config.test) {\n            query_params.test = 1;\n        }\n\n        request_options.path = metrics.config.path + endpoint + \"?\" + querystring.stringify(query_params);\n\n        request = request_lib.request(request_options, function(res) {\n            var data = \"\";\n            res.on('data', function(chunk) {\n                data += chunk;\n            });\n\n            res.on('end', function() {\n                var e;\n                if (metrics.config.verbose) {\n                    try {\n                        var result = JSON.parse(data);\n                        if(result.status != 1) {\n                            e = new Error(\"Mixpanel Server Error: \" + result.error);\n                        }\n                    }\n                    catch(ex) {\n                        e = new Error(\"Could not parse response from Mixpanel\");\n                    }\n                }\n                else {\n                    e = (data !== '1') ? new Error(\"Mixpanel Server Error: \" + data) : undefined;\n                }\n\n                callback(e);\n            });\n        });\n\n        request.on('error', function(e) {\n            if (metrics.config.debug) {\n                console.log(\"Got Error: \" + e.message);\n            }\n            callback(e);\n        });\n\n        if (method === 'POST') {\n            request.write(content);\n        }\n        request.end();\n    };\n\n    /**\n     * Send an event to Mixpanel, using the specified endpoint (e.g., track/import)\n     * @param {string} endpoint - API endpoint name\n     * @param {string} event - event name\n     * @param {object} properties - event properties\n     * @param {Function} [callback] - callback for request completion/error\n     */\n    metrics.send_event_request = function(endpoint, event, properties, callback) {\n        properties.token = metrics.token;\n        properties.mp_lib = \"node\";\n        properties.$lib_version = packageInfo.version;\n\n        var data = {\n            event: event,\n            properties: properties\n        };\n\n        if (metrics.config.debug) {\n            console.log(\"Sending the following event to Mixpanel:\\n\", data);\n        }\n\n        metrics.send_request({ method: \"GET\", endpoint: endpoint, data: data }, callback);\n    };\n\n    /**\n     * breaks array into equal-sized chunks, with the last chunk being the remainder\n     * @param {Array} arr\n     * @param {number} size\n     * @returns {Array}\n     */\n    var chunk = function(arr, size) {\n        var chunks = [],\n            i = 0,\n            total = arr.length;\n\n        while (i < total) {\n            chunks.push(arr.slice(i, i += size));\n        }\n        return chunks;\n    };\n\n    /**\n     * sends events in batches\n     * @param {object}   options\n     * @param {[{}]}     options.event_list                 array of event objects\n     * @param {string}   options.endpoint                   e.g. `/track` or `/import`\n     * @param {number}   [options.max_concurrent_requests]  limits concurrent async requests over the network\n     * @param {number}   [options.max_batch_size]           limits number of events sent to mixpanel per request\n     * @param {Function} [callback]                         callback receives array of errors if any\n     *\n     */\n    var send_batch_requests = function(options, callback) {\n        var event_list = options.event_list,\n            endpoint = options.endpoint,\n            max_batch_size = options.max_batch_size ? Math.min(MAX_BATCH_SIZE, options.max_batch_size) : MAX_BATCH_SIZE,\n            // to maintain original intention of max_batch_size; if max_batch_size is greater than 50, we assume the user is trying to set max_concurrent_requests\n            max_concurrent_requests = options.max_concurrent_requests || (options.max_batch_size > MAX_BATCH_SIZE && Math.ceil(options.max_batch_size / MAX_BATCH_SIZE)),\n            event_batches = chunk(event_list, max_batch_size),\n            request_batches = max_concurrent_requests ? chunk(event_batches, max_concurrent_requests) : [event_batches],\n            total_event_batches = event_batches.length,\n            total_request_batches = request_batches.length;\n\n        /**\n         * sends a batch of events to mixpanel through http api\n         * @param {Array} batch\n         * @param {Function} cb\n         */\n        function send_event_batch(batch, cb) {\n            if (batch.length > 0) {\n                batch = batch.map(function (event) {\n                    var properties = event.properties;\n                    if (endpoint === '/import' || event.properties.time) {\n                        // usually there will be a time property, but not required for `/track` endpoint\n                        event.properties.time = ensure_timestamp(event.properties.time);\n                    }\n                    event.properties.token = event.properties.token || metrics.token;\n                    return event;\n                });\n\n                // must be a POST\n                metrics.send_request({ method: \"POST\", endpoint: endpoint, data: batch }, cb);\n            }\n        }\n\n        /**\n         * Asynchronously sends batches of requests\n         * @param {number} index\n         */\n        function send_next_request_batch(index) {\n            var request_batch = request_batches[index],\n                cb = function (errors, results) {\n                    index += 1;\n                    if (index === total_request_batches) {\n                        callback && callback(errors, results);\n                    } else {\n                        send_next_request_batch(index);\n                    }\n                };\n\n            async_all(request_batch, send_event_batch, cb);\n        }\n\n        // init recursive function\n        send_next_request_batch(0);\n\n        if (metrics.config.debug) {\n            console.log(\n                \"Sending \" + event_list.length + \" events to Mixpanel in \" +\n                total_event_batches + \" batches of events and \" +\n                total_request_batches + \" batches of requests\"\n            );\n        }\n    };\n\n    /**\n         track(event, properties, callback)\n         ---\n         this function sends an event to mixpanel.\n\n         event:string                    the event name\n         properties:object               additional event properties to send\n         callback:function(err:Error)    callback is called when the request is\n                                         finished or an error occurs\n     */\n    metrics.track = function(event, properties, callback) {\n        if (!properties || typeof properties === \"function\") {\n            callback = properties;\n            properties = {};\n        }\n\n        // time is optional for `track`\n        if (properties.time) {\n            properties.time = ensure_timestamp(properties.time);\n        }\n\n        metrics.send_event_request(\"/track\", event, properties, callback);\n    };\n\n    /**\n     * send a batch of events to mixpanel `track` endpoint: this should only be used if events are less than 5 days old\n     * @param {Array}    event_list                         array of event objects to track\n     * @param {object}   [options]\n     * @param {number}   [options.max_concurrent_requests]  number of concurrent http requests that can be made to mixpanel\n     * @param {number}   [options.max_batch_size]           number of events that can be sent to mixpanel per request\n     * @param {Function} [callback]                         callback receives array of errors if any\n     */\n    metrics.track_batch = function(event_list, options, callback) {\n        options = options || {};\n        if (typeof options === 'function') {\n            callback = options;\n            options = {};\n        }\n        var batch_options = {\n            event_list: event_list,\n            endpoint: \"/track\",\n            max_concurrent_requests: options.max_concurrent_requests,\n            max_batch_size: options.max_batch_size\n        };\n\n        send_batch_requests(batch_options, callback);\n    };\n\n    /**\n        import(event, time, properties, callback)\n        ---\n        This function sends an event to mixpanel using the import\n        endpoint.  The time argument should be either a Date or Number,\n        and should signify the time the event occurred.\n\n        It is highly recommended that you specify the distinct_id\n        property for each event you import, otherwise the events will be\n        tied to the IP address of the sending machine.\n\n        For more information look at:\n        https://mixpanel.com/docs/api-documentation/importing-events-older-than-31-days\n\n        event:string                    the event name\n        time:date|number                the time of the event\n        properties:object               additional event properties to send\n        callback:function(err:Error)    callback is called when the request is\n                                        finished or an error occurs\n    */\n    metrics.import = function(event, time, properties, callback) {\n        if (!properties || typeof properties === \"function\") {\n            callback = properties;\n            properties = {};\n        }\n\n        properties.time = ensure_timestamp(time);\n\n        metrics.send_event_request(\"/import\", event, properties, callback);\n    };\n\n    /**\n        import_batch(event_list, options, callback)\n        ---\n        This function sends a list of events to mixpanel using the import\n        endpoint. The format of the event array should be:\n\n        [\n            {\n                \"event\": \"event name\",\n                \"properties\": {\n                    \"time\": new Date(), // Number or Date; required for each event\n                    \"key\": \"val\",\n                    ...\n                }\n            },\n            {\n                \"event\": \"event name\",\n                \"properties\": {\n                    \"time\": new Date()  // Number or Date; required for each event\n                }\n            },\n            ...\n        ]\n\n        See import() for further information about the import endpoint.\n\n        Options:\n            max_batch_size: the maximum number of events to be transmitted over\n                            the network simultaneously. useful for capping bandwidth\n                            usage.\n            max_concurrent_requests: the maximum number of concurrent http requests that\n                            can be made to mixpanel; also useful for capping bandwidth.\n\n        N.B.: the Mixpanel API only accepts 50 events per request, so regardless\n        of max_batch_size, larger lists of events will be chunked further into\n        groups of 50.\n\n        event_list:array                    list of event names and properties\n        options:object                      optional batch configuration\n        callback:function(error_list:array) callback is called when the request is\n                                            finished or an error occurs\n    */\n    metrics.import_batch = function(event_list, options, callback) {\n        var batch_options;\n\n        if (typeof(options) === \"function\" || !options) {\n            callback = options;\n            options = {};\n        }\n        batch_options = {\n            event_list: event_list,\n            endpoint: \"/import\",\n            max_concurrent_requests: options.max_concurrent_requests,\n            max_batch_size: options.max_batch_size\n        };\n        send_batch_requests(batch_options, callback);\n    };\n\n    /**\n        alias(distinct_id, alias)\n        ---\n        This function creates an alias for distinct_id\n\n        For more information look at:\n        https://mixpanel.com/docs/integration-libraries/using-mixpanel-alias\n\n        distinct_id:string              the current identifier\n        alias:string                    the future alias\n    */\n    metrics.alias = function(distinct_id, alias, callback) {\n        var properties = {\n            distinct_id: distinct_id,\n            alias: alias\n        };\n\n        metrics.track('$create_alias', properties, callback);\n    };\n\n    metrics.groups = new MixpanelGroups(metrics);\n    metrics.people = new MixpanelPeople(metrics);\n\n    /**\n        set_config(config)\n        ---\n        Modifies the mixpanel config\n\n        config:object       an object with properties to override in the\n                            mixpanel client config\n    */\n    metrics.set_config = function(config) {\n        Object.assign(metrics.config, config);\n        if (config.host) {\n            // Split host into host and port\n            const [host, port] =  config.host.split(':');\n            metrics.config.host = host;\n            if (port) {\n                metrics.config.port = Number(port);\n            }\n        }\n    };\n\n    if (config) {\n        metrics.set_config(config);\n    }\n\n    return metrics;\n};\n\n// module exporting\nmodule.exports = {\n    Client: function(token) {\n        console.warn(\"The function `Client(token)` is deprecated.  It is now called `init(token)`.\");\n        return create_client(token);\n    },\n    init: create_client\n};\n","const {merge_modifiers, ProfileHelpers} = require('./profile_helpers');\n\nclass MixpanelPeople extends ProfileHelpers() {\n    constructor(mp_instance) {\n        super();\n        this.mixpanel = mp_instance;\n        this.endpoint = '/engage';\n    }\n\n    /** people.set_once(distinct_id, prop, to, modifiers, callback)\n        ---\n        The same as people.set but in the words of mixpanel:\n        mixpanel.people.set_once\n\n        \" This method allows you to set a user attribute, only if\n            it is not currently set. It can be called multiple times\n            safely, so is perfect for storing things like the first date\n            you saw a user, or the referrer that brought them to your\n            website for the first time. \"\n\n    */\n    set_once(distinct_id, prop, to, modifiers, callback) {\n        const identifiers = {$distinct_id: distinct_id};\n        this._set(prop, to, modifiers, callback, {identifiers, set_once: true});\n    }\n\n    /**\n        people.set(distinct_id, prop, to, modifiers, callback)\n        ---\n        set properties on an user record in engage\n\n        usage:\n\n            mixpanel.people.set('bob', 'gender', 'm');\n\n            mixpanel.people.set('joe', {\n                'company': 'acme',\n                'plan': 'premium'\n            });\n    */\n    set(distinct_id, prop, to, modifiers, callback) {\n        const identifiers = {$distinct_id: distinct_id};\n        this._set(prop, to, modifiers, callback, {identifiers});\n    }\n\n    /**\n        people.increment(distinct_id, prop, by, modifiers, callback)\n        ---\n        increment/decrement properties on an user record in engage\n\n        usage:\n\n            mixpanel.people.increment('bob', 'page_views', 1);\n\n            // or, for convenience, if you're just incrementing a counter by 1, you can\n            // simply do\n            mixpanel.people.increment('bob', 'page_views');\n\n            // to decrement a counter, pass a negative number\n            mixpanel.people.increment('bob', 'credits_left', -1);\n\n            // like mixpanel.people.set(), you can increment multiple properties at once:\n            mixpanel.people.increment('bob', {\n                counter1: 1,\n                counter2: 3,\n                counter3: -2\n            });\n    */\n    increment(distinct_id, prop, by, modifiers, callback) {\n        // TODO extract to ProfileHelpers\n\n        var $add = {};\n\n        if (typeof(prop) === 'object') {\n            if (typeof(by) === 'object') {\n                callback = modifiers;\n                modifiers = by;\n            } else {\n                callback = by;\n            }\n            for (const [key, val] of Object.entries(prop)) {\n                if (isNaN(parseFloat(val))) {\n                    if (this.mixpanel.config.debug) {\n                        console.error(\"Invalid increment value passed to mixpanel.people.increment - must be a number\");\n                        console.error(\"Passed \" + key + \":\" + val);\n                    }\n                } else {\n                    $add[key] = val;\n                }\n            };\n        } else {\n            if (typeof(by) === 'number' || !by) {\n                by = by || 1;\n                $add[prop] = by;\n                if (typeof(modifiers) === 'function') {\n                    callback = modifiers;\n                }\n            } else if (typeof(by) === 'function') {\n                callback = by;\n                $add[prop] = 1;\n            } else {\n                callback = modifiers;\n                modifiers = (typeof(by) === 'object') ? by : {};\n                $add[prop] = 1;\n            }\n        }\n\n        var data = {\n            '$add': $add,\n            '$token': this.mixpanel.token,\n            '$distinct_id': distinct_id\n        };\n\n        data = merge_modifiers(data, modifiers);\n\n        if (this.mixpanel.config.debug) {\n            console.log(\"Sending the following data to Mixpanel (Engage):\");\n            console.log(data);\n        }\n\n        this.mixpanel.send_request({ method: \"GET\", endpoint: \"/engage\", data: data }, callback);\n    }\n\n    /**\n        people.append(distinct_id, prop, value, modifiers, callback)\n        ---\n        Append a value to a list-valued people analytics property.\n\n        usage:\n\n            // append a value to a list, creating it if needed\n            mixpanel.people.append('bob', 'pages_visited', 'homepage');\n\n            // like mixpanel.people.set(), you can append multiple properties at once:\n            mixpanel.people.append('bob', {\n                list1: 'bob',\n                list2: 123\n            });\n    */\n    append(distinct_id, prop, value, modifiers, callback) {\n        // TODO extract to ProfileHelpers\n\n        var $append = {};\n\n        if (typeof(prop) === 'object') {\n            if (typeof(value) === 'object') {\n                callback = modifiers;\n                modifiers = value;\n            } else {\n                callback = value;\n            }\n            Object.keys(prop).forEach(function(key) {\n                $append[key] = prop[key];\n            });\n        } else {\n            $append[prop] = value;\n            if (typeof(modifiers) === 'function') {\n                callback = modifiers;\n            }\n        }\n\n        var data = {\n            '$append': $append,\n            '$token': this.mixpanel.token,\n            '$distinct_id': distinct_id\n        };\n\n        data = merge_modifiers(data, modifiers);\n\n        if (this.mixpanel.config.debug) {\n            console.log(\"Sending the following data to Mixpanel (Engage):\");\n            console.log(data);\n        }\n\n        this.mixpanel.send_request({ method: \"GET\", endpoint: \"/engage\", data: data }, callback);\n    }\n\n    /**\n        people.track_charge(distinct_id, amount, properties, modifiers, callback)\n        ---\n        Record that you have charged the current user a certain\n        amount of money.\n\n        usage:\n\n            // charge a user $29.99\n            mixpanel.people.track_charge('bob', 29.99);\n\n            // charge a user $19 on the 1st of february\n            mixpanel.people.track_charge('bob', 19, { '$time': new Date('feb 1 2012') });\n    */\n    track_charge(distinct_id, amount, properties, modifiers, callback) {\n        if (typeof(properties) === 'function' || !properties) {\n            callback = properties || function() {};\n            properties = {};\n        } else {\n            if (typeof(modifiers) === 'function' || !modifiers) {\n                callback = modifiers || function() {};\n                if (properties.$ignore_time || properties.hasOwnProperty(\"$ip\")) {\n                    modifiers = {};\n                    Object.keys(properties).forEach(function(key) {\n                        modifiers[key] = properties[key];\n                        delete properties[key];\n                    });\n                }\n            }\n        }\n\n        if (typeof(amount) !== 'number') {\n            amount = parseFloat(amount);\n            if (isNaN(amount)) {\n                console.error(\"Invalid value passed to mixpanel.people.track_charge - must be a number\");\n                return;\n            }\n        }\n\n        properties.$amount = amount;\n\n        if (properties.hasOwnProperty('$time')) {\n            var time = properties.$time;\n            if (Object.prototype.toString.call(time) === '[object Date]') {\n                properties.$time = time.toISOString();\n            }\n        }\n\n        var data = {\n            '$append': { '$transactions': properties },\n            '$token': this.mixpanel.token,\n            '$distinct_id': distinct_id\n        };\n\n        data = merge_modifiers(data, modifiers);\n\n        if (this.mixpanel.config.debug) {\n            console.log(\"Sending the following data to Mixpanel (Engage):\");\n            console.log(data);\n        }\n\n        this.mixpanel.send_request({ method: \"GET\", endpoint: \"/engage\", data: data }, callback);\n    }\n\n    /**\n        people.clear_charges(distinct_id, modifiers, callback)\n        ---\n        Clear all the current user's transactions.\n\n        usage:\n\n            mixpanel.people.clear_charges('bob');\n    */\n    clear_charges(distinct_id, modifiers, callback) {\n        var data = {\n            '$set': { '$transactions': [] },\n            '$token': this.mixpanel.token,\n            '$distinct_id': distinct_id\n        };\n\n        if (typeof(modifiers) === 'function') { callback = modifiers; }\n\n        data = merge_modifiers(data, modifiers);\n\n        if (this.mixpanel.config.debug) {\n            console.log(\"Clearing this user's charges:\", distinct_id);\n        }\n\n        this.mixpanel.send_request({ method: \"GET\", endpoint: \"/engage\", data: data }, callback);\n    }\n\n    /**\n        people.delete_user(distinct_id, modifiers, callback)\n        ---\n        delete an user record in engage\n\n        usage:\n\n            mixpanel.people.delete_user('bob');\n    */\n    delete_user(distinct_id, modifiers, callback) {\n        const identifiers = {$distinct_id: distinct_id};\n        this._delete_profile({identifiers, modifiers, callback});\n    }\n\n    /**\n        people.remove(distinct_id, data, modifiers, callback)\n        ---\n        remove a value from a list-valued user profile property.\n\n        usage:\n\n            mixpanel.people.remove('bob', {'browsers': 'firefox'});\n\n            mixpanel.people.remove('bob', {'browsers': 'chrome', 'os': 'linux'});\n    */\n    remove(distinct_id, data, modifiers, callback) {\n        const identifiers = {'$distinct_id': distinct_id};\n        this._remove({identifiers, data, modifiers, callback})\n    }\n\n    /**\n        people.union(distinct_id, data, modifiers, callback)\n        ---\n        merge value(s) into a list-valued people analytics property.\n\n        usage:\n\n            mixpanel.people.union('bob', {'browsers': 'firefox'});\n\n            mixpanel.people.union('bob', {'browsers': ['chrome'], os: ['linux']});\n    */\n    union(distinct_id, data, modifiers, callback) {\n        const identifiers = {$distinct_id: distinct_id};\n        this._union({identifiers, data, modifiers, callback});\n    }\n\n    /**\n        people.unset(distinct_id, prop, modifiers, callback)\n        ---\n        delete a property on an user record in engage\n\n        usage:\n\n            mixpanel.people.unset('bob', 'page_views');\n\n            mixpanel.people.unset('bob', ['page_views', 'last_login']);\n    */\n    unset(distinct_id, prop, modifiers, callback) {\n        const identifiers = {$distinct_id: distinct_id};\n        this._unset({identifiers, prop, modifiers, callback});\n    }\n};\n\nexports.MixpanelPeople = MixpanelPeople;\n","/**\n * Mixin with profile-related helpers (for people and groups)\n */\n\nconst util = require('util');\nconst {ensure_timestamp} = require('./utils');\n\nfunction merge_modifiers(data, modifiers) {\n    if (modifiers) {\n        if (modifiers.$ignore_alias) {\n            data.$ignore_alias = modifiers.$ignore_alias;\n        }\n        if (modifiers.$ignore_time) {\n            data.$ignore_time = modifiers.$ignore_time;\n        }\n        if (modifiers.hasOwnProperty(\"$ip\")) {\n            data.$ip = modifiers.$ip;\n        }\n        if (modifiers.hasOwnProperty(\"$time\")) {\n            data.$time = ensure_timestamp(modifiers.$time);\n        }\n        if (modifiers.hasOwnProperty(\"$latitude\") && modifiers.hasOwnProperty('$longitude')) {\n            data.$latitude = modifiers.$latitude;\n            data.$longitude = modifiers.$longitude;\n        }\n    }\n    return data;\n};\nexports.merge_modifiers = merge_modifiers;\n\nexports.ProfileHelpers = (Base = Object) => class extends Base {\n    get token() {\n        return this.mixpanel.token;\n    }\n\n    get config() {\n        return this.mixpanel.config;\n    }\n\n    _set(prop, to, modifiers, callback, {identifiers, set_once = false}) {\n        let $set = {};\n\n        if (typeof(prop) === 'object') {\n            if (typeof(to) === 'object') {\n                callback = modifiers;\n                modifiers = to;\n            } else {\n                callback = to;\n            }\n            $set = prop;\n        } else {\n            $set[prop] = to;\n            if (typeof(modifiers) === 'function' || !modifiers) {\n                callback = modifiers;\n            }\n        }\n\n        let data = {\n            '$token': this.token,\n            ...identifiers,\n        };\n\n        const set_key = set_once ? \"$set_once\" : \"$set\";\n        data[set_key] = $set;\n\n        if ('ip' in $set) {\n            data.$ip = $set.ip;\n            delete $set.ip;\n        }\n\n        if ($set.$ignore_time) {\n            data.$ignore_time = $set.$ignore_time;\n            delete $set.$ignore_time;\n        }\n\n        data = merge_modifiers(data, modifiers);\n\n        if (this.config.debug) {\n            console.log(`Sending the following data to Mixpanel (${this.endpoint}):`);\n            console.log(data);\n        }\n\n        this.mixpanel.send_request({ method: \"GET\", endpoint: this.endpoint, data }, callback);\n    }\n\n    _delete_profile({identifiers, modifiers, callback}){\n        let data = {\n            '$delete': '',\n            '$token': this.token,\n            ...identifiers,\n        };\n\n        if (typeof(modifiers) === 'function') { callback = modifiers; }\n\n        data = merge_modifiers(data, modifiers);\n\n        if (this.config.debug) {\n            console.log(`Deleting profile ${JSON.stringify(identifiers)}`);\n        }\n\n        this.mixpanel.send_request({ method: \"GET\", endpoint: this.endpoint, data }, callback);\n    }\n\n    _remove({identifiers, data, modifiers, callback}) {\n        let $remove = {};\n\n        if (typeof(data) !== 'object' || util.isArray(data)) {\n            if (this.config.debug) {\n                console.error(\"Invalid value passed to #remove - data must be an object with scalar values\");\n            }\n            return;\n        }\n\n        for (const [key, val] of Object.entries(data)) {\n            if (typeof(val) === 'string' || typeof(val) === 'number') {\n                $remove[key] = val;\n            } else {\n                if (this.config.debug) {\n                    console.error(\"Invalid argument passed to #remove - values must be scalar\");\n                    console.error(\"Passed \" + key + ':', val);\n                }\n                return;\n            }\n        }\n\n        if (Object.keys($remove).length === 0) {\n            return;\n        }\n\n        data = {\n            '$remove': $remove,\n            '$token': this.token,\n            ...identifiers\n        };\n\n        if (typeof(modifiers) === 'function') {\n            callback = modifiers;\n        }\n\n        data = merge_modifiers(data, modifiers);\n\n        if (this.config.debug) {\n            console.log(`Sending the following data to Mixpanel (${this.endpoint}):`);\n            console.log(data);\n        }\n\n        this.mixpanel.send_request({ method: \"GET\", endpoint: this.endpoint, data }, callback);\n    }\n\n    _union({identifiers, data, modifiers, callback}) {\n        let $union = {};\n\n        if (typeof(data) !== 'object' || util.isArray(data)) {\n            if (this.config.debug) {\n                console.error(\"Invalid value passed to #union - data must be an object with scalar or array values\");\n            }\n            return;\n        }\n\n        for (const [key, val] of Object.entries(data)) {\n            if (util.isArray(val)) {\n                var merge_values = val.filter(function(v) {\n                    return typeof(v) === 'string' || typeof(v) === 'number';\n                });\n                if (merge_values.length > 0) {\n                    $union[key] = merge_values;\n                }\n            } else if (typeof(val) === 'string' || typeof(val) === 'number') {\n                $union[key] = [val];\n            } else {\n                if (this.config.debug) {\n                    console.error(\"Invalid argument passed to #union - values must be a scalar value or array\");\n                    console.error(\"Passed \" + key + ':', val);\n                }\n            }\n        }\n\n        if (Object.keys($union).length === 0) {\n            return;\n        }\n\n        data = {\n            '$union': $union,\n            '$token': this.token,\n            ...identifiers,\n        };\n\n        if (typeof(modifiers) === 'function') {\n            callback = modifiers;\n        }\n\n        data = merge_modifiers(data, modifiers);\n\n        if (this.config.debug) {\n            console.log(`Sending the following data to Mixpanel (${this.endpoint}):`);\n            console.log(data);\n        }\n\n        this.mixpanel.send_request({ method: \"GET\", endpoint: this.endpoint, data }, callback);\n    }\n\n    _unset({identifiers, prop, modifiers, callback}){\n        let $unset = [];\n\n        if (util.isArray(prop)) {\n            $unset = prop;\n        } else if (typeof(prop) === 'string') {\n            $unset = [prop];\n        } else {\n            if (this.config.debug) {\n                console.error(\"Invalid argument passed to #unset - must be a string or array\");\n                console.error(\"Passed: \" + prop);\n            }\n            return;\n        }\n\n        let data = {\n            '$unset': $unset,\n            '$token': this.token,\n            ...identifiers,\n        };\n\n        if (typeof(modifiers) === 'function') {\n            callback = modifiers;\n        }\n\n        data = merge_modifiers(data, modifiers);\n\n        if (this.config.debug) {\n            console.log(`Sending the following data to Mixpanel (${this.endpoint}):`);\n            console.log(data);\n        }\n\n        this.mixpanel.send_request({ method: \"GET\", endpoint: this.endpoint, data }, callback);\n    }\n};\n","/**\n * helper to wait for all callbacks to complete; similar to `Promise.all`\n * exposed to metrics object for unit tests\n * @param {Array} requests\n * @param {Function} handler\n * @param {Function} callback\n */\nexports.async_all = function(requests, handler, callback) {\n    var total = requests.length,\n        errors = null,\n        results = [],\n        done = function (err, result) {\n            if (err) {\n                // errors are `null` unless there is an error, which allows for promisification\n                errors = errors || [];\n                errors.push(err);\n            }\n            results.push(result);\n            if (--total === 0) {\n                callback(errors, results)\n            }\n        };\n\n    if (total === 0) {\n        callback(errors, results);\n    } else {\n        for(var i = 0, l = requests.length; i < l; i++) {\n            handler(requests[i], done);\n        }\n    }\n};\n\n/**\n * Validate type of time property, and convert to Unix timestamp if necessary\n * @param {Date|number} time - value to check\n * @returns {number} Unix timestamp\n */\nexports.ensure_timestamp = function(time) {\n    if (!(time instanceof Date || typeof time === \"number\")) {\n        throw new Error(\"`time` property must be a Date or Unix timestamp and is only required for `import` endpoint\");\n    }\n    return time instanceof Date ? time.getTime() : time;\n};\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\"use strict\";\n\nvar punycode = require(\"punycode\");\nvar mappingTable = require(\"./lib/mappingTable.json\");\n\nvar PROCESSING_OPTIONS = {\n  TRANSITIONAL: 0,\n  NONTRANSITIONAL: 1\n};\n\nfunction normalize(str) { // fix bug in v8\n  return str.split('\\u0000').map(function (s) { return s.normalize('NFC'); }).join('\\u0000');\n}\n\nfunction findStatus(val) {\n  var start = 0;\n  var end = mappingTable.length - 1;\n\n  while (start <= end) {\n    var mid = Math.floor((start + end) / 2);\n\n    var target = mappingTable[mid];\n    if (target[0][0] <= val && target[0][1] >= val) {\n      return target;\n    } else if (target[0][0] > val) {\n      end = mid - 1;\n    } else {\n      start = mid + 1;\n    }\n  }\n\n  return null;\n}\n\nvar regexAstralSymbols = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\nfunction countSymbols(string) {\n  return string\n    // replace every surrogate pair with a BMP symbol\n    .replace(regexAstralSymbols, '_')\n    // then get the length\n    .length;\n}\n\nfunction mapChars(domain_name, useSTD3, processing_option) {\n  var hasError = false;\n  var processed = \"\";\n\n  var len = countSymbols(domain_name);\n  for (var i = 0; i < len; ++i) {\n    var codePoint = domain_name.codePointAt(i);\n    var status = findStatus(codePoint);\n\n    switch (status[1]) {\n      case \"disallowed\":\n        hasError = true;\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"ignored\":\n        break;\n      case \"mapped\":\n        processed += String.fromCodePoint.apply(String, status[2]);\n        break;\n      case \"deviation\":\n        if (processing_option === PROCESSING_OPTIONS.TRANSITIONAL) {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        } else {\n          processed += String.fromCodePoint(codePoint);\n        }\n        break;\n      case \"valid\":\n        processed += String.fromCodePoint(codePoint);\n        break;\n      case \"disallowed_STD3_mapped\":\n        if (useSTD3) {\n          hasError = true;\n          processed += String.fromCodePoint(codePoint);\n        } else {\n          processed += String.fromCodePoint.apply(String, status[2]);\n        }\n        break;\n      case \"disallowed_STD3_valid\":\n        if (useSTD3) {\n          hasError = true;\n        }\n\n        processed += String.fromCodePoint(codePoint);\n        break;\n    }\n  }\n\n  return {\n    string: processed,\n    error: hasError\n  };\n}\n\nvar combiningMarksRegex = /[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D01-\\u0D03\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF5\\u1DFC-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9E5\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2D]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD804[\\uDC00-\\uDC02\\uDC38-\\uDC46\\uDC7F-\\uDC82\\uDCB0-\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD34\\uDD73\\uDD80-\\uDD82\\uDDB3-\\uDDC0\\uDE2C-\\uDE37\\uDEDF-\\uDEEA\\uDF01-\\uDF03\\uDF3C\\uDF3E-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF62\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDCB0-\\uDCC3\\uDDAF-\\uDDB5\\uDDB8-\\uDDC0\\uDE30-\\uDE40\\uDEAB-\\uDEB7]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF51-\\uDF7E\\uDF8F-\\uDF92]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD83A[\\uDCD0-\\uDCD6]|\\uDB40[\\uDD00-\\uDDEF]/;\n\nfunction validateLabel(label, processing_option) {\n  if (label.substr(0, 4) === \"xn--\") {\n    label = punycode.toUnicode(label);\n    processing_option = PROCESSING_OPTIONS.NONTRANSITIONAL;\n  }\n\n  var error = false;\n\n  if (normalize(label) !== label ||\n      (label[3] === \"-\" && label[4] === \"-\") ||\n      label[0] === \"-\" || label[label.length - 1] === \"-\" ||\n      label.indexOf(\".\") !== -1 ||\n      label.search(combiningMarksRegex) === 0) {\n    error = true;\n  }\n\n  var len = countSymbols(label);\n  for (var i = 0; i < len; ++i) {\n    var status = findStatus(label.codePointAt(i));\n    if ((processing === PROCESSING_OPTIONS.TRANSITIONAL && status[1] !== \"valid\") ||\n        (processing === PROCESSING_OPTIONS.NONTRANSITIONAL &&\n         status[1] !== \"valid\" && status[1] !== \"deviation\")) {\n      error = true;\n      break;\n    }\n  }\n\n  return {\n    label: label,\n    error: error\n  };\n}\n\nfunction processing(domain_name, useSTD3, processing_option) {\n  var result = mapChars(domain_name, useSTD3, processing_option);\n  result.string = normalize(result.string);\n\n  var labels = result.string.split(\".\");\n  for (var i = 0; i < labels.length; ++i) {\n    try {\n      var validation = validateLabel(labels[i]);\n      labels[i] = validation.label;\n      result.error = result.error || validation.error;\n    } catch(e) {\n      result.error = true;\n    }\n  }\n\n  return {\n    string: labels.join(\".\"),\n    error: result.error\n  };\n}\n\nmodule.exports.toASCII = function(domain_name, useSTD3, processing_option, verifyDnsLength) {\n  var result = processing(domain_name, useSTD3, processing_option);\n  var labels = result.string.split(\".\");\n  labels = labels.map(function(l) {\n    try {\n      return punycode.toASCII(l);\n    } catch(e) {\n      result.error = true;\n      return l;\n    }\n  });\n\n  if (verifyDnsLength) {\n    var total = labels.slice(0, labels.length - 1).join(\".\").length;\n    if (total.length > 253 || total.length === 0) {\n      result.error = true;\n    }\n\n    for (var i=0; i < labels.length; ++i) {\n      if (labels.length > 63 || labels.length === 0) {\n        result.error = true;\n        break;\n      }\n    }\n  }\n\n  if (result.error) return null;\n  return labels.join(\".\");\n};\n\nmodule.exports.toUnicode = function(domain_name, useSTD3) {\n  var result = processing(domain_name, useSTD3, PROCESSING_OPTIONS.NONTRANSITIONAL);\n\n  return {\n    domain: result.string,\n    error: result.error\n  };\n};\n\nmodule.exports.PROCESSING_OPTIONS = PROCESSING_OPTIONS;\n","\"use strict\";\n\nvar conversions = {};\nmodule.exports = conversions;\n\nfunction sign(x) {\n    return x < 0 ? -1 : 1;\n}\n\nfunction evenRound(x) {\n    // Round x to the nearest integer, choosing the even integer if it lies halfway between two.\n    if ((x % 1) === 0.5 && (x & 1) === 0) { // [even number].5; round down (i.e. floor)\n        return Math.floor(x);\n    } else {\n        return Math.round(x);\n    }\n}\n\nfunction createNumberConversion(bitLength, typeOpts) {\n    if (!typeOpts.unsigned) {\n        --bitLength;\n    }\n    const lowerBound = typeOpts.unsigned ? 0 : -Math.pow(2, bitLength);\n    const upperBound = Math.pow(2, bitLength) - 1;\n\n    const moduloVal = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength) : Math.pow(2, bitLength);\n    const moduloBound = typeOpts.moduloBitLength ? Math.pow(2, typeOpts.moduloBitLength - 1) : Math.pow(2, bitLength - 1);\n\n    return function(V, opts) {\n        if (!opts) opts = {};\n\n        let x = +V;\n\n        if (opts.enforceRange) {\n            if (!Number.isFinite(x)) {\n                throw new TypeError(\"Argument is not a finite number\");\n            }\n\n            x = sign(x) * Math.floor(Math.abs(x));\n            if (x < lowerBound || x > upperBound) {\n                throw new TypeError(\"Argument is not in byte range\");\n            }\n\n            return x;\n        }\n\n        if (!isNaN(x) && opts.clamp) {\n            x = evenRound(x);\n\n            if (x < lowerBound) x = lowerBound;\n            if (x > upperBound) x = upperBound;\n            return x;\n        }\n\n        if (!Number.isFinite(x) || x === 0) {\n            return 0;\n        }\n\n        x = sign(x) * Math.floor(Math.abs(x));\n        x = x % moduloVal;\n\n        if (!typeOpts.unsigned && x >= moduloBound) {\n            return x - moduloVal;\n        } else if (typeOpts.unsigned) {\n            if (x < 0) {\n              x += moduloVal;\n            } else if (x === -0) { // don't return negative zero\n              return 0;\n            }\n        }\n\n        return x;\n    }\n}\n\nconversions[\"void\"] = function () {\n    return undefined;\n};\n\nconversions[\"boolean\"] = function (val) {\n    return !!val;\n};\n\nconversions[\"byte\"] = createNumberConversion(8, { unsigned: false });\nconversions[\"octet\"] = createNumberConversion(8, { unsigned: true });\n\nconversions[\"short\"] = createNumberConversion(16, { unsigned: false });\nconversions[\"unsigned short\"] = createNumberConversion(16, { unsigned: true });\n\nconversions[\"long\"] = createNumberConversion(32, { unsigned: false });\nconversions[\"unsigned long\"] = createNumberConversion(32, { unsigned: true });\n\nconversions[\"long long\"] = createNumberConversion(32, { unsigned: false, moduloBitLength: 64 });\nconversions[\"unsigned long long\"] = createNumberConversion(32, { unsigned: true, moduloBitLength: 64 });\n\nconversions[\"double\"] = function (V) {\n    const x = +V;\n\n    if (!Number.isFinite(x)) {\n        throw new TypeError(\"Argument is not a finite floating-point value\");\n    }\n\n    return x;\n};\n\nconversions[\"unrestricted double\"] = function (V) {\n    const x = +V;\n\n    if (isNaN(x)) {\n        throw new TypeError(\"Argument is NaN\");\n    }\n\n    return x;\n};\n\n// not quite valid, but good enough for JS\nconversions[\"float\"] = conversions[\"double\"];\nconversions[\"unrestricted float\"] = conversions[\"unrestricted double\"];\n\nconversions[\"DOMString\"] = function (V, opts) {\n    if (!opts) opts = {};\n\n    if (opts.treatNullAsEmptyString && V === null) {\n        return \"\";\n    }\n\n    return String(V);\n};\n\nconversions[\"ByteString\"] = function (V, opts) {\n    const x = String(V);\n    let c = undefined;\n    for (let i = 0; (c = x.codePointAt(i)) !== undefined; ++i) {\n        if (c > 255) {\n            throw new TypeError(\"Argument is not a valid bytestring\");\n        }\n    }\n\n    return x;\n};\n\nconversions[\"USVString\"] = function (V) {\n    const S = String(V);\n    const n = S.length;\n    const U = [];\n    for (let i = 0; i < n; ++i) {\n        const c = S.charCodeAt(i);\n        if (c < 0xD800 || c > 0xDFFF) {\n            U.push(String.fromCodePoint(c));\n        } else if (0xDC00 <= c && c <= 0xDFFF) {\n            U.push(String.fromCodePoint(0xFFFD));\n        } else {\n            if (i === n - 1) {\n                U.push(String.fromCodePoint(0xFFFD));\n            } else {\n                const d = S.charCodeAt(i + 1);\n                if (0xDC00 <= d && d <= 0xDFFF) {\n                    const a = c & 0x3FF;\n                    const b = d & 0x3FF;\n                    U.push(String.fromCodePoint((2 << 15) + (2 << 9) * a + b));\n                    ++i;\n                } else {\n                    U.push(String.fromCodePoint(0xFFFD));\n                }\n            }\n        }\n    }\n\n    return U.join('');\n};\n\nconversions[\"Date\"] = function (V, opts) {\n    if (!(V instanceof Date)) {\n        throw new TypeError(\"Argument is not a Date object\");\n    }\n    if (isNaN(V)) {\n        return undefined;\n    }\n\n    return V;\n};\n\nconversions[\"RegExp\"] = function (V, opts) {\n    if (!(V instanceof RegExp)) {\n        V = new RegExp(V);\n    }\n\n    return V;\n};\n","\"use strict\";\nconst usm = require(\"./url-state-machine\");\n\nexports.implementation = class URLImpl {\n  constructor(constructorArgs) {\n    const url = constructorArgs[0];\n    const base = constructorArgs[1];\n\n    let parsedBase = null;\n    if (base !== undefined) {\n      parsedBase = usm.basicURLParse(base);\n      if (parsedBase === \"failure\") {\n        throw new TypeError(\"Invalid base URL\");\n      }\n    }\n\n    const parsedURL = usm.basicURLParse(url, { baseURL: parsedBase });\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n\n    // TODO: query stuff\n  }\n\n  get href() {\n    return usm.serializeURL(this._url);\n  }\n\n  set href(v) {\n    const parsedURL = usm.basicURLParse(v);\n    if (parsedURL === \"failure\") {\n      throw new TypeError(\"Invalid URL\");\n    }\n\n    this._url = parsedURL;\n  }\n\n  get origin() {\n    return usm.serializeURLOrigin(this._url);\n  }\n\n  get protocol() {\n    return this._url.scheme + \":\";\n  }\n\n  set protocol(v) {\n    usm.basicURLParse(v + \":\", { url: this._url, stateOverride: \"scheme start\" });\n  }\n\n  get username() {\n    return this._url.username;\n  }\n\n  set username(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setTheUsername(this._url, v);\n  }\n\n  get password() {\n    return this._url.password;\n  }\n\n  set password(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    usm.setThePassword(this._url, v);\n  }\n\n  get host() {\n    const url = this._url;\n\n    if (url.host === null) {\n      return \"\";\n    }\n\n    if (url.port === null) {\n      return usm.serializeHost(url.host);\n    }\n\n    return usm.serializeHost(url.host) + \":\" + usm.serializeInteger(url.port);\n  }\n\n  set host(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"host\" });\n  }\n\n  get hostname() {\n    if (this._url.host === null) {\n      return \"\";\n    }\n\n    return usm.serializeHost(this._url.host);\n  }\n\n  set hostname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"hostname\" });\n  }\n\n  get port() {\n    if (this._url.port === null) {\n      return \"\";\n    }\n\n    return usm.serializeInteger(this._url.port);\n  }\n\n  set port(v) {\n    if (usm.cannotHaveAUsernamePasswordPort(this._url)) {\n      return;\n    }\n\n    if (v === \"\") {\n      this._url.port = null;\n    } else {\n      usm.basicURLParse(v, { url: this._url, stateOverride: \"port\" });\n    }\n  }\n\n  get pathname() {\n    if (this._url.cannotBeABaseURL) {\n      return this._url.path[0];\n    }\n\n    if (this._url.path.length === 0) {\n      return \"\";\n    }\n\n    return \"/\" + this._url.path.join(\"/\");\n  }\n\n  set pathname(v) {\n    if (this._url.cannotBeABaseURL) {\n      return;\n    }\n\n    this._url.path = [];\n    usm.basicURLParse(v, { url: this._url, stateOverride: \"path start\" });\n  }\n\n  get search() {\n    if (this._url.query === null || this._url.query === \"\") {\n      return \"\";\n    }\n\n    return \"?\" + this._url.query;\n  }\n\n  set search(v) {\n    // TODO: query stuff\n\n    const url = this._url;\n\n    if (v === \"\") {\n      url.query = null;\n      return;\n    }\n\n    const input = v[0] === \"?\" ? v.substring(1) : v;\n    url.query = \"\";\n    usm.basicURLParse(input, { url, stateOverride: \"query\" });\n  }\n\n  get hash() {\n    if (this._url.fragment === null || this._url.fragment === \"\") {\n      return \"\";\n    }\n\n    return \"#\" + this._url.fragment;\n  }\n\n  set hash(v) {\n    if (v === \"\") {\n      this._url.fragment = null;\n      return;\n    }\n\n    const input = v[0] === \"#\" ? v.substring(1) : v;\n    this._url.fragment = \"\";\n    usm.basicURLParse(input, { url: this._url, stateOverride: \"fragment\" });\n  }\n\n  toJSON() {\n    return this.href;\n  }\n};\n","\"use strict\";\n\nconst conversions = require(\"webidl-conversions\");\nconst utils = require(\"./utils.js\");\nconst Impl = require(\".//URL-impl.js\");\n\nconst impl = utils.implSymbol;\n\nfunction URL(url) {\n  if (!this || this[impl] || !(this instanceof URL)) {\n    throw new TypeError(\"Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.\");\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'URL': 1 argument required, but only \" + arguments.length + \" present.\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 2; ++i) {\n    args[i] = arguments[i];\n  }\n  args[0] = conversions[\"USVString\"](args[0]);\n  if (args[1] !== undefined) {\n  args[1] = conversions[\"USVString\"](args[1]);\n  }\n\n  module.exports.setup(this, args);\n}\n\nURL.prototype.toJSON = function toJSON() {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  const args = [];\n  for (let i = 0; i < arguments.length && i < 0; ++i) {\n    args[i] = arguments[i];\n  }\n  return this[impl].toJSON.apply(this[impl], args);\n};\nObject.defineProperty(URL.prototype, \"href\", {\n  get() {\n    return this[impl].href;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].href = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nURL.prototype.toString = function () {\n  if (!this || !module.exports.is(this)) {\n    throw new TypeError(\"Illegal invocation\");\n  }\n  return this.href;\n};\n\nObject.defineProperty(URL.prototype, \"origin\", {\n  get() {\n    return this[impl].origin;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"protocol\", {\n  get() {\n    return this[impl].protocol;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].protocol = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"username\", {\n  get() {\n    return this[impl].username;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].username = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"password\", {\n  get() {\n    return this[impl].password;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].password = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"host\", {\n  get() {\n    return this[impl].host;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].host = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hostname\", {\n  get() {\n    return this[impl].hostname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hostname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"port\", {\n  get() {\n    return this[impl].port;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].port = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"pathname\", {\n  get() {\n    return this[impl].pathname;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].pathname = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"search\", {\n  get() {\n    return this[impl].search;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].search = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nObject.defineProperty(URL.prototype, \"hash\", {\n  get() {\n    return this[impl].hash;\n  },\n  set(V) {\n    V = conversions[\"USVString\"](V);\n    this[impl].hash = V;\n  },\n  enumerable: true,\n  configurable: true\n});\n\n\nmodule.exports = {\n  is(obj) {\n    return !!obj && obj[impl] instanceof Impl.implementation;\n  },\n  create(constructorArgs, privateData) {\n    let obj = Object.create(URL.prototype);\n    this.setup(obj, constructorArgs, privateData);\n    return obj;\n  },\n  setup(obj, constructorArgs, privateData) {\n    if (!privateData) privateData = {};\n    privateData.wrapper = obj;\n\n    obj[impl] = new Impl.implementation(constructorArgs, privateData);\n    obj[impl][utils.wrapperSymbol] = obj;\n  },\n  interface: URL,\n  expose: {\n    Window: { URL: URL },\n    Worker: { URL: URL }\n  }\n};\n\n","\"use strict\";\n\nexports.URL = require(\"./URL\").interface;\nexports.serializeURL = require(\"./url-state-machine\").serializeURL;\nexports.serializeURLOrigin = require(\"./url-state-machine\").serializeURLOrigin;\nexports.basicURLParse = require(\"./url-state-machine\").basicURLParse;\nexports.setTheUsername = require(\"./url-state-machine\").setTheUsername;\nexports.setThePassword = require(\"./url-state-machine\").setThePassword;\nexports.serializeHost = require(\"./url-state-machine\").serializeHost;\nexports.serializeInteger = require(\"./url-state-machine\").serializeInteger;\nexports.parseURL = require(\"./url-state-machine\").parseURL;\n","\"use strict\";\r\nconst punycode = require(\"punycode\");\r\nconst tr46 = require(\"tr46\");\r\n\r\nconst specialSchemes = {\r\n  ftp: 21,\r\n  file: null,\r\n  gopher: 70,\r\n  http: 80,\r\n  https: 443,\r\n  ws: 80,\r\n  wss: 443\r\n};\r\n\r\nconst failure = Symbol(\"failure\");\r\n\r\nfunction countSymbols(str) {\r\n  return punycode.ucs2.decode(str).length;\r\n}\r\n\r\nfunction at(input, idx) {\r\n  const c = input[idx];\r\n  return isNaN(c) ? undefined : String.fromCodePoint(c);\r\n}\r\n\r\nfunction isASCIIDigit(c) {\r\n  return c >= 0x30 && c <= 0x39;\r\n}\r\n\r\nfunction isASCIIAlpha(c) {\r\n  return (c >= 0x41 && c <= 0x5A) || (c >= 0x61 && c <= 0x7A);\r\n}\r\n\r\nfunction isASCIIAlphanumeric(c) {\r\n  return isASCIIAlpha(c) || isASCIIDigit(c);\r\n}\r\n\r\nfunction isASCIIHex(c) {\r\n  return isASCIIDigit(c) || (c >= 0x41 && c <= 0x46) || (c >= 0x61 && c <= 0x66);\r\n}\r\n\r\nfunction isSingleDot(buffer) {\r\n  return buffer === \".\" || buffer.toLowerCase() === \"%2e\";\r\n}\r\n\r\nfunction isDoubleDot(buffer) {\r\n  buffer = buffer.toLowerCase();\r\n  return buffer === \"..\" || buffer === \"%2e.\" || buffer === \".%2e\" || buffer === \"%2e%2e\";\r\n}\r\n\r\nfunction isWindowsDriveLetterCodePoints(cp1, cp2) {\r\n  return isASCIIAlpha(cp1) && (cp2 === 58 || cp2 === 124);\r\n}\r\n\r\nfunction isWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && (string[1] === \":\" || string[1] === \"|\");\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetterString(string) {\r\n  return string.length === 2 && isASCIIAlpha(string.codePointAt(0)) && string[1] === \":\";\r\n}\r\n\r\nfunction containsForbiddenHostCodePoint(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|%|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction containsForbiddenHostCodePointExcludingPercent(string) {\r\n  return string.search(/\\u0000|\\u0009|\\u000A|\\u000D|\\u0020|#|\\/|:|\\?|@|\\[|\\\\|\\]/) !== -1;\r\n}\r\n\r\nfunction isSpecialScheme(scheme) {\r\n  return specialSchemes[scheme] !== undefined;\r\n}\r\n\r\nfunction isSpecial(url) {\r\n  return isSpecialScheme(url.scheme);\r\n}\r\n\r\nfunction defaultPort(scheme) {\r\n  return specialSchemes[scheme];\r\n}\r\n\r\nfunction percentEncode(c) {\r\n  let hex = c.toString(16).toUpperCase();\r\n  if (hex.length === 1) {\r\n    hex = \"0\" + hex;\r\n  }\r\n\r\n  return \"%\" + hex;\r\n}\r\n\r\nfunction utf8PercentEncode(c) {\r\n  const buf = new Buffer(c);\r\n\r\n  let str = \"\";\r\n\r\n  for (let i = 0; i < buf.length; ++i) {\r\n    str += percentEncode(buf[i]);\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\nfunction utf8PercentDecode(str) {\r\n  const input = new Buffer(str);\r\n  const output = [];\r\n  for (let i = 0; i < input.length; ++i) {\r\n    if (input[i] !== 37) {\r\n      output.push(input[i]);\r\n    } else if (input[i] === 37 && isASCIIHex(input[i + 1]) && isASCIIHex(input[i + 2])) {\r\n      output.push(parseInt(input.slice(i + 1, i + 3).toString(), 16));\r\n      i += 2;\r\n    } else {\r\n      output.push(input[i]);\r\n    }\r\n  }\r\n  return new Buffer(output).toString();\r\n}\r\n\r\nfunction isC0ControlPercentEncode(c) {\r\n  return c <= 0x1F || c > 0x7E;\r\n}\r\n\r\nconst extraPathPercentEncodeSet = new Set([32, 34, 35, 60, 62, 63, 96, 123, 125]);\r\nfunction isPathPercentEncode(c) {\r\n  return isC0ControlPercentEncode(c) || extraPathPercentEncodeSet.has(c);\r\n}\r\n\r\nconst extraUserinfoPercentEncodeSet =\r\n  new Set([47, 58, 59, 61, 64, 91, 92, 93, 94, 124]);\r\nfunction isUserinfoPercentEncode(c) {\r\n  return isPathPercentEncode(c) || extraUserinfoPercentEncodeSet.has(c);\r\n}\r\n\r\nfunction percentEncodeChar(c, encodeSetPredicate) {\r\n  const cStr = String.fromCodePoint(c);\r\n\r\n  if (encodeSetPredicate(c)) {\r\n    return utf8PercentEncode(cStr);\r\n  }\r\n\r\n  return cStr;\r\n}\r\n\r\nfunction parseIPv4Number(input) {\r\n  let R = 10;\r\n\r\n  if (input.length >= 2 && input.charAt(0) === \"0\" && input.charAt(1).toLowerCase() === \"x\") {\r\n    input = input.substring(2);\r\n    R = 16;\r\n  } else if (input.length >= 2 && input.charAt(0) === \"0\") {\r\n    input = input.substring(1);\r\n    R = 8;\r\n  }\r\n\r\n  if (input === \"\") {\r\n    return 0;\r\n  }\r\n\r\n  const regex = R === 10 ? /[^0-9]/ : (R === 16 ? /[^0-9A-Fa-f]/ : /[^0-7]/);\r\n  if (regex.test(input)) {\r\n    return failure;\r\n  }\r\n\r\n  return parseInt(input, R);\r\n}\r\n\r\nfunction parseIPv4(input) {\r\n  const parts = input.split(\".\");\r\n  if (parts[parts.length - 1] === \"\") {\r\n    if (parts.length > 1) {\r\n      parts.pop();\r\n    }\r\n  }\r\n\r\n  if (parts.length > 4) {\r\n    return input;\r\n  }\r\n\r\n  const numbers = [];\r\n  for (const part of parts) {\r\n    if (part === \"\") {\r\n      return input;\r\n    }\r\n    const n = parseIPv4Number(part);\r\n    if (n === failure) {\r\n      return input;\r\n    }\r\n\r\n    numbers.push(n);\r\n  }\r\n\r\n  for (let i = 0; i < numbers.length - 1; ++i) {\r\n    if (numbers[i] > 255) {\r\n      return failure;\r\n    }\r\n  }\r\n  if (numbers[numbers.length - 1] >= Math.pow(256, 5 - numbers.length)) {\r\n    return failure;\r\n  }\r\n\r\n  let ipv4 = numbers.pop();\r\n  let counter = 0;\r\n\r\n  for (const n of numbers) {\r\n    ipv4 += n * Math.pow(256, 3 - counter);\r\n    ++counter;\r\n  }\r\n\r\n  return ipv4;\r\n}\r\n\r\nfunction serializeIPv4(address) {\r\n  let output = \"\";\r\n  let n = address;\r\n\r\n  for (let i = 1; i <= 4; ++i) {\r\n    output = String(n % 256) + output;\r\n    if (i !== 4) {\r\n      output = \".\" + output;\r\n    }\r\n    n = Math.floor(n / 256);\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseIPv6(input) {\r\n  const address = [0, 0, 0, 0, 0, 0, 0, 0];\r\n  let pieceIndex = 0;\r\n  let compress = null;\r\n  let pointer = 0;\r\n\r\n  input = punycode.ucs2.decode(input);\r\n\r\n  if (input[pointer] === 58) {\r\n    if (input[pointer + 1] !== 58) {\r\n      return failure;\r\n    }\r\n\r\n    pointer += 2;\r\n    ++pieceIndex;\r\n    compress = pieceIndex;\r\n  }\r\n\r\n  while (pointer < input.length) {\r\n    if (pieceIndex === 8) {\r\n      return failure;\r\n    }\r\n\r\n    if (input[pointer] === 58) {\r\n      if (compress !== null) {\r\n        return failure;\r\n      }\r\n      ++pointer;\r\n      ++pieceIndex;\r\n      compress = pieceIndex;\r\n      continue;\r\n    }\r\n\r\n    let value = 0;\r\n    let length = 0;\r\n\r\n    while (length < 4 && isASCIIHex(input[pointer])) {\r\n      value = value * 0x10 + parseInt(at(input, pointer), 16);\r\n      ++pointer;\r\n      ++length;\r\n    }\r\n\r\n    if (input[pointer] === 46) {\r\n      if (length === 0) {\r\n        return failure;\r\n      }\r\n\r\n      pointer -= length;\r\n\r\n      if (pieceIndex > 6) {\r\n        return failure;\r\n      }\r\n\r\n      let numbersSeen = 0;\r\n\r\n      while (input[pointer] !== undefined) {\r\n        let ipv4Piece = null;\r\n\r\n        if (numbersSeen > 0) {\r\n          if (input[pointer] === 46 && numbersSeen < 4) {\r\n            ++pointer;\r\n          } else {\r\n            return failure;\r\n          }\r\n        }\r\n\r\n        if (!isASCIIDigit(input[pointer])) {\r\n          return failure;\r\n        }\r\n\r\n        while (isASCIIDigit(input[pointer])) {\r\n          const number = parseInt(at(input, pointer));\r\n          if (ipv4Piece === null) {\r\n            ipv4Piece = number;\r\n          } else if (ipv4Piece === 0) {\r\n            return failure;\r\n          } else {\r\n            ipv4Piece = ipv4Piece * 10 + number;\r\n          }\r\n          if (ipv4Piece > 255) {\r\n            return failure;\r\n          }\r\n          ++pointer;\r\n        }\r\n\r\n        address[pieceIndex] = address[pieceIndex] * 0x100 + ipv4Piece;\r\n\r\n        ++numbersSeen;\r\n\r\n        if (numbersSeen === 2 || numbersSeen === 4) {\r\n          ++pieceIndex;\r\n        }\r\n      }\r\n\r\n      if (numbersSeen !== 4) {\r\n        return failure;\r\n      }\r\n\r\n      break;\r\n    } else if (input[pointer] === 58) {\r\n      ++pointer;\r\n      if (input[pointer] === undefined) {\r\n        return failure;\r\n      }\r\n    } else if (input[pointer] !== undefined) {\r\n      return failure;\r\n    }\r\n\r\n    address[pieceIndex] = value;\r\n    ++pieceIndex;\r\n  }\r\n\r\n  if (compress !== null) {\r\n    let swaps = pieceIndex - compress;\r\n    pieceIndex = 7;\r\n    while (pieceIndex !== 0 && swaps > 0) {\r\n      const temp = address[compress + swaps - 1];\r\n      address[compress + swaps - 1] = address[pieceIndex];\r\n      address[pieceIndex] = temp;\r\n      --pieceIndex;\r\n      --swaps;\r\n    }\r\n  } else if (compress === null && pieceIndex !== 8) {\r\n    return failure;\r\n  }\r\n\r\n  return address;\r\n}\r\n\r\nfunction serializeIPv6(address) {\r\n  let output = \"\";\r\n  const seqResult = findLongestZeroSequence(address);\r\n  const compress = seqResult.idx;\r\n  let ignore0 = false;\r\n\r\n  for (let pieceIndex = 0; pieceIndex <= 7; ++pieceIndex) {\r\n    if (ignore0 && address[pieceIndex] === 0) {\r\n      continue;\r\n    } else if (ignore0) {\r\n      ignore0 = false;\r\n    }\r\n\r\n    if (compress === pieceIndex) {\r\n      const separator = pieceIndex === 0 ? \"::\" : \":\";\r\n      output += separator;\r\n      ignore0 = true;\r\n      continue;\r\n    }\r\n\r\n    output += address[pieceIndex].toString(16);\r\n\r\n    if (pieceIndex !== 7) {\r\n      output += \":\";\r\n    }\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction parseHost(input, isSpecialArg) {\r\n  if (input[0] === \"[\") {\r\n    if (input[input.length - 1] !== \"]\") {\r\n      return failure;\r\n    }\r\n\r\n    return parseIPv6(input.substring(1, input.length - 1));\r\n  }\r\n\r\n  if (!isSpecialArg) {\r\n    return parseOpaqueHost(input);\r\n  }\r\n\r\n  const domain = utf8PercentDecode(input);\r\n  const asciiDomain = tr46.toASCII(domain, false, tr46.PROCESSING_OPTIONS.NONTRANSITIONAL, false);\r\n  if (asciiDomain === null) {\r\n    return failure;\r\n  }\r\n\r\n  if (containsForbiddenHostCodePoint(asciiDomain)) {\r\n    return failure;\r\n  }\r\n\r\n  const ipv4Host = parseIPv4(asciiDomain);\r\n  if (typeof ipv4Host === \"number\" || ipv4Host === failure) {\r\n    return ipv4Host;\r\n  }\r\n\r\n  return asciiDomain;\r\n}\r\n\r\nfunction parseOpaqueHost(input) {\r\n  if (containsForbiddenHostCodePointExcludingPercent(input)) {\r\n    return failure;\r\n  }\r\n\r\n  let output = \"\";\r\n  const decoded = punycode.ucs2.decode(input);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    output += percentEncodeChar(decoded[i], isC0ControlPercentEncode);\r\n  }\r\n  return output;\r\n}\r\n\r\nfunction findLongestZeroSequence(arr) {\r\n  let maxIdx = null;\r\n  let maxLen = 1; // only find elements > 1\r\n  let currStart = null;\r\n  let currLen = 0;\r\n\r\n  for (let i = 0; i < arr.length; ++i) {\r\n    if (arr[i] !== 0) {\r\n      if (currLen > maxLen) {\r\n        maxIdx = currStart;\r\n        maxLen = currLen;\r\n      }\r\n\r\n      currStart = null;\r\n      currLen = 0;\r\n    } else {\r\n      if (currStart === null) {\r\n        currStart = i;\r\n      }\r\n      ++currLen;\r\n    }\r\n  }\r\n\r\n  // if trailing zeros\r\n  if (currLen > maxLen) {\r\n    maxIdx = currStart;\r\n    maxLen = currLen;\r\n  }\r\n\r\n  return {\r\n    idx: maxIdx,\r\n    len: maxLen\r\n  };\r\n}\r\n\r\nfunction serializeHost(host) {\r\n  if (typeof host === \"number\") {\r\n    return serializeIPv4(host);\r\n  }\r\n\r\n  // IPv6 serializer\r\n  if (host instanceof Array) {\r\n    return \"[\" + serializeIPv6(host) + \"]\";\r\n  }\r\n\r\n  return host;\r\n}\r\n\r\nfunction trimControlChars(url) {\r\n  return url.replace(/^[\\u0000-\\u001F\\u0020]+|[\\u0000-\\u001F\\u0020]+$/g, \"\");\r\n}\r\n\r\nfunction trimTabAndNewline(url) {\r\n  return url.replace(/\\u0009|\\u000A|\\u000D/g, \"\");\r\n}\r\n\r\nfunction shortenPath(url) {\r\n  const path = url.path;\r\n  if (path.length === 0) {\r\n    return;\r\n  }\r\n  if (url.scheme === \"file\" && path.length === 1 && isNormalizedWindowsDriveLetter(path[0])) {\r\n    return;\r\n  }\r\n\r\n  path.pop();\r\n}\r\n\r\nfunction includesCredentials(url) {\r\n  return url.username !== \"\" || url.password !== \"\";\r\n}\r\n\r\nfunction cannotHaveAUsernamePasswordPort(url) {\r\n  return url.host === null || url.host === \"\" || url.cannotBeABaseURL || url.scheme === \"file\";\r\n}\r\n\r\nfunction isNormalizedWindowsDriveLetter(string) {\r\n  return /^[A-Za-z]:$/.test(string);\r\n}\r\n\r\nfunction URLStateMachine(input, base, encodingOverride, url, stateOverride) {\r\n  this.pointer = 0;\r\n  this.input = input;\r\n  this.base = base || null;\r\n  this.encodingOverride = encodingOverride || \"utf-8\";\r\n  this.stateOverride = stateOverride;\r\n  this.url = url;\r\n  this.failure = false;\r\n  this.parseError = false;\r\n\r\n  if (!this.url) {\r\n    this.url = {\r\n      scheme: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      host: null,\r\n      port: null,\r\n      path: [],\r\n      query: null,\r\n      fragment: null,\r\n\r\n      cannotBeABaseURL: false\r\n    };\r\n\r\n    const res = trimControlChars(this.input);\r\n    if (res !== this.input) {\r\n      this.parseError = true;\r\n    }\r\n    this.input = res;\r\n  }\r\n\r\n  const res = trimTabAndNewline(this.input);\r\n  if (res !== this.input) {\r\n    this.parseError = true;\r\n  }\r\n  this.input = res;\r\n\r\n  this.state = stateOverride || \"scheme start\";\r\n\r\n  this.buffer = \"\";\r\n  this.atFlag = false;\r\n  this.arrFlag = false;\r\n  this.passwordTokenSeenFlag = false;\r\n\r\n  this.input = punycode.ucs2.decode(this.input);\r\n\r\n  for (; this.pointer <= this.input.length; ++this.pointer) {\r\n    const c = this.input[this.pointer];\r\n    const cStr = isNaN(c) ? undefined : String.fromCodePoint(c);\r\n\r\n    // exec state machine\r\n    const ret = this[\"parse \" + this.state](c, cStr);\r\n    if (!ret) {\r\n      break; // terminate algorithm\r\n    } else if (ret === failure) {\r\n      this.failure = true;\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nURLStateMachine.prototype[\"parse scheme start\"] = function parseSchemeStart(c, cStr) {\r\n  if (isASCIIAlpha(c)) {\r\n    this.buffer += cStr.toLowerCase();\r\n    this.state = \"scheme\";\r\n  } else if (!this.stateOverride) {\r\n    this.state = \"no scheme\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse scheme\"] = function parseScheme(c, cStr) {\r\n  if (isASCIIAlphanumeric(c) || c === 43 || c === 45 || c === 46) {\r\n    this.buffer += cStr.toLowerCase();\r\n  } else if (c === 58) {\r\n    if (this.stateOverride) {\r\n      if (isSpecial(this.url) && !isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if (!isSpecial(this.url) && isSpecialScheme(this.buffer)) {\r\n        return false;\r\n      }\r\n\r\n      if ((includesCredentials(this.url) || this.url.port !== null) && this.buffer === \"file\") {\r\n        return false;\r\n      }\r\n\r\n      if (this.url.scheme === \"file\" && (this.url.host === \"\" || this.url.host === null)) {\r\n        return false;\r\n      }\r\n    }\r\n    this.url.scheme = this.buffer;\r\n    this.buffer = \"\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    if (this.url.scheme === \"file\") {\r\n      if (this.input[this.pointer + 1] !== 47 || this.input[this.pointer + 2] !== 47) {\r\n        this.parseError = true;\r\n      }\r\n      this.state = \"file\";\r\n    } else if (isSpecial(this.url) && this.base !== null && this.base.scheme === this.url.scheme) {\r\n      this.state = \"special relative or authority\";\r\n    } else if (isSpecial(this.url)) {\r\n      this.state = \"special authority slashes\";\r\n    } else if (this.input[this.pointer + 1] === 47) {\r\n      this.state = \"path or authority\";\r\n      ++this.pointer;\r\n    } else {\r\n      this.url.cannotBeABaseURL = true;\r\n      this.url.path.push(\"\");\r\n      this.state = \"cannot-be-a-base-URL path\";\r\n    }\r\n  } else if (!this.stateOverride) {\r\n    this.buffer = \"\";\r\n    this.state = \"no scheme\";\r\n    this.pointer = -1;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse no scheme\"] = function parseNoScheme(c) {\r\n  if (this.base === null || (this.base.cannotBeABaseURL && c !== 35)) {\r\n    return failure;\r\n  } else if (this.base.cannotBeABaseURL && c === 35) {\r\n    this.url.scheme = this.base.scheme;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.url.cannotBeABaseURL = true;\r\n    this.state = \"fragment\";\r\n  } else if (this.base.scheme === \"file\") {\r\n    this.state = \"file\";\r\n    --this.pointer;\r\n  } else {\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special relative or authority\"] = function parseSpecialRelativeOrAuthority(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"relative\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path or authority\"] = function parsePathOrAuthority(c) {\r\n  if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative\"] = function parseRelative(c) {\r\n  this.url.scheme = this.base.scheme;\r\n  if (isNaN(c)) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n  } else if (c === 47) {\r\n    this.state = \"relative slash\";\r\n  } else if (c === 63) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice();\r\n    this.url.query = this.base.query;\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (isSpecial(this.url) && c === 92) {\r\n    this.parseError = true;\r\n    this.state = \"relative slash\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.url.path = this.base.path.slice(0, this.base.path.length - 1);\r\n\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse relative slash\"] = function parseRelativeSlash(c) {\r\n  if (isSpecial(this.url) && (c === 47 || c === 92)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"special authority ignore slashes\";\r\n  } else if (c === 47) {\r\n    this.state = \"authority\";\r\n  } else {\r\n    this.url.username = this.base.username;\r\n    this.url.password = this.base.password;\r\n    this.url.host = this.base.host;\r\n    this.url.port = this.base.port;\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority slashes\"] = function parseSpecialAuthoritySlashes(c) {\r\n  if (c === 47 && this.input[this.pointer + 1] === 47) {\r\n    this.state = \"special authority ignore slashes\";\r\n    ++this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    this.state = \"special authority ignore slashes\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse special authority ignore slashes\"] = function parseSpecialAuthorityIgnoreSlashes(c) {\r\n  if (c !== 47 && c !== 92) {\r\n    this.state = \"authority\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse authority\"] = function parseAuthority(c, cStr) {\r\n  if (c === 64) {\r\n    this.parseError = true;\r\n    if (this.atFlag) {\r\n      this.buffer = \"%40\" + this.buffer;\r\n    }\r\n    this.atFlag = true;\r\n\r\n    // careful, this is based on buffer and has its own pointer (this.pointer != pointer) and inner chars\r\n    const len = countSymbols(this.buffer);\r\n    for (let pointer = 0; pointer < len; ++pointer) {\r\n      const codePoint = this.buffer.codePointAt(pointer);\r\n\r\n      if (codePoint === 58 && !this.passwordTokenSeenFlag) {\r\n        this.passwordTokenSeenFlag = true;\r\n        continue;\r\n      }\r\n      const encodedCodePoints = percentEncodeChar(codePoint, isUserinfoPercentEncode);\r\n      if (this.passwordTokenSeenFlag) {\r\n        this.url.password += encodedCodePoints;\r\n      } else {\r\n        this.url.username += encodedCodePoints;\r\n      }\r\n    }\r\n    this.buffer = \"\";\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    if (this.atFlag && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n    this.pointer -= countSymbols(this.buffer) + 1;\r\n    this.buffer = \"\";\r\n    this.state = \"host\";\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse hostname\"] =\r\nURLStateMachine.prototype[\"parse host\"] = function parseHostName(c, cStr) {\r\n  if (this.stateOverride && this.url.scheme === \"file\") {\r\n    --this.pointer;\r\n    this.state = \"file host\";\r\n  } else if (c === 58 && !this.arrFlag) {\r\n    if (this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"port\";\r\n    if (this.stateOverride === \"hostname\") {\r\n      return false;\r\n    }\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92)) {\r\n    --this.pointer;\r\n    if (isSpecial(this.url) && this.buffer === \"\") {\r\n      this.parseError = true;\r\n      return failure;\r\n    } else if (this.stateOverride && this.buffer === \"\" &&\r\n               (includesCredentials(this.url) || this.url.port !== null)) {\r\n      this.parseError = true;\r\n      return false;\r\n    }\r\n\r\n    const host = parseHost(this.buffer, isSpecial(this.url));\r\n    if (host === failure) {\r\n      return failure;\r\n    }\r\n\r\n    this.url.host = host;\r\n    this.buffer = \"\";\r\n    this.state = \"path start\";\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n  } else {\r\n    if (c === 91) {\r\n      this.arrFlag = true;\r\n    } else if (c === 93) {\r\n      this.arrFlag = false;\r\n    }\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse port\"] = function parsePort(c, cStr) {\r\n  if (isASCIIDigit(c)) {\r\n    this.buffer += cStr;\r\n  } else if (isNaN(c) || c === 47 || c === 63 || c === 35 ||\r\n             (isSpecial(this.url) && c === 92) ||\r\n             this.stateOverride) {\r\n    if (this.buffer !== \"\") {\r\n      const port = parseInt(this.buffer);\r\n      if (port > Math.pow(2, 16) - 1) {\r\n        this.parseError = true;\r\n        return failure;\r\n      }\r\n      this.url.port = port === defaultPort(this.url.scheme) ? null : port;\r\n      this.buffer = \"\";\r\n    }\r\n    if (this.stateOverride) {\r\n      return false;\r\n    }\r\n    this.state = \"path start\";\r\n    --this.pointer;\r\n  } else {\r\n    this.parseError = true;\r\n    return failure;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nconst fileOtherwiseCodePoints = new Set([47, 92, 63, 35]);\r\n\r\nURLStateMachine.prototype[\"parse file\"] = function parseFile(c) {\r\n  this.url.scheme = \"file\";\r\n\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file slash\";\r\n  } else if (this.base !== null && this.base.scheme === \"file\") {\r\n    if (isNaN(c)) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n    } else if (c === 63) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    } else if (c === 35) {\r\n      this.url.host = this.base.host;\r\n      this.url.path = this.base.path.slice();\r\n      this.url.query = this.base.query;\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    } else {\r\n      if (this.input.length - this.pointer - 1 === 0 || // remaining consists of 0 code points\r\n          !isWindowsDriveLetterCodePoints(c, this.input[this.pointer + 1]) ||\r\n          (this.input.length - this.pointer - 1 >= 2 && // remaining has at least 2 code points\r\n           !fileOtherwiseCodePoints.has(this.input[this.pointer + 2]))) {\r\n        this.url.host = this.base.host;\r\n        this.url.path = this.base.path.slice();\r\n        shortenPath(this.url);\r\n      } else {\r\n        this.parseError = true;\r\n      }\r\n\r\n      this.state = \"path\";\r\n      --this.pointer;\r\n    }\r\n  } else {\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file slash\"] = function parseFileSlash(c) {\r\n  if (c === 47 || c === 92) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"file host\";\r\n  } else {\r\n    if (this.base !== null && this.base.scheme === \"file\") {\r\n      if (isNormalizedWindowsDriveLetterString(this.base.path[0])) {\r\n        this.url.path.push(this.base.path[0]);\r\n      } else {\r\n        this.url.host = this.base.host;\r\n      }\r\n    }\r\n    this.state = \"path\";\r\n    --this.pointer;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse file host\"] = function parseFileHost(c, cStr) {\r\n  if (isNaN(c) || c === 47 || c === 92 || c === 63 || c === 35) {\r\n    --this.pointer;\r\n    if (!this.stateOverride && isWindowsDriveLetterString(this.buffer)) {\r\n      this.parseError = true;\r\n      this.state = \"path\";\r\n    } else if (this.buffer === \"\") {\r\n      this.url.host = \"\";\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n      this.state = \"path start\";\r\n    } else {\r\n      let host = parseHost(this.buffer, isSpecial(this.url));\r\n      if (host === failure) {\r\n        return failure;\r\n      }\r\n      if (host === \"localhost\") {\r\n        host = \"\";\r\n      }\r\n      this.url.host = host;\r\n\r\n      if (this.stateOverride) {\r\n        return false;\r\n      }\r\n\r\n      this.buffer = \"\";\r\n      this.state = \"path start\";\r\n    }\r\n  } else {\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path start\"] = function parsePathStart(c) {\r\n  if (isSpecial(this.url)) {\r\n    if (c === 92) {\r\n      this.parseError = true;\r\n    }\r\n    this.state = \"path\";\r\n\r\n    if (c !== 47 && c !== 92) {\r\n      --this.pointer;\r\n    }\r\n  } else if (!this.stateOverride && c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (!this.stateOverride && c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else if (c !== undefined) {\r\n    this.state = \"path\";\r\n    if (c !== 47) {\r\n      --this.pointer;\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse path\"] = function parsePath(c) {\r\n  if (isNaN(c) || c === 47 || (isSpecial(this.url) && c === 92) ||\r\n      (!this.stateOverride && (c === 63 || c === 35))) {\r\n    if (isSpecial(this.url) && c === 92) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (isDoubleDot(this.buffer)) {\r\n      shortenPath(this.url);\r\n      if (c !== 47 && !(isSpecial(this.url) && c === 92)) {\r\n        this.url.path.push(\"\");\r\n      }\r\n    } else if (isSingleDot(this.buffer) && c !== 47 &&\r\n               !(isSpecial(this.url) && c === 92)) {\r\n      this.url.path.push(\"\");\r\n    } else if (!isSingleDot(this.buffer)) {\r\n      if (this.url.scheme === \"file\" && this.url.path.length === 0 && isWindowsDriveLetterString(this.buffer)) {\r\n        if (this.url.host !== \"\" && this.url.host !== null) {\r\n          this.parseError = true;\r\n          this.url.host = \"\";\r\n        }\r\n        this.buffer = this.buffer[0] + \":\";\r\n      }\r\n      this.url.path.push(this.buffer);\r\n    }\r\n    this.buffer = \"\";\r\n    if (this.url.scheme === \"file\" && (c === undefined || c === 63 || c === 35)) {\r\n      while (this.url.path.length > 1 && this.url.path[0] === \"\") {\r\n        this.parseError = true;\r\n        this.url.path.shift();\r\n      }\r\n    }\r\n    if (c === 63) {\r\n      this.url.query = \"\";\r\n      this.state = \"query\";\r\n    }\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += percentEncodeChar(c, isPathPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse cannot-be-a-base-URL path\"] = function parseCannotBeABaseURLPath(c) {\r\n  if (c === 63) {\r\n    this.url.query = \"\";\r\n    this.state = \"query\";\r\n  } else if (c === 35) {\r\n    this.url.fragment = \"\";\r\n    this.state = \"fragment\";\r\n  } else {\r\n    // TODO: Add: not a URL code point\r\n    if (!isNaN(c) && c !== 37) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (c === 37 &&\r\n        (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n         !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    if (!isNaN(c)) {\r\n      this.url.path[0] = this.url.path[0] + percentEncodeChar(c, isC0ControlPercentEncode);\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse query\"] = function parseQuery(c, cStr) {\r\n  if (isNaN(c) || (!this.stateOverride && c === 35)) {\r\n    if (!isSpecial(this.url) || this.url.scheme === \"ws\" || this.url.scheme === \"wss\") {\r\n      this.encodingOverride = \"utf-8\";\r\n    }\r\n\r\n    const buffer = new Buffer(this.buffer); // TODO: Use encoding override instead\r\n    for (let i = 0; i < buffer.length; ++i) {\r\n      if (buffer[i] < 0x21 || buffer[i] > 0x7E || buffer[i] === 0x22 || buffer[i] === 0x23 ||\r\n          buffer[i] === 0x3C || buffer[i] === 0x3E) {\r\n        this.url.query += percentEncode(buffer[i]);\r\n      } else {\r\n        this.url.query += String.fromCodePoint(buffer[i]);\r\n      }\r\n    }\r\n\r\n    this.buffer = \"\";\r\n    if (c === 35) {\r\n      this.url.fragment = \"\";\r\n      this.state = \"fragment\";\r\n    }\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.buffer += cStr;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nURLStateMachine.prototype[\"parse fragment\"] = function parseFragment(c) {\r\n  if (isNaN(c)) { // do nothing\r\n  } else if (c === 0x0) {\r\n    this.parseError = true;\r\n  } else {\r\n    // TODO: If c is not a URL code point and not \"%\", parse error.\r\n    if (c === 37 &&\r\n      (!isASCIIHex(this.input[this.pointer + 1]) ||\r\n        !isASCIIHex(this.input[this.pointer + 2]))) {\r\n      this.parseError = true;\r\n    }\r\n\r\n    this.url.fragment += percentEncodeChar(c, isC0ControlPercentEncode);\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nfunction serializeURL(url, excludeFragment) {\r\n  let output = url.scheme + \":\";\r\n  if (url.host !== null) {\r\n    output += \"//\";\r\n\r\n    if (url.username !== \"\" || url.password !== \"\") {\r\n      output += url.username;\r\n      if (url.password !== \"\") {\r\n        output += \":\" + url.password;\r\n      }\r\n      output += \"@\";\r\n    }\r\n\r\n    output += serializeHost(url.host);\r\n\r\n    if (url.port !== null) {\r\n      output += \":\" + url.port;\r\n    }\r\n  } else if (url.host === null && url.scheme === \"file\") {\r\n    output += \"//\";\r\n  }\r\n\r\n  if (url.cannotBeABaseURL) {\r\n    output += url.path[0];\r\n  } else {\r\n    for (const string of url.path) {\r\n      output += \"/\" + string;\r\n    }\r\n  }\r\n\r\n  if (url.query !== null) {\r\n    output += \"?\" + url.query;\r\n  }\r\n\r\n  if (!excludeFragment && url.fragment !== null) {\r\n    output += \"#\" + url.fragment;\r\n  }\r\n\r\n  return output;\r\n}\r\n\r\nfunction serializeOrigin(tuple) {\r\n  let result = tuple.scheme + \"://\";\r\n  result += serializeHost(tuple.host);\r\n\r\n  if (tuple.port !== null) {\r\n    result += \":\" + tuple.port;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nmodule.exports.serializeURL = serializeURL;\r\n\r\nmodule.exports.serializeURLOrigin = function (url) {\r\n  // https://url.spec.whatwg.org/#concept-url-origin\r\n  switch (url.scheme) {\r\n    case \"blob\":\r\n      try {\r\n        return module.exports.serializeURLOrigin(module.exports.parseURL(url.path[0]));\r\n      } catch (e) {\r\n        // serializing an opaque origin returns \"null\"\r\n        return \"null\";\r\n      }\r\n    case \"ftp\":\r\n    case \"gopher\":\r\n    case \"http\":\r\n    case \"https\":\r\n    case \"ws\":\r\n    case \"wss\":\r\n      return serializeOrigin({\r\n        scheme: url.scheme,\r\n        host: url.host,\r\n        port: url.port\r\n      });\r\n    case \"file\":\r\n      // spec says \"exercise to the reader\", chrome says \"file://\"\r\n      return \"file://\";\r\n    default:\r\n      // serializing an opaque origin returns \"null\"\r\n      return \"null\";\r\n  }\r\n};\r\n\r\nmodule.exports.basicURLParse = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  const usm = new URLStateMachine(input, options.baseURL, options.encodingOverride, options.url, options.stateOverride);\r\n  if (usm.failure) {\r\n    return \"failure\";\r\n  }\r\n\r\n  return usm.url;\r\n};\r\n\r\nmodule.exports.setTheUsername = function (url, username) {\r\n  url.username = \"\";\r\n  const decoded = punycode.ucs2.decode(username);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.username += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.setThePassword = function (url, password) {\r\n  url.password = \"\";\r\n  const decoded = punycode.ucs2.decode(password);\r\n  for (let i = 0; i < decoded.length; ++i) {\r\n    url.password += percentEncodeChar(decoded[i], isUserinfoPercentEncode);\r\n  }\r\n};\r\n\r\nmodule.exports.serializeHost = serializeHost;\r\n\r\nmodule.exports.cannotHaveAUsernamePasswordPort = cannotHaveAUsernamePasswordPort;\r\n\r\nmodule.exports.serializeInteger = function (integer) {\r\n  return String(integer);\r\n};\r\n\r\nmodule.exports.parseURL = function (input, options) {\r\n  if (options === undefined) {\r\n    options = {};\r\n  }\r\n\r\n  // We don't handle blobs, so this just delegates:\r\n  return module.exports.basicURLParse(input, { baseURL: options.baseURL, encodingOverride: options.encodingOverride });\r\n};\r\n","\"use strict\";\n\nmodule.exports.mixin = function mixin(target, source) {\n  const keys = Object.getOwnPropertyNames(source);\n  for (let i = 0; i < keys.length; ++i) {\n    Object.defineProperty(target, keys[i], Object.getOwnPropertyDescriptor(source, keys[i]));\n  }\n};\n\nmodule.exports.wrapperSymbol = Symbol(\"wrapper\");\nmodule.exports.implSymbol = Symbol(\"impl\");\n\nmodule.exports.wrapperForImpl = function (impl) {\n  return impl[module.exports.wrapperSymbol];\n};\n\nmodule.exports.implForWrapper = function (wrapper) {\n  return wrapper[module.exports.implSymbol];\n};\n\n","'use strict';\n\nvar parseUrl = require('url').parse;\n\nvar DEFAULT_PORTS = {\n  ftp: 21,\n  gopher: 70,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443,\n};\n\nvar stringEndsWith = String.prototype.endsWith || function(s) {\n  return s.length <= this.length &&\n    this.indexOf(s, this.length - s.length) !== -1;\n};\n\n/**\n * @param {string|object} url - The URL, or the result from url.parse.\n * @return {string} The URL of the proxy that should handle the request to the\n *  given URL. If no proxy is set, this will be an empty string.\n */\nfunction getProxyForUrl(url) {\n  var parsedUrl = typeof url === 'string' ? parseUrl(url) : url || {};\n  var proto = parsedUrl.protocol;\n  var hostname = parsedUrl.host;\n  var port = parsedUrl.port;\n  if (typeof hostname !== 'string' || !hostname || typeof proto !== 'string') {\n    return '';  // Don't proxy URLs without a valid scheme or host.\n  }\n\n  proto = proto.split(':', 1)[0];\n  // Stripping ports in this way instead of using parsedUrl.hostname to make\n  // sure that the brackets around IPv6 addresses are kept.\n  hostname = hostname.replace(/:\\d*$/, '');\n  port = parseInt(port) || DEFAULT_PORTS[proto] || 0;\n  if (!shouldProxy(hostname, port)) {\n    return '';  // Don't proxy URLs that match NO_PROXY.\n  }\n\n  var proxy =\n    getEnv('npm_config_' + proto + '_proxy') ||\n    getEnv(proto + '_proxy') ||\n    getEnv('npm_config_proxy') ||\n    getEnv('all_proxy');\n  if (proxy && proxy.indexOf('://') === -1) {\n    // Missing scheme in proxy, default to the requested URL's scheme.\n    proxy = proto + '://' + proxy;\n  }\n  return proxy;\n}\n\n/**\n * Determines whether a given URL should be proxied.\n *\n * @param {string} hostname - The host name of the URL.\n * @param {number} port - The effective port of the URL.\n * @returns {boolean} Whether the given URL should be proxied.\n * @private\n */\nfunction shouldProxy(hostname, port) {\n  var NO_PROXY =\n    (getEnv('npm_config_no_proxy') || getEnv('no_proxy')).toLowerCase();\n  if (!NO_PROXY) {\n    return true;  // Always proxy if NO_PROXY is not set.\n  }\n  if (NO_PROXY === '*') {\n    return false;  // Never proxy if wildcard is set.\n  }\n\n  return NO_PROXY.split(/[,\\s]/).every(function(proxy) {\n    if (!proxy) {\n      return true;  // Skip zero-length hosts.\n    }\n    var parsedProxy = proxy.match(/^(.+):(\\d+)$/);\n    var parsedProxyHostname = parsedProxy ? parsedProxy[1] : proxy;\n    var parsedProxyPort = parsedProxy ? parseInt(parsedProxy[2]) : 0;\n    if (parsedProxyPort && parsedProxyPort !== port) {\n      return true;  // Skip if ports don't match.\n    }\n\n    if (!/^[.*]/.test(parsedProxyHostname)) {\n      // No wildcards, so stop proxying if there is an exact match.\n      return hostname !== parsedProxyHostname;\n    }\n\n    if (parsedProxyHostname.charAt(0) === '*') {\n      // Remove leading wildcard.\n      parsedProxyHostname = parsedProxyHostname.slice(1);\n    }\n    // Stop proxying if the hostname ends with the no_proxy host.\n    return !stringEndsWith.call(hostname, parsedProxyHostname);\n  });\n}\n\n/**\n * Get the value for an environment variable.\n *\n * @param {string} key - The name of the environment variable.\n * @return {string} The value of the environment variable.\n * @private\n */\nfunction getEnv(key) {\n  return process.env[key.toLowerCase()] || process.env[key.toUpperCase()] || '';\n}\n\nexports.getProxyForUrl = getProxyForUrl;\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PythonShell = exports.NewlineTransformer = exports.PythonShellErrorWithLogs = exports.PythonShellError = void 0;\r\nconst events_1 = require(\"events\");\r\nconst child_process_1 = require(\"child_process\");\r\nconst os_1 = require(\"os\");\r\nconst path_1 = require(\"path\");\r\nconst stream_1 = require(\"stream\");\r\nconst fs_1 = require(\"fs\");\r\nconst util_1 = require(\"util\");\r\nfunction toArray(source) {\r\n    if (typeof source === 'undefined' || source === null) {\r\n        return [];\r\n    }\r\n    else if (!Array.isArray(source)) {\r\n        return [source];\r\n    }\r\n    return source;\r\n}\r\n/**\r\n * adds arguments as properties to obj\r\n */\r\nfunction extend(obj, ...args) {\r\n    Array.prototype.slice.call(arguments, 1).forEach(function (source) {\r\n        if (source) {\r\n            for (let key in source) {\r\n                obj[key] = source[key];\r\n            }\r\n        }\r\n    });\r\n    return obj;\r\n}\r\n/**\r\n * gets a random int from 0-10000000000\r\n */\r\nfunction getRandomInt() {\r\n    return Math.floor(Math.random() * 10000000000);\r\n}\r\nconst execPromise = (0, util_1.promisify)(child_process_1.exec);\r\nclass PythonShellError extends Error {\r\n}\r\nexports.PythonShellError = PythonShellError;\r\nclass PythonShellErrorWithLogs extends PythonShellError {\r\n}\r\nexports.PythonShellErrorWithLogs = PythonShellErrorWithLogs;\r\n/**\r\n * Takes in a string stream and emits batches seperated by newlines\r\n */\r\nclass NewlineTransformer extends stream_1.Transform {\r\n    _transform(chunk, encoding, callback) {\r\n        let data = chunk.toString();\r\n        if (this._lastLineData)\r\n            data = this._lastLineData + data;\r\n        const lines = data.split(os_1.EOL);\r\n        this._lastLineData = lines.pop();\r\n        //@ts-ignore this works, node ignores the encoding if it's a number\r\n        lines.forEach(this.push.bind(this));\r\n        callback();\r\n    }\r\n    _flush(done) {\r\n        if (this._lastLineData)\r\n            this.push(this._lastLineData);\r\n        this._lastLineData = null;\r\n        done();\r\n    }\r\n}\r\nexports.NewlineTransformer = NewlineTransformer;\r\n/**\r\n * An interactive Python shell exchanging data through stdio\r\n * @param {string} script    The python script to execute\r\n * @param {object} [options] The launch options (also passed to child_process.spawn)\r\n * @param [stdoutSplitter] Optional. Splits stdout into chunks, defaulting to splitting into newline-seperated lines\r\n * @param [stderrSplitter] Optional. splits stderr into chunks, defaulting to splitting into newline-seperated lines\r\n * @constructor\r\n */\r\nclass PythonShell extends events_1.EventEmitter {\r\n    /**\r\n     * spawns a python process\r\n     * @param scriptPath path to script. Relative to current directory or options.scriptFolder if specified\r\n     * @param options\r\n     * @param stdoutSplitter Optional. Splits stdout into chunks, defaulting to splitting into newline-seperated lines\r\n     * @param stderrSplitter Optional. splits stderr into chunks, defaulting to splitting into newline-seperated lines\r\n     */\r\n    constructor(scriptPath, options, stdoutSplitter = null, stderrSplitter = null) {\r\n        super();\r\n        /**\r\n         * returns either pythonshell func (if val string) or custom func (if val Function)\r\n         */\r\n        function resolve(type, val) {\r\n            if (typeof val === 'string') {\r\n                // use a built-in function using its name\r\n                return PythonShell[type][val];\r\n            }\r\n            else if (typeof val === 'function') {\r\n                // use a custom function\r\n                return val;\r\n            }\r\n        }\r\n        if (scriptPath.trim().length == 0)\r\n            throw Error(\"scriptPath cannot be empty! You must give a script for python to run\");\r\n        let self = this;\r\n        let errorData = '';\r\n        events_1.EventEmitter.call(this);\r\n        options = extend({}, PythonShell.defaultOptions, options);\r\n        let pythonPath;\r\n        if (!options.pythonPath) {\r\n            pythonPath = PythonShell.defaultPythonPath;\r\n        }\r\n        else\r\n            pythonPath = options.pythonPath;\r\n        let pythonOptions = toArray(options.pythonOptions);\r\n        let scriptArgs = toArray(options.args);\r\n        this.scriptPath = (0, path_1.join)(options.scriptPath || '', scriptPath);\r\n        this.command = pythonOptions.concat(this.scriptPath, scriptArgs);\r\n        this.mode = options.mode || 'text';\r\n        this.formatter = resolve('format', options.formatter || this.mode);\r\n        this.parser = resolve('parse', options.parser || this.mode);\r\n        // We don't expect users to ever format stderr as JSON so we default to text mode\r\n        this.stderrParser = resolve('parse', options.stderrParser || 'text');\r\n        this.terminated = false;\r\n        this.childProcess = (0, child_process_1.spawn)(pythonPath, this.command, options);\r\n        ['stdout', 'stdin', 'stderr'].forEach(function (name) {\r\n            self[name] = self.childProcess[name];\r\n            self.parser && self[name] && self[name].setEncoding(options.encoding || 'utf8');\r\n        });\r\n        // Node buffers stdout&stderr in batches regardless of newline placement\r\n        // This is troublesome if you want to recieve distinct individual messages\r\n        // for example JSON parsing breaks if it recieves partial JSON\r\n        // so we use newlineTransformer to emit each batch seperated by newline\r\n        if (this.parser && this.stdout) {\r\n            if (!stdoutSplitter)\r\n                stdoutSplitter = new NewlineTransformer();\r\n            // note that setting the encoding turns the chunk into a string\r\n            stdoutSplitter.setEncoding(options.encoding || 'utf8');\r\n            this.stdout.pipe(stdoutSplitter).on('data', (chunk) => {\r\n                this.emit('message', self.parser(chunk));\r\n            });\r\n        }\r\n        // listen to stderr and emit errors for incoming data\r\n        if (this.stderrParser && this.stderr) {\r\n            if (!stderrSplitter)\r\n                stderrSplitter = new NewlineTransformer();\r\n            // note that setting the encoding turns the chunk into a string\r\n            stderrSplitter.setEncoding(options.encoding || 'utf8');\r\n            this.stderr.pipe(stderrSplitter).on('data', (chunk) => {\r\n                this.emit('stderr', self.stderrParser(chunk));\r\n            });\r\n        }\r\n        if (this.stderr) {\r\n            this.stderr.on('data', function (data) {\r\n                errorData += '' + data;\r\n            });\r\n            this.stderr.on('end', function () {\r\n                self.stderrHasEnded = true;\r\n                terminateIfNeeded();\r\n            });\r\n        }\r\n        else {\r\n            self.stderrHasEnded = true;\r\n        }\r\n        if (this.stdout) {\r\n            this.stdout.on('end', function () {\r\n                self.stdoutHasEnded = true;\r\n                terminateIfNeeded();\r\n            });\r\n        }\r\n        else {\r\n            self.stdoutHasEnded = true;\r\n        }\r\n        this.childProcess.on('error', function (err) {\r\n            self.emit('error', err);\r\n        });\r\n        this.childProcess.on('exit', function (code, signal) {\r\n            self.exitCode = code;\r\n            self.exitSignal = signal;\r\n            terminateIfNeeded();\r\n        });\r\n        function terminateIfNeeded() {\r\n            if (!self.stderrHasEnded || !self.stdoutHasEnded || (self.exitCode == null && self.exitSignal == null))\r\n                return;\r\n            let err;\r\n            if (self.exitCode && self.exitCode !== 0) {\r\n                if (errorData) {\r\n                    err = self.parseError(errorData);\r\n                }\r\n                else {\r\n                    err = new PythonShellError('process exited with code ' + self.exitCode);\r\n                }\r\n                err = extend(err, {\r\n                    executable: pythonPath,\r\n                    options: pythonOptions.length ? pythonOptions : null,\r\n                    script: self.scriptPath,\r\n                    args: scriptArgs.length ? scriptArgs : null,\r\n                    exitCode: self.exitCode\r\n                });\r\n                // do not emit error if only a callback is used\r\n                if (self.listeners('pythonError').length || !self._endCallback) {\r\n                    self.emit('pythonError', err);\r\n                }\r\n            }\r\n            self.terminated = true;\r\n            self.emit('close');\r\n            self._endCallback && self._endCallback(err, self.exitCode, self.exitSignal);\r\n        }\r\n        ;\r\n    }\r\n    /**\r\n     * checks syntax without executing code\r\n     * @returns rejects promise w/ string error output if syntax failure\r\n     */\r\n    static checkSyntax(code) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const randomInt = getRandomInt();\r\n            const filePath = (0, os_1.tmpdir)() + path_1.sep + `pythonShellSyntaxCheck${randomInt}.py`;\r\n            const writeFilePromise = (0, util_1.promisify)(fs_1.writeFile);\r\n            return writeFilePromise(filePath, code).then(() => {\r\n                return this.checkSyntaxFile(filePath);\r\n            });\r\n        });\r\n    }\r\n    static getPythonPath() {\r\n        return this.defaultOptions.pythonPath ? this.defaultOptions.pythonPath : this.defaultPythonPath;\r\n    }\r\n    /**\r\n     * checks syntax without executing code\r\n     * @returns {Promise} rejects w/ stderr if syntax failure\r\n     */\r\n    static checkSyntaxFile(filePath) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const pythonPath = this.getPythonPath();\r\n            let compileCommand = `${pythonPath} -m py_compile ${filePath}`;\r\n            return execPromise(compileCommand);\r\n        });\r\n    }\r\n    /**\r\n     * Runs a Python script and returns collected messages as a promise.\r\n     * If the promise is rejected, the err will probably be of type PythonShellErrorWithLogs\r\n     * @param scriptPath   The path to the script to execute\r\n     * @param options  The execution options\r\n     */\r\n    static run(scriptPath, options) {\r\n        return new Promise((resolve, reject) => {\r\n            let pyshell = new PythonShell(scriptPath, options);\r\n            let output = [];\r\n            pyshell.on('message', function (message) {\r\n                output.push(message);\r\n            }).end(function (err) {\r\n                if (err) {\r\n                    err.logs = output;\r\n                    reject(err);\r\n                }\r\n                else\r\n                    resolve(output);\r\n            });\r\n        });\r\n    }\r\n    ;\r\n    /**\r\n     * Runs the inputted string of python code and returns collected messages as a promise. DO NOT ALLOW UNTRUSTED USER INPUT HERE!\r\n     * @param code   The python code to execute\r\n     * @param options  The execution options\r\n     * @return a promise with the output from the python script\r\n     */\r\n    static runString(code, options) {\r\n        // put code in temp file\r\n        const randomInt = getRandomInt();\r\n        const filePath = os_1.tmpdir + path_1.sep + `pythonShellFile${randomInt}.py`;\r\n        (0, fs_1.writeFileSync)(filePath, code);\r\n        return PythonShell.run(filePath, options);\r\n    }\r\n    ;\r\n    static getVersion(pythonPath) {\r\n        if (!pythonPath)\r\n            pythonPath = this.getPythonPath();\r\n        return execPromise(pythonPath + \" --version\");\r\n    }\r\n    static getVersionSync(pythonPath) {\r\n        if (!pythonPath)\r\n            pythonPath = this.getPythonPath();\r\n        return (0, child_process_1.execSync)(pythonPath + \" --version\").toString();\r\n    }\r\n    /**\r\n     * Parses an error thrown from the Python process through stderr\r\n     * @param  {string|Buffer} data The stderr contents to parse\r\n     * @return {Error} The parsed error with extended stack trace when traceback is available\r\n     */\r\n    parseError(data) {\r\n        let text = '' + data;\r\n        let error;\r\n        if (/^Traceback/.test(text)) {\r\n            // traceback data is available\r\n            let lines = text.trim().split(os_1.EOL);\r\n            let exception = lines.pop();\r\n            error = new PythonShellError(exception);\r\n            error.traceback = data;\r\n            // extend stack trace\r\n            error.stack += os_1.EOL + '    ----- Python Traceback -----' + os_1.EOL + '  ';\r\n            error.stack += lines.slice(1).join(os_1.EOL + '  ');\r\n        }\r\n        else {\r\n            // otherwise, create a simpler error with stderr contents\r\n            error = new PythonShellError(text);\r\n        }\r\n        return error;\r\n    }\r\n    ;\r\n    /**\r\n     * Sends a message to the Python shell through stdin\r\n     * Override this method to format data to be sent to the Python process\r\n     * @returns {PythonShell} The same instance for chaining calls\r\n     */\r\n    send(message) {\r\n        if (!this.stdin)\r\n            throw new Error(\"stdin not open for writing\");\r\n        let data = this.formatter ? this.formatter(message) : message;\r\n        if (this.mode !== 'binary')\r\n            data += os_1.EOL;\r\n        this.stdin.write(data);\r\n        return this;\r\n    }\r\n    ;\r\n    /**\r\n     * Closes the stdin stream. Unless python is listening for stdin in a loop\r\n     * this should cause the process to finish its work and close.\r\n     * @returns {PythonShell} The same instance for chaining calls\r\n     */\r\n    end(callback) {\r\n        if (this.childProcess.stdin) {\r\n            this.childProcess.stdin.end();\r\n        }\r\n        this._endCallback = callback;\r\n        return this;\r\n    }\r\n    ;\r\n    /**\r\n     * Sends a kill signal to the process\r\n     * @returns {PythonShell} The same instance for chaining calls\r\n     */\r\n    kill(signal) {\r\n        this.terminated = this.childProcess.kill(signal);\r\n        return this;\r\n    }\r\n    ;\r\n    /**\r\n     * Alias for kill.\r\n     * @deprecated\r\n     */\r\n    terminate(signal) {\r\n        // todo: remove this next breaking release\r\n        return this.kill(signal);\r\n    }\r\n}\r\nexports.PythonShell = PythonShell;\r\n// starting 2020 python2 is deprecated so we choose 3 as default\r\nPythonShell.defaultPythonPath = process.platform != \"win32\" ? \"python3\" : \"python\";\r\nPythonShell.defaultOptions = {}; //allow global overrides for options\r\n// built-in formatters\r\nPythonShell.format = {\r\n    text: function toText(data) {\r\n        if (!data)\r\n            return '';\r\n        else if (typeof data !== 'string')\r\n            return data.toString();\r\n        return data;\r\n    },\r\n    json: function toJson(data) {\r\n        return JSON.stringify(data);\r\n    }\r\n};\r\n//built-in parsers\r\nPythonShell.parse = {\r\n    text: function asText(data) {\r\n        return data;\r\n    },\r\n    json: function asJson(data) {\r\n        return JSON.parse(data);\r\n    }\r\n};\r\n;\r\n//# sourceMappingURL=index.js.map","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet forceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tforceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tforceColor = 1;\n}\n\nif ('FORCE_COLOR' in env) {\n\tif (env.FORCE_COLOR === 'true') {\n\t\tforceColor = 1;\n\t} else if (env.FORCE_COLOR === 'false') {\n\t\tforceColor = 0;\n\t} else {\n\t\tforceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, streamIsTTY) {\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (hasFlag('color=16m') ||\n\t\thasFlag('color=full') ||\n\t\thasFlag('color=truecolor')) {\n\t\treturn 3;\n\t}\n\n\tif (hasFlag('color=256')) {\n\t\treturn 2;\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream) {\n\tconst level = supportsColor(stream, stream && stream.isTTY);\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: translateLevel(supportsColor(true, tty.isatty(1))),\n\tstderr: translateLevel(supportsColor(true, tty.isatty(2)))\n};\n","module.exports = require(\"assert\");","module.exports = require(\"buffer\");","module.exports = require(\"child_process\");","module.exports = require(\"crypto\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"punycode\");","module.exports = require(\"querystring\");","module.exports = require(\"stream\");","module.exports = require(\"tls\");","module.exports = require(\"tty\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"worker_threads\");","/**\n * @license\n * web-streams-polyfill v4.0.0-beta.3\n * Copyright 2021 Mattias Buelens, Diwank Singh Tomer and other contributors.\n * This code is released under the MIT license.\n * SPDX-License-Identifier: MIT\n */\nconst e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function t(){}function r(e){return\"object\"==typeof e&&null!==e||\"function\"==typeof e}const o=t;function n(e,t){try{Object.defineProperty(e,\"name\",{value:t,configurable:!0})}catch(e){}}const a=Promise,i=Promise.prototype.then,l=Promise.resolve.bind(a),s=Promise.reject.bind(a);function u(e){return new a(e)}function c(e){return l(e)}function d(e){return s(e)}function f(e,t,r){return i.call(e,t,r)}function b(e,t,r){f(f(e,t,r),void 0,o)}function h(e,t){b(e,t)}function _(e,t){b(e,void 0,t)}function p(e,t,r){return f(e,t,r)}function m(e){f(e,void 0,o)}let y=e=>{if(\"function\"==typeof queueMicrotask)y=queueMicrotask;else{const e=c(void 0);y=t=>f(e,t)}return y(e)};function g(e,t,r){if(\"function\"!=typeof e)throw new TypeError(\"Argument is not a function\");return Function.prototype.apply.call(e,t,r)}function w(e,t,r){try{return c(g(e,t,r))}catch(e){return d(e)}}class S{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){const e=this._front;let t=e;const r=this._cursor;let o=r+1;const n=e._elements,a=n[r];return 16384===o&&(t=e._next,o=0),--this._size,this._cursor=o,e!==t&&(this._front=t),n[r]=void 0,a}forEach(e){let t=this._cursor,r=this._front,o=r._elements;for(;!(t===o.length&&void 0===r._next||t===o.length&&(r=r._next,o=r._elements,t=0,0===o.length));)e(o[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}const v=e(\"[[AbortSteps]]\"),R=e(\"[[ErrorSteps]]\"),T=e(\"[[CancelSteps]]\"),q=e(\"[[PullSteps]]\"),C=e(\"[[ReleaseSteps]]\");function E(e,t){e._ownerReadableStream=t,t._reader=e,\"readable\"===t._state?O(e):\"closed\"===t._state?function(e){O(e),j(e)}(e):B(e,t._storedError)}function P(e,t){return Gt(e._ownerReadableStream,t)}function W(e){const t=e._ownerReadableStream;\"readable\"===t._state?A(e,new TypeError(\"Reader was released and can no longer be used to monitor the stream's closedness\")):function(e,t){B(e,t)}(e,new TypeError(\"Reader was released and can no longer be used to monitor the stream's closedness\")),t._readableStreamController[C](),t._reader=void 0,e._ownerReadableStream=void 0}function k(e){return new TypeError(\"Cannot \"+e+\" a stream using a released reader\")}function O(e){e._closedPromise=u(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function B(e,t){O(e),A(e,t)}function A(e,t){void 0!==e._closedPromise_reject&&(m(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function j(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const z=Number.isFinite||function(e){return\"number\"==typeof e&&isFinite(e)},L=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function F(e,t){if(void 0!==e&&(\"object\"!=typeof(r=e)&&\"function\"!=typeof r))throw new TypeError(`${t} is not an object.`);var r}function I(e,t){if(\"function\"!=typeof e)throw new TypeError(`${t} is not a function.`)}function D(e,t){if(!function(e){return\"object\"==typeof e&&null!==e||\"function\"==typeof e}(e))throw new TypeError(`${t} is not an object.`)}function $(e,t,r){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function M(e,t,r){if(void 0===e)throw new TypeError(`${t} is required in '${r}'.`)}function Y(e){return Number(e)}function Q(e){return 0===e?0:e}function N(e,t){const r=Number.MAX_SAFE_INTEGER;let o=Number(e);if(o=Q(o),!z(o))throw new TypeError(`${t} is not a finite number`);if(o=function(e){return Q(L(e))}(o),o<0||o>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return z(o)&&0!==o?o:0}function H(e){if(!r(e))return!1;if(\"function\"!=typeof e.getReader)return!1;try{return\"boolean\"==typeof e.locked}catch(e){return!1}}function x(e){if(!r(e))return!1;if(\"function\"!=typeof e.getWriter)return!1;try{return\"boolean\"==typeof e.locked}catch(e){return!1}}function V(e,t){if(!Vt(e))throw new TypeError(`${t} is not a ReadableStream.`)}function U(e,t){e._reader._readRequests.push(t)}function G(e,t,r){const o=e._reader._readRequests.shift();r?o._closeSteps():o._chunkSteps(t)}function X(e){return e._reader._readRequests.length}function J(e){const t=e._reader;return void 0!==t&&!!K(t)}class ReadableStreamDefaultReader{constructor(e){if($(e,1,\"ReadableStreamDefaultReader\"),V(e,\"First parameter\"),Ut(e))throw new TypeError(\"This stream has already been locked for exclusive reading by another reader\");E(this,e),this._readRequests=new S}get closed(){return K(this)?this._closedPromise:d(ee(\"closed\"))}cancel(e){return K(this)?void 0===this._ownerReadableStream?d(k(\"cancel\")):P(this,e):d(ee(\"cancel\"))}read(){if(!K(this))return d(ee(\"read\"));if(void 0===this._ownerReadableStream)return d(k(\"read from\"));let e,t;const r=u(((r,o)=>{e=r,t=o}));return function(e,t){const r=e._ownerReadableStream;r._disturbed=!0,\"closed\"===r._state?t._closeSteps():\"errored\"===r._state?t._errorSteps(r._storedError):r._readableStreamController[q](t)}(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!K(this))throw ee(\"releaseLock\");void 0!==this._ownerReadableStream&&function(e){W(e);const t=new TypeError(\"Reader was released\");Z(e,t)}(this)}}function K(e){return!!r(e)&&(!!Object.prototype.hasOwnProperty.call(e,\"_readRequests\")&&e instanceof ReadableStreamDefaultReader)}function Z(e,t){const r=e._readRequests;e._readRequests=new S,r.forEach((e=>{e._errorSteps(t)}))}function ee(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(ReadableStreamDefaultReader.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),n(ReadableStreamDefaultReader.prototype.cancel,\"cancel\"),n(ReadableStreamDefaultReader.prototype.read,\"read\"),n(ReadableStreamDefaultReader.prototype.releaseLock,\"releaseLock\"),\"symbol\"==typeof e.toStringTag&&Object.defineProperty(ReadableStreamDefaultReader.prototype,e.toStringTag,{value:\"ReadableStreamDefaultReader\",configurable:!0});class te{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?p(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?p(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;return void 0===e?d(k(\"iterate\")):f(e.read(),(e=>{var t;return this._ongoingPromise=void 0,e.done&&(this._isFinished=!0,null===(t=this._reader)||void 0===t||t.releaseLock(),this._reader=void 0),e}),(e=>{var t;throw this._ongoingPromise=void 0,this._isFinished=!0,null===(t=this._reader)||void 0===t||t.releaseLock(),this._reader=void 0,e}))}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(void 0===t)return d(k(\"finish iterating\"));if(this._reader=void 0,!this._preventCancel){const r=t.cancel(e);return t.releaseLock(),p(r,(()=>({value:e,done:!0})))}return t.releaseLock(),c({value:e,done:!0})}}const re={next(){return oe(this)?this._asyncIteratorImpl.next():d(ne(\"next\"))},return(e){return oe(this)?this._asyncIteratorImpl.return(e):d(ne(\"return\"))}};function oe(e){if(!r(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,\"_asyncIteratorImpl\"))return!1;try{return e._asyncIteratorImpl instanceof te}catch(e){return!1}}function ne(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}\"symbol\"==typeof e.asyncIterator&&Object.defineProperty(re,e.asyncIterator,{value(){return this},writable:!0,configurable:!0});const ae=Number.isNaN||function(e){return e!=e};function ie(e,t,r,o,n){new Uint8Array(e).set(new Uint8Array(r,o,n),t)}function le(e){const t=function(e,t,r){if(e.slice)return e.slice(t,r);const o=r-t,n=new ArrayBuffer(o);return ie(n,0,e,t,o),n}(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function se(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function ue(e,t,r){if(\"number\"!=typeof(o=r)||ae(o)||o<0||r===1/0)throw new RangeError(\"Size must be a finite, non-NaN, non-negative number.\");var o;e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function ce(e){e._queue=new S,e._queueTotalSize=0}class ReadableStreamBYOBRequest{constructor(){throw new TypeError(\"Illegal constructor\")}get view(){if(!fe(this))throw Be(\"view\");return this._view}respond(e){if(!fe(this))throw Be(\"respond\");if($(e,1,\"respond\"),e=N(e,\"First parameter\"),void 0===this._associatedReadableByteStreamController)throw new TypeError(\"This BYOB request has been invalidated\");this._view.buffer,function(e,t){const r=e._pendingPullIntos.peek();if(\"closed\"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError(\"bytesWritten must be 0 when calling respond() on a closed stream\")}else{if(0===t)throw new TypeError(\"bytesWritten must be greater than 0 when calling respond() on a readable stream\");if(r.bytesFilled+t>r.byteLength)throw new RangeError(\"bytesWritten out of range\")}r.buffer=r.buffer,qe(e,t)}(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!fe(this))throw Be(\"respondWithNewView\");if($(e,1,\"respondWithNewView\"),!ArrayBuffer.isView(e))throw new TypeError(\"You can only respond with array buffer views\");if(void 0===this._associatedReadableByteStreamController)throw new TypeError(\"This BYOB request has been invalidated\");e.buffer,function(e,t){const r=e._pendingPullIntos.peek();if(\"closed\"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError(\"The view's length must be 0 when calling respondWithNewView() on a closed stream\")}else if(0===t.byteLength)throw new TypeError(\"The view's length must be greater than 0 when calling respondWithNewView() on a readable stream\");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError(\"The region specified by view does not match byobRequest\");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError(\"The buffer of view has different capacity than byobRequest\");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError(\"The region specified by view is larger than byobRequest\");const o=t.byteLength;r.buffer=t.buffer,qe(e,o)}(this._associatedReadableByteStreamController,e)}}Object.defineProperties(ReadableStreamBYOBRequest.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),n(ReadableStreamBYOBRequest.prototype.respond,\"respond\"),n(ReadableStreamBYOBRequest.prototype.respondWithNewView,\"respondWithNewView\"),\"symbol\"==typeof e.toStringTag&&Object.defineProperty(ReadableStreamBYOBRequest.prototype,e.toStringTag,{value:\"ReadableStreamBYOBRequest\",configurable:!0});class ReadableByteStreamController{constructor(){throw new TypeError(\"Illegal constructor\")}get byobRequest(){if(!de(this))throw Ae(\"byobRequest\");return function(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),o=Object.create(ReadableStreamBYOBRequest.prototype);!function(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}(o,e,r),e._byobRequest=o}return e._byobRequest}(this)}get desiredSize(){if(!de(this))throw Ae(\"desiredSize\");return ke(this)}close(){if(!de(this))throw Ae(\"close\");if(this._closeRequested)throw new TypeError(\"The stream has already been closed; do not close it again!\");const e=this._controlledReadableByteStream._state;if(\"readable\"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);!function(e){const t=e._controlledReadableByteStream;if(e._closeRequested||\"readable\"!==t._state)return;if(e._queueTotalSize>0)return void(e._closeRequested=!0);if(e._pendingPullIntos.length>0){if(e._pendingPullIntos.peek().bytesFilled>0){const t=new TypeError(\"Insufficient bytes to fill elements in the given buffer\");throw Pe(e,t),t}}Ee(e),Xt(t)}(this)}enqueue(e){if(!de(this))throw Ae(\"enqueue\");if($(e,1,\"enqueue\"),!ArrayBuffer.isView(e))throw new TypeError(\"chunk must be an array buffer view\");if(0===e.byteLength)throw new TypeError(\"chunk must have non-zero byteLength\");if(0===e.buffer.byteLength)throw new TypeError(\"chunk's buffer must have non-zero byteLength\");if(this._closeRequested)throw new TypeError(\"stream is closed or draining\");const t=this._controlledReadableByteStream._state;if(\"readable\"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);!function(e,t){const r=e._controlledReadableByteStream;if(e._closeRequested||\"readable\"!==r._state)return;const o=t.buffer,n=t.byteOffset,a=t.byteLength,i=o;if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();t.buffer,0,Re(e),t.buffer=t.buffer,\"none\"===t.readerType&&ge(e,t)}if(J(r))if(function(e){const t=e._controlledReadableByteStream._reader;for(;t._readRequests.length>0;){if(0===e._queueTotalSize)return;We(e,t._readRequests.shift())}}(e),0===X(r))me(e,i,n,a);else{e._pendingPullIntos.length>0&&Ce(e);G(r,new Uint8Array(i,n,a),!1)}else Le(r)?(me(e,i,n,a),Te(e)):me(e,i,n,a);be(e)}(this,e)}error(e){if(!de(this))throw Ae(\"error\");Pe(this,e)}[T](e){he(this),ce(this);const t=this._cancelAlgorithm(e);return Ee(this),t}[q](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void We(this,e);const r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){return void e._errorSteps(t)}const o={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:\"default\"};this._pendingPullIntos.push(o)}U(t,e),be(this)}[C](){if(this._pendingPullIntos.length>0){const e=this._pendingPullIntos.peek();e.readerType=\"none\",this._pendingPullIntos=new S,this._pendingPullIntos.push(e)}}}function de(e){return!!r(e)&&(!!Object.prototype.hasOwnProperty.call(e,\"_controlledReadableByteStream\")&&e instanceof ReadableByteStreamController)}function fe(e){return!!r(e)&&(!!Object.prototype.hasOwnProperty.call(e,\"_associatedReadableByteStreamController\")&&e instanceof ReadableStreamBYOBRequest)}function be(e){const t=function(e){const t=e._controlledReadableByteStream;if(\"readable\"!==t._state)return!1;if(e._closeRequested)return!1;if(!e._started)return!1;if(J(t)&&X(t)>0)return!0;if(Le(t)&&ze(t)>0)return!0;if(ke(e)>0)return!0;return!1}(e);if(!t)return;if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0;b(e._pullAlgorithm(),(()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,be(e)),null)),(t=>(Pe(e,t),null)))}function he(e){Re(e),e._pendingPullIntos=new S}function _e(e,t){let r=!1;\"closed\"===e._state&&(r=!0);const o=pe(t);\"default\"===t.readerType?G(e,o,r):function(e,t,r){const o=e._reader._readIntoRequests.shift();r?o._closeSteps(t):o._chunkSteps(t)}(e,o,r)}function pe(e){const t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function me(e,t,r,o){e._queue.push({buffer:t,byteOffset:r,byteLength:o}),e._queueTotalSize+=o}function ye(e,t,r,o){let n;try{n=t.slice(r,r+o)}catch(t){throw Pe(e,t),t}me(e,n,0,o)}function ge(e,t){t.bytesFilled>0&&ye(e,t.buffer,t.byteOffset,t.bytesFilled),Ce(e)}function we(e,t){const r=t.elementSize,o=t.bytesFilled-t.bytesFilled%r,n=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),a=t.bytesFilled+n,i=a-a%r;let l=n,s=!1;i>o&&(l=i-t.bytesFilled,s=!0);const u=e._queue;for(;l>0;){const r=u.peek(),o=Math.min(l,r.byteLength),n=t.byteOffset+t.bytesFilled;ie(t.buffer,n,r.buffer,r.byteOffset,o),r.byteLength===o?u.shift():(r.byteOffset+=o,r.byteLength-=o),e._queueTotalSize-=o,Se(e,o,t),l-=o}return s}function Se(e,t,r){r.bytesFilled+=t}function ve(e){0===e._queueTotalSize&&e._closeRequested?(Ee(e),Xt(e._controlledReadableByteStream)):be(e)}function Re(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Te(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();we(e,t)&&(Ce(e),_e(e._controlledReadableByteStream,t))}}function qe(e,t){const r=e._pendingPullIntos.peek();Re(e);\"closed\"===e._controlledReadableByteStream._state?function(e,t){\"none\"===t.readerType&&Ce(e);const r=e._controlledReadableByteStream;if(Le(r))for(;ze(r)>0;)_e(r,Ce(e))}(e,r):function(e,t,r){if(Se(0,t,r),\"none\"===r.readerType)return ge(e,r),void Te(e);if(r.bytesFilled<r.elementSize)return;Ce(e);const o=r.bytesFilled%r.elementSize;if(o>0){const t=r.byteOffset+r.bytesFilled;ye(e,r.buffer,t-o,o)}r.bytesFilled-=o,_e(e._controlledReadableByteStream,r),Te(e)}(e,t,r),be(e)}function Ce(e){return e._pendingPullIntos.shift()}function Ee(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Pe(e,t){const r=e._controlledReadableByteStream;\"readable\"===r._state&&(he(e),ce(e),Ee(e),Jt(r,t))}function We(e,t){const r=e._queue.shift();e._queueTotalSize-=r.byteLength,ve(e);const o=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);t._chunkSteps(o)}function ke(e){const t=e._controlledReadableByteStream._state;return\"errored\"===t?null:\"closed\"===t?0:e._strategyHWM-e._queueTotalSize}function Oe(e,t,r){const o=Object.create(ReadableByteStreamController.prototype);let n,a,i;n=void 0!==t.start?()=>t.start(o):()=>{},a=void 0!==t.pull?()=>t.pull(o):()=>c(void 0),i=void 0!==t.cancel?e=>t.cancel(e):()=>c(void 0);const l=t.autoAllocateChunkSize;if(0===l)throw new TypeError(\"autoAllocateChunkSize must be greater than 0\");!function(e,t,r,o,n,a,i){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,ce(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=a,t._pullAlgorithm=o,t._cancelAlgorithm=n,t._autoAllocateChunkSize=i,t._pendingPullIntos=new S,e._readableStreamController=t,b(c(r()),(()=>(t._started=!0,be(t),null)),(e=>(Pe(t,e),null)))}(e,o,n,a,i,r,l)}function Be(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Ae(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function je(e,t){e._reader._readIntoRequests.push(t)}function ze(e){return e._reader._readIntoRequests.length}function Le(e){const t=e._reader;return void 0!==t&&!!Fe(t)}Object.defineProperties(ReadableByteStreamController.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),n(ReadableByteStreamController.prototype.close,\"close\"),n(ReadableByteStreamController.prototype.enqueue,\"enqueue\"),n(ReadableByteStreamController.prototype.error,\"error\"),\"symbol\"==typeof e.toStringTag&&Object.defineProperty(ReadableByteStreamController.prototype,e.toStringTag,{value:\"ReadableByteStreamController\",configurable:!0});class ReadableStreamBYOBReader{constructor(e){if($(e,1,\"ReadableStreamBYOBReader\"),V(e,\"First parameter\"),Ut(e))throw new TypeError(\"This stream has already been locked for exclusive reading by another reader\");if(!de(e._readableStreamController))throw new TypeError(\"Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source\");E(this,e),this._readIntoRequests=new S}get closed(){return Fe(this)?this._closedPromise:d(De(\"closed\"))}cancel(e){return Fe(this)?void 0===this._ownerReadableStream?d(k(\"cancel\")):P(this,e):d(De(\"cancel\"))}read(e){if(!Fe(this))return d(De(\"read\"));if(!ArrayBuffer.isView(e))return d(new TypeError(\"view must be an array buffer view\"));if(0===e.byteLength)return d(new TypeError(\"view must have non-zero byteLength\"));if(0===e.buffer.byteLength)return d(new TypeError(\"view's buffer must have non-zero byteLength\"));if(e.buffer,void 0===this._ownerReadableStream)return d(k(\"read from\"));let t,r;const o=u(((e,o)=>{t=e,r=o}));return function(e,t,r){const o=e._ownerReadableStream;o._disturbed=!0,\"errored\"===o._state?r._errorSteps(o._storedError):function(e,t,r){const o=e._controlledReadableByteStream;let n=1;t.constructor!==DataView&&(n=t.constructor.BYTES_PER_ELEMENT);const a=t.constructor,i=t.buffer,l={buffer:i,bufferByteLength:i.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:n,viewConstructor:a,readerType:\"byob\"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(l),void je(o,r);if(\"closed\"!==o._state){if(e._queueTotalSize>0){if(we(e,l)){const t=pe(l);return ve(e),void r._chunkSteps(t)}if(e._closeRequested){const t=new TypeError(\"Insufficient bytes to fill elements in the given buffer\");return Pe(e,t),void r._errorSteps(t)}}e._pendingPullIntos.push(l),je(o,r),be(e)}else{const e=new a(l.buffer,l.byteOffset,0);r._closeSteps(e)}}(o._readableStreamController,t,r)}(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>r(e)}),o}releaseLock(){if(!Fe(this))throw De(\"releaseLock\");void 0!==this._ownerReadableStream&&function(e){W(e);const t=new TypeError(\"Reader was released\");Ie(e,t)}(this)}}function Fe(e){return!!r(e)&&(!!Object.prototype.hasOwnProperty.call(e,\"_readIntoRequests\")&&e instanceof ReadableStreamBYOBReader)}function Ie(e,t){const r=e._readIntoRequests;e._readIntoRequests=new S,r.forEach((e=>{e._errorSteps(t)}))}function De(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function $e(e,t){const{highWaterMark:r}=e;if(void 0===r)return t;if(ae(r)||r<0)throw new RangeError(\"Invalid highWaterMark\");return r}function Me(e){const{size:t}=e;return t||(()=>1)}function Ye(e,t){F(e,t);const r=null==e?void 0:e.highWaterMark,o=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:Y(r),size:void 0===o?void 0:Qe(o,`${t} has member 'size' that`)}}function Qe(e,t){return I(e,t),t=>Y(e(t))}function Ne(e,t,r){return I(e,r),r=>w(e,t,[r])}function He(e,t,r){return I(e,r),()=>w(e,t,[])}function xe(e,t,r){return I(e,r),r=>g(e,t,[r])}function Ve(e,t,r){return I(e,r),(r,o)=>w(e,t,[r,o])}Object.defineProperties(ReadableStreamBYOBReader.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),n(ReadableStreamBYOBReader.prototype.cancel,\"cancel\"),n(ReadableStreamBYOBReader.prototype.read,\"read\"),n(ReadableStreamBYOBReader.prototype.releaseLock,\"releaseLock\"),\"symbol\"==typeof e.toStringTag&&Object.defineProperty(ReadableStreamBYOBReader.prototype,e.toStringTag,{value:\"ReadableStreamBYOBReader\",configurable:!0});const Ue=\"function\"==typeof AbortController;class WritableStream{constructor(e={},t={}){void 0===e?e=null:D(e,\"First parameter\");const r=Ye(t,\"Second parameter\"),o=function(e,t){F(e,t);const r=null==e?void 0:e.abort,o=null==e?void 0:e.close,n=null==e?void 0:e.start,a=null==e?void 0:e.type,i=null==e?void 0:e.write;return{abort:void 0===r?void 0:Ne(r,e,`${t} has member 'abort' that`),close:void 0===o?void 0:He(o,e,`${t} has member 'close' that`),start:void 0===n?void 0:xe(n,e,`${t} has member 'start' that`),write:void 0===i?void 0:Ve(i,e,`${t} has member 'write' that`),type:a}}(e,\"First parameter\");var n;(n=this)._state=\"writable\",n._storedError=void 0,n._writer=void 0,n._writableStreamController=void 0,n._writeRequests=new S,n._inFlightWriteRequest=void 0,n._closeRequest=void 0,n._inFlightCloseRequest=void 0,n._pendingAbortRequest=void 0,n._backpressure=!1;if(void 0!==o.type)throw new RangeError(\"Invalid type is specified\");const a=Me(r);!function(e,t,r,o){const n=Object.create(WritableStreamDefaultController.prototype);let a,i,l,s;a=void 0!==t.start?()=>t.start(n):()=>{};i=void 0!==t.write?e=>t.write(e,n):()=>c(void 0);l=void 0!==t.close?()=>t.close():()=>c(void 0);s=void 0!==t.abort?e=>t.abort(e):()=>c(void 0);!function(e,t,r,o,n,a,i,l){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,ce(t),t._abortReason=void 0,t._abortController=function(){if(Ue)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=l,t._strategyHWM=i,t._writeAlgorithm=o,t._closeAlgorithm=n,t._abortAlgorithm=a;const s=bt(t);nt(e,s);const u=r();b(c(u),(()=>(t._started=!0,dt(t),null)),(r=>(t._started=!0,Ze(e,r),null)))}(e,n,a,i,l,s,r,o)}(this,o,$e(r,1),a)}get locked(){if(!Ge(this))throw _t(\"locked\");return Xe(this)}abort(e){return Ge(this)?Xe(this)?d(new TypeError(\"Cannot abort a stream that already has a writer\")):Je(this,e):d(_t(\"abort\"))}close(){return Ge(this)?Xe(this)?d(new TypeError(\"Cannot close a stream that already has a writer\")):rt(this)?d(new TypeError(\"Cannot close an already-closing stream\")):Ke(this):d(_t(\"close\"))}getWriter(){if(!Ge(this))throw _t(\"getWriter\");return new WritableStreamDefaultWriter(this)}}function Ge(e){return!!r(e)&&(!!Object.prototype.hasOwnProperty.call(e,\"_writableStreamController\")&&e instanceof WritableStream)}function Xe(e){return void 0!==e._writer}function Je(e,t){var r;if(\"closed\"===e._state||\"errored\"===e._state)return c(void 0);e._writableStreamController._abortReason=t,null===(r=e._writableStreamController._abortController)||void 0===r||r.abort(t);const o=e._state;if(\"closed\"===o||\"errored\"===o)return c(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let n=!1;\"erroring\"===o&&(n=!0,t=void 0);const a=u(((r,o)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:o,_reason:t,_wasAlreadyErroring:n}}));return e._pendingAbortRequest._promise=a,n||et(e,t),a}function Ke(e){const t=e._state;if(\"closed\"===t||\"errored\"===t)return d(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const r=u(((t,r)=>{const o={_resolve:t,_reject:r};e._closeRequest=o})),o=e._writer;var n;return void 0!==o&&e._backpressure&&\"writable\"===t&&Et(o),ue(n=e._writableStreamController,lt,0),dt(n),r}function Ze(e,t){\"writable\"!==e._state?tt(e):et(e,t)}function et(e,t){const r=e._writableStreamController;e._state=\"erroring\",e._storedError=t;const o=e._writer;void 0!==o&&it(o,t),!function(e){if(void 0===e._inFlightWriteRequest&&void 0===e._inFlightCloseRequest)return!1;return!0}(e)&&r._started&&tt(e)}function tt(e){e._state=\"errored\",e._writableStreamController[R]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new S,void 0===e._pendingAbortRequest)return void ot(e);const r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void ot(e);b(e._writableStreamController[v](r._reason),(()=>(r._resolve(),ot(e),null)),(t=>(r._reject(t),ot(e),null)))}function rt(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function ot(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&St(t,e._storedError)}function nt(e,t){const r=e._writer;void 0!==r&&t!==e._backpressure&&(t?function(e){Rt(e)}(r):Et(r)),e._backpressure=t}Object.defineProperties(WritableStream.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),n(WritableStream.prototype.abort,\"abort\"),n(WritableStream.prototype.close,\"close\"),n(WritableStream.prototype.getWriter,\"getWriter\"),\"symbol\"==typeof e.toStringTag&&Object.defineProperty(WritableStream.prototype,e.toStringTag,{value:\"WritableStream\",configurable:!0});class WritableStreamDefaultWriter{constructor(e){if($(e,1,\"WritableStreamDefaultWriter\"),function(e,t){if(!Ge(e))throw new TypeError(`${t} is not a WritableStream.`)}(e,\"First parameter\"),Xe(e))throw new TypeError(\"This stream has already been locked for exclusive writing by another writer\");this._ownerWritableStream=e,e._writer=this;const t=e._state;if(\"writable\"===t)!rt(e)&&e._backpressure?Rt(this):qt(this),gt(this);else if(\"erroring\"===t)Tt(this,e._storedError),gt(this);else if(\"closed\"===t)qt(this),gt(r=this),vt(r);else{const t=e._storedError;Tt(this,t),wt(this,t)}var r}get closed(){return at(this)?this._closedPromise:d(mt(\"closed\"))}get desiredSize(){if(!at(this))throw mt(\"desiredSize\");if(void 0===this._ownerWritableStream)throw yt(\"desiredSize\");return function(e){const t=e._ownerWritableStream,r=t._state;if(\"errored\"===r||\"erroring\"===r)return null;if(\"closed\"===r)return 0;return ct(t._writableStreamController)}(this)}get ready(){return at(this)?this._readyPromise:d(mt(\"ready\"))}abort(e){return at(this)?void 0===this._ownerWritableStream?d(yt(\"abort\")):function(e,t){return Je(e._ownerWritableStream,t)}(this,e):d(mt(\"abort\"))}close(){if(!at(this))return d(mt(\"close\"));const e=this._ownerWritableStream;return void 0===e?d(yt(\"close\")):rt(e)?d(new TypeError(\"Cannot close an already-closing stream\")):Ke(this._ownerWritableStream)}releaseLock(){if(!at(this))throw mt(\"releaseLock\");void 0!==this._ownerWritableStream&&function(e){const t=e._ownerWritableStream,r=new TypeError(\"Writer was released and can no longer be used to monitor the stream's closedness\");it(e,r),function(e,t){\"pending\"===e._closedPromiseState?St(e,t):function(e,t){wt(e,t)}(e,t)}(e,r),t._writer=void 0,e._ownerWritableStream=void 0}(this)}write(e){return at(this)?void 0===this._ownerWritableStream?d(yt(\"write to\")):function(e,t){const r=e._ownerWritableStream,o=r._writableStreamController,n=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return ft(e,t),1}}(o,t);if(r!==e._ownerWritableStream)return d(yt(\"write to\"));const a=r._state;if(\"errored\"===a)return d(r._storedError);if(rt(r)||\"closed\"===a)return d(new TypeError(\"The stream is closing or closed and cannot be written to\"));if(\"erroring\"===a)return d(r._storedError);const i=function(e){return u(((t,r)=>{const o={_resolve:t,_reject:r};e._writeRequests.push(o)}))}(r);return function(e,t,r){try{ue(e,t,r)}catch(t){return void ft(e,t)}const o=e._controlledWritableStream;if(!rt(o)&&\"writable\"===o._state){nt(o,bt(e))}dt(e)}(o,t,n),i}(this,e):d(mt(\"write\"))}}function at(e){return!!r(e)&&(!!Object.prototype.hasOwnProperty.call(e,\"_ownerWritableStream\")&&e instanceof WritableStreamDefaultWriter)}function it(e,t){\"pending\"===e._readyPromiseState?Ct(e,t):function(e,t){Tt(e,t)}(e,t)}Object.defineProperties(WritableStreamDefaultWriter.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),n(WritableStreamDefaultWriter.prototype.abort,\"abort\"),n(WritableStreamDefaultWriter.prototype.close,\"close\"),n(WritableStreamDefaultWriter.prototype.releaseLock,\"releaseLock\"),n(WritableStreamDefaultWriter.prototype.write,\"write\"),\"symbol\"==typeof e.toStringTag&&Object.defineProperty(WritableStreamDefaultWriter.prototype,e.toStringTag,{value:\"WritableStreamDefaultWriter\",configurable:!0});const lt={};class WritableStreamDefaultController{constructor(){throw new TypeError(\"Illegal constructor\")}get abortReason(){if(!st(this))throw pt(\"abortReason\");return this._abortReason}get signal(){if(!st(this))throw pt(\"signal\");if(void 0===this._abortController)throw new TypeError(\"WritableStreamDefaultController.prototype.signal is not supported\");return this._abortController.signal}error(e){if(!st(this))throw pt(\"error\");\"writable\"===this._controlledWritableStream._state&&ht(this,e)}[v](e){const t=this._abortAlgorithm(e);return ut(this),t}[R](){ce(this)}}function st(e){return!!r(e)&&(!!Object.prototype.hasOwnProperty.call(e,\"_controlledWritableStream\")&&e instanceof WritableStreamDefaultController)}function ut(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function ct(e){return e._strategyHWM-e._queueTotalSize}function dt(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if(\"erroring\"===t._state)return void tt(t);if(0===e._queue.length)return;const r=e._queue.peek().value;r===lt?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),se(e);const r=e._closeAlgorithm();ut(e),b(r,(()=>(function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,\"erroring\"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state=\"closed\";const t=e._writer;void 0!==t&&vt(t)}(t),null)),(e=>(function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),Ze(e,t)}(t,e),null)))}(e):function(e,t){const r=e._controlledWritableStream;!function(e){e._inFlightWriteRequest=e._writeRequests.shift()}(r);b(e._writeAlgorithm(t),(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(r);const t=r._state;if(se(e),!rt(r)&&\"writable\"===t){const t=bt(e);nt(r,t)}return dt(e),null}),(t=>(\"writable\"===r._state&&ut(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,Ze(e,t)}(r,t),null)))}(e,r)}function ft(e,t){\"writable\"===e._controlledWritableStream._state&&ht(e,t)}function bt(e){return ct(e)<=0}function ht(e,t){const r=e._controlledWritableStream;ut(e),et(r,t)}function _t(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function pt(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function mt(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function yt(e){return new TypeError(\"Cannot \"+e+\" a stream using a released writer\")}function gt(e){e._closedPromise=u(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState=\"pending\"}))}function wt(e,t){gt(e),St(e,t)}function St(e,t){void 0!==e._closedPromise_reject&&(m(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState=\"rejected\")}function vt(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState=\"resolved\")}function Rt(e){e._readyPromise=u(((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState=\"pending\"}function Tt(e,t){Rt(e),Ct(e,t)}function qt(e){Rt(e),Et(e)}function Ct(e,t){void 0!==e._readyPromise_reject&&(m(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState=\"rejected\")}function Et(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState=\"fulfilled\")}Object.defineProperties(WritableStreamDefaultController.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),\"symbol\"==typeof e.toStringTag&&Object.defineProperty(WritableStreamDefaultController.prototype,e.toStringTag,{value:\"WritableStreamDefaultController\",configurable:!0});const Pt=\"undefined\"!=typeof DOMException?DOMException:void 0;const Wt=function(e){if(\"function\"!=typeof e&&\"object\"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(Pt)?Pt:function(){const e=function(e,t){this.message=e||\"\",this.name=t||\"Error\",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,\"constructor\",{value:e,writable:!0,configurable:!0}),e}();function kt(e,t,r,o,n,a){const i=e.getReader(),l=t.getWriter();Vt(e)&&(e._disturbed=!0);let s,_,g,w=!1,S=!1,v=\"readable\",R=\"writable\",T=!1,q=!1;const C=u((e=>{g=e}));let E=Promise.resolve(void 0);return u(((P,W)=>{let k;function O(){if(w)return;const e=u(((e,t)=>{!function r(o){o?e():f(function(){if(w)return c(!0);return f(l.ready,(()=>f(i.read(),(e=>!!e.done||(E=l.write(e.value),m(E),!1)))))}(),r,t)}(!1)}));m(e)}function B(){return v=\"closed\",r?L():z((()=>(Ge(t)&&(T=rt(t),R=t._state),T||\"closed\"===R?c(void 0):\"erroring\"===R||\"errored\"===R?d(_):(T=!0,l.close()))),!1,void 0),null}function A(e){return w||(v=\"errored\",s=e,o?L(!0,e):z((()=>l.abort(e)),!0,e)),null}function j(e){return S||(R=\"errored\",_=e,n?L(!0,e):z((()=>i.cancel(e)),!0,e)),null}if(void 0!==a&&(k=()=>{const e=void 0!==a.reason?a.reason:new Wt(\"Aborted\",\"AbortError\"),t=[];o||t.push((()=>\"writable\"===R?l.abort(e):c(void 0))),n||t.push((()=>\"readable\"===v?i.cancel(e):c(void 0))),z((()=>Promise.all(t.map((e=>e())))),!0,e)},a.aborted?k():a.addEventListener(\"abort\",k)),Vt(e)&&(v=e._state,s=e._storedError),Ge(t)&&(R=t._state,_=t._storedError,T=rt(t)),Vt(e)&&Ge(t)&&(q=!0,g()),\"errored\"===v)A(s);else if(\"erroring\"===R||\"errored\"===R)j(_);else if(\"closed\"===v)B();else if(T||\"closed\"===R){const e=new TypeError(\"the destination writable stream closed before all data could be piped to it\");n?L(!0,e):z((()=>i.cancel(e)),!0,e)}function z(e,t,r){function o(){return\"writable\"!==R||T?n():h(function(){let e;return c(function t(){if(e!==E)return e=E,p(E,t,t)}())}(),n),null}function n(){return e?b(e(),(()=>F(t,r)),(e=>F(!0,e))):F(t,r),null}w||(w=!0,q?o():h(C,o))}function L(e,t){z(void 0,e,t)}function F(e,t){return S=!0,l.releaseLock(),i.releaseLock(),void 0!==a&&a.removeEventListener(\"abort\",k),e?W(t):P(void 0),null}w||(b(i.closed,B,A),b(l.closed,(function(){return S||(R=\"closed\"),null}),j)),q?O():y((()=>{q=!0,g(),O()}))}))}function Ot(e,t){return function(e){try{return e.getReader({mode:\"byob\"}).releaseLock(),!0}catch(e){return!1}}(e)?function(e){let t,r,o,n,a,i=e.getReader(),l=!1,s=!1,d=!1,f=!1,h=!1,p=!1;const m=u((e=>{a=e}));function y(e){_(e.closed,(t=>(e!==i||(o.error(t),n.error(t),h&&p||a(void 0)),null)))}function g(){l&&(i.releaseLock(),i=e.getReader(),y(i),l=!1),b(i.read(),(e=>{var t,r;if(d=!1,f=!1,e.done)return h||o.close(),p||n.close(),null===(t=o.byobRequest)||void 0===t||t.respond(0),null===(r=n.byobRequest)||void 0===r||r.respond(0),h&&p||a(void 0),null;const l=e.value,u=l;let c=l;if(!h&&!p)try{c=le(l)}catch(e){return o.error(e),n.error(e),a(i.cancel(e)),null}return h||o.enqueue(u),p||n.enqueue(c),s=!1,d?S():f&&v(),null}),(()=>(s=!1,null)))}function w(t,r){l||(i.releaseLock(),i=e.getReader({mode:\"byob\"}),y(i),l=!0);const u=r?n:o,c=r?o:n;b(i.read(t),(e=>{var t;d=!1,f=!1;const o=r?p:h,n=r?h:p;if(e.done){o||u.close(),n||c.close();const r=e.value;return void 0!==r&&(o||u.byobRequest.respondWithNewView(r),n||null===(t=c.byobRequest)||void 0===t||t.respond(0)),o&&n||a(void 0),null}const l=e.value;if(n)o||u.byobRequest.respondWithNewView(l);else{let e;try{e=le(l)}catch(e){return u.error(e),c.error(e),a(i.cancel(e)),null}o||u.byobRequest.respondWithNewView(l),c.enqueue(e)}return s=!1,d?S():f&&v(),null}),(()=>(s=!1,null)))}function S(){if(s)return d=!0,c(void 0);s=!0;const e=o.byobRequest;return null===e?g():w(e.view,!1),c(void 0)}function v(){if(s)return f=!0,c(void 0);s=!0;const e=n.byobRequest;return null===e?g():w(e.view,!0),c(void 0)}function R(e){if(h=!0,t=e,p){const e=[t,r],o=i.cancel(e);a(o)}return m}function T(e){if(p=!0,r=e,h){const e=[t,r],o=i.cancel(e);a(o)}return m}const q=new ReadableStream({type:\"bytes\",start(e){o=e},pull:S,cancel:R}),C=new ReadableStream({type:\"bytes\",start(e){n=e},pull:v,cancel:T});return y(i),[q,C]}(e):function(e,t){const r=e.getReader();let o,n,a,i,l,s=!1,d=!1,f=!1,h=!1;const p=u((e=>{l=e}));function m(){return s?(d=!0,c(void 0)):(s=!0,b(r.read(),(e=>{if(d=!1,e.done)return f||a.close(),h||i.close(),f&&h||l(void 0),null;const t=e.value,r=t,o=t;return f||a.enqueue(r),h||i.enqueue(o),s=!1,d&&m(),null}),(()=>(s=!1,null))),c(void 0))}function y(e){if(f=!0,o=e,h){const e=[o,n],t=r.cancel(e);l(t)}return p}function g(e){if(h=!0,n=e,f){const e=[o,n],t=r.cancel(e);l(t)}return p}const w=new ReadableStream({start(e){a=e},pull:m,cancel:y}),S=new ReadableStream({start(e){i=e},pull:m,cancel:g});return _(r.closed,(e=>(a.error(e),i.error(e),f&&h||l(void 0),null))),[w,S]}(e)}class ReadableStreamDefaultController{constructor(){throw new TypeError(\"Illegal constructor\")}get desiredSize(){if(!Bt(this))throw Dt(\"desiredSize\");return Lt(this)}close(){if(!Bt(this))throw Dt(\"close\");if(!Ft(this))throw new TypeError(\"The stream is not in a state that permits close\");!function(e){if(!Ft(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(jt(e),Xt(t))}(this)}enqueue(e){if(!Bt(this))throw Dt(\"enqueue\");if(!Ft(this))throw new TypeError(\"The stream is not in a state that permits enqueue\");return function(e,t){if(!Ft(e))return;const r=e._controlledReadableStream;if(Ut(r)&&X(r)>0)G(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw zt(e,t),t}try{ue(e,t,r)}catch(t){throw zt(e,t),t}}At(e)}(this,e)}error(e){if(!Bt(this))throw Dt(\"error\");zt(this,e)}[T](e){ce(this);const t=this._cancelAlgorithm(e);return jt(this),t}[q](e){const t=this._controlledReadableStream;if(this._queue.length>0){const r=se(this);this._closeRequested&&0===this._queue.length?(jt(this),Xt(t)):At(this),e._chunkSteps(r)}else U(t,e),At(this)}[C](){}}function Bt(e){return!!r(e)&&(!!Object.prototype.hasOwnProperty.call(e,\"_controlledReadableStream\")&&e instanceof ReadableStreamDefaultController)}function At(e){const t=function(e){const t=e._controlledReadableStream;if(!Ft(e))return!1;if(!e._started)return!1;if(Ut(t)&&X(t)>0)return!0;if(Lt(e)>0)return!0;return!1}(e);if(!t)return;if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0;b(e._pullAlgorithm(),(()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,At(e)),null)),(t=>(zt(e,t),null)))}function jt(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function zt(e,t){const r=e._controlledReadableStream;\"readable\"===r._state&&(ce(e),jt(e),Jt(r,t))}function Lt(e){const t=e._controlledReadableStream._state;return\"errored\"===t?null:\"closed\"===t?0:e._strategyHWM-e._queueTotalSize}function Ft(e){return!e._closeRequested&&\"readable\"===e._controlledReadableStream._state}function It(e,t,r,o){const n=Object.create(ReadableStreamDefaultController.prototype);let a,i,l;a=void 0!==t.start?()=>t.start(n):()=>{},i=void 0!==t.pull?()=>t.pull(n):()=>c(void 0),l=void 0!==t.cancel?e=>t.cancel(e):()=>c(void 0),function(e,t,r,o,n,a,i){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,ce(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=i,t._strategyHWM=a,t._pullAlgorithm=o,t._cancelAlgorithm=n,e._readableStreamController=t,b(c(r()),(()=>(t._started=!0,At(t),null)),(e=>(zt(t,e),null)))}(e,n,a,i,l,r,o)}function Dt(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function $t(e,t,r){return I(e,r),r=>w(e,t,[r])}function Mt(e,t,r){return I(e,r),r=>w(e,t,[r])}function Yt(e,t,r){return I(e,r),r=>g(e,t,[r])}function Qt(e,t){if(\"bytes\"!==(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function Nt(e,t){if(\"byob\"!==(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function Ht(e,t){F(e,t);const r=null==e?void 0:e.preventAbort,o=null==e?void 0:e.preventCancel,n=null==e?void 0:e.preventClose,a=null==e?void 0:e.signal;return void 0!==a&&function(e,t){if(!function(e){if(\"object\"!=typeof e||null===e)return!1;try{return\"boolean\"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(`${t} is not an AbortSignal.`)}(a,`${t} has member 'signal' that`),{preventAbort:Boolean(r),preventCancel:Boolean(o),preventClose:Boolean(n),signal:a}}function xt(e,t){F(e,t);const r=null==e?void 0:e.readable;M(r,\"readable\",\"ReadableWritablePair\"),function(e,t){if(!H(e))throw new TypeError(`${t} is not a ReadableStream.`)}(r,`${t} has member 'readable' that`);const o=null==e?void 0:e.writable;return M(o,\"writable\",\"ReadableWritablePair\"),function(e,t){if(!x(e))throw new TypeError(`${t} is not a WritableStream.`)}(o,`${t} has member 'writable' that`),{readable:r,writable:o}}Object.defineProperties(ReadableStreamDefaultController.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),n(ReadableStreamDefaultController.prototype.close,\"close\"),n(ReadableStreamDefaultController.prototype.enqueue,\"enqueue\"),n(ReadableStreamDefaultController.prototype.error,\"error\"),\"symbol\"==typeof e.toStringTag&&Object.defineProperty(ReadableStreamDefaultController.prototype,e.toStringTag,{value:\"ReadableStreamDefaultController\",configurable:!0});class ReadableStream{constructor(e={},t={}){void 0===e?e=null:D(e,\"First parameter\");const r=Ye(t,\"Second parameter\"),o=function(e,t){F(e,t);const r=e,o=null==r?void 0:r.autoAllocateChunkSize,n=null==r?void 0:r.cancel,a=null==r?void 0:r.pull,i=null==r?void 0:r.start,l=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===o?void 0:N(o,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===n?void 0:$t(n,r,`${t} has member 'cancel' that`),pull:void 0===a?void 0:Mt(a,r,`${t} has member 'pull' that`),start:void 0===i?void 0:Yt(i,r,`${t} has member 'start' that`),type:void 0===l?void 0:Qt(l,`${t} has member 'type' that`)}}(e,\"First parameter\");var n;if((n=this)._state=\"readable\",n._reader=void 0,n._storedError=void 0,n._disturbed=!1,\"bytes\"===o.type){if(void 0!==r.size)throw new RangeError(\"The strategy for a byte stream cannot have a size function\");Oe(this,o,$e(r,0))}else{const e=Me(r);It(this,o,$e(r,1),e)}}get locked(){if(!Vt(this))throw Kt(\"locked\");return Ut(this)}cancel(e){return Vt(this)?Ut(this)?d(new TypeError(\"Cannot cancel a stream that already has a reader\")):Gt(this,e):d(Kt(\"cancel\"))}getReader(e){if(!Vt(this))throw Kt(\"getReader\");return void 0===function(e,t){F(e,t);const r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:Nt(r,`${t} has member 'mode' that`)}}(e,\"First parameter\").mode?new ReadableStreamDefaultReader(this):function(e){return new ReadableStreamBYOBReader(e)}(this)}pipeThrough(e,t={}){if(!H(this))throw Kt(\"pipeThrough\");$(e,1,\"pipeThrough\");const r=xt(e,\"First parameter\"),o=Ht(t,\"Second parameter\");if(this.locked)throw new TypeError(\"ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream\");if(r.writable.locked)throw new TypeError(\"ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream\");return m(kt(this,r.writable,o.preventClose,o.preventAbort,o.preventCancel,o.signal)),r.readable}pipeTo(e,t={}){if(!H(this))return d(Kt(\"pipeTo\"));if(void 0===e)return d(\"Parameter 1 is required in 'pipeTo'.\");if(!x(e))return d(new TypeError(\"ReadableStream.prototype.pipeTo's first argument must be a WritableStream\"));let r;try{r=Ht(t,\"Second parameter\")}catch(e){return d(e)}return this.locked?d(new TypeError(\"ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream\")):e.locked?d(new TypeError(\"ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream\")):kt(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!H(this))throw Kt(\"tee\");if(this.locked)throw new TypeError(\"Cannot tee a stream that already has a reader\");return Ot(this)}values(e){if(!H(this))throw Kt(\"values\");return function(e,t){const r=e.getReader(),o=new te(r,t),n=Object.create(re);return n._asyncIteratorImpl=o,n}(this,function(e,t){F(e,t);const r=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(r)}}(e,\"First parameter\").preventCancel)}}function Vt(e){return!!r(e)&&(!!Object.prototype.hasOwnProperty.call(e,\"_readableStreamController\")&&e instanceof ReadableStream)}function Ut(e){return void 0!==e._reader}function Gt(e,r){if(e._disturbed=!0,\"closed\"===e._state)return c(void 0);if(\"errored\"===e._state)return d(e._storedError);Xt(e);const o=e._reader;if(void 0!==o&&Fe(o)){const e=o._readIntoRequests;o._readIntoRequests=new S,e.forEach((e=>{e._closeSteps(void 0)}))}return p(e._readableStreamController[T](r),t)}function Xt(e){e._state=\"closed\";const t=e._reader;if(void 0!==t&&(j(t),K(t))){const e=t._readRequests;t._readRequests=new S,e.forEach((e=>{e._closeSteps()}))}}function Jt(e,t){e._state=\"errored\",e._storedError=t;const r=e._reader;void 0!==r&&(A(r,t),K(r)?Z(r,t):Ie(r,t))}function Kt(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Zt(e,t){F(e,t);const r=null==e?void 0:e.highWaterMark;return M(r,\"highWaterMark\",\"QueuingStrategyInit\"),{highWaterMark:Y(r)}}Object.defineProperties(ReadableStream.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),n(ReadableStream.prototype.cancel,\"cancel\"),n(ReadableStream.prototype.getReader,\"getReader\"),n(ReadableStream.prototype.pipeThrough,\"pipeThrough\"),n(ReadableStream.prototype.pipeTo,\"pipeTo\"),n(ReadableStream.prototype.tee,\"tee\"),n(ReadableStream.prototype.values,\"values\"),\"symbol\"==typeof e.toStringTag&&Object.defineProperty(ReadableStream.prototype,e.toStringTag,{value:\"ReadableStream\",configurable:!0}),\"symbol\"==typeof e.asyncIterator&&Object.defineProperty(ReadableStream.prototype,e.asyncIterator,{value:ReadableStream.prototype.values,writable:!0,configurable:!0});const er=e=>e.byteLength;n(er,\"size\");class ByteLengthQueuingStrategy{constructor(e){$(e,1,\"ByteLengthQueuingStrategy\"),e=Zt(e,\"First parameter\"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!rr(this))throw tr(\"highWaterMark\");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!rr(this))throw tr(\"size\");return er}}function tr(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function rr(e){return!!r(e)&&(!!Object.prototype.hasOwnProperty.call(e,\"_byteLengthQueuingStrategyHighWaterMark\")&&e instanceof ByteLengthQueuingStrategy)}Object.defineProperties(ByteLengthQueuingStrategy.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),\"symbol\"==typeof e.toStringTag&&Object.defineProperty(ByteLengthQueuingStrategy.prototype,e.toStringTag,{value:\"ByteLengthQueuingStrategy\",configurable:!0});const or=()=>1;n(or,\"size\");class CountQueuingStrategy{constructor(e){$(e,1,\"CountQueuingStrategy\"),e=Zt(e,\"First parameter\"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!ar(this))throw nr(\"highWaterMark\");return this._countQueuingStrategyHighWaterMark}get size(){if(!ar(this))throw nr(\"size\");return or}}function nr(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function ar(e){return!!r(e)&&(!!Object.prototype.hasOwnProperty.call(e,\"_countQueuingStrategyHighWaterMark\")&&e instanceof CountQueuingStrategy)}function ir(e,t,r){return I(e,r),r=>w(e,t,[r])}function lr(e,t,r){return I(e,r),r=>g(e,t,[r])}function sr(e,t,r){return I(e,r),(r,o)=>w(e,t,[r,o])}Object.defineProperties(CountQueuingStrategy.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),\"symbol\"==typeof e.toStringTag&&Object.defineProperty(CountQueuingStrategy.prototype,e.toStringTag,{value:\"CountQueuingStrategy\",configurable:!0});class TransformStream{constructor(e={},t={},r={}){void 0===e&&(e=null);const o=Ye(t,\"Second parameter\"),n=Ye(r,\"Third parameter\"),a=function(e,t){F(e,t);const r=null==e?void 0:e.flush,o=null==e?void 0:e.readableType,n=null==e?void 0:e.start,a=null==e?void 0:e.transform,i=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:ir(r,e,`${t} has member 'flush' that`),readableType:o,start:void 0===n?void 0:lr(n,e,`${t} has member 'start' that`),transform:void 0===a?void 0:sr(a,e,`${t} has member 'transform' that`),writableType:i}}(e,\"First parameter\");if(void 0!==a.readableType)throw new RangeError(\"Invalid readableType specified\");if(void 0!==a.writableType)throw new RangeError(\"Invalid writableType specified\");const i=$e(n,0),l=Me(n),s=$e(o,1),f=Me(o);let b;!function(e,t,r,o,n,a){function i(){return t}function l(t){return function(e,t){const r=e._transformStreamController;if(e._backpressure){return p(e._backpressureChangePromise,(()=>{if(\"erroring\"===(Ge(e._writable)?e._writable._state:e._writableState))throw Ge(e._writable)?e._writable._storedError:e._writableStoredError;return pr(r,t)}))}return pr(r,t)}(e,t)}function s(t){return function(e,t){return cr(e,t),c(void 0)}(e,t)}function u(){return function(e){const t=e._transformStreamController,r=t._flushAlgorithm();return hr(t),p(r,(()=>{if(\"errored\"===e._readableState)throw e._readableStoredError;gr(e)&&wr(e)}),(t=>{throw cr(e,t),e._readableStoredError}))}(e)}function d(){return function(e){return fr(e,!1),e._backpressureChangePromise}(e)}function f(t){return dr(e,t),c(void 0)}e._writableState=\"writable\",e._writableStoredError=void 0,e._writableHasInFlightOperation=!1,e._writableStarted=!1,e._writable=function(e,t,r,o,n,a,i){return new WritableStream({start(r){e._writableController=r;try{const t=r.signal;void 0!==t&&t.addEventListener(\"abort\",(()=>{\"writable\"===e._writableState&&(e._writableState=\"erroring\",t.reason&&(e._writableStoredError=t.reason))}))}catch(e){}return p(t(),(()=>(e._writableStarted=!0,Cr(e),null)),(t=>{throw e._writableStarted=!0,Rr(e,t),t}))},write:t=>(function(e){e._writableHasInFlightOperation=!0}(e),p(r(t),(()=>(function(e){e._writableHasInFlightOperation=!1}(e),Cr(e),null)),(t=>{throw function(e,t){e._writableHasInFlightOperation=!1,Rr(e,t)}(e,t),t}))),close:()=>(function(e){e._writableHasInFlightOperation=!0}(e),p(o(),(()=>(function(e){e._writableHasInFlightOperation=!1;\"erroring\"===e._writableState&&(e._writableStoredError=void 0);e._writableState=\"closed\"}(e),null)),(t=>{throw function(e,t){e._writableHasInFlightOperation=!1,e._writableState,Rr(e,t)}(e,t),t}))),abort:t=>(e._writableState=\"errored\",e._writableStoredError=t,n(t))},{highWaterMark:a,size:i})}(e,i,l,u,s,r,o),e._readableState=\"readable\",e._readableStoredError=void 0,e._readableCloseRequested=!1,e._readablePulling=!1,e._readable=function(e,t,r,o,n,a){return new ReadableStream({start:r=>(e._readableController=r,t().catch((t=>{Sr(e,t)}))),pull:()=>(e._readablePulling=!0,r().catch((t=>{Sr(e,t)}))),cancel:t=>(e._readableState=\"closed\",o(t))},{highWaterMark:n,size:a})}(e,i,d,f,n,a),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,fr(e,!0),e._transformStreamController=void 0}(this,u((e=>{b=e})),s,f,i,l),function(e,t){const r=Object.create(TransformStreamDefaultController.prototype);let o,n;o=void 0!==t.transform?e=>t.transform(e,r):e=>{try{return _r(r,e),c(void 0)}catch(e){return d(e)}};n=void 0!==t.flush?()=>t.flush(r):()=>c(void 0);!function(e,t,r,o){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=o}(e,r,o,n)}(this,a),void 0!==a.start?b(a.start(this._transformStreamController)):b(void 0)}get readable(){if(!ur(this))throw yr(\"readable\");return this._readable}get writable(){if(!ur(this))throw yr(\"writable\");return this._writable}}function ur(e){return!!r(e)&&(!!Object.prototype.hasOwnProperty.call(e,\"_transformStreamController\")&&e instanceof TransformStream)}function cr(e,t){Sr(e,t),dr(e,t)}function dr(e,t){hr(e._transformStreamController),function(e,t){e._writableController.error(t);\"writable\"===e._writableState&&Tr(e,t)}(e,t),e._backpressure&&fr(e,!1)}function fr(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=u((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(TransformStream.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),\"symbol\"==typeof e.toStringTag&&Object.defineProperty(TransformStream.prototype,e.toStringTag,{value:\"TransformStream\",configurable:!0});class TransformStreamDefaultController{constructor(){throw new TypeError(\"Illegal constructor\")}get desiredSize(){if(!br(this))throw mr(\"desiredSize\");return vr(this._controlledTransformStream)}enqueue(e){if(!br(this))throw mr(\"enqueue\");_r(this,e)}error(e){if(!br(this))throw mr(\"error\");var t;t=e,cr(this._controlledTransformStream,t)}terminate(){if(!br(this))throw mr(\"terminate\");!function(e){const t=e._controlledTransformStream;gr(t)&&wr(t);const r=new TypeError(\"TransformStream terminated\");dr(t,r)}(this)}}function br(e){return!!r(e)&&(!!Object.prototype.hasOwnProperty.call(e,\"_controlledTransformStream\")&&e instanceof TransformStreamDefaultController)}function hr(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function _r(e,t){const r=e._controlledTransformStream;if(!gr(r))throw new TypeError(\"Readable side is not in a state that permits enqueue\");try{!function(e,t){e._readablePulling=!1;try{e._readableController.enqueue(t)}catch(t){throw Sr(e,t),t}}(r,t)}catch(e){throw dr(r,e),r._readableStoredError}const o=function(e){return!function(e){if(!gr(e))return!1;if(e._readablePulling)return!0;if(vr(e)>0)return!0;return!1}(e)}(r);o!==r._backpressure&&fr(r,!0)}function pr(e,t){return p(e._transformAlgorithm(t),void 0,(t=>{throw cr(e._controlledTransformStream,t),t}))}function mr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function yr(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}function gr(e){return!e._readableCloseRequested&&\"readable\"===e._readableState}function wr(e){e._readableState=\"closed\",e._readableCloseRequested=!0,e._readableController.close()}function Sr(e,t){\"readable\"===e._readableState&&(e._readableState=\"errored\",e._readableStoredError=t),e._readableController.error(t)}function vr(e){return e._readableController.desiredSize}function Rr(e,t){\"writable\"!==e._writableState?qr(e):Tr(e,t)}function Tr(e,t){e._writableState=\"erroring\",e._writableStoredError=t,!function(e){return e._writableHasInFlightOperation}(e)&&e._writableStarted&&qr(e)}function qr(e){e._writableState=\"errored\"}function Cr(e){\"erroring\"===e._writableState&&qr(e)}Object.defineProperties(TransformStreamDefaultController.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),n(TransformStreamDefaultController.prototype.enqueue,\"enqueue\"),n(TransformStreamDefaultController.prototype.error,\"error\"),n(TransformStreamDefaultController.prototype.terminate,\"terminate\"),\"symbol\"==typeof e.toStringTag&&Object.defineProperty(TransformStreamDefaultController.prototype,e.toStringTag,{value:\"TransformStreamDefaultController\",configurable:!0});export{ByteLengthQueuingStrategy,CountQueuingStrategy,ReadableByteStreamController,ReadableStream,ReadableStreamBYOBReader,ReadableStreamBYOBRequest,ReadableStreamDefaultController,ReadableStreamDefaultReader,TransformStream,TransformStreamDefaultController,WritableStream,WritableStreamDefaultController,WritableStreamDefaultWriter};\n","/*! Based on fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> & David Frank */\nimport { isFunction } from \"./isFunction.js\";\nconst CHUNK_SIZE = 65536;\nasync function* clonePart(part) {\n    const end = part.byteOffset + part.byteLength;\n    let position = part.byteOffset;\n    while (position !== end) {\n        const size = Math.min(end - position, CHUNK_SIZE);\n        const chunk = part.buffer.slice(position, position + size);\n        position += chunk.byteLength;\n        yield new Uint8Array(chunk);\n    }\n}\nasync function* consumeNodeBlob(blob) {\n    let position = 0;\n    while (position !== blob.size) {\n        const chunk = blob.slice(position, Math.min(blob.size, position + CHUNK_SIZE));\n        const buffer = await chunk.arrayBuffer();\n        position += buffer.byteLength;\n        yield new Uint8Array(buffer);\n    }\n}\nexport async function* consumeBlobParts(parts, clone = false) {\n    for (const part of parts) {\n        if (ArrayBuffer.isView(part)) {\n            if (clone) {\n                yield* clonePart(part);\n            }\n            else {\n                yield part;\n            }\n        }\n        else if (isFunction(part.stream)) {\n            yield* part.stream();\n        }\n        else {\n            yield* consumeNodeBlob(part);\n        }\n    }\n}\nexport function* sliceBlob(blobParts, blobSize, start = 0, end) {\n    end !== null && end !== void 0 ? end : (end = blobSize);\n    let relativeStart = start < 0\n        ? Math.max(blobSize + start, 0)\n        : Math.min(start, blobSize);\n    let relativeEnd = end < 0\n        ? Math.max(blobSize + end, 0)\n        : Math.min(end, blobSize);\n    const span = Math.max(relativeEnd - relativeStart, 0);\n    let added = 0;\n    for (const part of blobParts) {\n        if (added >= span) {\n            break;\n        }\n        const partSize = ArrayBuffer.isView(part) ? part.byteLength : part.size;\n        if (relativeStart && partSize <= relativeStart) {\n            relativeStart -= partSize;\n            relativeEnd -= partSize;\n        }\n        else {\n            let chunk;\n            if (ArrayBuffer.isView(part)) {\n                chunk = part.subarray(relativeStart, Math.min(partSize, relativeEnd));\n                added += chunk.byteLength;\n            }\n            else {\n                chunk = part.slice(relativeStart, Math.min(partSize, relativeEnd));\n                added += chunk.size;\n            }\n            relativeEnd -= partSize;\n            relativeStart = 0;\n            yield chunk;\n        }\n    }\n}\n","/*! Based on fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> & David Frank */\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _Blob_parts, _Blob_type, _Blob_size;\nimport { ReadableStream } from \"web-streams-polyfill\";\nimport { isFunction } from \"./isFunction.js\";\nimport { consumeBlobParts, sliceBlob } from \"./blobHelpers.js\";\nexport class Blob {\n    constructor(blobParts = [], options = {}) {\n        _Blob_parts.set(this, []);\n        _Blob_type.set(this, \"\");\n        _Blob_size.set(this, 0);\n        options !== null && options !== void 0 ? options : (options = {});\n        if (typeof blobParts !== \"object\" || blobParts === null) {\n            throw new TypeError(\"Failed to construct 'Blob': \"\n                + \"The provided value cannot be converted to a sequence.\");\n        }\n        if (!isFunction(blobParts[Symbol.iterator])) {\n            throw new TypeError(\"Failed to construct 'Blob': \"\n                + \"The object must have a callable @@iterator property.\");\n        }\n        if (typeof options !== \"object\" && !isFunction(options)) {\n            throw new TypeError(\"Failed to construct 'Blob': parameter 2 cannot convert to dictionary.\");\n        }\n        const encoder = new TextEncoder();\n        for (const raw of blobParts) {\n            let part;\n            if (ArrayBuffer.isView(raw)) {\n                part = new Uint8Array(raw.buffer.slice(raw.byteOffset, raw.byteOffset + raw.byteLength));\n            }\n            else if (raw instanceof ArrayBuffer) {\n                part = new Uint8Array(raw.slice(0));\n            }\n            else if (raw instanceof Blob) {\n                part = raw;\n            }\n            else {\n                part = encoder.encode(String(raw));\n            }\n            __classPrivateFieldSet(this, _Blob_size, __classPrivateFieldGet(this, _Blob_size, \"f\") + (ArrayBuffer.isView(part) ? part.byteLength : part.size), \"f\");\n            __classPrivateFieldGet(this, _Blob_parts, \"f\").push(part);\n        }\n        const type = options.type === undefined ? \"\" : String(options.type);\n        __classPrivateFieldSet(this, _Blob_type, /^[\\x20-\\x7E]*$/.test(type) ? type : \"\", \"f\");\n    }\n    static [(_Blob_parts = new WeakMap(), _Blob_type = new WeakMap(), _Blob_size = new WeakMap(), Symbol.hasInstance)](value) {\n        return Boolean(value\n            && typeof value === \"object\"\n            && isFunction(value.constructor)\n            && (isFunction(value.stream)\n                || isFunction(value.arrayBuffer))\n            && /^(Blob|File)$/.test(value[Symbol.toStringTag]));\n    }\n    get type() {\n        return __classPrivateFieldGet(this, _Blob_type, \"f\");\n    }\n    get size() {\n        return __classPrivateFieldGet(this, _Blob_size, \"f\");\n    }\n    slice(start, end, contentType) {\n        return new Blob(sliceBlob(__classPrivateFieldGet(this, _Blob_parts, \"f\"), this.size, start, end), {\n            type: contentType\n        });\n    }\n    async text() {\n        const decoder = new TextDecoder();\n        let result = \"\";\n        for await (const chunk of consumeBlobParts(__classPrivateFieldGet(this, _Blob_parts, \"f\"))) {\n            result += decoder.decode(chunk, { stream: true });\n        }\n        result += decoder.decode();\n        return result;\n    }\n    async arrayBuffer() {\n        const view = new Uint8Array(this.size);\n        let offset = 0;\n        for await (const chunk of consumeBlobParts(__classPrivateFieldGet(this, _Blob_parts, \"f\"))) {\n            view.set(chunk, offset);\n            offset += chunk.length;\n        }\n        return view.buffer;\n    }\n    stream() {\n        const iterator = consumeBlobParts(__classPrivateFieldGet(this, _Blob_parts, \"f\"), true);\n        return new ReadableStream({\n            async pull(controller) {\n                const { value, done } = await iterator.next();\n                if (done) {\n                    return queueMicrotask(() => controller.close());\n                }\n                controller.enqueue(value);\n            },\n            async cancel() {\n                await iterator.return();\n            }\n        });\n    }\n    get [Symbol.toStringTag]() {\n        return \"Blob\";\n    }\n}\nObject.defineProperties(Blob.prototype, {\n    type: { enumerable: true },\n    size: { enumerable: true },\n    slice: { enumerable: true },\n    stream: { enumerable: true },\n    text: { enumerable: true },\n    arrayBuffer: { enumerable: true }\n});\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _File_name, _File_lastModified;\nimport { Blob } from \"./Blob.js\";\nexport class File extends Blob {\n    constructor(fileBits, name, options = {}) {\n        super(fileBits, options);\n        _File_name.set(this, void 0);\n        _File_lastModified.set(this, 0);\n        if (arguments.length < 2) {\n            throw new TypeError(\"Failed to construct 'File': 2 arguments required, \"\n                + `but only ${arguments.length} present.`);\n        }\n        __classPrivateFieldSet(this, _File_name, String(name), \"f\");\n        const lastModified = options.lastModified === undefined\n            ? Date.now()\n            : Number(options.lastModified);\n        if (!Number.isNaN(lastModified)) {\n            __classPrivateFieldSet(this, _File_lastModified, lastModified, \"f\");\n        }\n    }\n    static [(_File_name = new WeakMap(), _File_lastModified = new WeakMap(), Symbol.hasInstance)](value) {\n        return value instanceof Blob\n            && value[Symbol.toStringTag] === \"File\"\n            && typeof value.name === \"string\";\n    }\n    get name() {\n        return __classPrivateFieldGet(this, _File_name, \"f\");\n    }\n    get lastModified() {\n        return __classPrivateFieldGet(this, _File_lastModified, \"f\");\n    }\n    get webkitRelativePath() {\n        return \"\";\n    }\n    get [Symbol.toStringTag]() {\n        return \"File\";\n    }\n}\n","import { File } from \"./File.js\";\nexport const isFile = (value) => value instanceof File;\n","export const isFunction = (value) => (typeof value === \"function\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".extension.js\";\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"vscode\");","//@ts-nocheck\r\nimport { log } from \"console\";\r\nimport * as path from \"path\";\r\nimport * as vscode from \"vscode\";\r\nconst fs = require(\"fs\");\r\nconst util = require('util');\r\n \r\n \r\nclass PyParser {\r\n    //@ts-ignore\r\n    isValid(line, document) {\r\n        return [vscode.SymbolKind.Function, vscode.SymbolKind.Class].includes(line.kind);\r\n    }\r\n}\r\nclass JSParser {\r\n    //@ts-ignore\r\n    isValid(line, document) {\r\n        if (line.name.endsWith(\" callback\") || \"<function>\" === line.name || \"<unknown>\" === line.name) return false;\r\n        if (line.kind === vscode.SymbolKind.Variable) {\r\n            const regExp =\r\n                /(?:async\\s*)?(?:(?:function\\s*\\([\\s\\S]*?\\)\\s*(?::\\s*[A-Za-z_$][A-Za-z0-9_$]*\\s*)?{[\\s\\S]*?})|(?:\\([\\s\\S]*?\\)\\s*(?::\\s*[<?A-Za-z_>?$][<?A-Za-z0-9_>?$]*\\s*)?=>\\s*{[\\s\\S]*?}))/;\r\n            const regex = new RegExp(line.name + \"\\\\s*=\\\\s*\" + regExp.source);\r\n            const code = document.getText(line.range);\r\n            if (regex.test(code)) return true;\r\n        }\r\n        return [vscode.SymbolKind.Class, vscode.SymbolKind.Function].includes(line.kind);\r\n    }\r\n}\r\n// ! JavaParser Class \r\nclass JavaParser {\r\n    //@ts-ignore\r\n    isValid(line, document) {\r\n        return [vscode.SymbolKind.Method, vscode.SymbolKind.Class].includes(line.kind);\r\n    }\r\n}\r\n// Define the GoParser class\r\nclass GoParser {\r\n    //@ts-ignore\r\n    isValid(line, document) {\r\n        return [vscode.SymbolKind.Function, vscode.SymbolKind.Struct].includes(line.kind);\r\n    }\r\n}\r\n\r\nclass CppParser {\r\n    //@ts-ignore\r\n    isValid(line, document) {\r\n        return [vscode.SymbolKind.Function, vscode.SymbolKind.Class].includes(line.kind);\r\n    }\r\n}\r\nclass CsharpParser {\r\n    //@ts-ignore\r\n    isValid(line, document) {\r\n        return [vscode.SymbolKind.Method, vscode.SymbolKind.Class].includes(line.kind);\r\n    }\r\n}\r\nclass PhpParser {\r\n    isValid(line: any) {\r\n        // For PHP, we check if the line represents a function or a class\r\n        return line.kind === vscode.SymbolKind.Function || line.kind === vscode.SymbolKind.Class;\r\n    }\r\n}\r\n\r\nclass RubyParser {\r\n    //@ts-ignore\r\n    isValid(line, document) {\r\n        return [vscode.SymbolKind.Function, vscode.SymbolKind.Class].includes(line.kind);\r\n    }\r\n}\r\nclass RustParser {\r\n    //@ts-ignore\r\n    isValid(line, document) {\r\n        return [vscode.SymbolKind.Function, vscode.SymbolKind.Struct, vscode.SymbolKind.Interface].includes(line.kind);\r\n    }\r\n}\r\n\r\n\r\n// --------------------------------------Code parser end here-----------------------------------------------------------------\r\n\r\nconst checkFile = async (file: string) => {\r\n    return new Promise((resolve, reject) => {\r\n        //@ts-ignore\r\n        fs.lstat(file, (err, stats) => {\r\n            if (err)\r\n                //@ts-ignore\r\n                return resolve();\r\n            return resolve(stats);\r\n        });\r\n    })\r\n};\r\n\r\n//* --------------------------------------------------------------------------------------------------------------------\r\nconst getJSFile = async (filePath: string, importedFile: string) => {\r\n    console.log(filePath, importedFile);\r\n    let file = path.join(filePath, importedFile);\r\n    let fsStat;\r\n    let file1: string;\r\n    let file2: string;\r\n    let finalFile: string = '';\r\n    // console.log(importedFile, filePath, file);\r\n    //@ts-ignore\r\n    fsStat = await checkFile(file);\r\n    // console.log('fsStat', fsStat, typeof(fsStat));\r\n    // console.log(fsStat == null);\r\n    // console.log(fsStat == undefined);\r\n    //@ts-ignore\r\n    if (fsStat) {\r\n        //@ts-ignore\r\n        if (fsStat.isDirectory()) {\r\n            const files = [`${file}/index.jsx`, `${file}/index.js`, `${file}/index.ts`, `${file}/index.txs`];\r\n            for (const f of files) {\r\n                //@ts-ignore\r\n                if (await checkFile(f)) {\r\n                    finalFile = f;\r\n                    break\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        const files = [`${file}.jsx`, `${file}.js`, `${file}.ts`, `${file}.txs`];\r\n        for (const f of files) {\r\n            //@ts-ignore\r\n            if (await checkFile(f)) {\r\n                finalFile = f;\r\n                break\r\n            }\r\n        }\r\n    }\r\n    return finalFile;\r\n};\r\n\r\n\r\nconst getPyFile = async (filePath: string, importedFile: string) => {\r\n    console.log(filePath, importedFile);\r\n    //@ts-ignore\r\n    importedFile = importedFile.slice(0, 3) + importedFile.slice(3).replaceAll('.', '/');\r\n    if (importedFile.startsWith('..'))\r\n        //@ts-ignore\r\n        importedFile = [importedFile.slice(0, 2), ...importedFile.slice(2).split('.')];\r\n    else\r\n        //@ts-ignore\r\n        importedFile = importedFile.slice(1).split('.');\r\n    // console.log('importedFile', importedFile);\r\n    //@ts-ignore\r\n    let file = path.join(filePath, ...importedFile);\r\n    //@ts-ignore\r\n    let fsStat;\r\n    let file1: string;\r\n    let file2: string;\r\n    let finalFile: string = '';\r\n    // console.log(importedFile, filePath, file);\r\n    //@ts-ignore\r\n    // console.log('file', file);\r\n    fsStat = await checkFile(file);\r\n    // console.log('fsStat', fsStat, typeof(fsStat));\r\n    // console.log(fsStat == null);\r\n    // console.log(fsStat == undefined);\r\n    //@ts-ignore\r\n    if (fsStat) {\r\n        //@ts-ignore\r\n        if (fsStat.isDirectory()) {\r\n            const files = [`${file}/__init__.py`];\r\n            for (const f of files) {\r\n                //@ts-ignore\r\n                if (await checkFile(f)) {\r\n                    finalFile = f;\r\n                    break\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        const files = [`${file}.py`];\r\n        for (const f of files) {\r\n            // console.log(f)\r\n            //@ts-ignore\r\n            if (await checkFile(f)) {\r\n                finalFile = f;\r\n                break\r\n            }\r\n        }\r\n    }\r\n    return finalFile;\r\n};\r\n\r\n// ! java get File\r\nconst getJavaFile = async (filePath: string, importedFile: string) => {\r\n    console.log(filePath, importedFile);\r\n    // let file = path.join(filePath, importedFile.replaceAll('.', '/'));\r\n    let file = path.join(filePath, importedFile.replace(/\\./g, '/'));;\r\n    let fsStat;\r\n    let finalFile: string = '';\r\n\r\n    // Check for Java package directories and .java files\r\n    fsStat = await checkFile(file);\r\n    //@ts-ignore\r\n    if (fsStat && fsStat.isDirectory()) {\r\n        const files = [`${file}/Main.java`, `${file}/index.java`];\r\n        for (const f of files) {\r\n            if (await checkFile(f)) {\r\n                finalFile = f;\r\n                break;\r\n            }\r\n        }\r\n    } else {\r\n        const files = [`${file}.java`];\r\n        for (const f of files) {\r\n            if (await checkFile(f)) {\r\n                finalFile = f;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    return finalFile;\r\n};\r\n\r\nconst getGoFile = async (filePath: string, importedFile: string) => {\r\n    console.log(filePath, importedFile);\r\n    let file = path.join(filePath, importedFile);\r\n    let fsStat;\r\n    let finalFile: string = '';\r\n\r\n    // Check if the file exists as a .go file\r\n    const files = [`${file}.go`];\r\n    for (const f of files) {\r\n        if (await checkFile(f)) {\r\n            finalFile = f;\r\n            break;\r\n        }\r\n    }\r\n\r\n    return finalFile;\r\n};\r\n\r\nconst getCppFile = async (filePath: string, importedFile: string) => {\r\n    let file = path.join(filePath, importedFile);\r\n    let finalFile: string = '';\r\n\r\n    // Check if the file exists as a .cpp or .h file\r\n    const files = [`${file}.cpp`, `${file}.h`];\r\n    for (const f of files) {\r\n        if (await checkFile(f)) {\r\n            finalFile = f;\r\n            break;\r\n        }\r\n    }\r\n    return finalFile;\r\n};\r\n\r\nconst getRubyFile = async (filePath: string, importedFile: string) => {\r\n    console.log(filePath, importedFile);\r\n\r\n    // Replace `::` namespaces and dots with directory structure for Ruby\r\n    importedFile = importedFile.replace(/::/g, '/').replace(/\\./g, '/');\r\n\r\n    //@ts-ignore\r\n    let file = path.join(filePath, ...importedFile.split('/'));\r\n\r\n    let finalFile: string = '';\r\n    //@ts-ignore\r\n    let fsStat = await checkFile(file);\r\n\r\n    if (fsStat) {\r\n        //@ts-ignore\r\n        if (fsStat.isDirectory()) {\r\n            const files = [`${file}/init.rb`, `${file}/main.rb`];\r\n            for (const f of files) {\r\n                //@ts-ignore\r\n                if (await checkFile(f)) {\r\n                    finalFile = f;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        const files = [`${file}.rb`];\r\n        for (const f of files) {\r\n            //@ts-ignore\r\n            if (await checkFile(f)) {\r\n                finalFile = f;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return finalFile;\r\n};\r\n\r\nconst getRustFile = async (filePath: string, importedFile: string) => {\r\n    console.log(filePath, importedFile);\r\n    importedFile = importedFile.split(\"::\").join(\"/\");  // Handle Rust-style module paths\r\n\r\n    let file = path.join(filePath, ...importedFile.split(\"/\"));\r\n    let finalFile = '';\r\n\r\n    const files = [`${file}.rs`, `${file}/mod.rs`];\r\n    for (const f of files) {\r\n        if (await checkFile(f)) {\r\n            finalFile = f;\r\n            break;\r\n        }\r\n    }\r\n    return finalFile;\r\n};\r\n\r\n//*  --------------------------------------------------------------------------------------------------------------------\r\n\r\n\r\n\r\n\r\n// --------------------------------------------------------------------------------------------------------------------\r\n \r\nexport async function getPythonImportedCodeFiles(codePath, document) {\r\n    console.log(\"getPythonImportedCodeFiles called with codePath:\", codePath);\r\n    console.log(\"getPythonImportedCodeFiles called with document:\", document);\r\n\r\n    const payload = {};\r\n    const imports = [];\r\n    const importRegex1 = /\\s*from\\s*((\\.{0,2}\\w+\\.?)+)\\s+import\\s*\\(?((\\s*\\w+\\s*,?)+)\\s*\\)?/gm;\r\n    let matches;\r\n    let importLine = \"\";\r\n\r\n    codePath = codePath.split('/');\r\n    let codeFile = codePath.pop();\r\n    let rootPath = [];\r\n\r\n    console.log(\"Parsing codePath:\", codePath);\r\n    for (const dir of codePath) {\r\n        rootPath.push(dir);\r\n        if (dir.includes('frontend-service'))\r\n            break;\r\n    }\r\n    rootPath = rootPath.join('/');\r\n    codePath = codePath.join('/');\r\n    console.log(\"Root path identified as:\", rootPath);\r\n\r\n    const LocNo = document.lineCount > 50 ? 50 : document.lineCount;\r\n    for (let i = 0; i < LocNo; i++) {\r\n        const line = document.lineAt(i).text.replace(/\\n/, \"\");\r\n        if (line.includes(\"#\")) continue;\r\n        importLine += line;\r\n\r\n        while ((matches = importRegex1.exec(importLine)) !== null) {\r\n            if (matches.length) {\r\n                console.log(\"Import match found:\", matches);\r\n                importLine = \"\";\r\n                let funcs = matches[3] || \"\";\r\n                if (funcs) funcs = funcs.split(\",\");\r\n\r\n                const importedFuncs = [];\r\n                for (let func of funcs) {\r\n                    func = func.trim();\r\n                    if (func) importedFuncs.push(func);\r\n                }\r\n                imports.push({ imports: importedFuncs, file: matches[1] });\r\n            }\r\n        }\r\n    }\r\n\r\n    console.log(\"Processed imports:\", imports);\r\n\r\n    const priortyImports1 = [];\r\n    const priortyImports2 = [];\r\n    let finalImports = [];\r\n    for (let row of imports) {\r\n        let file = row.file;\r\n        if (file.startsWith(\".\")) {\r\n            console.log(\"Processing relative import:\", file);\r\n            row.file = await getPyFile(codePath, file);\r\n            priortyImports1.push(row);\r\n        }\r\n        else if (file.startsWith(\"..\")) {\r\n            console.log(\"Processing parent import:\", file);\r\n            row.file = await getPyFile(codePath, file);\r\n            priortyImports2.push(row);\r\n        }\r\n    }\r\n\r\n    finalImports = [...priortyImports1, ...priortyImports2].slice(0, 4);\r\n    console.log(\"Final prioritized imports:\", finalImports);\r\n    //@ts-ignore\r\n    codePath = path.join(rootPath, codeFile);\r\n    console.log(\"Resolved codePath for main file:\", codePath);\r\n\r\n    for (const row of finalImports) {\r\n        try {\r\n            const fileData = await readFile(row.file);\r\n            console.log(\"Read code for import:\", row.file);//@ts-ignore\r\n            row.code = fileData;\r\n        } catch (error) {\r\n            console.warn(`Could not read file ${row.file}:`, error);\r\n        }\r\n    }\r\n    //@ts-ignore\r\n    payload.imports = finalImports;//@ts-ignore\r\n    payload.main = { file: codePath, code: document.getText() };\r\n\r\n    console.log(\"Payload for Python imports and main file:\", payload);\r\n    return payload;\r\n}\r\n\r\n//@ts-ignore\r\nexport async function getJSImportedCodeFiles(codePath, document) {\r\n    // console.log(\"here\");\r\n    const payload = {};\r\n    //@ts-ignore\r\n    const imports = [];\r\n    const importRegex1 = /^import\\s(.*)\\s+from\\s+[\"'](.*)[\"'];?$/gm;\r\n    const importRegex2 = /\\w+\\s(.*)\\s+=\\s+require\\([\"'](.*)[\"']\\);?$/gm;\r\n    const funcsRegex = /(\\*\\s+as\\s+|{|})+/gm;\r\n    let matches1;\r\n    let matches2;\r\n    let matches;\r\n    let importLine = \"\";\r\n    //@ts-ignore\r\n    codePath = codePath.split('/');\r\n    //@ts-ignore\r\n    let codeFile = codePath.pop();\r\n    let rootPath = [];\r\n    for (const dir of codePath) {\r\n        rootPath.push(dir);\r\n        if (dir.includes('frontend-service'))\r\n            break;\r\n    }\r\n    //@ts-ignore\r\n    rootPath = rootPath.join('/');\r\n    // console.log (document.lineCount);\r\n    //@ts-ignore\r\n    codePath = codePath.join('/');\r\n    const LocNo = document.lineCount > 50 ? 50 : document.lineCount;\r\n    for (let i = 0; i < LocNo; i++) {\r\n        const line = document.lineAt(i).text.replace(/\\n/, \"\");\r\n        if (line.includes(\"//\") || line.includes('/*')) continue;\r\n        importLine += line;\r\n        // console.log(importLine);\r\n        // console.log('loc', importLine);\r\n        while ((matches1 = importRegex1.exec(importLine)) !== null || (matches1 = importRegex2.exec(importLine)) !== null) {\r\n            // console.log('matches', matches);\r\n            //@ts-ignore\r\n            matches = matches1 && matches1.length ? matches1 : matches2;\r\n            //@ts-ignore\r\n            if (matches1 && matches1.length && matches1.index === importRegex1.lastIndex) {\r\n                importRegex1.lastIndex++;\r\n            }\r\n            //@ts-ignore\r\n            if (matches2 && matches2.length && matches2.index === importRegex2.lastIndex) {\r\n                importRegex2.lastIndex++;\r\n            }\r\n            if (matches && matches.length) {\r\n                importLine = \"\";\r\n                let funcs = matches[1];\r\n                //@ts-ignore\r\n                funcs = funcs.replaceAll(funcsRegex, \"\");\r\n                //@ts-ignore\r\n                funcs = funcs.split(\",\");\r\n                const importedFuncs = [];\r\n                for (let func of funcs) {\r\n                    func = func.trim();\r\n                    if (func) importedFuncs.push(func);\r\n                }\r\n                imports.push({ imports: importedFuncs, file: matches[2] });\r\n            }\r\n        }\r\n    }\r\n    const priortyImports1 = [];\r\n    const priortyImports2 = [];\r\n    let finalImports = [];\r\n    for (let row of imports) {\r\n        let file = row.file;\r\n        if (file.toLocaleLowerCase().includes(\"/style\")) continue;\r\n        else if (file.startsWith(\"./\")) {\r\n            row.file = await getJSFile(codePath, file);\r\n            priortyImports1.push(row);\r\n\r\n        }\r\n        else if (file.startsWith(\"../\")) {\r\n            row.file = await getJSFile(codePath, file);\r\n            priortyImports2.push(row);\r\n\r\n        }\r\n        else if (file.includes(\"/\")) {\r\n            //@ts-ignore\r\n            row.file = await getJSFile(rootPath, file);\r\n            finalImports.push(row);\r\n        }\r\n    }\r\n    //@ts-ignore\r\n    finalImports = [...priortyImports1, ...priortyImports2, ...finalImports].slice(0, 4);\r\n    for (let row of finalImports) {\r\n        //@ts-ignore\r\n        // row.file = row.file.replace(rootPath, serverPath);\r\n        row.file = row.file;\r\n    }\r\n\r\n    // codePath = codePath.replace(rootPath, '');\r\n    let testFiles = codeFile.split('.');\r\n    let testExt = testFiles.pop();\r\n    //@ts-ignore\r\n    const testFile = path.join(rootPath, 'tests', codePath, `${testFiles.join('.')}.test.${testExt}`);\r\n    //@ts-ignore\r\n    codePath = path.join(rootPath, codePath, codeFile);\r\n    const testData = await readFile(testFile);\r\n    if (testData) {\r\n        //@ts-ignore\r\n        payload.tests = { file: testFile, imports: ['tests'], code: testData };\r\n    }\r\n    // console.log(finalImports);\r\n    for (const row of finalImports) {\r\n        const fileData = await readFile(row.file);\r\n        //@ts-ignore\r\n        row.code = fileData;\r\n    }\r\n    //@ts-ignore\r\n    payload.imports = finalImports;\r\n    //@ts-ignore\r\n    payload.main = { file: codePath, code: document.getText() };\r\n    // payload.main = {file: codePath, code: await readFile(codePath)};\r\n    return payload\r\n};\r\n \r\n\r\nexport async function getJavaImportedCodeFiles(codePath: string, document: any) {\r\n    const payload: { imports?: any[]; main?: { file: string; code: string } } = {};\r\n    const imports: { file: string }[] = [];\r\n    const importRegex = /^\\s*import\\s+([\\w.]+);$/gm;\r\n    let matches;\r\n    let importLine = \"\";\r\n\r\n    // Split and parse the code path\r\n    const codePathArray = codePath.split('/');\r\n    const codeFile = codePathArray.pop() ?? ''; // Ensure `codeFile` is a string\r\n\r\n    // Define `rootPath` as a string\r\n    let rootPath = '';\r\n\r\n    for (const dir of codePathArray) {\r\n        rootPath += `${dir}/`; // Accumulate path as a string\r\n        if (dir.includes('src')) break; // Stop at the main src directory if applicable\r\n    }\r\n    // Clean up any trailing slashes in `rootPath`\r\n    rootPath = rootPath.replace(/\\/$/, '');\r\n\r\n    // Define `codePath` as a joined string of the remaining path\r\n    const codePathJoined = codePathArray.join('/');\r\n\r\n    // Limit lines for scanning imports\r\n    const LocNo = document.lineCount > 50 ? 50 : document.lineCount;\r\n    for (let i = 0; i < LocNo; i++) {\r\n        const line = document.lineAt(i).text.replace(/\\n/, \"\");\r\n        if (line.includes(\"//\")) continue;\r\n        importLine += line;\r\n\r\n        // Match import statements\r\n        while ((matches = importRegex.exec(importLine)) !== null) {\r\n            importLine = \"\";\r\n            imports.push({ file: matches[1] });\r\n        }\r\n    }\r\n\r\n    const finalImports: { file: string; code?: string }[] = [];\r\n    for (const row of imports) {\r\n        row.file = await getJavaFile(rootPath, row.file);\r\n        finalImports.push(row);\r\n    }\r\n\r\n    // Read and add code for each import file\r\n    for (const row of finalImports) {\r\n        const fileData = await readFile(row.file);\r\n        row.code = fileData;\r\n    }\r\n\r\n    payload.imports = finalImports;\r\n    payload.main = { file: path.join(rootPath, codePathJoined, codeFile), code: document.getText() };\r\n\r\n    return payload;\r\n}\r\n\r\nconst importRegex = /^\\s*import\\s+\"([^\"]+)\";?$/gm; // Adjusted for Go single-line imports\r\nconst importBlockRegex = /^\\s*import\\s+\\(\\s*([\\s\\S]*?)\\s*\\)/gm; // For Go multiline import blocks\r\n\r\nexport async function getGoImportedCodeFiles(codePath: string, document: any) {\r\n    const payload: { imports?: any[]; main?: { file: string; code: string } } = {};\r\n    const imports: { file: string }[] = [];\r\n    let matches;\r\n    let importLine = \"\";\r\n\r\n    // Parse the code path to get root directory and file name\r\n    const codePathArray = codePath.split('/');\r\n    const codeFile = codePathArray.pop() ?? '';\r\n    let rootPath = '';\r\n\r\n    for (const dir of codePathArray) {\r\n        rootPath += `${dir}/`;\r\n        if (dir.includes('src')) break;\r\n    }\r\n    rootPath = rootPath.replace(/\\/$/, '');\r\n\r\n    const codePathJoined = codePathArray.join('/');\r\n\r\n    // Limit the number of lines to scan for imports\r\n    const LocNo = document.lineCount > 50 ? 50 : document.lineCount;\r\n    for (let i = 0; i < LocNo; i++) {\r\n        const line = document.lineAt(i).text.replace(/\\n/, \"\");\r\n        if (line.includes(\"//\")) continue;\r\n        importLine += line;\r\n\r\n        // Match single-line import statements\r\n        while ((matches = importRegex.exec(importLine)) !== null) {\r\n            importLine = \"\";\r\n            imports.push({ file: matches[1] });\r\n        }\r\n\r\n        // Match import block (multi-line) statements\r\n        if ((matches = importBlockRegex.exec(document.getText())) !== null) {\r\n            const blockImports = matches[1].match(/\"([^\"]+)\"/g);\r\n            if (blockImports) {\r\n                blockImports.forEach(imp => {\r\n                    imports.push({ file: imp.replace(/\"/g, '') });\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    const finalImports: { file: string; code?: string }[] = [];\r\n    for (const row of imports) {\r\n        row.file = await getGoFile(rootPath, row.file);\r\n        finalImports.push(row);\r\n    }\r\n\r\n    // Read and add code for each import file\r\n    for (const row of finalImports) {\r\n        const fileData = await readFile(row.file);\r\n        row.code = fileData;\r\n    }\r\n\r\n    payload.imports = finalImports;\r\n    payload.main = { file: path.join(rootPath, codePathJoined, codeFile), code: document.getText() };\r\n\r\n    return payload;\r\n}\r\n\r\nexport async function getCppImportedCodeFiles(codePath:any, document:any) {\r\n    console.log(\"getCppImportedCodeFiles called with codePath:\", codePath);\r\n    console.log(\"getCppImportedCodeFiles called with document:\", document);\r\n\r\n    const imports = [];\r\n    const importRegex = /^\\s*#include\\s+\"([^\"]+)\"/gm;\r\n    let matches;\r\n\r\n    // Find and store imports\r\n    console.log(\"Starting to find imports...\");\r\n    while ((matches = importRegex.exec(document.getText())) !== null) {\r\n        console.log(\"Found import:\", matches[1]);\r\n        imports.push({ file: matches[1] });\r\n    }\r\n\r\n    const finalImports = [];\r\n    for (const row of imports) {\r\n        const filePath = path.join(codePath, `${row.file}.cpp`);\r\n        console.log(\"Checking filePath for import:\", filePath);\r\n        try {\r\n            //@ts-ignore\r\n            const fileData = await readFile(filePath, 'utf8');\r\n            console.log(\"Read file data for:\", filePath);\r\n            finalImports.push({ file: filePath, code: fileData });\r\n        } catch (error) {\r\n            console.warn(`Could not read file ${filePath}:`, error);\r\n        }\r\n    }\r\n\r\n    // Main file content\r\n    const mainFileCode = document.getText();\r\n    console.log(\"Main file content loaded.\");\r\n\r\n    return {\r\n        imports: finalImports,\r\n        main: { file: path.join(codePath, document.fileName), code: mainFileCode },\r\n    };\r\n}\r\n\r\n\r\n\r\nexport async function getCsharpImportedCodeFiles(codePath: string, document: any) {\r\n    console.log(\"getCsharpImportedCodeFiles called with codePath:\", codePath);\r\n    console.log(\"getCsharpImportedCodeFiles called with document:\", document);\r\n\r\n    const imports = [];\r\n    const importRegex = /^\\s*using\\s+([^;]+);/gm;\r\n    let matches;\r\n\r\n    // Find and store imports\r\n    console.log(\"Starting to find imports...\");\r\n    while ((matches = importRegex.exec(document.getText())) !== null) {\r\n        console.log(\"Found import:\", matches[1]);\r\n        imports.push({ file: matches[1] });\r\n    }\r\n\r\n    const finalImports = [];\r\n    for (const row of imports) {\r\n        const filePath = path.join(codePath, `${row.file}.cs`);\r\n        console.log(\"Checking filePath for import:\", filePath);\r\n        try {\r\n            //@ts-ignore\r\n            const fileData = await readFile(filePath, 'utf8');\r\n            console.log(\"Read file data for:\", filePath);\r\n            finalImports.push({ file: filePath, code: fileData });\r\n        } catch (error) {\r\n            console.warn(`Could not read file ${filePath}:`, error);\r\n        }\r\n    }\r\n\r\n    // Main file content\r\n    const mainFileCode = document.getText();\r\n    console.log(\"Main file content loaded.\");\r\n\r\n    return {\r\n        imports: finalImports,\r\n        main: { file: path.join(codePath, document.fileName), code: mainFileCode },\r\n    };\r\n}\r\n\r\n// Add PHP-specific function for fetching imported files\r\nexport async function getPhpImportedCodeFiles(codePath: string, document: any) {\r\n    const imports = [];\r\n    const importRegex = /^\\s*require|include(_once)?\\s*\\(?\\s*['\"]([^'\"]+)['\"]\\s*\\)?;/gm;\r\n    let matches;\r\n\r\n    // Extract imports from PHP file\r\n    while ((matches = importRegex.exec(document.getText())) !== null) {\r\n        imports.push({ file: matches[2] });\r\n    }\r\n\r\n    const finalImports: { file: string; code?: string }[] = [];\r\n    for (const row of imports) {\r\n        const filePath = path.join(codePath, row.file);\r\n        try {\r\n            const fileData = await readFile(filePath, 'utf8');\r\n            finalImports.push({ file: filePath, code: fileData });\r\n        } catch (error) {\r\n            console.warn(`Could not read file ${filePath}:`, error);\r\n        }\r\n    }\r\n\r\n    return {\r\n        imports: finalImports,\r\n        main: { file: path.join(codePath, document.fileName), code: document.getText() },\r\n    };\r\n}\r\n\r\nconst getRubyImportedCodeFiles = async (codePath: string, document: any) => {\r\n    console.log(\"getRubyImportedCodeFiles called with codePath:\", codePath);\r\n\r\n    const payload = {};\r\n    const imports = [];\r\n    const importRegex = /^\\s*require\\s+['\"](.+?)['\"]/gm;\r\n    let matches;\r\n\r\n    const LocNo = document.lineCount > 50 ? 50 : document.lineCount;\r\n    for (let i = 0; i < LocNo; i++) {\r\n        const line = document.lineAt(i).text.replace(/\\n/, \"\");\r\n        if (line.includes(\"#\")) continue;\r\n\r\n        while ((matches = importRegex.exec(line)) !== null) {\r\n            if (matches.length) {\r\n                console.log(\"Import match found:\", matches);\r\n                imports.push({ file: matches[1] });\r\n            }\r\n        }\r\n    }\r\n\r\n    const finalImports = [];\r\n    for (let row of imports) {\r\n        let file = row.file;\r\n        row.file = await getRubyFile(codePath, file); // Implement a `getRubyFile` function similar to `getPyFile`\r\n        finalImports.push(row);\r\n    }\r\n\r\n    // Add content to payload\r\n    payload.imports = finalImports;\r\n    payload.main = { file: codePath, code: document.getText() };\r\n\r\n    console.log(\"Payload for Ruby imports and main file:\", payload);\r\n    return payload;\r\n};\r\n\r\nexport async function getRustImportedCodeFiles(codePath: string, document: vscode.TextDocument) {\r\n    const payload = {};\r\n    const imports = [];\r\n    const importRegex = /^\\s*use\\s+((\\w+::)*\\w+);/gm;\r\n\r\n    const codeText = document.getText();\r\n    let matches;\r\n\r\n    while ((matches = importRegex.exec(codeText)) !== null) {\r\n        const importedModule = matches[1];\r\n        imports.push(importedModule);\r\n    }\r\n\r\n    const finalImports = [];\r\n    for (let importedFile of imports) {\r\n        const filePath = await getRustFile(codePath, importedFile);\r\n        if (filePath) {\r\n            const fileData = await readFile(filePath);\r\n            finalImports.push({ file: filePath, code: fileData });\r\n        }\r\n    }\r\n\r\n    payload.imports = finalImports;\r\n    payload.main = { file: codePath, code: codeText };\r\n\r\n    return payload;\r\n}\r\n\r\n// --------------------------------------------------------------------------------------------------------------------\r\n\r\n\r\n\r\n//@ts-ignore\r\nexport async function readFile(filePath) {\r\n    try {\r\n        return fs.readFileSync(filePath, { encoding: 'utf8', flag: 'r' });\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n};\r\nexport function getComponentType(kind: vscode.SymbolKind): string {\r\n    switch (kind) {\r\n        case vscode.SymbolKind.Struct:\r\n            return 'struct';\r\n        case vscode.SymbolKind.Interface:\r\n            return 'trait';\r\n        case vscode.SymbolKind.Function:\r\n            return 'function';\r\n        default:\r\n            return 'component';\r\n    }\r\n}\r\n\r\n// export function parseCode(codeTree: vscode.DocumentSymbol[], document: vscode.TextDocument): { name: string; kind: vscode.SymbolKind; range: vscode.Range }[] {\r\n//     const detectedCode: { name: string; kind: vscode.SymbolKind; range: vscode.Range }[] = [];\r\n//     // console.log(codeTree, \"codeTree\");\r\n    \r\n//     function traverseSymbols(symbols: vscode.DocumentSymbol[]) {\r\n//         for (const symbol of symbols) {\r\n//             // Filter for specific symbol types: Class, Method, and Function\r\n//             if ([vscode.SymbolKind.Class, vscode.SymbolKind.Method, vscode.SymbolKind.Function].includes(symbol.kind)) {\r\n//                 detectedCode.push({\r\n//                     name: symbol.name,\r\n//                     kind: symbol.kind,\r\n//                     range: symbol.range,\r\n//                 });\r\n//             }\r\n\r\n//             // Recursively check inner symbols\r\n//             if (symbol.children && symbol.children.length > 0) {\r\n//                 traverseSymbols(symbol.children);\r\n//             }\r\n//         }\r\n//     }\r\n\r\n//     // Start traversing the root level of the code tree\r\n//     traverseSymbols(codeTree);\r\n\r\n    \r\n//     return detectedCode;\r\n// }\r\nexport function parseCode(codeTree: vscode.DocumentSymbol[], document: vscode.TextDocument): { name: string; kind: vscode.SymbolKind; range: vscode.Range }[] {\r\n    const detectedCode: { name: string; kind: vscode.SymbolKind; range: vscode.Range }[] = [];\r\n\r\n    function traverseSymbols(symbols: vscode.DocumentSymbol[]) {\r\n        if (!Array.isArray(symbols)) {\r\n            // console.error(\"Expected 'symbols' to be an array but got\", symbols);\r\n            return; // Exit the function early if symbols is not an array\r\n        }\r\n        for (const symbol of symbols) {\r\n            // Include classes, methods, functions, and variables\r\n            if ([vscode.SymbolKind.Class, vscode.SymbolKind.Method, vscode.SymbolKind.Function, vscode.SymbolKind.Interface].includes(symbol.kind)) {\r\n                detectedCode.push({\r\n                    name: symbol.name,\r\n                    kind: symbol.kind,\r\n                    range: symbol.range,\r\n                });\r\n            }\r\n\r\n            // Recursively check inner symbols\r\n            if (symbol.children && symbol.children.length > 0) {\r\n                traverseSymbols(symbol.children);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Traverse the document symbols\r\n    // traverseSymbols(codeTree);\r\n    if (Array.isArray(codeTree)) {\r\n        traverseSymbols(codeTree);\r\n    }\r\n\r\n\r\n    // Additional logic to detect React functional components\r\n    const text = document.getText();\r\n    const reactComponentRegex = /(?:export\\s+default\\s+)?(?:const|let|var|function)\\s+([A-Z][a-zA-Z0-9]*)\\s*=\\s*(?:\\(.*\\)|function\\s*\\(.*\\))/g;\r\n    let match;\r\n    while ((match = reactComponentRegex.exec(text)) !== null) {\r\n        const componentName = match[1];\r\n        const range = document.lineAt(document.positionAt(match.index).line).range;\r\n        detectedCode.push({\r\n            name: componentName,\r\n            kind: vscode.SymbolKind.Function, // Treat as a function\r\n            range: range,\r\n        });\r\n    }\r\n\r\n    return detectedCode;\r\n}\r\n\r\n\r\nexport function getLanguageType(language: string) {\r\n    if ([\"typescriptreact\", \"typescriptjsx\"].includes(language)) {\r\n        language = \"typescript\";\r\n    } else if ([\"javascriptreact\", \"javascriptjsx\"].includes(language)) {\r\n        language = \"javascript\";\r\n    } else if ([\"java\"].includes(language)) {\r\n        language = \"java\";\r\n    } else if ([\"cpp\", \"c++\"].includes(language)) {\r\n        language = \"cpp\";\r\n    } else if ([\"csharp\", \"cs\"].includes(language)) {\r\n        language = \"csharp\";\r\n    } else if ([\"php\"].includes(language)) {\r\n        language = \"php\";\r\n    } else if ([\"ruby\"].includes(language)) {\r\n        language = \"ruby\";\r\n    } else if ([\"rust\"].includes(language)) {\r\n        return \"rust\";\r\n    }\r\n    return language;\r\n}\r\n// export async function getTestableCodes(document: any) {\r\n//     const activeEditor = vscode.window.activeTextEditor;\r\n//     if (!activeEditor) return [];\r\n//     let language = getLanguageType(activeEditor.document.languageId);\r\n//     let parser;\r\n//     const codeTree = await vscode.commands.executeCommand(\"vscode.executeDocumentSymbolProvider\", activeEditor.document.uri);\r\n//     // console.log(\"language\", language)\r\n//     // console.log(\"codeTree\", codeTree)\r\n//     if (language === \"php\") {\r\n//         parser = new PhpParser();\r\n//     } else if (language === \"python\") {\r\n//         parser = new PyParser();\r\n//     } else if ([\"javascript\", \"typescript\"].includes(language)) {\r\n//         parser = new JSParser();\r\n//     } else if (language === \"java\") {\r\n//         parser = new JavaParser();\r\n//     } else if (language === \"go\") {\r\n//         parser = new GoParser();\r\n//     } else if (language === \"cpp\") {\r\n//         parser = new CppParser();\r\n//     } else if (language === \"csharp\") {\r\n//         parser = new CsharpParser();\r\n//     } else if (language === \"ruby\") {\r\n//         parser = new RubyParser();\r\n//     } else if (language === \"rust\") {\r\n//         parser = new RustParser();\r\n//     } else {\r\n//         parser = new PyParser(); // Default parser\r\n//     }\r\n\r\n//     //@ts-ignore\r\n//     // const detectedCode = parseCode(codeTree, document, parser);\r\n//     const detectedCode = parseCode(codeTree, document);\r\n//     console.log(\"Detected Code:\", detectedCode);\r\n//     console.log(\"Parse Code:\", parser);\r\n//     return { detectedCode, importedCode: {} };\r\n// }\r\nexport async function getTestableCodes(document: any) {\r\n    const activeEditor = vscode.window.activeTextEditor;\r\n    if (!activeEditor) return [];\r\n\r\n    let language = getLanguageType(activeEditor.document.languageId);\r\n    let parser;\r\n    let codeTree;\r\n\r\n    try {\r\n        codeTree = await vscode.commands.executeCommand(\"vscode.executeDocumentSymbolProvider\", activeEditor.document.uri);\r\n\r\n        // Ensure codeTree is an array (or iterable) before passing it to parseCode\r\n        if (!Array.isArray(codeTree)) {\r\n            // console.error(\"Expected 'codeTree' to be an array but got\", codeTree);\r\n            return { detectedCode: [], importedCode: {} };\r\n        }\r\n\r\n        // Select appropriate parser based on language\r\n        if (language === \"php\") {\r\n            parser = new PhpParser();\r\n        } else if (language === \"python\") {\r\n            parser = new PyParser();\r\n        } else if ([\"javascript\", \"typescript\"].includes(language)) {\r\n            parser = new JSParser();\r\n        } else if (language === \"java\") {\r\n            parser = new JavaParser();\r\n        } else if (language === \"go\") {\r\n            parser = new GoParser();\r\n        } else if (language === \"cpp\") {\r\n            parser = new CppParser();\r\n        } else if (language === \"csharp\") {\r\n            parser = new CsharpParser();\r\n        } else if (language === \"ruby\") {\r\n            parser = new RubyParser();\r\n        } else if (language === \"rust\") {\r\n            parser = new RustParser();\r\n        } else {\r\n            parser = new PyParser(); // Default parser\r\n        }\r\n\r\n        // Call parseCode with the validated codeTree\r\n        const detectedCode = parseCode(codeTree, document);\r\n        // console.log(\"Detected Code:\", detectedCode);\r\n        // console.log(\"Parser:\", parser);\r\n\r\n        return { detectedCode, importedCode: {} };\r\n    } catch (error) {\r\n        console.error(\"Error in getTestableCodes:\", error);\r\n        return { detectedCode: [], importedCode: {} };\r\n    }\r\n}\r\nexport async function getTestableCodes1(document: any,activeEditor:vscode.TextEditor) {\r\n    // const activeEditor = vscode.window.activeTextEditor;\r\n    if (!activeEditor) return [];\r\n\r\n    let language = getLanguageType(activeEditor.document.languageId);\r\n    let parser;\r\n    let codeTree;\r\n\r\n    try {\r\n        codeTree = await vscode.commands.executeCommand(\"vscode.executeDocumentSymbolProvider\", activeEditor.document.uri);\r\n\r\n        // Ensure codeTree is an array (or iterable) before passing it to parseCode\r\n        if (!Array.isArray(codeTree)) {\r\n            // console.error(\"Expected 'codeTree' to be an array but got\", codeTree);\r\n            return { detectedCode: [], importedCode: {} };\r\n        }\r\n\r\n        // Select appropriate parser based on language\r\n        if (language === \"php\") {\r\n            parser = new PhpParser();\r\n        } else if (language === \"python\") {\r\n            parser = new PyParser();\r\n        } else if ([\"javascript\", \"typescript\"].includes(language)) {\r\n            parser = new JSParser();\r\n        } else if (language === \"java\") {\r\n            parser = new JavaParser();\r\n        } else if (language === \"go\") {\r\n            parser = new GoParser();\r\n        } else if (language === \"cpp\") {\r\n            parser = new CppParser();\r\n        } else if (language === \"csharp\") {\r\n            parser = new CsharpParser();\r\n        } else if (language === \"ruby\") {\r\n            parser = new RubyParser();\r\n        } else if (language === \"rust\") {\r\n            parser = new RustParser();\r\n        } else {\r\n            parser = new PyParser(); // Default parser\r\n        }\r\n\r\n        // Call parseCode with the validated codeTree\r\n        const detectedCode = parseCode(codeTree, document);\r\n        // console.log(\"Detected Code:\", detectedCode);\r\n        // console.log(\"Parser:\", parser);\r\n\r\n        return { detectedCode, importedCode: {} };\r\n    } catch (error) {\r\n        console.error(\"Error in getTestableCodes:\", error);\r\n        return { detectedCode: [], importedCode: {} };\r\n    }\r\n}\r\nexport const getImportedContent = async (language: string, document: any, codePath: string) => {\r\n    switch (language) {\r\n        case 'php':\r\n            return await getPhpImportedCodeFiles(codePath, document);\r\n        case 'python':\r\n            return await getPythonImportedCodeFiles(codePath, document);\r\n        case 'ruby':\r\n            return await getRubyImportedCodeFiles(codePath, document);\r\n        case 'javascript':\r\n        case 'typescript':\r\n        case 'javascriptreact':\r\n        case 'typescriptreact':\r\n            return await getJSImportedCodeFiles(codePath, document);\r\n        case 'csharp':\r\n            return await getCsharpImportedCodeFiles(codePath, document);\r\n        case 'cpp':\r\n            return await getCppImportedCodeFiles(codePath, document);\r\n        case 'rust':\r\n            return await getRustImportedCodeFiles(codePath, document);\r\n        default:\r\n            return await getCsharpImportedCodeFiles(codePath, document); // Default case\r\n    }\r\n};","/**\r\n * CodelensProvider\r\n */\r\n//@ts-nocheck\r\nimport * as path from \"path\";\r\n//@ts-ignore\r\nimport * as vscode from \"vscode\";\r\nimport { getLanguageType, getTestableCodes, getComponentType, parseCode } from \"./CodeParser\";\r\n\r\n// Show GoCodeo robot Gutter Icon\r\nconst gutterDecoration = vscode.window.createTextEditorDecorationType({\r\n    gutterIconPath: path.join(__dirname, \"..\", \"logoonly.png\"),\r\n    gutterIconSize: \"contain\",\r\n});\r\n\r\n\r\n//@ts-ignore\r\nclass GCCodeLens extends vscode.CodeLens {\r\n    public command?: vscode.Command;\r\n    public component: any;\r\n    range: any;\r\n    //@ts-ignore\r\n    constructor(range, component) {\r\n        super(range);\r\n        this.component = component;\r\n    }\r\n}\r\n\r\n\r\n\r\n// export class DocstringCodeLensProvider implements vscode.CodeLensProvider {\r\n//     private _onDidChangeCodeLenses: vscode.EventEmitter<void> = new vscode.EventEmitter<void>();\r\n//     public readonly onDidChangeCodeLenses: vscode.Event<void> = this._onDidChangeCodeLenses.event;\r\n//     //@ts-ignore\r\n//     private language: string;\r\n//     //@ts-ignore\r\n//     private importedFiles: any;\r\n\r\n//     //@ts-ignore\r\n//     constructor(results: object) {\r\n//         //@ts-ignore\r\n//         vscode.workspace.onDidChangeConfiguration((_) => {\r\n//             this._onDidChangeCodeLenses.fire();\r\n//         });\r\n//     }\r\n\r\n//     //@ts-ignore\r\n//     public async provideCodeLenses(\r\n//         document: vscode.TextDocument,\r\n//         token: vscode.CancellationToken\r\n//         //@ts-ignore\r\n//     ): GCCodeLens[] | Thenable<GCCodeLens[]> {\r\n//         const activeEditor = vscode.window.activeTextEditor;\r\n//         if (!activeEditor || (activeEditor && !activeEditor.document)) return [];\r\n\r\n//         this.language = getLanguageType(activeEditor.document.languageId);\r\n//         //@ts-ignore\r\n//         const gutterIcons = [];\r\n//         //@ts-ignore\r\n//         const { detectedCode, importedCode } = await getTestableCodes(document);\r\n//         this.importedFiles = importedCode;\r\n//         const codeLenses = [];\r\n\r\n//         if (detectedCode && detectedCode.length) {\r\n//             const testButtonPos = new vscode.Position(0, 0);\r\n//             const cl = new GCCodeLens(new vscode.Range(testButtonPos, testButtonPos), \"\");\r\n//             codeLenses.push(cl);\r\n\r\n//             detectedCode.forEach((code: any) => {\r\n//                 codeLenses.push(new GCCodeLens(code.range, code));\r\n//                 const pos = new vscode.Position(code.range.start.line, 0);\r\n//                 gutterIcons.push({ range: new vscode.Range(pos, pos) });\r\n//             });\r\n//         }\r\n\r\n//         //@ts-ignore\r\n//         activeEditor.setDecorations(gutterDecoration, gutterIcons);\r\n//         return codeLenses;\r\n//     }\r\n\r\n//     public resolveCodeLens(codeLens: GCCodeLens, token: vscode.CancellationToken) {\r\n//         const activeEditor = vscode.window.activeTextEditor;\r\n//         if (!activeEditor) return;\r\n\r\n//         if (codeLens.component === \"\") {\r\n//             // CodeLens for showing the sidebar\r\n//             codeLens.command = {\r\n//                 title: \"\",\r\n//                 command: \"gocodeo.opensidebar\",\r\n//                 iconPath: {\r\n//                     light: path.join(__dirname, \"..\", \"logoonly.png\"),\r\n//                     dark: path.join(__dirname, \"..\", \"logoonly.png\"),\r\n//                 },\r\n//                 arguments: [true],\r\n//             };\r\n//         } else {\r\n//             const componentType = getComponentType(codeLens.component.kind);\r\n//             const payload = {\r\n//                 language: this.language,\r\n//                 type: componentType,\r\n//                 component: codeLens.component.name,\r\n//             };\r\n\r\n//             // Command for generating tests\r\n//             // const testCommandTitle = `GoCodeo-Generate tests for the below ${componentType}`;\r\n//             const testCommandTitle = `GoCodeo-Generate tests`;\r\n//             const testCommand: vscode.Command = {\r\n//                 title: testCommandTitle,\r\n//                 tooltip: testCommandTitle + \" by clicking this button\",\r\n//                 command: \"gocodeo.generateTestsByClick\",\r\n//                 arguments: [payload, false],\r\n//             };\r\n\r\n//             // Command for generating docstrings\r\n//             const docstringCommandTitle = `Generate docstrings`;\r\n//             const docstringCommand: vscode.Command = {\r\n//                 title: docstringCommandTitle,\r\n//                 tooltip: docstringCommandTitle + \" by clicking this button\",\r\n//                 command: \"gocodeo.generateDocstringsByClick\",\r\n//                 arguments: [payload, false],\r\n//             };\r\n\r\n//             console.log(\"componentType: \", componentType);\r\n\r\n//             // Set commands for CodeLens\r\n//             codeLens.command = {\r\n//                 title: `${docstringCommand.title}`, // Show only the docstring command\r\n//                 tooltip: \"Generate docstrings by clicking this button\",\r\n//                 command: docstringCommand.command,\r\n//                 arguments: docstringCommand.arguments\r\n//             };\r\n\r\n//             return codeLens;\r\n//         }\r\n//         return codeLens;\r\n//     }\r\n\r\n// }\r\n\r\n// export class AskCodeLensProvider implements vscode.CodeLensProvider {\r\n//     private _onDidChangeCodeLenses: vscode.EventEmitter<void> = new vscode.EventEmitter<void>();\r\n//     public readonly onDidChangeCodeLenses: vscode.Event<void> = this._onDidChangeCodeLenses.event;\r\n//     //@ts-ignore\r\n//     private language: string;\r\n//     //@ts-ignore\r\n//     private importedFiles: any;\r\n\r\n//     //@ts-ignore\r\n//     constructor(results: object) {\r\n//         //@ts-ignore\r\n//         vscode.workspace.onDidChangeConfiguration((_) => {\r\n//             this._onDidChangeCodeLenses.fire();\r\n//         });\r\n//     }\r\n\r\n//     //@ts-ignore\r\n//     public async provideCodeLenses(\r\n//         document: vscode.TextDocument,\r\n//         token: vscode.CancellationToken\r\n//         //@ts-ignore\r\n//     ): GCCodeLens[] | Thenable<GCCodeLens[]> {\r\n//         const activeEditor = vscode.window.activeTextEditor;\r\n//         if (!activeEditor || (activeEditor && !activeEditor.document)) return [];\r\n\r\n//         this.language = getLanguageType(activeEditor.document.languageId);\r\n//         //@ts-ignore\r\n//         const gutterIcons = [];\r\n//         //@ts-ignore\r\n//         const { detectedCode, importedCode } = await getTestableCodes(document);\r\n//         this.importedFiles = importedCode;\r\n//         const codeLenses = [];\r\n\r\n//         if (detectedCode && detectedCode.length) {\r\n//             const testButtonPos = new vscode.Position(0, 0);\r\n//             const cl = new GCCodeLens(new vscode.Range(testButtonPos, testButtonPos), \"\");\r\n//             codeLenses.push(cl);\r\n\r\n//             detectedCode.forEach((code: any) => {\r\n//                 codeLenses.push(new GCCodeLens(code.range, code));\r\n//                 const pos = new vscode.Position(code.range.start.line, 0);\r\n//                 gutterIcons.push({ range: new vscode.Range(pos, pos) });\r\n//             });\r\n//         }\r\n\r\n//         //@ts-ignore\r\n//         activeEditor.setDecorations(gutterDecoration, gutterIcons);\r\n//         return codeLenses;\r\n//     }\r\n\r\n//     public resolveCodeLens(codeLens: GCCodeLens, token: vscode.CancellationToken) {\r\n//         const activeEditor = vscode.window.activeTextEditor;\r\n//         if (!activeEditor) return;\r\n\r\n//         if (codeLens.component === \"\") {\r\n//             // CodeLens for showing the sidebar\r\n//             codeLens.command = {\r\n//                 title: \"\",\r\n//                 command: \"gocodeo.opensidebar\",\r\n//                 iconPath: {\r\n//                     light: path.join(__dirname, \"..\", \"logoonly.png\"),\r\n//                     dark: path.join(__dirname, \"..\", \"logoonly.png\"),\r\n//                 },\r\n//                 arguments: [true],\r\n//             };\r\n//         } else {\r\n//             const componentType = getComponentType(codeLens.component.kind);\r\n//             const payload = {\r\n//                 language: this.language,\r\n//                 type: componentType,\r\n//                 component: codeLens.component.name,\r\n//             };\r\n\r\n\r\n//             // Command for generating answer\r\n//             const AskCommandTitle = `GoCodeo-Options`;\r\n//             const AskCommand: vscode.Command = {\r\n//                 title: AskCommandTitle,\r\n//                 tooltip: AskCommandTitle + \" by clicking this button\",\r\n//                 command: \"gocodeo.generateAnswerByClick\",\r\n//                 arguments: [payload, false],\r\n//             };\r\n\r\n//             console.log(\"componentType: \", componentType);\r\n\r\n//             // Set commands for CodeLens\r\n//             codeLens.command = {\r\n//                 title: `${AskCommand.title}`,\r\n//                 tooltip: \"Ask a question by clicking this button\",\r\n//                 command: AskCommand.command,\r\n//                 arguments: AskCommand.arguments\r\n//             };\r\n\r\n//             return codeLens;\r\n//         }\r\n//         return codeLens;\r\n//     }\r\n\r\n// } \r\n\r\n\r\n\r\nexport class BuildCodeLensProvider implements vscode.CodeLensProvider {\r\n    private _onDidChangeCodeLenses: vscode.EventEmitter<void> = new vscode.EventEmitter<void>();\r\n    public readonly onDidChangeCodeLenses: vscode.Event<void> = this._onDidChangeCodeLenses.event;\r\n    //@ts-ignore\r\n    private language: string;\r\n    //@ts-ignore\r\n    private importedFiles: any;\r\n\r\n    //@ts-ignore\r\n    constructor(results: object) {\r\n        //@ts-ignore\r\n        vscode.workspace.onDidChangeConfiguration((_) => {\r\n            this._onDidChangeCodeLenses.fire();\r\n        });\r\n    }\r\n\r\n    //@ts-ignore\r\n    public async provideCodeLenses(\r\n        document: vscode.TextDocument,\r\n        token: vscode.CancellationToken\r\n    ): GCCodeLens[] | Thenable<GCCodeLens[]> {\r\n        const activeEditor = vscode.window.activeTextEditor;\r\n        if (!activeEditor || (activeEditor && !activeEditor.document)) return [];\r\n\r\n        this.language = getLanguageType(activeEditor.document.languageId);\r\n        //@ts-ignore\r\n        const gutterIcons = [];\r\n        //@ts-ignore\r\n        const { detectedCode, importedCode } = await getTestableCodes(document);\r\n        this.importedFiles = importedCode;\r\n        const codeLenses = [];\r\n\r\n        if (detectedCode && detectedCode.length) {\r\n            const buildButtonPos = new vscode.Position(0, 0);\r\n            const cl = new GCCodeLens(new vscode.Range(buildButtonPos, buildButtonPos), \"\");\r\n            codeLenses.push(cl);\r\n\r\n            detectedCode.forEach((code: any) => {\r\n                codeLenses.push(new GCCodeLens(code.range, code));\r\n                const pos = new vscode.Position(code.range.start.line, 0);\r\n                gutterIcons.push({ range: new vscode.Range(pos, pos) });\r\n            });\r\n        }\r\n\r\n        //@ts-ignore\r\n        activeEditor.setDecorations(gutterDecoration, gutterIcons);\r\n        return codeLenses;\r\n    }\r\n\r\n    public resolveCodeLens(codeLens: GCCodeLens, token: vscode.CancellationToken) {\r\n        const activeEditor = vscode.window.activeTextEditor;\r\n        if (!activeEditor) return;\r\n\r\n        if (codeLens.component === \"\") {\r\n            // CodeLens for showing the build command\r\n            codeLens.command = {\r\n                title: \"\",\r\n                command: \"gocodeo.opensidebar\",\r\n                iconPath: {\r\n                    light: path.join(__dirname, \"..\", \"logoonly.png\"),\r\n                    dark: path.join(__dirname, \"..\", \"logoonly.png\"),\r\n                },\r\n                arguments: [true],\r\n            };\r\n        } else {\r\n            const componentType = getComponentType(codeLens.component.kind);\r\n            const payload = {\r\n                language: this.language,\r\n                type: componentType,\r\n                component: codeLens.component.name,\r\n            };\r\n\r\n            // Command for building the app\r\n            const BuildCommandTitle = `GoCodeo-BUILD`;\r\n            const BuildCommand: vscode.Command = {\r\n                title: BuildCommandTitle,\r\n                tooltip: `Choose a build option for your app`,\r\n                command: \"gocodeo.builder\",\r\n                arguments: [payload, false],\r\n            };\r\n\r\n            // console.log(\"componentType: \", componentType);\r\n\r\n            // Set commands for CodeLens\r\n            codeLens.command = {\r\n                title: `${BuildCommand.title}`,\r\n                tooltip: `Create your app using ${BuildCommand.title}`,\r\n                command: BuildCommand.command,\r\n                arguments: BuildCommand.arguments,\r\n            };\r\n\r\n            return codeLens;\r\n        }\r\n        return codeLens;\r\n    }\r\n}\r\n\r\n\r\nexport class GoCodeoAskCodeLensProvider implements vscode.CodeLensProvider {\r\n    private _onDidChangeCodeLenses: vscode.EventEmitter<void> = new vscode.EventEmitter<void>();\r\n    public readonly onDidChangeCodeLenses: vscode.Event<void> = this._onDidChangeCodeLenses.event;\r\n    //@ts-ignore\r\n    private language: string;\r\n    //@ts-ignore\r\n    private importedFiles: any;\r\n\r\n    //@ts-ignore\r\n    constructor(results: object) {\r\n        //@ts-ignore\r\n        vscode.workspace.onDidChangeConfiguration((_) => {\r\n            this._onDidChangeCodeLenses.fire();\r\n        });\r\n    }\r\n\r\n    //@ts-ignore\r\n    public async provideCodeLenses(\r\n        document: vscode.TextDocument,\r\n        token: vscode.CancellationToken\r\n    ): GCCodeLens[] | Thenable<GCCodeLens[]> {\r\n        const activeEditor = vscode.window.activeTextEditor;\r\n        if (!activeEditor || (activeEditor && !activeEditor.document)) return [];\r\n\r\n        this.language = getLanguageType(activeEditor.document.languageId);\r\n        //@ts-ignore\r\n        const gutterIcons = [];\r\n        //@ts-ignore\r\n        const { detectedCode, importedCode } = await getTestableCodes(document);\r\n        this.importedFiles = importedCode;\r\n        const codeLenses = [];\r\n\r\n        if (detectedCode && detectedCode.length) {\r\n            const buildButtonPos = new vscode.Position(0, 0);\r\n            const cl = new GCCodeLens(new vscode.Range(buildButtonPos, buildButtonPos), \"\");\r\n            codeLenses.push(cl);\r\n\r\n            detectedCode.forEach((code: any) => {\r\n                codeLenses.push(new GCCodeLens(code.range, code));\r\n                const pos = new vscode.Position(code.range.start.line, 0);\r\n                gutterIcons.push({ range: new vscode.Range(pos, pos) });\r\n            });\r\n        }\r\n\r\n        //@ts-ignore\r\n        activeEditor.setDecorations(gutterDecoration, gutterIcons);\r\n        return codeLenses;\r\n    }\r\n\r\n    public resolveCodeLens(codeLens: GCCodeLens, token: vscode.CancellationToken) {\r\n        const activeEditor = vscode.window.activeTextEditor;\r\n        if (!activeEditor) return;\r\n\r\n        if (codeLens.component === \"\") {\r\n            // CodeLens for showing the build command\r\n            codeLens.command = {\r\n                title: \"\",\r\n                command: \"gocodeo.opensidebar\",\r\n                iconPath: {\r\n                    light: path.join(__dirname, \"..\", \"logoonly.png\"),\r\n                    dark: path.join(__dirname, \"..\", \"logoonly.png\"),\r\n                },\r\n                arguments: [true],\r\n            };\r\n        } else {\r\n            const componentType = getComponentType(codeLens.component.kind);\r\n            const payload = {\r\n                language: this.language,\r\n                type: componentType,\r\n                component: codeLens.component.name,\r\n            };\r\n\r\n            // Command for building the app\r\n            const BuildCommandTitle = `GoCodeo-ASK`;\r\n            const BuildCommand: vscode.Command = {\r\n                title: BuildCommandTitle,\r\n                tooltip: `Choose the ASK option for your app`,\r\n                command: \"gocodeo.askChat\",\r\n                arguments: [payload, false],\r\n            };\r\n\r\n            // console.log(\"componentType: \", componentType);\r\n\r\n            // Set commands for CodeLens\r\n            codeLens.command = {\r\n                title: `${BuildCommand.title}`,\r\n                tooltip: `ASK anything using ${BuildCommand.title}`,\r\n                command: BuildCommand.command,\r\n                arguments: BuildCommand.arguments,\r\n            };\r\n\r\n            return codeLens;\r\n        }\r\n        return codeLens;\r\n    }\r\n}\r\n \r\n\r\n\r\nexport class TestCodelensProvider implements vscode.CodeLensProvider {\r\n    private _onDidChangeCodeLenses: vscode.EventEmitter<void> = new vscode.EventEmitter<void>();\r\n    public readonly onDidChangeCodeLenses: vscode.Event<void> = this._onDidChangeCodeLenses.event;\r\n    //@ts-ignore\r\n    private language: string;\r\n    //@ts-ignore\r\n    private importedFiles: any;\r\n\r\n\r\n    //@ts-ignore\r\n    // constructor(results: object) {\r\n    //     vscode.workspace.onDidOpenTextDocument((document) => {\r\n    //         if (document.languageId === \"javascriptreact\" || document.languageId === \"typescriptreact\") {\r\n    //             this._onDidChangeCodeLenses.fire();\r\n    //         }\r\n    //     });\r\n    // }\r\n    // public async provideCodeLenses(\r\n    //     document: vscode.TextDocument,\r\n    //     token: vscode.CancellationToken\r\n    // ): Promise<vscode.CodeLens[]> {\r\n    //     const activeEditor = vscode.window.activeTextEditor;\r\n    //     if (!activeEditor || (activeEditor && !activeEditor.document)) return [];\r\n\r\n    //     this.language = getLanguageType(activeEditor.document.languageId);\r\n    //     const codeLenses = [];\r\n\r\n    //     // Custom logic to detect interfaces\r\n    //     const text = document.getText();\r\n    //     // const interfaceRegex = /type\\s+(\\w+)\\s+interface\\s*{/g;\r\n    //     const interfaceRegex = /type\\s+(\\w+)\\s+interface\\s*[{(]/g;;\r\n    //     let match;\r\n\r\n    //     // Loop through each interface match\r\n    //     while ((match = interfaceRegex.exec(text)) !== null) {\r\n    //         const interfaceName = match[1];\r\n    //         const line = document.positionAt(match.index).line;\r\n    //         const range = new vscode.Range(new vscode.Position(line, 0), new vscode.Position(line, 0));\r\n    //         const interfaceCodeLens = new GCCodeLens(range, { name: interfaceName, kind: 'interface' });\r\n\r\n    //         // Add a CodeLens for the interface\r\n    //         codeLenses.push(interfaceCodeLens);\r\n    //     }\r\n\r\n    //     // Existing logic for methods\r\n    //     //@ts-ignore\r\n    //     const { detectedCode, importedCode } = await getTestableCodes(document);\r\n    //     this.importedFiles = importedCode;\r\n\r\n\r\n    //     if (detectedCode && detectedCode.length) {\r\n    //         detectedCode.forEach((code: any) => {\r\n    //             codeLenses.push(new GCCodeLens(code.range, code));\r\n    //         });\r\n    //     }\r\n\r\n\r\n    //     return codeLenses;\r\n    // }\r\n\r\n\r\n    //@ts-ignore\r\n    constructor(results: object) {\r\n        //@ts-ignore\r\n        vscode.workspace.onDidChangeConfiguration((_) => {\r\n            this._onDidChangeCodeLenses.fire();\r\n        });\r\n    }\r\n\r\n    //@ts-ignore\r\n    public async provideCodeLenses(\r\n        document: vscode.TextDocument,\r\n        token: vscode.CancellationToken\r\n    ): GCCodeLens[] | Thenable<GCCodeLens[]> {\r\n        const activeEditor = vscode.window.activeTextEditor;\r\n        if (!activeEditor || (activeEditor && !activeEditor.document)) return [];\r\n\r\n        this.language = getLanguageType(activeEditor.document.languageId);\r\n        //@ts-ignore\r\n        const gutterIcons = [];\r\n        //@ts-ignore\r\n        const { detectedCode, importedCode } = await getTestableCodes(document);\r\n        this.importedFiles = importedCode;\r\n        const codeLenses = [];\r\n\r\n        if (detectedCode && detectedCode.length) {\r\n            const buildButtonPos = new vscode.Position(0, 0);\r\n            const cl = new GCCodeLens(new vscode.Range(buildButtonPos, buildButtonPos), \"\");\r\n            codeLenses.push(cl);\r\n\r\n            detectedCode.forEach((code: any) => {\r\n                codeLenses.push(new GCCodeLens(code.range, code));\r\n                const pos = new vscode.Position(code.range.start.line, 0);\r\n                gutterIcons.push({ range: new vscode.Range(pos, pos) });\r\n            });\r\n        }\r\n\r\n        //@ts-ignore\r\n        activeEditor.setDecorations(gutterDecoration, gutterIcons);\r\n        return codeLenses;\r\n    }\r\n\r\n    public resolveCodeLens(codeLens: GCCodeLens, token: vscode.CancellationToken) {\r\n        const activeEditor = vscode.window.activeTextEditor;\r\n        if (!activeEditor) return;\r\n\r\n        if (codeLens.component === \"\") {\r\n            // CodeLens for showing the sidebar\r\n            codeLens.command = {\r\n                title: \"\",\r\n                command: \"gocodeo.opensidebar\",\r\n                iconPath: {\r\n                    light: path.join(__dirname, \"..\", \"logoonly.png\"),\r\n                    dark: path.join(__dirname, \"..\", \"logoonly.png\"),\r\n                },\r\n                arguments: [true],\r\n            };\r\n        } else {\r\n            const componentType = getComponentType(codeLens.component.kind);\r\n            const payload = {\r\n                language: this.language,\r\n                type: componentType,\r\n                component: codeLens.component.name,\r\n            };\r\n\r\n            // Command for generating tests\r\n            // const testCommandTitle = `GoCodeo-Generate tests for the below ${componentType}`;\r\n            const testCommandTitle = `GoCodeo-TEST`;\r\n            const testCommand: vscode.Command = {\r\n                title: testCommandTitle,\r\n                tooltip: testCommandTitle + \" by clicking this button\",\r\n                command: \"gocodeo.generateTestsByClick\",\r\n                arguments: [payload, false],\r\n            };\r\n         \r\n            // Command for generating docstrings\r\n            // const docstringCommandTitle = `Generate docstrings`;\r\n            // const docstringCommand: vscode.Command = {\r\n            //     title: docstringCommandTitle,\r\n            //     tooltip: docstringCommandTitle + \" by clicking this button\",\r\n            //     command: \"gocodeo.generateDocstringsByClick\",\r\n            //     arguments: [payload, false],\r\n            // };\r\n\r\n            // console.log(\"componentType: \", componentType);\r\n\r\n         \r\n            codeLens.command = {\r\n                title: `${testCommand.title}`, // Show only the tests command\r\n                tooltip: \"Generate tests by clicking this button\",\r\n                command: testCommand.command,\r\n                arguments: testCommand.arguments,\r\n            };\r\n\r\n           \r\n\r\n            return codeLens;\r\n        }\r\n        return codeLens;\r\n    }\r\n\r\n}\r\n\r\n// export class ExplainCodeLensProvider implements vscode.CodeLensProvider {\r\n//     private _onDidChangeCodeLenses: vscode.EventEmitter<void> = new vscode.EventEmitter<void>();\r\n//     public readonly onDidChangeCodeLenses: vscode.Event<void> = this._onDidChangeCodeLenses.event;\r\n//     //@ts-ignore\r\n//     private language: string;\r\n//     //@ts-ignore\r\n//     private importedFiles: any;\r\n\r\n//     //@ts-ignore\r\n//     constructor(results: object) {\r\n//         //@ts-ignore\r\n//         vscode.workspace.onDidChangeConfiguration((_) => {\r\n//             this._onDidChangeCodeLenses.fire();\r\n//         });\r\n//     }\r\n\r\n//     //@ts-ignore\r\n//     public async provideCodeLenses(\r\n//         document: vscode.TextDocument,\r\n//         token: vscode.CancellationToken\r\n//     //@ts-ignore\r\n//     ): GCCodeLens[] | Thenable<GCCodeLens[]> {\r\n//         const activeEditor = vscode.window.activeTextEditor;\r\n//         if (!activeEditor || (activeEditor && !activeEditor.document)) return [];\r\n\r\n//         this.language = getLanguageType(activeEditor.document.languageId);\r\n//         //@ts-ignore\r\n//         const gutterIcons = [];\r\n//         //@ts-ignore\r\n//         const { detectedCode, importedCode } = await getTestableCodes(document);\r\n//         this.importedFiles = importedCode;\r\n//         const codeLenses = [];\r\n\r\n//         if (detectedCode && detectedCode.length) {\r\n//             const testButtonPos = new vscode.Position(0, 0);\r\n//             const cl = new GCCodeLens(new vscode.Range(testButtonPos, testButtonPos), \"\");\r\n//             codeLenses.push(cl);\r\n\r\n//             detectedCode.forEach((code: any) => {\r\n//                 codeLenses.push(new GCCodeLens(code.range, code));\r\n//                 const pos = new vscode.Position(code.range.start.line, 0);\r\n//                 gutterIcons.push({ range: new vscode.Range(pos, pos) });\r\n//             });\r\n//         }\r\n\r\n//         //@ts-ignore\r\n//         activeEditor.setDecorations(gutterDecoration, gutterIcons);\r\n//         return codeLenses;\r\n//     }\r\n\r\n//     public resolveCodeLens(codeLens: GCCodeLens, token: vscode.CancellationToken) {\r\n//         const activeEditor = vscode.window.activeTextEditor;\r\n//         if (!activeEditor) return;\r\n\r\n//         if (codeLens.component === \"\") {\r\n//             // CodeLens for showing the sidebar\r\n//             codeLens.command = {\r\n//                 title: \"\",\r\n//                 command: \"gocodeo.opensidebar\",\r\n//                 iconPath: {\r\n//                     light: path.join(__dirname, \"..\", \"logoonly.png\"),\r\n//                     dark: path.join(__dirname, \"..\", \"logoonly.png\"),\r\n//                 },\r\n//                 arguments: [true],\r\n//             };\r\n//         } else {\r\n//             const componentType = getComponentType(codeLens.component.kind);\r\n//             const payload = {\r\n//                 language: this.language,\r\n//                 type: componentType,\r\n//                 component: codeLens.component.name,\r\n//             };\r\n\r\n\r\n//             // Command for generating docstrings\r\n//             const ExplainCommandTitle = `Explain`;\r\n//             const ExplainCommand: vscode.Command = {\r\n//                 title: ExplainCommandTitle,\r\n//                 tooltip: ExplainCommandTitle + \" by clicking this button\",\r\n//                 command: \"gocodeo.generateExplainByClick\",\r\n//                 arguments: [payload, false],\r\n//             };\r\n\r\n//             console.log(\"componentType: \", componentType);\r\n\r\n//             // Set commands for CodeLens\r\n//             codeLens.command = {\r\n//                 title: `${ExplainCommand.title}`, // Show only the docstring command\r\n//                     tooltip: \"Explain by clicking this button\",\r\n//                     command: ExplainCommand.command,\r\n//                     arguments: ExplainCommand.arguments\r\n//             };\r\n\r\n//             return codeLens;\r\n//         }\r\n//         return codeLens;\r\n//     }\r\n\r\n// }\r\n\r\n\r\n// ! in this function has the perfect regex for codelense for every language\r\n// export class BuildCodeLensProvider implements vscode.CodeLensProvider {\r\n//     private _onDidChangeCodeLenses: vscode.EventEmitter<void> = new vscode.EventEmitter<void>();\r\n//     public readonly onDidChangeCodeLenses: vscode.Event<void> = this._onDidChangeCodeLenses.event;\r\n\r\n//     constructor() {\r\n//         vscode.workspace.onDidChangeConfiguration((_) => {\r\n//             this._onDidChangeCodeLenses.fire();\r\n//         });\r\n//     }\r\n\r\n//     public async provideCodeLenses(\r\n//         document: vscode.TextDocument,\r\n//         token: vscode.CancellationToken\r\n//     ): Promise<vscode.CodeLens[]> {\r\n//         const activeEditor = vscode.window.activeTextEditor;\r\n//         if (!activeEditor || (activeEditor && !activeEditor.document)) return [];\r\n\r\n//         const codeLenses = [];\r\n\r\n//         // Updated regex to match imports, interfaces, functions, and classes\r\n//         const text = document.getText();\r\n//         // const codeRegex = /(import\\s.*?from\\s.*?;|interface\\s+\\w+|class\\s+\\w+|function\\s+\\w+)/g;\r\n//         // const codeRegex =\r\n//         //     /(import\\s+.*?|interface\\s+\\w+|class\\s+\\w+|func\\s+\\w+\\s*\\([^)]*\\)\\s*.*?|function\\s+\\w+\\s*\\([^)]*\\)\\s*\\{|const\\s+\\w+\\s*=\\s*(?:function\\s*\\([^)]*\\)|\\(?.*?\\)?\\s*=>))/g;\r\n//         const codeRegex =\r\n//             /(import\\s+.*?|interface\\s+\\w+|class\\s+\\w+|func\\s+\\w+\\s*\\([^)]*\\)\\s*.*?|function\\s+\\w+\\s*\\([^)]*\\)\\s*\\{|const\\s+\\w+\\s*=\\s*(?:function\\s*\\([^)]*\\)|\\(?.*?\\)?\\s*=>)|def\\s+\\w+\\s*\\([^)]*\\)\\s*:)/g;\r\n\r\n\r\n//         let match;\r\n\r\n//         while ((match = codeRegex.exec(text)) !== null) {\r\n//             const line = document.positionAt(match.index).line;\r\n//             const range = new vscode.Range(new vscode.Position(line, 0), new vscode.Position(line, 0));\r\n//             const buildCodeLens = new GCCodeLens(range, \"\");\r\n//             codeLenses.push(buildCodeLens);\r\n//         }\r\n\r\n//         return codeLenses;\r\n//     }\r\n\r\n//     public resolveCodeLens(codeLens: GCCodeLens, token: vscode.CancellationToken) {\r\n//         const activeEditor = vscode.window.activeTextEditor;\r\n//         if (!activeEditor) return;\r\n\r\n//         if (codeLens.component === \"\") {\r\n//             // CodeLens for showing the build command\r\n//             const buildCommandTitle = `GoCodeo-Build`;\r\n//             codeLens.command = {\r\n//                 title: buildCommandTitle,\r\n//                 tooltip: `Create your app using ${buildCommandTitle}`,\r\n//                 command: \"gocodeo.builder\",\r\n//                 arguments: [true], // Passing `true` as `isSidebar`\r\n//             };\r\n//         }\r\n//         return codeLens;\r\n//     }\r\n// }\r\n\r\n\r\n","//Common Constants\r\nconst AUTH_TOKEN = \"gocodeo.authToken\";\r\nconst CMD_GET_STARTED = \"gocodeo.getStarted\";\r\nconst CMD_SIGNIN = \"gocodeo.signin\";\r\nconst INSTALLATION_ID = 'gcId';\r\nconst LOGGED_IN_KEY = 'is_logged_in';\r\n\r\nconst VERCEL_TOKEN = process.env.REACT_APP_VERCEL_TOKEN || 'gCxuiGtOVpTBj1KIqoqnEAbl';\r\n// const PRICING_PAGE = \"http://localhost:5173\"\r\nconst PRICING_PAGE = \"https://pricing.gocodeo.com\"\r\n\r\n// Dev/Staging\r\n// const BASE_URL = \"https://dev-ai-service.gocodeo.com\";\r\n// const MIXPANEL_KEY = \"f138210244b411b4e87d0935191a381b\";\r\n\r\n// Production\r\nconst BASE_URL = \"https://ai-service.gocodeo.com\";\r\nconst MIXPANEL_KEY = 'e52a7a46e52d5bd3ee2dce5fa0a4993f';\r\n\r\nconst SUPABASE_CLIENT_ID = \"17b95e33-baee-425e-bf85-db5669c4d571\";\r\nconst SUPABASE_CLIENT_SECRET = \"sba_81ea66ebb5754cd43476c67bd1bb3701529c5146\";\r\nconst SUPABASE_REDIRECT_URL = `${BASE_URL}/api/v1/supabase-auth-callback`;\r\n\r\nconst SIGNIN_GITHUB_URL = `${BASE_URL}/v1/auth/github/login`;\r\nconst SIGNIN_GOOGLE_URL = `${BASE_URL}/v1/auth/google/login`;\r\nexport {\r\n    BASE_URL,\r\n    SIGNIN_GITHUB_URL,\r\n    SIGNIN_GOOGLE_URL,\r\n    AUTH_TOKEN,\r\n    CMD_GET_STARTED,\r\n    CMD_SIGNIN,\r\n    INSTALLATION_ID,\r\n    LOGGED_IN_KEY,\r\n    MIXPANEL_KEY,\r\n    VERCEL_TOKEN,\r\n    SUPABASE_CLIENT_ID,\r\n    SUPABASE_CLIENT_SECRET,\r\n    SUPABASE_REDIRECT_URL,\r\n    PRICING_PAGE\r\n};\r\n","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    if (reducer(descriptor, name, obj) !== false) {\n      reducedDescriptors[name] = descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  value = +value;\n  return Number.isFinite(value) ? value : defaultValue;\n}\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz'\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n}\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  while (size--) {\n    str += alphabet[Math.random() * length|0]\n  }\n\n  return str;\n}\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  ALPHABET,\n  generateString,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  response && (this.response = response);\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","import FormData from 'form-data';\n\nexport default FormData;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?object} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nimport url from 'url';\nexport default url.URLSearchParams;\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\n\nexport default {\n  isNode: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob: typeof Blob !== 'undefined' && Blob || null\n  },\n  protocols: [ 'http', 'https', 'file', 'data' ]\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\nconst DEFAULT_CONTENT_TYPE = {\n  'Content-Type': undefined\n};\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      if (!hasJSONContentType) {\n        return data;\n      }\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*'\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\nutils.freezeMethods(AxiosHeaders.prototype);\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"zlib\");","export const VERSION = \"1.4.0\";","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport parseProtocol from './parseProtocol.js';\nimport platform from '../platform/index.js';\n\nconst DATA_URL_PATTERN = /^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\\s\\S]*)$/;\n\n/**\n * Parse data uri to a Buffer or Blob\n *\n * @param {String} uri\n * @param {?Boolean} asBlob\n * @param {?Object} options\n * @param {?Function} options.Blob\n *\n * @returns {Buffer|Blob}\n */\nexport default function fromDataURI(uri, asBlob, options) {\n  const _Blob = options && options.Blob || platform.classes.Blob;\n  const protocol = parseProtocol(uri);\n\n  if (asBlob === undefined && _Blob) {\n    asBlob = true;\n  }\n\n  if (protocol === 'data') {\n    uri = protocol.length ? uri.slice(protocol.length + 1) : uri;\n\n    const match = DATA_URL_PATTERN.exec(uri);\n\n    if (!match) {\n      throw new AxiosError('Invalid URL', AxiosError.ERR_INVALID_URL);\n    }\n\n    const mime = match[1];\n    const isBase64 = match[2];\n    const body = match[3];\n    const buffer = Buffer.from(decodeURIComponent(body), isBase64 ? 'base64' : 'utf8');\n\n    if (asBlob) {\n      if (!_Blob) {\n        throw new AxiosError('Blob is not supported', AxiosError.ERR_NOT_SUPPORT);\n      }\n\n      return new _Blob([buffer], {type: mime});\n    }\n\n    return buffer;\n  }\n\n  throw new AxiosError('Unsupported protocol ' + protocol, AxiosError.ERR_NOT_SUPPORT);\n}\n","'use strict';\n\n/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  const threshold = 1000 / freq;\n  let timer = null;\n  return function throttled(force, args) {\n    const now = Date.now();\n    if (force || now - timestamp > threshold) {\n      if (timer) {\n        clearTimeout(timer);\n        timer = null;\n      }\n      timestamp = now;\n      return fn.apply(null, args);\n    }\n    if (!timer) {\n      timer = setTimeout(() => {\n        timer = null;\n        timestamp = Date.now();\n        return fn.apply(null, args);\n      }, threshold - (now - timestamp));\n    }\n  };\n}\n\nexport default throttle;\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","'use strict';\n\nimport stream from 'stream';\nimport utils from '../utils.js';\nimport throttle from './throttle.js';\nimport speedometer from './speedometer.js';\n\nconst kInternals = Symbol('internals');\n\nclass AxiosTransformStream extends stream.Transform{\n  constructor(options) {\n    options = utils.toFlatObject(options, {\n      maxRate: 0,\n      chunkSize: 64 * 1024,\n      minChunkSize: 100,\n      timeWindow: 500,\n      ticksRate: 2,\n      samplesCount: 15\n    }, null, (prop, source) => {\n      return !utils.isUndefined(source[prop]);\n    });\n\n    super({\n      readableHighWaterMark: options.chunkSize\n    });\n\n    const self = this;\n\n    const internals = this[kInternals] = {\n      length: options.length,\n      timeWindow: options.timeWindow,\n      ticksRate: options.ticksRate,\n      chunkSize: options.chunkSize,\n      maxRate: options.maxRate,\n      minChunkSize: options.minChunkSize,\n      bytesSeen: 0,\n      isCaptured: false,\n      notifiedBytesLoaded: 0,\n      ts: Date.now(),\n      bytes: 0,\n      onReadCallback: null\n    };\n\n    const _speedometer = speedometer(internals.ticksRate * options.samplesCount, internals.timeWindow);\n\n    this.on('newListener', event => {\n      if (event === 'progress') {\n        if (!internals.isCaptured) {\n          internals.isCaptured = true;\n        }\n      }\n    });\n\n    let bytesNotified = 0;\n\n    internals.updateProgress = throttle(function throttledHandler() {\n      const totalBytes = internals.length;\n      const bytesTransferred = internals.bytesSeen;\n      const progressBytes = bytesTransferred - bytesNotified;\n      if (!progressBytes || self.destroyed) return;\n\n      const rate = _speedometer(progressBytes);\n\n      bytesNotified = bytesTransferred;\n\n      process.nextTick(() => {\n        self.emit('progress', {\n          'loaded': bytesTransferred,\n          'total': totalBytes,\n          'progress': totalBytes ? (bytesTransferred / totalBytes) : undefined,\n          'bytes': progressBytes,\n          'rate': rate ? rate : undefined,\n          'estimated': rate && totalBytes && bytesTransferred <= totalBytes ?\n            (totalBytes - bytesTransferred) / rate : undefined\n        });\n      });\n    }, internals.ticksRate);\n\n    const onFinish = () => {\n      internals.updateProgress(true);\n    };\n\n    this.once('end', onFinish);\n    this.once('error', onFinish);\n  }\n\n  _read(size) {\n    const internals = this[kInternals];\n\n    if (internals.onReadCallback) {\n      internals.onReadCallback();\n    }\n\n    return super._read(size);\n  }\n\n  _transform(chunk, encoding, callback) {\n    const self = this;\n    const internals = this[kInternals];\n    const maxRate = internals.maxRate;\n\n    const readableHighWaterMark = this.readableHighWaterMark;\n\n    const timeWindow = internals.timeWindow;\n\n    const divider = 1000 / timeWindow;\n    const bytesThreshold = (maxRate / divider);\n    const minChunkSize = internals.minChunkSize !== false ? Math.max(internals.minChunkSize, bytesThreshold * 0.01) : 0;\n\n    function pushChunk(_chunk, _callback) {\n      const bytes = Buffer.byteLength(_chunk);\n      internals.bytesSeen += bytes;\n      internals.bytes += bytes;\n\n      if (internals.isCaptured) {\n        internals.updateProgress();\n      }\n\n      if (self.push(_chunk)) {\n        process.nextTick(_callback);\n      } else {\n        internals.onReadCallback = () => {\n          internals.onReadCallback = null;\n          process.nextTick(_callback);\n        };\n      }\n    }\n\n    const transformChunk = (_chunk, _callback) => {\n      const chunkSize = Buffer.byteLength(_chunk);\n      let chunkRemainder = null;\n      let maxChunkSize = readableHighWaterMark;\n      let bytesLeft;\n      let passed = 0;\n\n      if (maxRate) {\n        const now = Date.now();\n\n        if (!internals.ts || (passed = (now - internals.ts)) >= timeWindow) {\n          internals.ts = now;\n          bytesLeft = bytesThreshold - internals.bytes;\n          internals.bytes = bytesLeft < 0 ? -bytesLeft : 0;\n          passed = 0;\n        }\n\n        bytesLeft = bytesThreshold - internals.bytes;\n      }\n\n      if (maxRate) {\n        if (bytesLeft <= 0) {\n          // next time window\n          return setTimeout(() => {\n            _callback(null, _chunk);\n          }, timeWindow - passed);\n        }\n\n        if (bytesLeft < maxChunkSize) {\n          maxChunkSize = bytesLeft;\n        }\n      }\n\n      if (maxChunkSize && chunkSize > maxChunkSize && (chunkSize - maxChunkSize) > minChunkSize) {\n        chunkRemainder = _chunk.subarray(maxChunkSize);\n        _chunk = _chunk.subarray(0, maxChunkSize);\n      }\n\n      pushChunk(_chunk, chunkRemainder ? () => {\n        process.nextTick(_callback, null, chunkRemainder);\n      } : _callback);\n    };\n\n    transformChunk(chunk, function transformNextChunk(err, _chunk) {\n      if (err) {\n        return callback(err);\n      }\n\n      if (_chunk) {\n        transformChunk(_chunk, transformNextChunk);\n      } else {\n        callback(null);\n      }\n    });\n  }\n\n  setLength(length) {\n    this[kInternals].length = +length;\n    return this;\n  }\n}\n\nexport default AxiosTransformStream;\n","const {asyncIterator} = Symbol;\n\nconst readBlob = async function* (blob) {\n  if (blob.stream) {\n    yield* blob.stream()\n  } else if (blob.arrayBuffer) {\n    yield await blob.arrayBuffer()\n  } else if (blob[asyncIterator]) {\n    yield* blob[asyncIterator]();\n  } else {\n    yield blob;\n  }\n}\n\nexport default readBlob;\n","import {TextEncoder} from 'util';\nimport {Readable} from 'stream';\nimport utils from \"../utils.js\";\nimport readBlob from \"./readBlob.js\";\n\nconst BOUNDARY_ALPHABET = utils.ALPHABET.ALPHA_DIGIT + '-_';\n\nconst textEncoder = new TextEncoder();\n\nconst CRLF = '\\r\\n';\nconst CRLF_BYTES = textEncoder.encode(CRLF);\nconst CRLF_BYTES_COUNT = 2;\n\nclass FormDataPart {\n  constructor(name, value) {\n    const {escapeName} = this.constructor;\n    const isStringValue = utils.isString(value);\n\n    let headers = `Content-Disposition: form-data; name=\"${escapeName(name)}\"${\n      !isStringValue && value.name ? `; filename=\"${escapeName(value.name)}\"` : ''\n    }${CRLF}`;\n\n    if (isStringValue) {\n      value = textEncoder.encode(String(value).replace(/\\r?\\n|\\r\\n?/g, CRLF));\n    } else {\n      headers += `Content-Type: ${value.type || \"application/octet-stream\"}${CRLF}`\n    }\n\n    this.headers = textEncoder.encode(headers + CRLF);\n\n    this.contentLength = isStringValue ? value.byteLength : value.size;\n\n    this.size = this.headers.byteLength + this.contentLength + CRLF_BYTES_COUNT;\n\n    this.name = name;\n    this.value = value;\n  }\n\n  async *encode(){\n    yield this.headers;\n\n    const {value} = this;\n\n    if(utils.isTypedArray(value)) {\n      yield value;\n    } else {\n      yield* readBlob(value);\n    }\n\n    yield CRLF_BYTES;\n  }\n\n  static escapeName(name) {\n      return String(name).replace(/[\\r\\n\"]/g, (match) => ({\n        '\\r' : '%0D',\n        '\\n' : '%0A',\n        '\"' : '%22',\n      }[match]));\n  }\n}\n\nconst formDataToStream = (form, headersHandler, options) => {\n  const {\n    tag = 'form-data-boundary',\n    size = 25,\n    boundary = tag + '-' + utils.generateString(size, BOUNDARY_ALPHABET)\n  } = options || {};\n\n  if(!utils.isFormData(form)) {\n    throw TypeError('FormData instance required');\n  }\n\n  if (boundary.length < 1 || boundary.length > 70) {\n    throw Error('boundary must be 10-70 characters long')\n  }\n\n  const boundaryBytes = textEncoder.encode('--' + boundary + CRLF);\n  const footerBytes = textEncoder.encode('--' + boundary + '--' + CRLF + CRLF);\n  let contentLength = footerBytes.byteLength;\n\n  const parts = Array.from(form.entries()).map(([name, value]) => {\n    const part = new FormDataPart(name, value);\n    contentLength += part.size;\n    return part;\n  });\n\n  contentLength += boundaryBytes.byteLength * parts.length;\n\n  contentLength = utils.toFiniteNumber(contentLength);\n\n  const computedHeaders = {\n    'Content-Type': `multipart/form-data; boundary=${boundary}`\n  }\n\n  if (Number.isFinite(contentLength)) {\n    computedHeaders['Content-Length'] = contentLength;\n  }\n\n  headersHandler && headersHandler(computedHeaders);\n\n  return Readable.from((async function *() {\n    for(const part of parts) {\n      yield boundaryBytes;\n      yield* part.encode();\n    }\n\n    yield footerBytes;\n  })());\n};\n\nexport default formDataToStream;\n","\"use strict\";\n\nimport stream from \"stream\";\n\nclass ZlibHeaderTransformStream extends stream.Transform {\n  __transform(chunk, encoding, callback) {\n    this.push(chunk);\n    callback();\n  }\n\n  _transform(chunk, encoding, callback) {\n    if (chunk.length !== 0) {\n      this._transform = this.__transform;\n\n      // Add Default Compression headers if no zlib headers are present\n      if (chunk[0] !== 120) { // Hex: 78\n        const header = Buffer.alloc(2);\n        header[0] = 120; // Hex: 78\n        header[1] = 156; // Hex: 9C \n        this.push(header, encoding);\n      }\n    }\n\n    this.__transform(chunk, encoding, callback);\n  }\n}\n\nexport default ZlibHeaderTransformStream;\n","import utils from \"../utils.js\";\n\nconst callbackify = (fn, reducer) => {\n  return utils.isAsyncFn(fn) ? function (...args) {\n    const cb = args.pop();\n    fn.apply(this, args).then((value) => {\n      try {\n        reducer ? cb(null, ...reducer(value)) : cb(null, value);\n      } catch (err) {\n        cb(err);\n      }\n    }, cb);\n  } : fn;\n}\n\nexport default callbackify;\n","'use strict';\n\nimport utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport buildFullPath from '../core/buildFullPath.js';\nimport buildURL from './../helpers/buildURL.js';\nimport {getProxyForUrl} from 'proxy-from-env';\nimport http from 'http';\nimport https from 'https';\nimport util from 'util';\nimport followRedirects from 'follow-redirects';\nimport zlib from 'zlib';\nimport {VERSION} from '../env/data.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport platform from '../platform/index.js';\nimport fromDataURI from '../helpers/fromDataURI.js';\nimport stream from 'stream';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport AxiosTransformStream from '../helpers/AxiosTransformStream.js';\nimport EventEmitter from 'events';\nimport formDataToStream from \"../helpers/formDataToStream.js\";\nimport readBlob from \"../helpers/readBlob.js\";\nimport ZlibHeaderTransformStream from '../helpers/ZlibHeaderTransformStream.js';\nimport callbackify from \"../helpers/callbackify.js\";\n\nconst zlibOptions = {\n  flush: zlib.constants.Z_SYNC_FLUSH,\n  finishFlush: zlib.constants.Z_SYNC_FLUSH\n};\n\nconst brotliOptions = {\n  flush: zlib.constants.BROTLI_OPERATION_FLUSH,\n  finishFlush: zlib.constants.BROTLI_OPERATION_FLUSH\n}\n\nconst isBrotliSupported = utils.isFunction(zlib.createBrotliDecompress);\n\nconst {http: httpFollow, https: httpsFollow} = followRedirects;\n\nconst isHttps = /https:?/;\n\nconst supportedProtocols = platform.protocols.map(protocol => {\n  return protocol + ':';\n});\n\n/**\n * If the proxy or config beforeRedirects functions are defined, call them with the options\n * object.\n *\n * @param {Object<string, any>} options - The options object that was passed to the request.\n *\n * @returns {Object<string, any>}\n */\nfunction dispatchBeforeRedirect(options) {\n  if (options.beforeRedirects.proxy) {\n    options.beforeRedirects.proxy(options);\n  }\n  if (options.beforeRedirects.config) {\n    options.beforeRedirects.config(options);\n  }\n}\n\n/**\n * If the proxy or config afterRedirects functions are defined, call them with the options\n *\n * @param {http.ClientRequestArgs} options\n * @param {AxiosProxyConfig} configProxy configuration from Axios options object\n * @param {string} location\n *\n * @returns {http.ClientRequestArgs}\n */\nfunction setProxy(options, configProxy, location) {\n  let proxy = configProxy;\n  if (!proxy && proxy !== false) {\n    const proxyUrl = getProxyForUrl(location);\n    if (proxyUrl) {\n      proxy = new URL(proxyUrl);\n    }\n  }\n  if (proxy) {\n    // Basic proxy authorization\n    if (proxy.username) {\n      proxy.auth = (proxy.username || '') + ':' + (proxy.password || '');\n    }\n\n    if (proxy.auth) {\n      // Support proxy auth object form\n      if (proxy.auth.username || proxy.auth.password) {\n        proxy.auth = (proxy.auth.username || '') + ':' + (proxy.auth.password || '');\n      }\n      const base64 = Buffer\n        .from(proxy.auth, 'utf8')\n        .toString('base64');\n      options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n    }\n\n    options.headers.host = options.hostname + (options.port ? ':' + options.port : '');\n    const proxyHost = proxy.hostname || proxy.host;\n    options.hostname = proxyHost;\n    // Replace 'host' since options is not a URL object\n    options.host = proxyHost;\n    options.port = proxy.port;\n    options.path = location;\n    if (proxy.protocol) {\n      options.protocol = proxy.protocol.includes(':') ? proxy.protocol : `${proxy.protocol}:`;\n    }\n  }\n\n  options.beforeRedirects.proxy = function beforeRedirect(redirectOptions) {\n    // Configure proxy for redirected request, passing the original config proxy to apply\n    // the exact same logic as if the redirected request was performed by axios directly.\n    setProxy(redirectOptions, configProxy, redirectOptions.href);\n  };\n}\n\nconst isHttpAdapterSupported = typeof process !== 'undefined' && utils.kindOf(process) === 'process';\n\n// temporary hotfix\n\nconst wrapAsync = (asyncExecutor) => {\n  return new Promise((resolve, reject) => {\n    let onDone;\n    let isDone;\n\n    const done = (value, isRejected) => {\n      if (isDone) return;\n      isDone = true;\n      onDone && onDone(value, isRejected);\n    }\n\n    const _resolve = (value) => {\n      done(value);\n      resolve(value);\n    };\n\n    const _reject = (reason) => {\n      done(reason, true);\n      reject(reason);\n    }\n\n    asyncExecutor(_resolve, _reject, (onDoneHandler) => (onDone = onDoneHandler)).catch(_reject);\n  })\n};\n\n/*eslint consistent-return:0*/\nexport default isHttpAdapterSupported && function httpAdapter(config) {\n  return wrapAsync(async function dispatchHttpRequest(resolve, reject, onDone) {\n    let {data, lookup, family} = config;\n    const {responseType, responseEncoding} = config;\n    const method = config.method.toUpperCase();\n    let isDone;\n    let rejected = false;\n    let req;\n\n    if (lookup && utils.isAsyncFn(lookup)) {\n      lookup = callbackify(lookup, (entry) => {\n        if(utils.isString(entry)) {\n          entry = [entry, entry.indexOf('.') < 0 ? 6 : 4]\n        } else if (!utils.isArray(entry)) {\n          throw new TypeError('lookup async function must return an array [ip: string, family: number]]')\n        }\n        return entry;\n      })\n    }\n\n    // temporary internal emitter until the AxiosRequest class will be implemented\n    const emitter = new EventEmitter();\n\n    const onFinished = () => {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(abort);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', abort);\n      }\n\n      emitter.removeAllListeners();\n    }\n\n    onDone((value, isRejected) => {\n      isDone = true;\n      if (isRejected) {\n        rejected = true;\n        onFinished();\n      }\n    });\n\n    function abort(reason) {\n      emitter.emit('abort', !reason || reason.type ? new CanceledError(null, config, req) : reason);\n    }\n\n    emitter.once('abort', reject);\n\n    if (config.cancelToken || config.signal) {\n      config.cancelToken && config.cancelToken.subscribe(abort);\n      if (config.signal) {\n        config.signal.aborted ? abort() : config.signal.addEventListener('abort', abort);\n      }\n    }\n\n    // Parse url\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    const parsed = new URL(fullPath, 'http://localhost');\n    const protocol = parsed.protocol || supportedProtocols[0];\n\n    if (protocol === 'data:') {\n      let convertedData;\n\n      if (method !== 'GET') {\n        return settle(resolve, reject, {\n          status: 405,\n          statusText: 'method not allowed',\n          headers: {},\n          config\n        });\n      }\n\n      try {\n        convertedData = fromDataURI(config.url, responseType === 'blob', {\n          Blob: config.env && config.env.Blob\n        });\n      } catch (err) {\n        throw AxiosError.from(err, AxiosError.ERR_BAD_REQUEST, config);\n      }\n\n      if (responseType === 'text') {\n        convertedData = convertedData.toString(responseEncoding);\n\n        if (!responseEncoding || responseEncoding === 'utf8') {\n          convertedData = utils.stripBOM(convertedData);\n        }\n      } else if (responseType === 'stream') {\n        convertedData = stream.Readable.from(convertedData);\n      }\n\n      return settle(resolve, reject, {\n        data: convertedData,\n        status: 200,\n        statusText: 'OK',\n        headers: new AxiosHeaders(),\n        config\n      });\n    }\n\n    if (supportedProtocols.indexOf(protocol) === -1) {\n      return reject(new AxiosError(\n        'Unsupported protocol ' + protocol,\n        AxiosError.ERR_BAD_REQUEST,\n        config\n      ));\n    }\n\n    const headers = AxiosHeaders.from(config.headers).normalize();\n\n    // Set User-Agent (required by some servers)\n    // See https://github.com/axios/axios/issues/69\n    // User-Agent is specified; handle case where no UA header is desired\n    // Only set header if it hasn't been set in config\n    headers.set('User-Agent', 'axios/' + VERSION, false);\n\n    const onDownloadProgress = config.onDownloadProgress;\n    const onUploadProgress = config.onUploadProgress;\n    const maxRate = config.maxRate;\n    let maxUploadRate = undefined;\n    let maxDownloadRate = undefined;\n\n    // support for spec compliant FormData objects\n    if (utils.isSpecCompliantForm(data)) {\n      const userBoundary = headers.getContentType(/boundary=([-_\\w\\d]{10,70})/i);\n\n      data = formDataToStream(data, (formHeaders) => {\n        headers.set(formHeaders);\n      }, {\n        tag: `axios-${VERSION}-boundary`,\n        boundary: userBoundary && userBoundary[1] || undefined\n      });\n      // support for https://www.npmjs.com/package/form-data api\n    } else if (utils.isFormData(data) && utils.isFunction(data.getHeaders)) {\n      headers.set(data.getHeaders());\n\n      if (!headers.hasContentLength()) {\n        try {\n          const knownLength = await util.promisify(data.getLength).call(data);\n          Number.isFinite(knownLength) && knownLength >= 0 && headers.setContentLength(knownLength);\n          /*eslint no-empty:0*/\n        } catch (e) {\n        }\n      }\n    } else if (utils.isBlob(data)) {\n      data.size && headers.setContentType(data.type || 'application/octet-stream');\n      headers.setContentLength(data.size || 0);\n      data = stream.Readable.from(readBlob(data));\n    } else if (data && !utils.isStream(data)) {\n      if (Buffer.isBuffer(data)) {\n        // Nothing to do...\n      } else if (utils.isArrayBuffer(data)) {\n        data = Buffer.from(new Uint8Array(data));\n      } else if (utils.isString(data)) {\n        data = Buffer.from(data, 'utf-8');\n      } else {\n        return reject(new AxiosError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          AxiosError.ERR_BAD_REQUEST,\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      headers.setContentLength(data.length, false);\n\n      if (config.maxBodyLength > -1 && data.length > config.maxBodyLength) {\n        return reject(new AxiosError(\n          'Request body larger than maxBodyLength limit',\n          AxiosError.ERR_BAD_REQUEST,\n          config\n        ));\n      }\n    }\n\n    const contentLength = utils.toFiniteNumber(headers.getContentLength());\n\n    if (utils.isArray(maxRate)) {\n      maxUploadRate = maxRate[0];\n      maxDownloadRate = maxRate[1];\n    } else {\n      maxUploadRate = maxDownloadRate = maxRate;\n    }\n\n    if (data && (onUploadProgress || maxUploadRate)) {\n      if (!utils.isStream(data)) {\n        data = stream.Readable.from(data, {objectMode: false});\n      }\n\n      data = stream.pipeline([data, new AxiosTransformStream({\n        length: contentLength,\n        maxRate: utils.toFiniteNumber(maxUploadRate)\n      })], utils.noop);\n\n      onUploadProgress && data.on('progress', progress => {\n        onUploadProgress(Object.assign(progress, {\n          upload: true\n        }));\n      });\n    }\n\n    // HTTP basic authentication\n    let auth = undefined;\n    if (config.auth) {\n      const username = config.auth.username || '';\n      const password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    if (!auth && parsed.username) {\n      const urlUsername = parsed.username;\n      const urlPassword = parsed.password;\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    auth && headers.delete('authorization');\n\n    let path;\n\n    try {\n      path = buildURL(\n        parsed.pathname + parsed.search,\n        config.params,\n        config.paramsSerializer\n      ).replace(/^\\?/, '');\n    } catch (err) {\n      const customErr = new Error(err.message);\n      customErr.config = config;\n      customErr.url = config.url;\n      customErr.exists = true;\n      return reject(customErr);\n    }\n\n    headers.set(\n      'Accept-Encoding',\n      'gzip, compress, deflate' + (isBrotliSupported ? ', br' : ''), false\n      );\n\n    const options = {\n      path,\n      method: method,\n      headers: headers.toJSON(),\n      agents: { http: config.httpAgent, https: config.httpsAgent },\n      auth,\n      protocol,\n      family,\n      lookup,\n      beforeRedirect: dispatchBeforeRedirect,\n      beforeRedirects: {}\n    };\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname;\n      options.port = parsed.port;\n      setProxy(options, config.proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n    }\n\n    let transport;\n    const isHttpsRequest = isHttps.test(options.protocol);\n    options.agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n    if (config.transport) {\n      transport = config.transport;\n    } else if (config.maxRedirects === 0) {\n      transport = isHttpsRequest ? https : http;\n    } else {\n      if (config.maxRedirects) {\n        options.maxRedirects = config.maxRedirects;\n      }\n      if (config.beforeRedirect) {\n        options.beforeRedirects.config = config.beforeRedirect;\n      }\n      transport = isHttpsRequest ? httpsFollow : httpFollow;\n    }\n\n    if (config.maxBodyLength > -1) {\n      options.maxBodyLength = config.maxBodyLength;\n    } else {\n      // follow-redirects does not skip comparison, so it should always succeed for axios -1 unlimited\n      options.maxBodyLength = Infinity;\n    }\n\n    if (config.insecureHTTPParser) {\n      options.insecureHTTPParser = config.insecureHTTPParser;\n    }\n\n    // Create the request\n    req = transport.request(options, function handleResponse(res) {\n      if (req.destroyed) return;\n\n      const streams = [res];\n\n      const responseLength = +res.headers['content-length'];\n\n      if (onDownloadProgress) {\n        const transformStream = new AxiosTransformStream({\n          length: utils.toFiniteNumber(responseLength),\n          maxRate: utils.toFiniteNumber(maxDownloadRate)\n        });\n\n        onDownloadProgress && transformStream.on('progress', progress => {\n          onDownloadProgress(Object.assign(progress, {\n            download: true\n          }));\n        });\n\n        streams.push(transformStream);\n      }\n\n      // decompress the response body transparently if required\n      let responseStream = res;\n\n      // return the last request in case of redirects\n      const lastRequest = res.req || req;\n\n      // if decompress disabled we should not decompress\n      if (config.decompress !== false && res.headers['content-encoding']) {\n        // if no content, but headers still say that it is encoded,\n        // remove the header not confuse downstream operations\n        if (method === 'HEAD' || res.statusCode === 204) {\n          delete res.headers['content-encoding'];\n        }\n\n        switch (res.headers['content-encoding']) {\n        /*eslint default-case:0*/\n        case 'gzip':\n        case 'x-gzip':\n        case 'compress':\n        case 'x-compress':\n          // add the unzipper to the body stream processing pipeline\n          streams.push(zlib.createUnzip(zlibOptions));\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        case 'deflate':\n          streams.push(new ZlibHeaderTransformStream());\n\n          // add the unzipper to the body stream processing pipeline\n          streams.push(zlib.createUnzip(zlibOptions));\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        case 'br':\n          if (isBrotliSupported) {\n            streams.push(zlib.createBrotliDecompress(brotliOptions));\n            delete res.headers['content-encoding'];\n          }\n        }\n      }\n\n      responseStream = streams.length > 1 ? stream.pipeline(streams, utils.noop) : streams[0];\n\n      const offListeners = stream.finished(responseStream, () => {\n        offListeners();\n        onFinished();\n      });\n\n      const response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: new AxiosHeaders(res.headers),\n        config,\n        request: lastRequest\n      };\n\n      if (responseType === 'stream') {\n        response.data = responseStream;\n        settle(resolve, reject, response);\n      } else {\n        const responseBuffer = [];\n        let totalResponseBytes = 0;\n\n        responseStream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n          totalResponseBytes += chunk.length;\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && totalResponseBytes > config.maxContentLength) {\n            // stream.destroy() emit aborted event before calling reject() on Node.js v16\n            rejected = true;\n            responseStream.destroy();\n            reject(new AxiosError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              AxiosError.ERR_BAD_RESPONSE, config, lastRequest));\n          }\n        });\n\n        responseStream.on('aborted', function handlerStreamAborted() {\n          if (rejected) {\n            return;\n          }\n\n          const err = new AxiosError(\n            'maxContentLength size of ' + config.maxContentLength + ' exceeded',\n            AxiosError.ERR_BAD_RESPONSE,\n            config,\n            lastRequest\n          );\n          responseStream.destroy(err);\n          reject(err);\n        });\n\n        responseStream.on('error', function handleStreamError(err) {\n          if (req.destroyed) return;\n          reject(AxiosError.from(err, null, config, lastRequest));\n        });\n\n        responseStream.on('end', function handleStreamEnd() {\n          try {\n            let responseData = responseBuffer.length === 1 ? responseBuffer[0] : Buffer.concat(responseBuffer);\n            if (responseType !== 'arraybuffer') {\n              responseData = responseData.toString(responseEncoding);\n              if (!responseEncoding || responseEncoding === 'utf8') {\n                responseData = utils.stripBOM(responseData);\n              }\n            }\n            response.data = responseData;\n          } catch (err) {\n            reject(AxiosError.from(err, null, config, response.request, response));\n          }\n          settle(resolve, reject, response);\n        });\n      }\n\n      emitter.once('abort', err => {\n        if (!responseStream.destroyed) {\n          responseStream.emit('error', err);\n          responseStream.destroy();\n        }\n      });\n    });\n\n    emitter.once('abort', err => {\n      reject(err);\n      req.destroy(err);\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      // @todo remove\n      // if (req.aborted && err.code !== AxiosError.ERR_FR_TOO_MANY_REDIRECTS) return;\n      reject(AxiosError.from(err, null, config, req));\n    });\n\n    // set tcp keep alive to prevent drop connection by peer\n    req.on('socket', function handleRequestSocket(socket) {\n      // default interval of sending ack packet is 1 minute\n      socket.setKeepAlive(true, 1000 * 60);\n    });\n\n    // Handle request timeout\n    if (config.timeout) {\n      // This is forcing a int timeout to avoid problems if the `req` interface doesn't handle other types.\n      const timeout = parseInt(config.timeout, 10);\n\n      if (isNaN(timeout)) {\n        reject(new AxiosError(\n          'error trying to parse `config.timeout` to int',\n          AxiosError.ERR_BAD_OPTION_VALUE,\n          config,\n          req\n        ));\n\n        return;\n      }\n\n      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n      // And then these socket which be hang up will devouring CPU little by little.\n      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n      req.setTimeout(timeout, function handleRequestTimeout() {\n        if (isDone) return;\n        let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n        const transitional = config.transitional || transitionalDefaults;\n        if (config.timeoutErrorMessage) {\n          timeoutErrorMessage = config.timeoutErrorMessage;\n        }\n        reject(new AxiosError(\n          timeoutErrorMessage,\n          transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n          config,\n          req\n        ));\n        abort();\n      });\n    }\n\n\n    // Send the request\n    if (utils.isStream(data)) {\n      let ended = false;\n      let errored = false;\n\n      data.on('end', () => {\n        ended = true;\n      });\n\n      data.once('error', err => {\n        errored = true;\n        req.destroy(err);\n      });\n\n      data.on('close', () => {\n        if (!ended && !errored) {\n          abort(new CanceledError('Request stream has been aborted', config, req));\n        }\n      });\n\n      data.pipe(req);\n    } else {\n      req.end(data);\n    }\n  });\n}\n\nexport const __setProxy = setProxy;\n","'use strict';\n\nimport utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.isStandardBrowserEnv ?\n\n// Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        const cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n// Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })();\n","'use strict';\n\nimport utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.isStandardBrowserEnv ?\n\n// Standard browser envs have full support of the APIs needed to test\n// whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    const msie = /(msie|trident)/i.test(navigator.userAgent);\n    const urlParsingNode = document.createElement('a');\n    let originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      let href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n          urlParsingNode.pathname :\n          '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      const parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n          parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })();\n","'use strict';\n\nimport utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport cookies from './../helpers/cookies.js';\nimport buildURL from './../helpers/buildURL.js';\nimport buildFullPath from '../core/buildFullPath.js';\nimport isURLSameOrigin from './../helpers/isURLSameOrigin.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport speedometer from '../helpers/speedometer.js';\n\nfunction progressEventReducer(listener, isDownloadStream) {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e\n    };\n\n    data[isDownloadStream ? 'download' : 'upload'] = true;\n\n    listener(data);\n  };\n}\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    let requestData = config.data;\n    const requestHeaders = AxiosHeaders.from(config.headers).normalize();\n    const responseType = config.responseType;\n    let onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    if (utils.isFormData(requestData)) {\n      if (platform.isStandardBrowserEnv || platform.isStandardBrowserWebWorkerEnv) {\n        requestHeaders.setContentType(false); // Let the browser set it\n      } else {\n        requestHeaders.setContentType('multipart/form-data;', false); // mobile/desktop app frameworks\n      }\n    }\n\n    let request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      const username = config.auth.username || '';\n      const password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.set('Authorization', 'Basic ' + btoa(username + ':' + password));\n    }\n\n    const fullPath = buildFullPath(config.baseURL, config.url);\n\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = config.transitional || transitionalDefaults;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (platform.isStandardBrowserEnv) {\n      // Add xsrf header\n      const xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath))\n        && config.xsrfCookieName && cookies.read(config.xsrfCookieName);\n\n      if (xsrfValue) {\n        requestHeaders.set(config.xsrfHeaderName, xsrfValue);\n      }\n    }\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', progressEventReducer(config.onDownloadProgress, true));\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', progressEventReducer(config.onUploadProgress));\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(fullPath);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if(fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nexport default {\n  getAdapter: (adapters) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      if((adapter = utils.isString(nameOrAdapter) ? knownAdapters[nameOrAdapter.toLowerCase()] : nameOrAdapter)) {\n        break;\n      }\n    }\n\n    if (!adapter) {\n      if (adapter === false) {\n        throw new AxiosError(\n          `Adapter ${nameOrAdapter} is not supported by the environment`,\n          'ERR_NOT_SUPPORT'\n        );\n      }\n\n      throw new Error(\n        utils.hasOwnProp(knownAdapters, nameOrAdapter) ?\n          `Adapter '${nameOrAdapter}' is not available in the build` :\n          `Unknown adapter '${nameOrAdapter}'`\n      );\n    }\n\n    if (!utils.isFunction(adapter)) {\n      throw new TypeError('adapter is not a function');\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? thing.toJSON() : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b) => mergeDeepProperties(headersToObject(a), headersToObject(b), true)\n  };\n\n  utils.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    let contextHeaders;\n\n    // Flatten headers\n    contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    contextHeaders && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","import crypto from 'crypto';\nexport default {\n  randomUUID: crypto.randomUUID\n};","import crypto from 'crypto';\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\n\nlet poolPtr = rnds8Pool.length;\nexport default function rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    crypto.randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","//@ts-ignore\r\nimport * as vscode from \"vscode\";\r\nimport { getUniqueId } from \"./CommonServices\";\r\nimport { INSTALLATION_ID, LOGGED_IN_KEY } from \"./Constants\";\r\n\r\nexport class StorageService {\r\n    private _storage: any;\r\n    private _type: string;\r\n    //@ts-ignore\r\n    constructor(storage: any, type='local') {\r\n        this._storage = storage;\r\n        this._type = type;\r\n    }\r\n    getValue(key: string) {\r\n        return this._storage.get(key);\r\n    }\r\n    setValue(key: string, value: any) {\r\n        if (this._type === 'local') {\r\n            console.log(`Updating key2: ${key} with value: ${value}`);\r\n             this._storage.update(key, value, vscode.ConfigurationTarget.Global);\r\n            console.log(`Updated key2: ${key}, new value: ${this._storage.get(key)}`);\r\n        }\r\n        else\r\n            this._storage.update(key, value);\r\n    }\r\n    getInstallationId() {\r\n        let uid = this._storage.get(INSTALLATION_ID);\r\n        if (!uid) {\r\n            uid = getUniqueId();\r\n            this._storage.update(INSTALLATION_ID, uid);\r\n        }\r\n        let isLoggedInBefore = this._storage.get(LOGGED_IN_KEY);\r\n        console.log(`db key:${isLoggedInBefore}`)\r\n        return {uid, is_new: (isLoggedInBefore ? false : true)};\r\n    }\r\n\r\n    clear(key: string) {\r\n        if (key) this._storage.update(key, undefined);\r\n        else {\r\n            //@ts-ignore\r\n            this._storage.keys().forEach((key) => {\r\n                this._storage.update(key, undefined);\r\n            });\r\n        }\r\n    }\r\n}\r\nexport function getStoreKey(key: string) {\r\n    const localConfig = vscode.workspace.getConfiguration();\r\n    const localStore = new StorageService(localConfig);\r\n    return localStore.getValue(key);\r\n\r\n}","import axios from \"axios\";\r\n//@ts-ignore\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { BASE_URL, AUTH_TOKEN, CMD_SIGNIN } from \"./Constants\";\r\nimport {StorageService} from './StorageService'\r\n//@ts-ignore\r\nimport * as vscode from 'vscode';\r\n\r\nexport function getUniqueId() {\r\n    return uuidv4();\r\n}\r\n// Parse jwt token\r\n//@ts-ignore\r\nexport function parseJwt(token) {\r\n    try {\r\n        const base64Url = token.split(\".\")[1];\r\n        const base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n        return JSON.parse(atob(base64));\r\n    } catch (e) {\r\n        return {};\r\n    }\r\n}\r\n\r\nexport function getDate() {\r\n    const curDate = new Date();\r\n    return `${curDate.getFullYear()}-${curDate.getMonth() + 1}-${curDate.getDate()}`;\r\n}\r\n\r\nexport async function authenticateUser(payload: any) {\r\n    try {\r\n        let url = `${BASE_URL}/v1/user/authenticate`\r\n        console.log(`Authenticating user with payload ${payload}`)\r\n        const headers = { \"Content-Type\": \"application/json\" };\r\n        const response = await axios.post(url, JSON.stringify(payload), {\r\n            headers,\r\n        });\r\n        console.log(`Authentication response: ${response}`)\r\n        return response?.data || {};\r\n    } catch (error) {\r\n        console.error(\"Error authenticating user:\", error);\r\n        return {}\r\n    }\r\n}\r\n\r\n//@ts-ignore\r\nexport async function doSignup(userPayload) {\r\n    try {\r\n        const headers = { \"Content-Type\": \"application/json\" };\r\n        const response = await axios.post(`${BASE_URL}/v1/auth/uuid/signup`, JSON.stringify(userPayload), {\r\n            headers,\r\n        });\r\n        return response;\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n}\r\n//@ts-ignore\r\nexport async function getUserUsage(token, storage) {\r\n    try {\r\n        const headers = { Authorization: token };\r\n        const response = await axios.get(`${BASE_URL}/v1/users/usage`, { headers: headers });\r\n        const usage = { user_limit: response.data.user_limit, token_usage: response.data.token_usage };\r\n        const remainingTokens = usage.token_usage > usage.user_limit ? 0 : usage.user_limit - usage.token_usage;\r\n        if (storage) storage.setValue(\"usage\", remainingTokens);\r\n        return remainingTokens;\r\n        // if (response.data.token_usage >= response.data.user_limit) return true;\r\n        //@ts-ignore\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n}\r\n\r\nexport async function getIPAddress() {\r\n    try {\r\n      const response = await axios.get(\"https://api.ipify.org?format=json\");\r\n      console.log(\"RESPOSNE FROM Function\", response.data)\r\n      const data =  response.data;\r\n      return data.ip;\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch IP address:\", error);\r\n      return null; // Fallback if fetching the IP fails\r\n    }\r\n  }\r\n\r\nexport async function getUserProfile(token: string) {\r\n    try {\r\n        console.log(\"1402 Getting profile for\", token);\r\n        const headers = { Authorization: token };\r\n        const response = await axios.get(`${BASE_URL}/v1/users/profile`, { headers: headers });        \r\n        // If token is invalid. Delete token and Ask for login.\r\n        console.log(\"1402 user profile\", response);     \r\n        // Clear token and show msg\r\n        return response.data && response.data.user;\r\n        //@ts-ignore\r\n    } catch (error: any) {\r\n        if ( error){\r\n            // vscode.window.showErrorMessage(\"Token Expired/Invalid. Try Login\");\r\n            console.log(\r\n                \"Getting profile  Error while getting profile\",\r\n                error\r\n            );\r\n            console.log(\"Error code\", error?.response?.status);\r\n            if (error?.response?.status === 401) {\r\n                const localConfig = vscode.workspace.getConfiguration();\r\n                const localStore = new StorageService(localConfig);\r\n                console.log(\"Getting profile for response status\",);\r\n                localStore.clear(AUTH_TOKEN);\r\n                vscode.commands.executeCommand(CMD_SIGNIN, true);\r\n            }\r\n\r\n            \r\n        }\r\n        console.error(\"Error while getting profile\", error);\r\n        return \"unauthorized\";\r\n    }\r\n}\r\n\r\n\r\nexport async function askTerminalQuestion(userQuery: any, token: string) {\r\n    try {\r\n        console.log(\"Getting profile for\", token);\r\n\r\n        const headers = {\r\n            Authorization: token,\r\n            \"Content-Type\": \"application/json\",\r\n        };\r\n\r\n        const userPayload = {\r\n            message: userQuery,\r\n        };\r\n\r\n        const response = await axios.post(`${BASE_URL}/api/v1/terminal/chat`, userPayload, {\r\n            headers: headers,\r\n        });\r\n\r\n        console.log(\"Response askTerminalQuestion status:\", response.status);\r\n\r\n        if (response.status === 200) {\r\n            const data = response.data; \r\n            console.log(\"Response askTerminalQuestion data:\", data);\r\n\r\n            return data || \"not found\";\r\n        } else {\r\n            console.error(\"Request failed with status:\", response.status);\r\n            return \"not found\";\r\n        }\r\n    } catch (error) {\r\n        console.error(\"Error while getting profile:\", error);\r\n        return \"not found\";\r\n    }\r\n}\r\n\r\n\r\nexport async function getAccountUsage(token: string) {\r\n    try {\r\n        const headers = { Authorization: token };\r\n        const response = await axios.get(`${BASE_URL}/v1/users/usage`, { headers: headers });\r\n        console.log(\"user account usage response\", response.data)\r\n        return response.data;\r\n        // if (response.data.token_usage >= response.data.user_limit) return true;\r\n        //@ts-ignore\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n}\r\n\r\nexport async function updateAccountUsage(authToken: string, updatePayload: object) {\r\n    try {\r\n        console.log(\"Updating usage for\", authToken, \"updatePayload\", updatePayload)\r\n        const headers = {Authorization: `Bearer ${authToken}`, \"Content-Type\": \"application/json\"};\r\n        const payload = JSON.stringify({\r\n            \"update_type\": \"account_usage\",\r\n            \"update_payload\": updatePayload\r\n        });    \r\n        const response = await axios.put(`${BASE_URL}/v1/users/account`, payload, {headers: headers});\r\n        console.log(\"Update account usage response\", response)\r\n    }\r\n    catch(error) {\r\n        console.error(\"Error while updating usage\", error);\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport async function updateUserProfile(token: string, profile: object) {\r\n    try {\r\n        console.log(\"Updating profile for\", token, \"profile\", profile);\r\n        const headers = { \"Content-Type\": \"application/json\" , Authorization: token};\r\n        const response = await axios.patch(`${BASE_URL}/v1/users/profile`, JSON.stringify(profile), { headers: headers });\r\n        // If token is invalid. Delete token and Ask for login.\r\n        // Clear token and show msg\r\n        return response.data && response.data.user;\r\n        //@ts-ignore\r\n    } catch (error) {\r\n        console.error(\"Error while updating profile\", error);\r\n    }\r\n}\r\n\r\nexport function getNonce() {\r\n    let text = \"\";\r\n    const possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n    for (let i = 0; i < 32; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return text;\r\n}\r\n","//@ts-nocheck\r\nimport * as path from 'path';\r\n//@ts-ignore\r\nimport * as vscode from 'vscode';\r\nimport { AUTH_TOKEN, BASE_URL } from './Constants';\r\nimport { getUserProfile, parseJwt } from './CommonServices';\r\nimport { getStoreKey } from './StorageService';\r\nimport {getLanguageType, getTestableCodes, getComponentType } from './CodeParser';\r\n\r\n\r\n// class MyTreeItem extends vscode.TreeItem {\r\n//     constructor(\r\n//       public readonly label: string,\r\n//       public readonly collapsibleState: vscode.TreeItemCollapsibleState,\r\n//       public description: string\r\n//     ) {\r\n//       super(label, collapsibleState);\r\n//     }\r\n\r\n//     get tooltip(): string {\r\n//       return this.label;\r\n//     }\r\n// }\r\n\r\n// class CodeUnderTestItem extends vscode.TreeItem {\r\n//     //@ts-ignore\r\n//     constructor(componentSymbol, importedCode) {\r\n//         const kind = getComponentType(componentSymbol.kind);\r\n//         super(`${kind} ${componentSymbol.name}`);\r\n//         const activeEditor = vscode.window.activeTextEditor;\r\n//         if (!activeEditor || (activeEditor && !activeEditor.document))\r\n//         return;\r\n//         // const symbolRange = new vscode.Range(componentSymbol.range.start.line, componentSymbol.range.start.character, componentSymbol.range.start.line, componentSymbol.range.start.character);\r\n//         // vscode.window.showInformationMessage(componentSymbol);\r\n//         let language = getLanguageType(activeEditor.document.languageId);\r\n       \r\n//         const payload = {\r\n//             language: language,\r\n//             type: kind,\r\n//             component: componentSymbol.name,\r\n//         };\r\n\r\n//         const newCommand: vscode.Command = {\r\n//             title: \"\",\r\n//             command: \"gocodeo.generateTestsByClick\",\r\n//             arguments: [payload, true],\r\n\r\n//         };\r\n//         //@ts-ignore\r\n//         this.command = newCommand;\r\n\r\n//         //@ts-ignore\r\n//         this.iconPath = new vscode.ThemeIcon(`symbol-${kind}`);\r\n//     }\r\n// }\r\n \r\n\r\n// export class ComponentsUnderTestDataProvider {\r\n//     private _onDidChangeTreeData: vscode.EventEmitter<any>;\r\n//     public onDidChangeTreeData: vscode.Event<any>;\r\n\r\n//     private welcomeMessage: string;\r\n\r\n//     constructor(results: object) {\r\n//         this._onDidChangeTreeData = new vscode.EventEmitter();\r\n//         this.onDidChangeTreeData = this._onDidChangeTreeData.event;\r\n//         this.welcomeMessage = \"Select the file to get started...\";\r\n\r\n//         this.listenToActiveTextEditorChanges();\r\n//         this.listenToDocumentChanges();\r\n//     }\r\n\r\n//     private listenToActiveTextEditorChanges() {\r\n//         vscode.window.onDidChangeActiveTextEditor(() => {\r\n//             this.refresh();\r\n//         });\r\n//     }\r\n\r\n//     private listenToDocumentChanges() {\r\n//         vscode.workspace.onDidChangeTextDocument(() => {\r\n//             this.refresh();\r\n//         });\r\n//     }\r\n\r\n//     private getParentItem(document: vscode.TextDocument) {\r\n//         const treeItem = new vscode.TreeItem(path.basename(document.fileName));\r\n//         return {\r\n//             ...treeItem,\r\n//             collapsibleState: vscode.TreeItemCollapsibleState.Expanded,\r\n//             iconPath: new vscode.ThemeIcon(\"file-code\"),\r\n//         };\r\n//     }\r\n\r\n//     private async getCompUnderTestItems(document: vscode.TextDocument) {\r\n//         //@ts-ignore\r\n//         const { detectedCode, importedCode } = await getTestableCodes(document);\r\n\r\n//         //@ts-ignore\r\n//         return detectedCode.map((symbol) => new CodeUnderTestItem(symbol, importedCode));\r\n//     }\r\n\r\n//     public refresh() {\r\n//         this._onDidChangeTreeData.fire();\r\n//     }\r\n\r\n//     public getTreeItem(element: any): vscode.TreeItem {\r\n//         return element;\r\n//     }\r\n\r\n//     public async getChildren(element: any): Promise<vscode.TreeItem[]> {\r\n//         const authToken = getStoreKey(AUTH_TOKEN);\r\n//         let user = null;\r\n//         if (authToken) user = await getUserProfile(authToken);\r\n\r\n//         const parentItems: vscode.TreeItem[] = [];\r\n//         const activeEditor = vscode.window.activeTextEditor;\r\n\r\n//         // Display welcome message only if the user is logged in and there’s no file selected\r\n//         if (user && user.is_verified && !activeEditor) {\r\n//             const welcomeItem = new vscode.TreeItem(this.welcomeMessage, vscode.TreeItemCollapsibleState.None);\r\n//             welcomeItem.iconPath = new vscode.ThemeIcon(\"info\");\r\n//             parentItems.push(welcomeItem);\r\n//         }\r\n\r\n//         if (element) {\r\n//             const childrens = await this.getCompUnderTestItems(activeEditor?.document);\r\n//             const emptyChildItem = new vscode.TreeItem(`Couldn't find eligible classes/functions to generate unit test`);\r\n//             return Promise.resolve(childrens && childrens.length ? childrens : [emptyChildItem]);\r\n//         } else if (activeEditor) {\r\n//             parentItems.push(this.getParentItem(activeEditor.document));\r\n//         }\r\n\r\n//         return Promise.resolve(parentItems);\r\n//     }\r\n\r\n//     public updateWelcomeMessage() {\r\n//         const activeEditor = vscode.window.activeTextEditor;\r\n//         // Show welcome message only if there’s no file selected\r\n//         this.welcomeMessage = activeEditor ? \"\" : \"Select the file to get started...\";\r\n//         this.refresh(); // Trigger a refresh to update the view\r\n//     }\r\n// }\r\n\r\n\r\n\r\n \r\nexport class ComponentsUnderTestDataProvider {\r\n    private _onDidChangeTreeData: vscode.EventEmitter<any>;\r\n    public onDidChangeTreeData: vscode.Event<any>;\r\n    private welcomeMessage: string;\r\n    private userInfo: any = null; // Store user info\r\n\r\n    constructor() {\r\n        this._onDidChangeTreeData = new vscode.EventEmitter();\r\n        this.onDidChangeTreeData = this._onDidChangeTreeData.event;\r\n        this.welcomeMessage = \"Select the file to get started...\";\r\n\r\n        this.listenToActiveTextEditorChanges();\r\n        this.listenToDocumentChanges();\r\n        this.fetchUserAccountDetails(); // Fetch user details on initialization\r\n    }\r\n\r\n    private listenToActiveTextEditorChanges() {\r\n        vscode.window.onDidChangeActiveTextEditor(() => {\r\n            this.refresh();\r\n        });\r\n    }\r\n\r\n    private listenToDocumentChanges() {\r\n        vscode.workspace.onDidChangeTextDocument(() => {\r\n            this.refresh();\r\n        });\r\n    }\r\n\r\n    private async fetchUserAccountDetails() {\r\n        const authToken = getStoreKey(AUTH_TOKEN);\r\n        if (!authToken) return;\r\n\r\n        try {\r\n            const authUser = await getUserProfile(authToken);\r\n            if (!authUser?.email) return;\r\n\r\n            // Fetch user plan details\r\n            const response = await fetch(`${BASE_URL}/v1/users/account?email=${authUser.email}`);\r\n            const data = await response.json();\r\n\r\n            if (data) {\r\n                const { plan_name, user_name, account_usage } = data;\r\n                this.userInfo = data;\r\n\r\n                this.welcomeMessage = `Welcome to GoCodeo, ${user_name || \"User\"}.\r\n                You are currently on the ${plan_name || \"Hobby\"} plan.\r\n                Premium model requests: ${account_usage.premium.used_requests}/${account_usage.premium.total_requests}.`;\r\n                this.refresh();\r\n            } else {\r\n                this.welcomeMessage = \"Failed to load account details.\";\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching user account details:\", error);\r\n            this.welcomeMessage = \"Error fetching account details.\";\r\n        }\r\n\r\n        this.refresh(); // Refresh the sidebar after fetching user info\r\n    }\r\n\r\n    public refresh() {\r\n        this._onDidChangeTreeData.fire(undefined);\r\n        console.log(\"Refreshing sidebar\");\r\n    }\r\n\r\n    public getTreeItem(element: vscode.TreeItem): vscode.TreeItem {\r\n        return element;\r\n    }\r\n\r\n    public async getChildren(element: any): Promise<vscode.TreeItem[]> {\r\n        const parentItems: vscode.TreeItem[] = [];\r\n\r\n        // Display welcome message after sign-in instead of the code tree\r\n        if (this.userInfo) {\r\n            const { plan_name, user_name, account_usage } = this.userInfo;\r\n            const welcomeLines = [\r\n                `Welcome to GoCodeo, ${user_name || \"User\"}.`,\r\n                `You are currently on the ${plan_name || \"Hobby\"} plan.`,\r\n                `Premium model requests: ${account_usage.premium.used_requests}/${account_usage.premium.total_requests}.`\r\n            ];\r\n\r\n            // Create a separate TreeItem for each line\r\n            welcomeLines.forEach((line) => {\r\n                const item = new vscode.TreeItem(line, vscode.TreeItemCollapsibleState.None);\r\n                item.iconPath = new vscode.ThemeIcon(\"debug-breakpoint\");\r\n                parentItems.push(item);\r\n            });\r\n\r\n            return Promise.resolve(parentItems);\r\n        }\r\n\r\n        // If user info is not available, return an empty tree\r\n        return Promise.resolve([]);\r\n    }\r\n\r\n}\r\n","export const default_format = 'RFC3986';\nexport const formatters = {\n    RFC1738: (v) => String(v).replace(/%20/g, '+'),\n    RFC3986: (v) => String(v),\n};\nexport const RFC1738 = 'RFC1738';\nexport const RFC3986 = 'RFC3986';\n//# sourceMappingURL=formats.mjs.map","import { RFC1738 } from \"./formats.mjs\";\nconst has = Object.prototype.hasOwnProperty;\nconst is_array = Array.isArray;\nconst hex_table = (() => {\n    const array = [];\n    for (let i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n    return array;\n})();\nfunction compact_queue(queue) {\n    while (queue.length > 1) {\n        const item = queue.pop();\n        if (!item)\n            continue;\n        const obj = item.obj[item.prop];\n        if (is_array(obj)) {\n            const compacted = [];\n            for (let j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n            // @ts-ignore\n            item.obj[item.prop] = compacted;\n        }\n    }\n}\nfunction array_to_object(source, options) {\n    const obj = options && options.plainObjects ? Object.create(null) : {};\n    for (let i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n    return obj;\n}\nexport function merge(target, source, options = {}) {\n    if (!source) {\n        return target;\n    }\n    if (typeof source !== 'object') {\n        if (is_array(target)) {\n            target.push(source);\n        }\n        else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) ||\n                !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        }\n        else {\n            return [target, source];\n        }\n        return target;\n    }\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n    let mergeTarget = target;\n    if (is_array(target) && !is_array(source)) {\n        // @ts-ignore\n        mergeTarget = array_to_object(target, options);\n    }\n    if (is_array(target) && is_array(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                const targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                }\n                else {\n                    target.push(item);\n                }\n            }\n            else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n    return Object.keys(source).reduce(function (acc, key) {\n        const value = source[key];\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        }\n        else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n}\nexport function assign_single_source(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n}\nexport function decode(str, _, charset) {\n    const strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    }\n    catch (e) {\n        return strWithoutPlus;\n    }\n}\nconst limit = 1024;\nexport const encode = (str, _defaultEncoder, charset, _kind, format) => {\n    // This code was originally written by Brian White for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n    let string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    }\n    else if (typeof str !== 'string') {\n        string = String(str);\n    }\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n    let out = '';\n    for (let j = 0; j < string.length; j += limit) {\n        const segment = string.length >= limit ? string.slice(j, j + limit) : string;\n        const arr = [];\n        for (let i = 0; i < segment.length; ++i) {\n            let c = segment.charCodeAt(i);\n            if (c === 0x2d || // -\n                c === 0x2e || // .\n                c === 0x5f || // _\n                c === 0x7e || // ~\n                (c >= 0x30 && c <= 0x39) || // 0-9\n                (c >= 0x41 && c <= 0x5a) || // a-z\n                (c >= 0x61 && c <= 0x7a) || // A-Z\n                (format === RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n            ) {\n                arr[arr.length] = segment.charAt(i);\n                continue;\n            }\n            if (c < 0x80) {\n                arr[arr.length] = hex_table[c];\n                continue;\n            }\n            if (c < 0x800) {\n                arr[arr.length] = hex_table[0xc0 | (c >> 6)] + hex_table[0x80 | (c & 0x3f)];\n                continue;\n            }\n            if (c < 0xd800 || c >= 0xe000) {\n                arr[arr.length] =\n                    hex_table[0xe0 | (c >> 12)] + hex_table[0x80 | ((c >> 6) & 0x3f)] + hex_table[0x80 | (c & 0x3f)];\n                continue;\n            }\n            i += 1;\n            c = 0x10000 + (((c & 0x3ff) << 10) | (segment.charCodeAt(i) & 0x3ff));\n            arr[arr.length] =\n                hex_table[0xf0 | (c >> 18)] +\n                    hex_table[0x80 | ((c >> 12) & 0x3f)] +\n                    hex_table[0x80 | ((c >> 6) & 0x3f)] +\n                    hex_table[0x80 | (c & 0x3f)];\n        }\n        out += arr.join('');\n    }\n    return out;\n};\nexport function compact(value) {\n    const queue = [{ obj: { o: value }, prop: 'o' }];\n    const refs = [];\n    for (let i = 0; i < queue.length; ++i) {\n        const item = queue[i];\n        // @ts-ignore\n        const obj = item.obj[item.prop];\n        const keys = Object.keys(obj);\n        for (let j = 0; j < keys.length; ++j) {\n            const key = keys[j];\n            const val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n    compact_queue(queue);\n    return value;\n}\nexport function is_regexp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n}\nexport function is_buffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n}\nexport function combine(a, b) {\n    return [].concat(a, b);\n}\nexport function maybe_map(val, fn) {\n    if (is_array(val)) {\n        const mapped = [];\n        for (let i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n}\n//# sourceMappingURL=utils.mjs.map","import { encode, is_buffer, maybe_map } from \"./utils.mjs\";\nimport { default_format, formatters } from \"./formats.mjs\";\nconst has = Object.prototype.hasOwnProperty;\nconst array_prefix_generators = {\n    brackets(prefix) {\n        return String(prefix) + '[]';\n    },\n    comma: 'comma',\n    indices(prefix, key) {\n        return String(prefix) + '[' + key + ']';\n    },\n    repeat(prefix) {\n        return String(prefix);\n    },\n};\nconst is_array = Array.isArray;\nconst push = Array.prototype.push;\nconst push_to_array = function (arr, value_or_array) {\n    push.apply(arr, is_array(value_or_array) ? value_or_array : [value_or_array]);\n};\nconst to_ISO = Date.prototype.toISOString;\nconst defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    allowEmptyArrays: false,\n    arrayFormat: 'indices',\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encodeDotInKeys: false,\n    encoder: encode,\n    encodeValuesOnly: false,\n    format: default_format,\n    formatter: formatters[default_format],\n    /** @deprecated */\n    indices: false,\n    serializeDate(date) {\n        return to_ISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false,\n};\nfunction is_non_nullish_primitive(v) {\n    return (typeof v === 'string' ||\n        typeof v === 'number' ||\n        typeof v === 'boolean' ||\n        typeof v === 'symbol' ||\n        typeof v === 'bigint');\n}\nconst sentinel = {};\nfunction inner_stringify(object, prefix, generateArrayPrefix, commaRoundTrip, allowEmptyArrays, strictNullHandling, skipNulls, encodeDotInKeys, encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, sideChannel) {\n    let obj = object;\n    let tmp_sc = sideChannel;\n    let step = 0;\n    let find_flag = false;\n    while ((tmp_sc = tmp_sc.get(sentinel)) !== void undefined && !find_flag) {\n        // Where object last appeared in the ref tree\n        const pos = tmp_sc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            }\n            else {\n                find_flag = true; // Break while\n            }\n        }\n        if (typeof tmp_sc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    }\n    else if (obj instanceof Date) {\n        obj = serializeDate?.(obj);\n    }\n    else if (generateArrayPrefix === 'comma' && is_array(obj)) {\n        obj = maybe_map(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate?.(value);\n            }\n            return value;\n        });\n    }\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ?\n                // @ts-expect-error\n                encoder(prefix, defaults.encoder, charset, 'key', format)\n                : prefix;\n        }\n        obj = '';\n    }\n    if (is_non_nullish_primitive(obj) || is_buffer(obj)) {\n        if (encoder) {\n            const key_value = encodeValuesOnly ? prefix\n                // @ts-expect-error\n                : encoder(prefix, defaults.encoder, charset, 'key', format);\n            return [\n                formatter?.(key_value) +\n                    '=' +\n                    // @ts-expect-error\n                    formatter?.(encoder(obj, defaults.encoder, charset, 'value', format)),\n            ];\n        }\n        return [formatter?.(prefix) + '=' + formatter?.(String(obj))];\n    }\n    const values = [];\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n    let obj_keys;\n    if (generateArrayPrefix === 'comma' && is_array(obj)) {\n        // we need to join elements in\n        if (encodeValuesOnly && encoder) {\n            // @ts-expect-error values only\n            obj = maybe_map(obj, encoder);\n        }\n        obj_keys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    }\n    else if (is_array(filter)) {\n        obj_keys = filter;\n    }\n    else {\n        const keys = Object.keys(obj);\n        obj_keys = sort ? keys.sort(sort) : keys;\n    }\n    const encoded_prefix = encodeDotInKeys ? String(prefix).replace(/\\./g, '%2E') : String(prefix);\n    const adjusted_prefix = commaRoundTrip && is_array(obj) && obj.length === 1 ? encoded_prefix + '[]' : encoded_prefix;\n    if (allowEmptyArrays && is_array(obj) && obj.length === 0) {\n        return adjusted_prefix + '[]';\n    }\n    for (let j = 0; j < obj_keys.length; ++j) {\n        const key = obj_keys[j];\n        const value = \n        // @ts-ignore\n        typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n        if (skipNulls && value === null) {\n            continue;\n        }\n        // @ts-ignore\n        const encoded_key = allowDots && encodeDotInKeys ? key.replace(/\\./g, '%2E') : key;\n        const key_prefix = is_array(obj) ?\n            typeof generateArrayPrefix === 'function' ?\n                generateArrayPrefix(adjusted_prefix, encoded_key)\n                : adjusted_prefix\n            : adjusted_prefix + (allowDots ? '.' + encoded_key : '[' + encoded_key + ']');\n        sideChannel.set(object, step);\n        const valueSideChannel = new WeakMap();\n        valueSideChannel.set(sentinel, sideChannel);\n        push_to_array(values, inner_stringify(value, key_prefix, generateArrayPrefix, commaRoundTrip, allowEmptyArrays, strictNullHandling, skipNulls, encodeDotInKeys, \n        // @ts-ignore\n        generateArrayPrefix === 'comma' && encodeValuesOnly && is_array(obj) ? null : encoder, filter, sort, allowDots, serializeDate, format, formatter, encodeValuesOnly, charset, valueSideChannel));\n    }\n    return values;\n}\nfunction normalize_stringify_options(opts = defaults) {\n    if (typeof opts.allowEmptyArrays !== 'undefined' && typeof opts.allowEmptyArrays !== 'boolean') {\n        throw new TypeError('`allowEmptyArrays` option can only be `true` or `false`, when provided');\n    }\n    if (typeof opts.encodeDotInKeys !== 'undefined' && typeof opts.encodeDotInKeys !== 'boolean') {\n        throw new TypeError('`encodeDotInKeys` option can only be `true` or `false`, when provided');\n    }\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n    const charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    let format = default_format;\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    const formatter = formatters[format];\n    let filter = defaults.filter;\n    if (typeof opts.filter === 'function' || is_array(opts.filter)) {\n        filter = opts.filter;\n    }\n    let arrayFormat;\n    if (opts.arrayFormat && opts.arrayFormat in array_prefix_generators) {\n        arrayFormat = opts.arrayFormat;\n    }\n    else if ('indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    }\n    else {\n        arrayFormat = defaults.arrayFormat;\n    }\n    if ('commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n    const allowDots = typeof opts.allowDots === 'undefined' ?\n        !!opts.encodeDotInKeys === true ?\n            true\n            : defaults.allowDots\n        : !!opts.allowDots;\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        // @ts-ignore\n        allowDots: allowDots,\n        allowEmptyArrays: typeof opts.allowEmptyArrays === 'boolean' ? !!opts.allowEmptyArrays : defaults.allowEmptyArrays,\n        arrayFormat: arrayFormat,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        commaRoundTrip: !!opts.commaRoundTrip,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encodeDotInKeys: typeof opts.encodeDotInKeys === 'boolean' ? opts.encodeDotInKeys : defaults.encodeDotInKeys,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        // @ts-ignore\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling,\n    };\n}\nexport function stringify(object, opts = {}) {\n    let obj = object;\n    const options = normalize_stringify_options(opts);\n    let obj_keys;\n    let filter;\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    }\n    else if (is_array(options.filter)) {\n        filter = options.filter;\n        obj_keys = filter;\n    }\n    const keys = [];\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n    const generateArrayPrefix = array_prefix_generators[options.arrayFormat];\n    const commaRoundTrip = generateArrayPrefix === 'comma' && options.commaRoundTrip;\n    if (!obj_keys) {\n        obj_keys = Object.keys(obj);\n    }\n    if (options.sort) {\n        obj_keys.sort(options.sort);\n    }\n    const sideChannel = new WeakMap();\n    for (let i = 0; i < obj_keys.length; ++i) {\n        const key = obj_keys[i];\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        push_to_array(keys, inner_stringify(obj[key], key, \n        // @ts-expect-error\n        generateArrayPrefix, commaRoundTrip, options.allowEmptyArrays, options.strictNullHandling, options.skipNulls, options.encodeDotInKeys, options.encode ? options.encoder : null, options.filter, options.sort, options.allowDots, options.serializeDate, options.format, options.formatter, options.encodeValuesOnly, options.charset, sideChannel));\n    }\n    const joined = keys.join(options.delimiter);\n    let prefix = options.addQueryPrefix === true ? '?' : '';\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        }\n        else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n    return joined.length > 0 ? prefix + joined : '';\n}\n//# sourceMappingURL=stringify.mjs.map","export const VERSION = '4.76.0'; // x-release-please-version\n//# sourceMappingURL=version.mjs.map","export let auto = false;\nexport let kind = undefined;\nexport let fetch = undefined;\nexport let Request = undefined;\nexport let Response = undefined;\nexport let Headers = undefined;\nexport let FormData = undefined;\nexport let Blob = undefined;\nexport let File = undefined;\nexport let ReadableStream = undefined;\nexport let getMultipartRequestOptions = undefined;\nexport let getDefaultAgent = undefined;\nexport let fileFromPath = undefined;\nexport let isFsReadStream = undefined;\nexport function setShims(shims, options = { auto: false }) {\n    if (auto) {\n        throw new Error(`you must \\`import 'openai/shims/${shims.kind}'\\` before importing anything else from openai`);\n    }\n    if (kind) {\n        throw new Error(`can't \\`import 'openai/shims/${shims.kind}'\\` after \\`import 'openai/shims/${kind}'\\``);\n    }\n    auto = options.auto;\n    kind = shims.kind;\n    fetch = shims.fetch;\n    Request = shims.Request;\n    Response = shims.Response;\n    Headers = shims.Headers;\n    FormData = shims.FormData;\n    Blob = shims.Blob;\n    File = shims.File;\n    ReadableStream = shims.ReadableStream;\n    getMultipartRequestOptions = shims.getMultipartRequestOptions;\n    getDefaultAgent = shims.getDefaultAgent;\n    fileFromPath = shims.fileFromPath;\n    isFsReadStream = shims.isFsReadStream;\n}\n//# sourceMappingURL=registry.mjs.map","import Stream from 'stream';\nimport http from 'http';\nimport Url from 'url';\nimport whatwgUrl from 'whatwg-url';\nimport https from 'https';\nimport zlib from 'zlib';\n\n// Based on https://github.com/tmpvar/jsdom/blob/aa85b2abf07766ff7bf5c1f6daafb3726f2f2db5/lib/jsdom/living/blob.js\n\n// fix for \"Readable\" isn't a named export issue\nconst Readable = Stream.Readable;\n\nconst BUFFER = Symbol('buffer');\nconst TYPE = Symbol('type');\n\nclass Blob {\n\tconstructor() {\n\t\tthis[TYPE] = '';\n\n\t\tconst blobParts = arguments[0];\n\t\tconst options = arguments[1];\n\n\t\tconst buffers = [];\n\t\tlet size = 0;\n\n\t\tif (blobParts) {\n\t\t\tconst a = blobParts;\n\t\t\tconst length = Number(a.length);\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tconst element = a[i];\n\t\t\t\tlet buffer;\n\t\t\t\tif (element instanceof Buffer) {\n\t\t\t\t\tbuffer = element;\n\t\t\t\t} else if (ArrayBuffer.isView(element)) {\n\t\t\t\t\tbuffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n\t\t\t\t} else if (element instanceof ArrayBuffer) {\n\t\t\t\t\tbuffer = Buffer.from(element);\n\t\t\t\t} else if (element instanceof Blob) {\n\t\t\t\t\tbuffer = element[BUFFER];\n\t\t\t\t} else {\n\t\t\t\t\tbuffer = Buffer.from(typeof element === 'string' ? element : String(element));\n\t\t\t\t}\n\t\t\t\tsize += buffer.length;\n\t\t\t\tbuffers.push(buffer);\n\t\t\t}\n\t\t}\n\n\t\tthis[BUFFER] = Buffer.concat(buffers);\n\n\t\tlet type = options && options.type !== undefined && String(options.type).toLowerCase();\n\t\tif (type && !/[^\\u0020-\\u007E]/.test(type)) {\n\t\t\tthis[TYPE] = type;\n\t\t}\n\t}\n\tget size() {\n\t\treturn this[BUFFER].length;\n\t}\n\tget type() {\n\t\treturn this[TYPE];\n\t}\n\ttext() {\n\t\treturn Promise.resolve(this[BUFFER].toString());\n\t}\n\tarrayBuffer() {\n\t\tconst buf = this[BUFFER];\n\t\tconst ab = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\treturn Promise.resolve(ab);\n\t}\n\tstream() {\n\t\tconst readable = new Readable();\n\t\treadable._read = function () {};\n\t\treadable.push(this[BUFFER]);\n\t\treadable.push(null);\n\t\treturn readable;\n\t}\n\ttoString() {\n\t\treturn '[object Blob]';\n\t}\n\tslice() {\n\t\tconst size = this.size;\n\n\t\tconst start = arguments[0];\n\t\tconst end = arguments[1];\n\t\tlet relativeStart, relativeEnd;\n\t\tif (start === undefined) {\n\t\t\trelativeStart = 0;\n\t\t} else if (start < 0) {\n\t\t\trelativeStart = Math.max(size + start, 0);\n\t\t} else {\n\t\t\trelativeStart = Math.min(start, size);\n\t\t}\n\t\tif (end === undefined) {\n\t\t\trelativeEnd = size;\n\t\t} else if (end < 0) {\n\t\t\trelativeEnd = Math.max(size + end, 0);\n\t\t} else {\n\t\t\trelativeEnd = Math.min(end, size);\n\t\t}\n\t\tconst span = Math.max(relativeEnd - relativeStart, 0);\n\n\t\tconst buffer = this[BUFFER];\n\t\tconst slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n\t\tconst blob = new Blob([], { type: arguments[2] });\n\t\tblob[BUFFER] = slicedBuffer;\n\t\treturn blob;\n\t}\n}\n\nObject.defineProperties(Blob.prototype, {\n\tsize: { enumerable: true },\n\ttype: { enumerable: true },\n\tslice: { enumerable: true }\n});\n\nObject.defineProperty(Blob.prototype, Symbol.toStringTag, {\n\tvalue: 'Blob',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * fetch-error.js\n *\n * FetchError interface for operational errors\n */\n\n/**\n * Create FetchError instance\n *\n * @param   String      message      Error message for human\n * @param   String      type         Error type for machine\n * @param   String      systemError  For Node.js system error\n * @return  FetchError\n */\nfunction FetchError(message, type, systemError) {\n  Error.call(this, message);\n\n  this.message = message;\n  this.type = type;\n\n  // when err.type is `system`, err.code contains system error code\n  if (systemError) {\n    this.code = this.errno = systemError.code;\n  }\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nFetchError.prototype = Object.create(Error.prototype);\nFetchError.prototype.constructor = FetchError;\nFetchError.prototype.name = 'FetchError';\n\nlet convert;\ntry {\n\tconvert = require('encoding').convert;\n} catch (e) {}\n\nconst INTERNALS = Symbol('Body internals');\n\n// fix an issue where \"PassThrough\" isn't a named export for node <10\nconst PassThrough = Stream.PassThrough;\n\n/**\n * Body mixin\n *\n * Ref: https://fetch.spec.whatwg.org/#body\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nfunction Body(body) {\n\tvar _this = this;\n\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$size = _ref.size;\n\n\tlet size = _ref$size === undefined ? 0 : _ref$size;\n\tvar _ref$timeout = _ref.timeout;\n\tlet timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n\n\tif (body == null) {\n\t\t// body is undefined or null\n\t\tbody = null;\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\tbody = Buffer.from(body.toString());\n\t} else if (isBlob(body)) ; else if (Buffer.isBuffer(body)) ; else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\tbody = Buffer.from(body);\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\tbody = Buffer.from(body.buffer, body.byteOffset, body.byteLength);\n\t} else if (body instanceof Stream) ; else {\n\t\t// none of the above\n\t\t// coerce to string then buffer\n\t\tbody = Buffer.from(String(body));\n\t}\n\tthis[INTERNALS] = {\n\t\tbody,\n\t\tdisturbed: false,\n\t\terror: null\n\t};\n\tthis.size = size;\n\tthis.timeout = timeout;\n\n\tif (body instanceof Stream) {\n\t\tbody.on('error', function (err) {\n\t\t\tconst error = err.name === 'AbortError' ? err : new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`, 'system', err);\n\t\t\t_this[INTERNALS].error = error;\n\t\t});\n\t}\n}\n\nBody.prototype = {\n\tget body() {\n\t\treturn this[INTERNALS].body;\n\t},\n\n\tget bodyUsed() {\n\t\treturn this[INTERNALS].disturbed;\n\t},\n\n\t/**\n  * Decode response as ArrayBuffer\n  *\n  * @return  Promise\n  */\n\tarrayBuffer() {\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n\t\t});\n\t},\n\n\t/**\n  * Return raw response as Blob\n  *\n  * @return Promise\n  */\n\tblob() {\n\t\tlet ct = this.headers && this.headers.get('content-type') || '';\n\t\treturn consumeBody.call(this).then(function (buf) {\n\t\t\treturn Object.assign(\n\t\t\t// Prevent copying\n\t\t\tnew Blob([], {\n\t\t\t\ttype: ct.toLowerCase()\n\t\t\t}), {\n\t\t\t\t[BUFFER]: buf\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n  * Decode response as json\n  *\n  * @return  Promise\n  */\n\tjson() {\n\t\tvar _this2 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\ttry {\n\t\t\t\treturn JSON.parse(buffer.toString());\n\t\t\t} catch (err) {\n\t\t\t\treturn Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`, 'invalid-json'));\n\t\t\t}\n\t\t});\n\t},\n\n\t/**\n  * Decode response as text\n  *\n  * @return  Promise\n  */\n\ttext() {\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn buffer.toString();\n\t\t});\n\t},\n\n\t/**\n  * Decode response as buffer (non-spec api)\n  *\n  * @return  Promise\n  */\n\tbuffer() {\n\t\treturn consumeBody.call(this);\n\t},\n\n\t/**\n  * Decode response as text, while automatically detecting the encoding and\n  * trying to decode to UTF-8 (non-spec api)\n  *\n  * @return  Promise\n  */\n\ttextConverted() {\n\t\tvar _this3 = this;\n\n\t\treturn consumeBody.call(this).then(function (buffer) {\n\t\t\treturn convertBody(buffer, _this3.headers);\n\t\t});\n\t}\n};\n\n// In browsers, all properties are enumerable.\nObject.defineProperties(Body.prototype, {\n\tbody: { enumerable: true },\n\tbodyUsed: { enumerable: true },\n\tarrayBuffer: { enumerable: true },\n\tblob: { enumerable: true },\n\tjson: { enumerable: true },\n\ttext: { enumerable: true }\n});\n\nBody.mixIn = function (proto) {\n\tfor (const name of Object.getOwnPropertyNames(Body.prototype)) {\n\t\t// istanbul ignore else: future proof\n\t\tif (!(name in proto)) {\n\t\t\tconst desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n\t\t\tObject.defineProperty(proto, name, desc);\n\t\t}\n\t}\n};\n\n/**\n * Consume and convert an entire Body to a Buffer.\n *\n * Ref: https://fetch.spec.whatwg.org/#concept-body-consume-body\n *\n * @return  Promise\n */\nfunction consumeBody() {\n\tvar _this4 = this;\n\n\tif (this[INTERNALS].disturbed) {\n\t\treturn Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));\n\t}\n\n\tthis[INTERNALS].disturbed = true;\n\n\tif (this[INTERNALS].error) {\n\t\treturn Body.Promise.reject(this[INTERNALS].error);\n\t}\n\n\tlet body = this.body;\n\n\t// body is null\n\tif (body === null) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is blob\n\tif (isBlob(body)) {\n\t\tbody = body.stream();\n\t}\n\n\t// body is buffer\n\tif (Buffer.isBuffer(body)) {\n\t\treturn Body.Promise.resolve(body);\n\t}\n\n\t// istanbul ignore if: should never happen\n\tif (!(body instanceof Stream)) {\n\t\treturn Body.Promise.resolve(Buffer.alloc(0));\n\t}\n\n\t// body is stream\n\t// get ready to actually consume the body\n\tlet accum = [];\n\tlet accumBytes = 0;\n\tlet abort = false;\n\n\treturn new Body.Promise(function (resolve, reject) {\n\t\tlet resTimeout;\n\n\t\t// allow timeout on slow response body\n\t\tif (_this4.timeout) {\n\t\t\tresTimeout = setTimeout(function () {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`, 'body-timeout'));\n\t\t\t}, _this4.timeout);\n\t\t}\n\n\t\t// handle stream errors\n\t\tbody.on('error', function (err) {\n\t\t\tif (err.name === 'AbortError') {\n\t\t\t\t// if the request was aborted, reject with this Error\n\t\t\t\tabort = true;\n\t\t\t\treject(err);\n\t\t\t} else {\n\t\t\t\t// other errors, such as incorrect content-encoding\n\t\t\t\treject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\n\t\tbody.on('data', function (chunk) {\n\t\t\tif (abort || chunk === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (_this4.size && accumBytes + chunk.length > _this4.size) {\n\t\t\t\tabort = true;\n\t\t\t\treject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`, 'max-size'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\taccumBytes += chunk.length;\n\t\t\taccum.push(chunk);\n\t\t});\n\n\t\tbody.on('end', function () {\n\t\t\tif (abort) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tclearTimeout(resTimeout);\n\n\t\t\ttry {\n\t\t\t\tresolve(Buffer.concat(accum, accumBytes));\n\t\t\t} catch (err) {\n\t\t\t\t// handle streams that have accumulated too much data (issue #414)\n\t\t\t\treject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`, 'system', err));\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Detect buffer encoding and convert to target encoding\n * ref: http://www.w3.org/TR/2011/WD-html5-20110113/parsing.html#determining-the-character-encoding\n *\n * @param   Buffer  buffer    Incoming buffer\n * @param   String  encoding  Target encoding\n * @return  String\n */\nfunction convertBody(buffer, headers) {\n\tif (typeof convert !== 'function') {\n\t\tthrow new Error('The package `encoding` must be installed to use the textConverted() function');\n\t}\n\n\tconst ct = headers.get('content-type');\n\tlet charset = 'utf-8';\n\tlet res, str;\n\n\t// header\n\tif (ct) {\n\t\tres = /charset=([^;]*)/i.exec(ct);\n\t}\n\n\t// no charset in content type, peek at response body for at most 1024 bytes\n\tstr = buffer.slice(0, 1024).toString();\n\n\t// html5\n\tif (!res && str) {\n\t\tres = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// html4\n\tif (!res && str) {\n\t\tres = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n\t\tif (!res) {\n\t\t\tres = /<meta[\\s]+?content=(['\"])(.+?)\\1[\\s]+?http-equiv=(['\"])content-type\\3/i.exec(str);\n\t\t\tif (res) {\n\t\t\t\tres.pop(); // drop last quote\n\t\t\t}\n\t\t}\n\n\t\tif (res) {\n\t\t\tres = /charset=(.*)/i.exec(res.pop());\n\t\t}\n\t}\n\n\t// xml\n\tif (!res && str) {\n\t\tres = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n\t}\n\n\t// found charset\n\tif (res) {\n\t\tcharset = res.pop();\n\n\t\t// prevent decode issues when sites use incorrect encoding\n\t\t// ref: https://hsivonen.fi/encoding-menu/\n\t\tif (charset === 'gb2312' || charset === 'gbk') {\n\t\t\tcharset = 'gb18030';\n\t\t}\n\t}\n\n\t// turn raw buffers into a single utf-8 buffer\n\treturn convert(buffer, 'UTF-8', charset).toString();\n}\n\n/**\n * Detect a URLSearchParams object\n * ref: https://github.com/bitinn/node-fetch/issues/296#issuecomment-307598143\n *\n * @param   Object  obj     Object to detect by type or brand\n * @return  String\n */\nfunction isURLSearchParams(obj) {\n\t// Duck-typing as a necessary condition.\n\tif (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n\t\treturn false;\n\t}\n\n\t// Brand-checking and more duck-typing as optional condition.\n\treturn obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n}\n\n/**\n * Check if `obj` is a W3C `Blob` object (which `File` inherits from)\n * @param  {*} obj\n * @return {boolean}\n */\nfunction isBlob(obj) {\n\treturn typeof obj === 'object' && typeof obj.arrayBuffer === 'function' && typeof obj.type === 'string' && typeof obj.stream === 'function' && typeof obj.constructor === 'function' && typeof obj.constructor.name === 'string' && /^(Blob|File)$/.test(obj.constructor.name) && /^(Blob|File)$/.test(obj[Symbol.toStringTag]);\n}\n\n/**\n * Clone body given Res/Req instance\n *\n * @param   Mixed  instance  Response or Request instance\n * @return  Mixed\n */\nfunction clone(instance) {\n\tlet p1, p2;\n\tlet body = instance.body;\n\n\t// don't allow cloning a used body\n\tif (instance.bodyUsed) {\n\t\tthrow new Error('cannot clone body after it is used');\n\t}\n\n\t// check that body is a stream and not form-data object\n\t// note: we can't clone the form-data object without having it as a dependency\n\tif (body instanceof Stream && typeof body.getBoundary !== 'function') {\n\t\t// tee instance body\n\t\tp1 = new PassThrough();\n\t\tp2 = new PassThrough();\n\t\tbody.pipe(p1);\n\t\tbody.pipe(p2);\n\t\t// set instance body to teed body and return the other teed body\n\t\tinstance[INTERNALS].body = p1;\n\t\tbody = p2;\n\t}\n\n\treturn body;\n}\n\n/**\n * Performs the operation \"extract a `Content-Type` value from |object|\" as\n * specified in the specification:\n * https://fetch.spec.whatwg.org/#concept-bodyinit-extract\n *\n * This function assumes that instance.body is present.\n *\n * @param   Mixed  instance  Any options.body input\n */\nfunction extractContentType(body) {\n\tif (body === null) {\n\t\t// body is null\n\t\treturn null;\n\t} else if (typeof body === 'string') {\n\t\t// body is string\n\t\treturn 'text/plain;charset=UTF-8';\n\t} else if (isURLSearchParams(body)) {\n\t\t// body is a URLSearchParams\n\t\treturn 'application/x-www-form-urlencoded;charset=UTF-8';\n\t} else if (isBlob(body)) {\n\t\t// body is blob\n\t\treturn body.type || null;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn null;\n\t} else if (Object.prototype.toString.call(body) === '[object ArrayBuffer]') {\n\t\t// body is ArrayBuffer\n\t\treturn null;\n\t} else if (ArrayBuffer.isView(body)) {\n\t\t// body is ArrayBufferView\n\t\treturn null;\n\t} else if (typeof body.getBoundary === 'function') {\n\t\t// detect form data input from form-data module\n\t\treturn `multipart/form-data;boundary=${body.getBoundary()}`;\n\t} else if (body instanceof Stream) {\n\t\t// body is stream\n\t\t// can't really do much about this\n\t\treturn null;\n\t} else {\n\t\t// Body constructor defaults other things to string\n\t\treturn 'text/plain;charset=UTF-8';\n\t}\n}\n\n/**\n * The Fetch Standard treats this as if \"total bytes\" is a property on the body.\n * For us, we have to explicitly get it with a function.\n *\n * ref: https://fetch.spec.whatwg.org/#concept-body-total-bytes\n *\n * @param   Body    instance   Instance of Body\n * @return  Number?            Number of bytes, or null if not possible\n */\nfunction getTotalBytes(instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\treturn 0;\n\t} else if (isBlob(body)) {\n\t\treturn body.size;\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\treturn body.length;\n\t} else if (body && typeof body.getLengthSync === 'function') {\n\t\t// detect form data input from form-data module\n\t\tif (body._lengthRetrievers && body._lengthRetrievers.length == 0 || // 1.x\n\t\tbody.hasKnownLength && body.hasKnownLength()) {\n\t\t\t// 2.x\n\t\t\treturn body.getLengthSync();\n\t\t}\n\t\treturn null;\n\t} else {\n\t\t// body is stream\n\t\treturn null;\n\t}\n}\n\n/**\n * Write a Body to a Node.js WritableStream (e.g. http.Request) object.\n *\n * @param   Body    instance   Instance of Body\n * @return  Void\n */\nfunction writeToStream(dest, instance) {\n\tconst body = instance.body;\n\n\n\tif (body === null) {\n\t\t// body is null\n\t\tdest.end();\n\t} else if (isBlob(body)) {\n\t\tbody.stream().pipe(dest);\n\t} else if (Buffer.isBuffer(body)) {\n\t\t// body is buffer\n\t\tdest.write(body);\n\t\tdest.end();\n\t} else {\n\t\t// body is stream\n\t\tbody.pipe(dest);\n\t}\n}\n\n// expose Promise\nBody.Promise = global.Promise;\n\n/**\n * headers.js\n *\n * Headers class offers convenient helpers\n */\n\nconst invalidTokenRegex = /[^\\^_`a-zA-Z\\-0-9!#$%&'*+.|~]/;\nconst invalidHeaderCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/;\n\nfunction validateName(name) {\n\tname = `${name}`;\n\tif (invalidTokenRegex.test(name) || name === '') {\n\t\tthrow new TypeError(`${name} is not a legal HTTP header name`);\n\t}\n}\n\nfunction validateValue(value) {\n\tvalue = `${value}`;\n\tif (invalidHeaderCharRegex.test(value)) {\n\t\tthrow new TypeError(`${value} is not a legal HTTP header value`);\n\t}\n}\n\n/**\n * Find the key in the map object given a header name.\n *\n * Returns undefined if not found.\n *\n * @param   String  name  Header name\n * @return  String|Undefined\n */\nfunction find(map, name) {\n\tname = name.toLowerCase();\n\tfor (const key in map) {\n\t\tif (key.toLowerCase() === name) {\n\t\t\treturn key;\n\t\t}\n\t}\n\treturn undefined;\n}\n\nconst MAP = Symbol('map');\nclass Headers {\n\t/**\n  * Headers class\n  *\n  * @param   Object  headers  Response headers\n  * @return  Void\n  */\n\tconstructor() {\n\t\tlet init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n\n\t\tthis[MAP] = Object.create(null);\n\n\t\tif (init instanceof Headers) {\n\t\t\tconst rawHeaders = init.raw();\n\t\t\tconst headerNames = Object.keys(rawHeaders);\n\n\t\t\tfor (const headerName of headerNames) {\n\t\t\t\tfor (const value of rawHeaders[headerName]) {\n\t\t\t\t\tthis.append(headerName, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t// We don't worry about converting prop to ByteString here as append()\n\t\t// will handle it.\n\t\tif (init == null) ; else if (typeof init === 'object') {\n\t\t\tconst method = init[Symbol.iterator];\n\t\t\tif (method != null) {\n\t\t\t\tif (typeof method !== 'function') {\n\t\t\t\t\tthrow new TypeError('Header pairs must be iterable');\n\t\t\t\t}\n\n\t\t\t\t// sequence<sequence<ByteString>>\n\t\t\t\t// Note: per spec we have to first exhaust the lists then process them\n\t\t\t\tconst pairs = [];\n\t\t\t\tfor (const pair of init) {\n\t\t\t\t\tif (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be iterable');\n\t\t\t\t\t}\n\t\t\t\t\tpairs.push(Array.from(pair));\n\t\t\t\t}\n\n\t\t\t\tfor (const pair of pairs) {\n\t\t\t\t\tif (pair.length !== 2) {\n\t\t\t\t\t\tthrow new TypeError('Each header pair must be a name/value tuple');\n\t\t\t\t\t}\n\t\t\t\t\tthis.append(pair[0], pair[1]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// record<ByteString, ByteString>\n\t\t\t\tfor (const key of Object.keys(init)) {\n\t\t\t\t\tconst value = init[key];\n\t\t\t\t\tthis.append(key, value);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new TypeError('Provided initializer must be an object');\n\t\t}\n\t}\n\n\t/**\n  * Return combined header value given name\n  *\n  * @param   String  name  Header name\n  * @return  Mixed\n  */\n\tget(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key === undefined) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn this[MAP][key].join(', ');\n\t}\n\n\t/**\n  * Iterate over all headers\n  *\n  * @param   Function  callback  Executed for each item with parameters (value, name, thisArg)\n  * @param   Boolean   thisArg   `this` context for callback function\n  * @return  Void\n  */\n\tforEach(callback) {\n\t\tlet thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n\t\tlet pairs = getHeaders(this);\n\t\tlet i = 0;\n\t\twhile (i < pairs.length) {\n\t\t\tvar _pairs$i = pairs[i];\n\t\t\tconst name = _pairs$i[0],\n\t\t\t      value = _pairs$i[1];\n\n\t\t\tcallback.call(thisArg, value, name, this);\n\t\t\tpairs = getHeaders(this);\n\t\t\ti++;\n\t\t}\n\t}\n\n\t/**\n  * Overwrite header values given name\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tset(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tthis[MAP][key !== undefined ? key : name] = [value];\n\t}\n\n\t/**\n  * Append a value onto existing header\n  *\n  * @param   String  name   Header name\n  * @param   String  value  Header value\n  * @return  Void\n  */\n\tappend(name, value) {\n\t\tname = `${name}`;\n\t\tvalue = `${value}`;\n\t\tvalidateName(name);\n\t\tvalidateValue(value);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tthis[MAP][key].push(value);\n\t\t} else {\n\t\t\tthis[MAP][name] = [value];\n\t\t}\n\t}\n\n\t/**\n  * Check for header name existence\n  *\n  * @param   String   name  Header name\n  * @return  Boolean\n  */\n\thas(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\treturn find(this[MAP], name) !== undefined;\n\t}\n\n\t/**\n  * Delete all header values given name\n  *\n  * @param   String  name  Header name\n  * @return  Void\n  */\n\tdelete(name) {\n\t\tname = `${name}`;\n\t\tvalidateName(name);\n\t\tconst key = find(this[MAP], name);\n\t\tif (key !== undefined) {\n\t\t\tdelete this[MAP][key];\n\t\t}\n\t}\n\n\t/**\n  * Return raw headers (non-spec api)\n  *\n  * @return  Object\n  */\n\traw() {\n\t\treturn this[MAP];\n\t}\n\n\t/**\n  * Get an iterator on keys.\n  *\n  * @return  Iterator\n  */\n\tkeys() {\n\t\treturn createHeadersIterator(this, 'key');\n\t}\n\n\t/**\n  * Get an iterator on values.\n  *\n  * @return  Iterator\n  */\n\tvalues() {\n\t\treturn createHeadersIterator(this, 'value');\n\t}\n\n\t/**\n  * Get an iterator on entries.\n  *\n  * This is the default iterator of the Headers object.\n  *\n  * @return  Iterator\n  */\n\t[Symbol.iterator]() {\n\t\treturn createHeadersIterator(this, 'key+value');\n\t}\n}\nHeaders.prototype.entries = Headers.prototype[Symbol.iterator];\n\nObject.defineProperty(Headers.prototype, Symbol.toStringTag, {\n\tvalue: 'Headers',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Headers.prototype, {\n\tget: { enumerable: true },\n\tforEach: { enumerable: true },\n\tset: { enumerable: true },\n\tappend: { enumerable: true },\n\thas: { enumerable: true },\n\tdelete: { enumerable: true },\n\tkeys: { enumerable: true },\n\tvalues: { enumerable: true },\n\tentries: { enumerable: true }\n});\n\nfunction getHeaders(headers) {\n\tlet kind = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'key+value';\n\n\tconst keys = Object.keys(headers[MAP]).sort();\n\treturn keys.map(kind === 'key' ? function (k) {\n\t\treturn k.toLowerCase();\n\t} : kind === 'value' ? function (k) {\n\t\treturn headers[MAP][k].join(', ');\n\t} : function (k) {\n\t\treturn [k.toLowerCase(), headers[MAP][k].join(', ')];\n\t});\n}\n\nconst INTERNAL = Symbol('internal');\n\nfunction createHeadersIterator(target, kind) {\n\tconst iterator = Object.create(HeadersIteratorPrototype);\n\titerator[INTERNAL] = {\n\t\ttarget,\n\t\tkind,\n\t\tindex: 0\n\t};\n\treturn iterator;\n}\n\nconst HeadersIteratorPrototype = Object.setPrototypeOf({\n\tnext() {\n\t\t// istanbul ignore if\n\t\tif (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n\t\t\tthrow new TypeError('Value of `this` is not a HeadersIterator');\n\t\t}\n\n\t\tvar _INTERNAL = this[INTERNAL];\n\t\tconst target = _INTERNAL.target,\n\t\t      kind = _INTERNAL.kind,\n\t\t      index = _INTERNAL.index;\n\n\t\tconst values = getHeaders(target, kind);\n\t\tconst len = values.length;\n\t\tif (index >= len) {\n\t\t\treturn {\n\t\t\t\tvalue: undefined,\n\t\t\t\tdone: true\n\t\t\t};\n\t\t}\n\n\t\tthis[INTERNAL].index = index + 1;\n\n\t\treturn {\n\t\t\tvalue: values[index],\n\t\t\tdone: false\n\t\t};\n\t}\n}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n\nObject.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n\tvalue: 'HeadersIterator',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\n/**\n * Export the Headers object in a form that Node.js can consume.\n *\n * @param   Headers  headers\n * @return  Object\n */\nfunction exportNodeCompatibleHeaders(headers) {\n\tconst obj = Object.assign({ __proto__: null }, headers[MAP]);\n\n\t// http.request() only supports string as Host header. This hack makes\n\t// specifying custom Host header possible.\n\tconst hostHeaderKey = find(headers[MAP], 'Host');\n\tif (hostHeaderKey !== undefined) {\n\t\tobj[hostHeaderKey] = obj[hostHeaderKey][0];\n\t}\n\n\treturn obj;\n}\n\n/**\n * Create a Headers object from an object of headers, ignoring those that do\n * not conform to HTTP grammar productions.\n *\n * @param   Object  obj  Object of headers\n * @return  Headers\n */\nfunction createHeadersLenient(obj) {\n\tconst headers = new Headers();\n\tfor (const name of Object.keys(obj)) {\n\t\tif (invalidTokenRegex.test(name)) {\n\t\t\tcontinue;\n\t\t}\n\t\tif (Array.isArray(obj[name])) {\n\t\t\tfor (const val of obj[name]) {\n\t\t\t\tif (invalidHeaderCharRegex.test(val)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (headers[MAP][name] === undefined) {\n\t\t\t\t\theaders[MAP][name] = [val];\n\t\t\t\t} else {\n\t\t\t\t\theaders[MAP][name].push(val);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!invalidHeaderCharRegex.test(obj[name])) {\n\t\t\theaders[MAP][name] = [obj[name]];\n\t\t}\n\t}\n\treturn headers;\n}\n\nconst INTERNALS$1 = Symbol('Response internals');\n\n// fix an issue where \"STATUS_CODES\" aren't a named export for node <10\nconst STATUS_CODES = http.STATUS_CODES;\n\n/**\n * Response class\n *\n * @param   Stream  body  Readable stream\n * @param   Object  opts  Response options\n * @return  Void\n */\nclass Response {\n\tconstructor() {\n\t\tlet body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\t\tlet opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tBody.call(this, body, opts);\n\n\t\tconst status = opts.status || 200;\n\t\tconst headers = new Headers(opts.headers);\n\n\t\tif (body != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(body);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tthis[INTERNALS$1] = {\n\t\t\turl: opts.url,\n\t\t\tstatus,\n\t\t\tstatusText: opts.statusText || STATUS_CODES[status],\n\t\t\theaders,\n\t\t\tcounter: opts.counter\n\t\t};\n\t}\n\n\tget url() {\n\t\treturn this[INTERNALS$1].url || '';\n\t}\n\n\tget status() {\n\t\treturn this[INTERNALS$1].status;\n\t}\n\n\t/**\n  * Convenience property representing if the request ended normally\n  */\n\tget ok() {\n\t\treturn this[INTERNALS$1].status >= 200 && this[INTERNALS$1].status < 300;\n\t}\n\n\tget redirected() {\n\t\treturn this[INTERNALS$1].counter > 0;\n\t}\n\n\tget statusText() {\n\t\treturn this[INTERNALS$1].statusText;\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$1].headers;\n\t}\n\n\t/**\n  * Clone this response\n  *\n  * @return  Response\n  */\n\tclone() {\n\t\treturn new Response(clone(this), {\n\t\t\turl: this.url,\n\t\t\tstatus: this.status,\n\t\t\tstatusText: this.statusText,\n\t\t\theaders: this.headers,\n\t\t\tok: this.ok,\n\t\t\tredirected: this.redirected\n\t\t});\n\t}\n}\n\nBody.mixIn(Response.prototype);\n\nObject.defineProperties(Response.prototype, {\n\turl: { enumerable: true },\n\tstatus: { enumerable: true },\n\tok: { enumerable: true },\n\tredirected: { enumerable: true },\n\tstatusText: { enumerable: true },\n\theaders: { enumerable: true },\n\tclone: { enumerable: true }\n});\n\nObject.defineProperty(Response.prototype, Symbol.toStringTag, {\n\tvalue: 'Response',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nconst INTERNALS$2 = Symbol('Request internals');\nconst URL = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"format\", \"parse\" aren't a named export for node <10\nconst parse_url = Url.parse;\nconst format_url = Url.format;\n\n/**\n * Wrapper around `new URL` to handle arbitrary URLs\n *\n * @param  {string} urlStr\n * @return {void}\n */\nfunction parseURL(urlStr) {\n\t/*\n \tCheck whether the URL is absolute or not\n \t\tScheme: https://tools.ietf.org/html/rfc3986#section-3.1\n \tAbsolute URL: https://tools.ietf.org/html/rfc3986#section-4.3\n */\n\tif (/^[a-zA-Z][a-zA-Z\\d+\\-.]*:/.exec(urlStr)) {\n\t\turlStr = new URL(urlStr).toString();\n\t}\n\n\t// Fallback to old implementation for arbitrary URLs\n\treturn parse_url(urlStr);\n}\n\nconst streamDestructionSupported = 'destroy' in Stream.Readable.prototype;\n\n/**\n * Check if a value is an instance of Request.\n *\n * @param   Mixed   input\n * @return  Boolean\n */\nfunction isRequest(input) {\n\treturn typeof input === 'object' && typeof input[INTERNALS$2] === 'object';\n}\n\nfunction isAbortSignal(signal) {\n\tconst proto = signal && typeof signal === 'object' && Object.getPrototypeOf(signal);\n\treturn !!(proto && proto.constructor.name === 'AbortSignal');\n}\n\n/**\n * Request class\n *\n * @param   Mixed   input  Url or Request instance\n * @param   Object  init   Custom options\n * @return  Void\n */\nclass Request {\n\tconstructor(input) {\n\t\tlet init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\tlet parsedURL;\n\n\t\t// normalize input\n\t\tif (!isRequest(input)) {\n\t\t\tif (input && input.href) {\n\t\t\t\t// in order to support Node.js' Url objects; though WHATWG's URL objects\n\t\t\t\t// will fall into this branch also (since their `toString()` will return\n\t\t\t\t// `href` property anyway)\n\t\t\t\tparsedURL = parseURL(input.href);\n\t\t\t} else {\n\t\t\t\t// coerce input to a string before attempting to parse\n\t\t\t\tparsedURL = parseURL(`${input}`);\n\t\t\t}\n\t\t\tinput = {};\n\t\t} else {\n\t\t\tparsedURL = parseURL(input.url);\n\t\t}\n\n\t\tlet method = init.method || input.method || 'GET';\n\t\tmethod = method.toUpperCase();\n\n\t\tif ((init.body != null || isRequest(input) && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n\t\t\tthrow new TypeError('Request with GET/HEAD method cannot have body');\n\t\t}\n\n\t\tlet inputBody = init.body != null ? init.body : isRequest(input) && input.body !== null ? clone(input) : null;\n\n\t\tBody.call(this, inputBody, {\n\t\t\ttimeout: init.timeout || input.timeout || 0,\n\t\t\tsize: init.size || input.size || 0\n\t\t});\n\n\t\tconst headers = new Headers(init.headers || input.headers || {});\n\n\t\tif (inputBody != null && !headers.has('Content-Type')) {\n\t\t\tconst contentType = extractContentType(inputBody);\n\t\t\tif (contentType) {\n\t\t\t\theaders.append('Content-Type', contentType);\n\t\t\t}\n\t\t}\n\n\t\tlet signal = isRequest(input) ? input.signal : null;\n\t\tif ('signal' in init) signal = init.signal;\n\n\t\tif (signal != null && !isAbortSignal(signal)) {\n\t\t\tthrow new TypeError('Expected signal to be an instanceof AbortSignal');\n\t\t}\n\n\t\tthis[INTERNALS$2] = {\n\t\t\tmethod,\n\t\t\tredirect: init.redirect || input.redirect || 'follow',\n\t\t\theaders,\n\t\t\tparsedURL,\n\t\t\tsignal\n\t\t};\n\n\t\t// node-fetch-only options\n\t\tthis.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n\t\tthis.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n\t\tthis.counter = init.counter || input.counter || 0;\n\t\tthis.agent = init.agent || input.agent;\n\t}\n\n\tget method() {\n\t\treturn this[INTERNALS$2].method;\n\t}\n\n\tget url() {\n\t\treturn format_url(this[INTERNALS$2].parsedURL);\n\t}\n\n\tget headers() {\n\t\treturn this[INTERNALS$2].headers;\n\t}\n\n\tget redirect() {\n\t\treturn this[INTERNALS$2].redirect;\n\t}\n\n\tget signal() {\n\t\treturn this[INTERNALS$2].signal;\n\t}\n\n\t/**\n  * Clone this request\n  *\n  * @return  Request\n  */\n\tclone() {\n\t\treturn new Request(this);\n\t}\n}\n\nBody.mixIn(Request.prototype);\n\nObject.defineProperty(Request.prototype, Symbol.toStringTag, {\n\tvalue: 'Request',\n\twritable: false,\n\tenumerable: false,\n\tconfigurable: true\n});\n\nObject.defineProperties(Request.prototype, {\n\tmethod: { enumerable: true },\n\turl: { enumerable: true },\n\theaders: { enumerable: true },\n\tredirect: { enumerable: true },\n\tclone: { enumerable: true },\n\tsignal: { enumerable: true }\n});\n\n/**\n * Convert a Request to Node.js http request options.\n *\n * @param   Request  A Request instance\n * @return  Object   The options object to be passed to http.request\n */\nfunction getNodeRequestOptions(request) {\n\tconst parsedURL = request[INTERNALS$2].parsedURL;\n\tconst headers = new Headers(request[INTERNALS$2].headers);\n\n\t// fetch step 1.3\n\tif (!headers.has('Accept')) {\n\t\theaders.set('Accept', '*/*');\n\t}\n\n\t// Basic fetch\n\tif (!parsedURL.protocol || !parsedURL.hostname) {\n\t\tthrow new TypeError('Only absolute URLs are supported');\n\t}\n\n\tif (!/^https?:$/.test(parsedURL.protocol)) {\n\t\tthrow new TypeError('Only HTTP(S) protocols are supported');\n\t}\n\n\tif (request.signal && request.body instanceof Stream.Readable && !streamDestructionSupported) {\n\t\tthrow new Error('Cancellation of streamed requests with AbortSignal is not supported in node < 8');\n\t}\n\n\t// HTTP-network-or-cache fetch steps 2.4-2.7\n\tlet contentLengthValue = null;\n\tif (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n\t\tcontentLengthValue = '0';\n\t}\n\tif (request.body != null) {\n\t\tconst totalBytes = getTotalBytes(request);\n\t\tif (typeof totalBytes === 'number') {\n\t\t\tcontentLengthValue = String(totalBytes);\n\t\t}\n\t}\n\tif (contentLengthValue) {\n\t\theaders.set('Content-Length', contentLengthValue);\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.11\n\tif (!headers.has('User-Agent')) {\n\t\theaders.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n\t}\n\n\t// HTTP-network-or-cache fetch step 2.15\n\tif (request.compress && !headers.has('Accept-Encoding')) {\n\t\theaders.set('Accept-Encoding', 'gzip,deflate');\n\t}\n\n\tlet agent = request.agent;\n\tif (typeof agent === 'function') {\n\t\tagent = agent(parsedURL);\n\t}\n\n\t// HTTP-network fetch step 4.2\n\t// chunked encoding is handled by Node.js\n\n\treturn Object.assign({}, parsedURL, {\n\t\tmethod: request.method,\n\t\theaders: exportNodeCompatibleHeaders(headers),\n\t\tagent\n\t});\n}\n\n/**\n * abort-error.js\n *\n * AbortError interface for cancelled requests\n */\n\n/**\n * Create AbortError instance\n *\n * @param   String      message      Error message for human\n * @return  AbortError\n */\nfunction AbortError(message) {\n  Error.call(this, message);\n\n  this.type = 'aborted';\n  this.message = message;\n\n  // hide custom error implementation details from end-users\n  Error.captureStackTrace(this, this.constructor);\n}\n\nAbortError.prototype = Object.create(Error.prototype);\nAbortError.prototype.constructor = AbortError;\nAbortError.prototype.name = 'AbortError';\n\nconst URL$1 = Url.URL || whatwgUrl.URL;\n\n// fix an issue where \"PassThrough\", \"resolve\" aren't a named export for node <10\nconst PassThrough$1 = Stream.PassThrough;\n\nconst isDomainOrSubdomain = function isDomainOrSubdomain(destination, original) {\n\tconst orig = new URL$1(original).hostname;\n\tconst dest = new URL$1(destination).hostname;\n\n\treturn orig === dest || orig[orig.length - dest.length - 1] === '.' && orig.endsWith(dest);\n};\n\n/**\n * isSameProtocol reports whether the two provided URLs use the same protocol.\n *\n * Both domains must already be in canonical form.\n * @param {string|URL} original\n * @param {string|URL} destination\n */\nconst isSameProtocol = function isSameProtocol(destination, original) {\n\tconst orig = new URL$1(original).protocol;\n\tconst dest = new URL$1(destination).protocol;\n\n\treturn orig === dest;\n};\n\n/**\n * Fetch function\n *\n * @param   Mixed    url   Absolute url or Request instance\n * @param   Object   opts  Fetch options\n * @return  Promise\n */\nfunction fetch(url, opts) {\n\n\t// allow custom promise\n\tif (!fetch.Promise) {\n\t\tthrow new Error('native promise missing, set fetch.Promise to your favorite alternative');\n\t}\n\n\tBody.Promise = fetch.Promise;\n\n\t// wrap http.request into fetch\n\treturn new fetch.Promise(function (resolve, reject) {\n\t\t// build request object\n\t\tconst request = new Request(url, opts);\n\t\tconst options = getNodeRequestOptions(request);\n\n\t\tconst send = (options.protocol === 'https:' ? https : http).request;\n\t\tconst signal = request.signal;\n\n\t\tlet response = null;\n\n\t\tconst abort = function abort() {\n\t\t\tlet error = new AbortError('The user aborted a request.');\n\t\t\treject(error);\n\t\t\tif (request.body && request.body instanceof Stream.Readable) {\n\t\t\t\tdestroyStream(request.body, error);\n\t\t\t}\n\t\t\tif (!response || !response.body) return;\n\t\t\tresponse.body.emit('error', error);\n\t\t};\n\n\t\tif (signal && signal.aborted) {\n\t\t\tabort();\n\t\t\treturn;\n\t\t}\n\n\t\tconst abortAndFinalize = function abortAndFinalize() {\n\t\t\tabort();\n\t\t\tfinalize();\n\t\t};\n\n\t\t// send request\n\t\tconst req = send(options);\n\t\tlet reqTimeout;\n\n\t\tif (signal) {\n\t\t\tsignal.addEventListener('abort', abortAndFinalize);\n\t\t}\n\n\t\tfunction finalize() {\n\t\t\treq.abort();\n\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\tclearTimeout(reqTimeout);\n\t\t}\n\n\t\tif (request.timeout) {\n\t\t\treq.once('socket', function (socket) {\n\t\t\t\treqTimeout = setTimeout(function () {\n\t\t\t\t\treject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n\t\t\t\t\tfinalize();\n\t\t\t\t}, request.timeout);\n\t\t\t});\n\t\t}\n\n\t\treq.on('error', function (err) {\n\t\t\treject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n\n\t\t\tif (response && response.body) {\n\t\t\t\tdestroyStream(response.body, err);\n\t\t\t}\n\n\t\t\tfinalize();\n\t\t});\n\n\t\tfixResponseChunkedTransferBadEnding(req, function (err) {\n\t\t\tif (signal && signal.aborted) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (response && response.body) {\n\t\t\t\tdestroyStream(response.body, err);\n\t\t\t}\n\t\t});\n\n\t\t/* c8 ignore next 18 */\n\t\tif (parseInt(process.version.substring(1)) < 14) {\n\t\t\t// Before Node.js 14, pipeline() does not fully support async iterators and does not always\n\t\t\t// properly handle when the socket close/end events are out of order.\n\t\t\treq.on('socket', function (s) {\n\t\t\t\ts.addListener('close', function (hadError) {\n\t\t\t\t\t// if a data listener is still present we didn't end cleanly\n\t\t\t\t\tconst hasDataListener = s.listenerCount('data') > 0;\n\n\t\t\t\t\t// if end happened before close but the socket didn't emit an error, do it now\n\t\t\t\t\tif (response && hasDataListener && !hadError && !(signal && signal.aborted)) {\n\t\t\t\t\t\tconst err = new Error('Premature close');\n\t\t\t\t\t\terr.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\t\tresponse.body.emit('error', err);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treq.on('response', function (res) {\n\t\t\tclearTimeout(reqTimeout);\n\n\t\t\tconst headers = createHeadersLenient(res.headers);\n\n\t\t\t// HTTP fetch step 5\n\t\t\tif (fetch.isRedirect(res.statusCode)) {\n\t\t\t\t// HTTP fetch step 5.2\n\t\t\t\tconst location = headers.get('Location');\n\n\t\t\t\t// HTTP fetch step 5.3\n\t\t\t\tlet locationURL = null;\n\t\t\t\ttry {\n\t\t\t\t\tlocationURL = location === null ? null : new URL$1(location, request.url).toString();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// error here can only be invalid URL in Location: header\n\t\t\t\t\t// do not throw when options.redirect == manual\n\t\t\t\t\t// let the user extract the errorneous redirect URL\n\t\t\t\t\tif (request.redirect !== 'manual') {\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with an invalid redirect URL: ${location}`, 'invalid-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// HTTP fetch step 5.5\n\t\t\t\tswitch (request.redirect) {\n\t\t\t\t\tcase 'error':\n\t\t\t\t\t\treject(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${request.url}`, 'no-redirect'));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t\tcase 'manual':\n\t\t\t\t\t\t// node-fetch-specific step: make manual redirect a bit easier to use by setting the Location header value to the resolved URL.\n\t\t\t\t\t\tif (locationURL !== null) {\n\t\t\t\t\t\t\t// handle corrupted header\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\theaders.set('Location', locationURL);\n\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t// istanbul ignore next: nodejs server prevent invalid response headers, we can't test this through normal request\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'follow':\n\t\t\t\t\t\t// HTTP-redirect fetch step 2\n\t\t\t\t\t\tif (locationURL === null) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 5\n\t\t\t\t\t\tif (request.counter >= request.follow) {\n\t\t\t\t\t\t\treject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 6 (counter increment)\n\t\t\t\t\t\t// Create a new Request object.\n\t\t\t\t\t\tconst requestOpts = {\n\t\t\t\t\t\t\theaders: new Headers(request.headers),\n\t\t\t\t\t\t\tfollow: request.follow,\n\t\t\t\t\t\t\tcounter: request.counter + 1,\n\t\t\t\t\t\t\tagent: request.agent,\n\t\t\t\t\t\t\tcompress: request.compress,\n\t\t\t\t\t\t\tmethod: request.method,\n\t\t\t\t\t\t\tbody: request.body,\n\t\t\t\t\t\t\tsignal: request.signal,\n\t\t\t\t\t\t\ttimeout: request.timeout,\n\t\t\t\t\t\t\tsize: request.size\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (!isDomainOrSubdomain(request.url, locationURL) || !isSameProtocol(request.url, locationURL)) {\n\t\t\t\t\t\t\tfor (const name of ['authorization', 'www-authenticate', 'cookie', 'cookie2']) {\n\t\t\t\t\t\t\t\trequestOpts.headers.delete(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 9\n\t\t\t\t\t\tif (res.statusCode !== 303 && request.body && getTotalBytes(request) === null) {\n\t\t\t\t\t\t\treject(new FetchError('Cannot follow redirect with body being a readable stream', 'unsupported-redirect'));\n\t\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 11\n\t\t\t\t\t\tif (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n\t\t\t\t\t\t\trequestOpts.method = 'GET';\n\t\t\t\t\t\t\trequestOpts.body = undefined;\n\t\t\t\t\t\t\trequestOpts.headers.delete('content-length');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// HTTP-redirect fetch step 15\n\t\t\t\t\t\tresolve(fetch(new Request(locationURL, requestOpts)));\n\t\t\t\t\t\tfinalize();\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// prepare response\n\t\t\tres.once('end', function () {\n\t\t\t\tif (signal) signal.removeEventListener('abort', abortAndFinalize);\n\t\t\t});\n\t\t\tlet body = res.pipe(new PassThrough$1());\n\n\t\t\tconst response_options = {\n\t\t\t\turl: request.url,\n\t\t\t\tstatus: res.statusCode,\n\t\t\t\tstatusText: res.statusMessage,\n\t\t\t\theaders: headers,\n\t\t\t\tsize: request.size,\n\t\t\t\ttimeout: request.timeout,\n\t\t\t\tcounter: request.counter\n\t\t\t};\n\n\t\t\t// HTTP-network fetch step 12.1.1.3\n\t\t\tconst codings = headers.get('Content-Encoding');\n\n\t\t\t// HTTP-network fetch step 12.1.1.4: handle content codings\n\n\t\t\t// in following scenarios we ignore compression support\n\t\t\t// 1. compression support is disabled\n\t\t\t// 2. HEAD request\n\t\t\t// 3. no Content-Encoding header\n\t\t\t// 4. no content response (204)\n\t\t\t// 5. content not modified response (304)\n\t\t\tif (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// For Node v6+\n\t\t\t// Be less strict when decoding compressed responses, since sometimes\n\t\t\t// servers send slightly invalid responses that are still accepted\n\t\t\t// by common browsers.\n\t\t\t// Always using Z_SYNC_FLUSH is what cURL does.\n\t\t\tconst zlibOptions = {\n\t\t\t\tflush: zlib.Z_SYNC_FLUSH,\n\t\t\t\tfinishFlush: zlib.Z_SYNC_FLUSH\n\t\t\t};\n\n\t\t\t// for gzip\n\t\t\tif (codings == 'gzip' || codings == 'x-gzip') {\n\t\t\t\tbody = body.pipe(zlib.createGunzip(zlibOptions));\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for deflate\n\t\t\tif (codings == 'deflate' || codings == 'x-deflate') {\n\t\t\t\t// handle the infamous raw deflate response from old servers\n\t\t\t\t// a hack for old IIS and Apache servers\n\t\t\t\tconst raw = res.pipe(new PassThrough$1());\n\t\t\t\traw.once('data', function (chunk) {\n\t\t\t\t\t// see http://stackoverflow.com/questions/37519828\n\t\t\t\t\tif ((chunk[0] & 0x0F) === 0x08) {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflate());\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody = body.pipe(zlib.createInflateRaw());\n\t\t\t\t\t}\n\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\tresolve(response);\n\t\t\t\t});\n\t\t\t\traw.on('end', function () {\n\t\t\t\t\t// some old IIS servers return zero-length OK deflate responses, so 'data' is never emitted.\n\t\t\t\t\tif (!response) {\n\t\t\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\t\t\tresolve(response);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// for br\n\t\t\tif (codings == 'br' && typeof zlib.createBrotliDecompress === 'function') {\n\t\t\t\tbody = body.pipe(zlib.createBrotliDecompress());\n\t\t\t\tresponse = new Response(body, response_options);\n\t\t\t\tresolve(response);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// otherwise, use response as-is\n\t\t\tresponse = new Response(body, response_options);\n\t\t\tresolve(response);\n\t\t});\n\n\t\twriteToStream(req, request);\n\t});\n}\nfunction fixResponseChunkedTransferBadEnding(request, errorCallback) {\n\tlet socket;\n\n\trequest.on('socket', function (s) {\n\t\tsocket = s;\n\t});\n\n\trequest.on('response', function (response) {\n\t\tconst headers = response.headers;\n\n\t\tif (headers['transfer-encoding'] === 'chunked' && !headers['content-length']) {\n\t\t\tresponse.once('close', function (hadError) {\n\t\t\t\t// tests for socket presence, as in some situations the\n\t\t\t\t// the 'socket' event is not triggered for the request\n\t\t\t\t// (happens in deno), avoids `TypeError`\n\t\t\t\t// if a data listener is still present we didn't end cleanly\n\t\t\t\tconst hasDataListener = socket && socket.listenerCount('data') > 0;\n\n\t\t\t\tif (hasDataListener && !hadError) {\n\t\t\t\t\tconst err = new Error('Premature close');\n\t\t\t\t\terr.code = 'ERR_STREAM_PREMATURE_CLOSE';\n\t\t\t\t\terrorCallback(err);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n}\n\nfunction destroyStream(stream, err) {\n\tif (stream.destroy) {\n\t\tstream.destroy(err);\n\t} else {\n\t\t// node < 8\n\t\tstream.emit('error', err);\n\t\tstream.end();\n\t}\n}\n\n/**\n * Redirect code matching\n *\n * @param   Number   code  Status code\n * @return  Boolean\n */\nfetch.isRedirect = function (code) {\n\treturn code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n};\n\n// expose Promise\nfetch.Promise = global.Promise;\n\nexport default fetch;\nexport { Headers, Request, Response, FetchError, AbortError };\n","import { deprecate } from \"util\";\nexport const deprecateConstructorEntries = deprecate(() => { }, \"Constructor \\\"entries\\\" argument is not spec-compliant \"\n    + \"and will be removed in next major release.\");\n","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _FormData_instances, _FormData_entries, _FormData_setEntry;\nimport { inspect } from \"util\";\nimport { File } from \"./File.js\";\nimport { isFile } from \"./isFile.js\";\nimport { isBlob } from \"./isBlob.js\";\nimport { isFunction } from \"./isFunction.js\";\nimport { deprecateConstructorEntries } from \"./deprecateConstructorEntries.js\";\nexport class FormData {\n    constructor(entries) {\n        _FormData_instances.add(this);\n        _FormData_entries.set(this, new Map());\n        if (entries) {\n            deprecateConstructorEntries();\n            entries.forEach(({ name, value, fileName }) => this.append(name, value, fileName));\n        }\n    }\n    static [(_FormData_entries = new WeakMap(), _FormData_instances = new WeakSet(), Symbol.hasInstance)](value) {\n        return Boolean(value\n            && isFunction(value.constructor)\n            && value[Symbol.toStringTag] === \"FormData\"\n            && isFunction(value.append)\n            && isFunction(value.set)\n            && isFunction(value.get)\n            && isFunction(value.getAll)\n            && isFunction(value.has)\n            && isFunction(value.delete)\n            && isFunction(value.entries)\n            && isFunction(value.values)\n            && isFunction(value.keys)\n            && isFunction(value[Symbol.iterator])\n            && isFunction(value.forEach));\n    }\n    append(name, value, fileName) {\n        __classPrivateFieldGet(this, _FormData_instances, \"m\", _FormData_setEntry).call(this, {\n            name,\n            fileName,\n            append: true,\n            rawValue: value,\n            argsLength: arguments.length\n        });\n    }\n    set(name, value, fileName) {\n        __classPrivateFieldGet(this, _FormData_instances, \"m\", _FormData_setEntry).call(this, {\n            name,\n            fileName,\n            append: false,\n            rawValue: value,\n            argsLength: arguments.length\n        });\n    }\n    get(name) {\n        const field = __classPrivateFieldGet(this, _FormData_entries, \"f\").get(String(name));\n        if (!field) {\n            return null;\n        }\n        return field[0];\n    }\n    getAll(name) {\n        const field = __classPrivateFieldGet(this, _FormData_entries, \"f\").get(String(name));\n        if (!field) {\n            return [];\n        }\n        return field.slice();\n    }\n    has(name) {\n        return __classPrivateFieldGet(this, _FormData_entries, \"f\").has(String(name));\n    }\n    delete(name) {\n        __classPrivateFieldGet(this, _FormData_entries, \"f\").delete(String(name));\n    }\n    *keys() {\n        for (const key of __classPrivateFieldGet(this, _FormData_entries, \"f\").keys()) {\n            yield key;\n        }\n    }\n    *entries() {\n        for (const name of this.keys()) {\n            const values = this.getAll(name);\n            for (const value of values) {\n                yield [name, value];\n            }\n        }\n    }\n    *values() {\n        for (const [, value] of this) {\n            yield value;\n        }\n    }\n    [(_FormData_setEntry = function _FormData_setEntry({ name, rawValue, append, fileName, argsLength }) {\n        const methodName = append ? \"append\" : \"set\";\n        if (argsLength < 2) {\n            throw new TypeError(`Failed to execute '${methodName}' on 'FormData': `\n                + `2 arguments required, but only ${argsLength} present.`);\n        }\n        name = String(name);\n        let value;\n        if (isFile(rawValue)) {\n            value = fileName === undefined\n                ? rawValue\n                : new File([rawValue], fileName, {\n                    type: rawValue.type,\n                    lastModified: rawValue.lastModified\n                });\n        }\n        else if (isBlob(rawValue)) {\n            value = new File([rawValue], fileName === undefined ? \"blob\" : fileName, {\n                type: rawValue.type\n            });\n        }\n        else if (fileName) {\n            throw new TypeError(`Failed to execute '${methodName}' on 'FormData': `\n                + \"parameter 2 is not of type 'Blob'.\");\n        }\n        else {\n            value = String(rawValue);\n        }\n        const values = __classPrivateFieldGet(this, _FormData_entries, \"f\").get(name);\n        if (!values) {\n            return void __classPrivateFieldGet(this, _FormData_entries, \"f\").set(name, [value]);\n        }\n        if (!append) {\n            return void __classPrivateFieldGet(this, _FormData_entries, \"f\").set(name, [value]);\n        }\n        values.push(value);\n    }, Symbol.iterator)]() {\n        return this.entries();\n    }\n    forEach(callback, thisArg) {\n        for (const [name, value] of this) {\n            callback.call(thisArg, value, name, this);\n        }\n    }\n    get [Symbol.toStringTag]() {\n        return \"FormData\";\n    }\n    [inspect.custom]() {\n        return this[Symbol.toStringTag];\n    }\n}\n","import { Blob } from \"./Blob.js\";\nexport const isBlob = (value) => value instanceof Blob;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:fs\");","const getType = (value) => (Object.prototype.toString.call(value).slice(8, -1).toLowerCase());\nfunction isPlainObject(value) {\n    if (getType(value) !== \"object\") {\n        return false;\n    }\n    const pp = Object.getPrototypeOf(value);\n    if (pp === null || pp === undefined) {\n        return true;\n    }\n    const Ctor = pp.constructor && pp.constructor.toString();\n    return Ctor === Object.toString();\n}\nexport default isPlainObject;\n","const normalizeValue = (value) => String(value)\n    .replace(/\\r|\\n/g, (match, i, str) => {\n    if ((match === \"\\r\" && str[i + 1] !== \"\\n\")\n        || (match === \"\\n\" && str[i - 1] !== \"\\r\")) {\n        return \"\\r\\n\";\n    }\n    return match;\n});\nexport default normalizeValue;\n","const escapeName = (name) => String(name)\n    .replace(/\\r/g, \"%0D\")\n    .replace(/\\n/g, \"%0A\")\n    .replace(/\"/g, \"%22\");\nexport default escapeName;\n","const isFunction = (value) => (typeof value === \"function\");\nexport default isFunction;\n","import isFunction from \"./isFunction.js\";\nexport const isFileLike = (value) => Boolean(value\n    && typeof value === \"object\"\n    && isFunction(value.constructor)\n    && value[Symbol.toStringTag] === \"File\"\n    && isFunction(value.stream)\n    && value.name != null\n    && value.size != null\n    && value.lastModified != null);\n","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _FormDataEncoder_instances, _FormDataEncoder_CRLF, _FormDataEncoder_CRLF_BYTES, _FormDataEncoder_CRLF_BYTES_LENGTH, _FormDataEncoder_DASHES, _FormDataEncoder_encoder, _FormDataEncoder_footer, _FormDataEncoder_form, _FormDataEncoder_options, _FormDataEncoder_getFieldHeader;\nimport createBoundary from \"./util/createBoundary.js\";\nimport isPlainObject from \"./util/isPlainObject.js\";\nimport normalize from \"./util/normalizeValue.js\";\nimport escape from \"./util/escapeName.js\";\nimport { isFileLike } from \"./util/isFileLike.js\";\nimport { isFormData } from \"./util/isFormData.js\";\nconst defaultOptions = {\n    enableAdditionalHeaders: false\n};\nexport class FormDataEncoder {\n    constructor(form, boundaryOrOptions, options) {\n        _FormDataEncoder_instances.add(this);\n        _FormDataEncoder_CRLF.set(this, \"\\r\\n\");\n        _FormDataEncoder_CRLF_BYTES.set(this, void 0);\n        _FormDataEncoder_CRLF_BYTES_LENGTH.set(this, void 0);\n        _FormDataEncoder_DASHES.set(this, \"-\".repeat(2));\n        _FormDataEncoder_encoder.set(this, new TextEncoder());\n        _FormDataEncoder_footer.set(this, void 0);\n        _FormDataEncoder_form.set(this, void 0);\n        _FormDataEncoder_options.set(this, void 0);\n        if (!isFormData(form)) {\n            throw new TypeError(\"Expected first argument to be a FormData instance.\");\n        }\n        let boundary;\n        if (isPlainObject(boundaryOrOptions)) {\n            options = boundaryOrOptions;\n        }\n        else {\n            boundary = boundaryOrOptions;\n        }\n        if (!boundary) {\n            boundary = createBoundary();\n        }\n        if (typeof boundary !== \"string\") {\n            throw new TypeError(\"Expected boundary argument to be a string.\");\n        }\n        if (options && !isPlainObject(options)) {\n            throw new TypeError(\"Expected options argument to be an object.\");\n        }\n        __classPrivateFieldSet(this, _FormDataEncoder_form, form, \"f\");\n        __classPrivateFieldSet(this, _FormDataEncoder_options, { ...defaultOptions, ...options }, \"f\");\n        __classPrivateFieldSet(this, _FormDataEncoder_CRLF_BYTES, __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\")), \"f\");\n        __classPrivateFieldSet(this, _FormDataEncoder_CRLF_BYTES_LENGTH, __classPrivateFieldGet(this, _FormDataEncoder_CRLF_BYTES, \"f\").byteLength, \"f\");\n        this.boundary = `form-data-boundary-${boundary}`;\n        this.contentType = `multipart/form-data; boundary=${this.boundary}`;\n        __classPrivateFieldSet(this, _FormDataEncoder_footer, __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(`${__classPrivateFieldGet(this, _FormDataEncoder_DASHES, \"f\")}${this.boundary}${__classPrivateFieldGet(this, _FormDataEncoder_DASHES, \"f\")}${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\").repeat(2)}`), \"f\");\n        this.contentLength = String(this.getContentLength());\n        this.headers = Object.freeze({\n            \"Content-Type\": this.contentType,\n            \"Content-Length\": this.contentLength\n        });\n        Object.defineProperties(this, {\n            boundary: { writable: false, configurable: false },\n            contentType: { writable: false, configurable: false },\n            contentLength: { writable: false, configurable: false },\n            headers: { writable: false, configurable: false }\n        });\n    }\n    getContentLength() {\n        let length = 0;\n        for (const [name, raw] of __classPrivateFieldGet(this, _FormDataEncoder_form, \"f\")) {\n            const value = isFileLike(raw) ? raw : __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(normalize(raw));\n            length += __classPrivateFieldGet(this, _FormDataEncoder_instances, \"m\", _FormDataEncoder_getFieldHeader).call(this, name, value).byteLength;\n            length += isFileLike(value) ? value.size : value.byteLength;\n            length += __classPrivateFieldGet(this, _FormDataEncoder_CRLF_BYTES_LENGTH, \"f\");\n        }\n        return length + __classPrivateFieldGet(this, _FormDataEncoder_footer, \"f\").byteLength;\n    }\n    *values() {\n        for (const [name, raw] of __classPrivateFieldGet(this, _FormDataEncoder_form, \"f\").entries()) {\n            const value = isFileLike(raw) ? raw : __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(normalize(raw));\n            yield __classPrivateFieldGet(this, _FormDataEncoder_instances, \"m\", _FormDataEncoder_getFieldHeader).call(this, name, value);\n            yield value;\n            yield __classPrivateFieldGet(this, _FormDataEncoder_CRLF_BYTES, \"f\");\n        }\n        yield __classPrivateFieldGet(this, _FormDataEncoder_footer, \"f\");\n    }\n    async *encode() {\n        for (const part of this.values()) {\n            if (isFileLike(part)) {\n                yield* part.stream();\n            }\n            else {\n                yield part;\n            }\n        }\n    }\n    [(_FormDataEncoder_CRLF = new WeakMap(), _FormDataEncoder_CRLF_BYTES = new WeakMap(), _FormDataEncoder_CRLF_BYTES_LENGTH = new WeakMap(), _FormDataEncoder_DASHES = new WeakMap(), _FormDataEncoder_encoder = new WeakMap(), _FormDataEncoder_footer = new WeakMap(), _FormDataEncoder_form = new WeakMap(), _FormDataEncoder_options = new WeakMap(), _FormDataEncoder_instances = new WeakSet(), _FormDataEncoder_getFieldHeader = function _FormDataEncoder_getFieldHeader(name, value) {\n        let header = \"\";\n        header += `${__classPrivateFieldGet(this, _FormDataEncoder_DASHES, \"f\")}${this.boundary}${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\")}`;\n        header += `Content-Disposition: form-data; name=\"${escape(name)}\"`;\n        if (isFileLike(value)) {\n            header += `; filename=\"${escape(value.name)}\"${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\")}`;\n            header += `Content-Type: ${value.type || \"application/octet-stream\"}`;\n        }\n        if (__classPrivateFieldGet(this, _FormDataEncoder_options, \"f\").enableAdditionalHeaders === true) {\n            header += `${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\")}Content-Length: ${isFileLike(value) ? value.size : value.byteLength}`;\n        }\n        return __classPrivateFieldGet(this, _FormDataEncoder_encoder, \"f\").encode(`${header}${__classPrivateFieldGet(this, _FormDataEncoder_CRLF, \"f\").repeat(2)}`);\n    }, Symbol.iterator)]() {\n        return this.values();\n    }\n    [Symbol.asyncIterator]() {\n        return this.encode();\n    }\n}\nexport const Encoder = FormDataEncoder;\n","import isFunction from \"./isFunction.js\";\nexport const isFormData = (value) => Boolean(value\n    && isFunction(value.constructor)\n    && value[Symbol.toStringTag] === \"FormData\"\n    && isFunction(value.append)\n    && isFunction(value.getAll)\n    && isFunction(value.entries)\n    && isFunction(value[Symbol.iterator]));\nexport const isFormDataLike = isFormData;\n","const alphabet = \"abcdefghijklmnopqrstuvwxyz0123456789\";\nfunction createBoundary() {\n    let size = 16;\n    let res = \"\";\n    while (size--) {\n        res += alphabet[(Math.random() * alphabet.length) << 0];\n    }\n    return res;\n}\nexport default createBoundary;\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:stream\");","/**\n * Disclaimer: modules in _shims aren't intended to be imported by SDK users.\n */\nexport class MultipartBody {\n    constructor(body) {\n        this.body = body;\n    }\n    get [Symbol.toStringTag]() {\n        return 'MultipartBody';\n    }\n}\n//# sourceMappingURL=MultipartBody.mjs.map","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"node:stream/web\");","import * as nf from 'node-fetch';\nimport * as fd from 'formdata-node';\nimport KeepAliveAgent from 'agentkeepalive';\nimport { AbortController as AbortControllerPolyfill } from 'abort-controller';\nimport { ReadStream as FsReadStream } from 'node:fs';\nimport { FormDataEncoder } from 'form-data-encoder';\nimport { Readable } from 'node:stream';\nimport { MultipartBody } from \"./MultipartBody.mjs\";\nimport { ReadableStream } from 'node:stream/web';\nlet fileFromPathWarned = false;\nasync function fileFromPath(path, ...args) {\n    // this import fails in environments that don't handle export maps correctly, like old versions of Jest\n    const { fileFromPath: _fileFromPath } = await import('formdata-node/file-from-path');\n    if (!fileFromPathWarned) {\n        console.warn(`fileFromPath is deprecated; use fs.createReadStream(${JSON.stringify(path)}) instead`);\n        fileFromPathWarned = true;\n    }\n    // @ts-ignore\n    return await _fileFromPath(path, ...args);\n}\nconst defaultHttpAgent = new KeepAliveAgent({ keepAlive: true, timeout: 5 * 60 * 1000 });\nconst defaultHttpsAgent = new KeepAliveAgent.HttpsAgent({ keepAlive: true, timeout: 5 * 60 * 1000 });\nasync function getMultipartRequestOptions(form, opts) {\n    const encoder = new FormDataEncoder(form);\n    const readable = Readable.from(encoder);\n    const body = new MultipartBody(readable);\n    const headers = {\n        ...opts.headers,\n        ...encoder.headers,\n        'Content-Length': encoder.contentLength,\n    };\n    return { ...opts, body: body, headers };\n}\nexport function getRuntime() {\n    // Polyfill global object if needed.\n    if (typeof AbortController === 'undefined') {\n        // @ts-expect-error (the types are subtly different, but compatible in practice)\n        globalThis.AbortController = AbortControllerPolyfill;\n    }\n    return {\n        kind: 'node',\n        fetch: nf.default,\n        Request: nf.Request,\n        Response: nf.Response,\n        Headers: nf.Headers,\n        FormData: fd.FormData,\n        Blob: fd.Blob,\n        File: fd.File,\n        ReadableStream,\n        getMultipartRequestOptions,\n        getDefaultAgent: (url) => (url.startsWith('https') ? defaultHttpsAgent : defaultHttpAgent),\n        fileFromPath,\n        isFsReadStream: (value) => value instanceof FsReadStream,\n    };\n}\n//# sourceMappingURL=node-runtime.mjs.map","/**\n * Disclaimer: modules in _shims aren't intended to be imported by SDK users.\n */\nimport * as shims from './registry.mjs';\nimport * as auto from 'openai/_shims/auto/runtime';\nif (!shims.kind) shims.setShims(auto.getRuntime(), { auto: true });\nexport * from './registry.mjs';\n","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { castToError } from \"./core.mjs\";\nexport class OpenAIError extends Error {\n}\nexport class APIError extends OpenAIError {\n    constructor(status, error, message, headers) {\n        super(`${APIError.makeMessage(status, error, message)}`);\n        this.status = status;\n        this.headers = headers;\n        this.request_id = headers?.['x-request-id'];\n        const data = error;\n        this.error = data;\n        this.code = data?.['code'];\n        this.param = data?.['param'];\n        this.type = data?.['type'];\n    }\n    static makeMessage(status, error, message) {\n        const msg = error?.message ?\n            typeof error.message === 'string' ?\n                error.message\n                : JSON.stringify(error.message)\n            : error ? JSON.stringify(error)\n                : message;\n        if (status && msg) {\n            return `${status} ${msg}`;\n        }\n        if (status) {\n            return `${status} status code (no body)`;\n        }\n        if (msg) {\n            return msg;\n        }\n        return '(no status code or body)';\n    }\n    static generate(status, errorResponse, message, headers) {\n        if (!status) {\n            return new APIConnectionError({ message, cause: castToError(errorResponse) });\n        }\n        const error = errorResponse?.['error'];\n        if (status === 400) {\n            return new BadRequestError(status, error, message, headers);\n        }\n        if (status === 401) {\n            return new AuthenticationError(status, error, message, headers);\n        }\n        if (status === 403) {\n            return new PermissionDeniedError(status, error, message, headers);\n        }\n        if (status === 404) {\n            return new NotFoundError(status, error, message, headers);\n        }\n        if (status === 409) {\n            return new ConflictError(status, error, message, headers);\n        }\n        if (status === 422) {\n            return new UnprocessableEntityError(status, error, message, headers);\n        }\n        if (status === 429) {\n            return new RateLimitError(status, error, message, headers);\n        }\n        if (status >= 500) {\n            return new InternalServerError(status, error, message, headers);\n        }\n        return new APIError(status, error, message, headers);\n    }\n}\nexport class APIUserAbortError extends APIError {\n    constructor({ message } = {}) {\n        super(undefined, undefined, message || 'Request was aborted.', undefined);\n        this.status = undefined;\n    }\n}\nexport class APIConnectionError extends APIError {\n    constructor({ message, cause }) {\n        super(undefined, undefined, message || 'Connection error.', undefined);\n        this.status = undefined;\n        // in some environments the 'cause' property is already declared\n        // @ts-ignore\n        if (cause)\n            this.cause = cause;\n    }\n}\nexport class APIConnectionTimeoutError extends APIConnectionError {\n    constructor({ message } = {}) {\n        super({ message: message ?? 'Request timed out.' });\n    }\n}\nexport class BadRequestError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 400;\n    }\n}\nexport class AuthenticationError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 401;\n    }\n}\nexport class PermissionDeniedError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 403;\n    }\n}\nexport class NotFoundError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 404;\n    }\n}\nexport class ConflictError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 409;\n    }\n}\nexport class UnprocessableEntityError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 422;\n    }\n}\nexport class RateLimitError extends APIError {\n    constructor() {\n        super(...arguments);\n        this.status = 429;\n    }\n}\nexport class InternalServerError extends APIError {\n}\nexport class LengthFinishReasonError extends OpenAIError {\n    constructor() {\n        super(`Could not parse response content as the length limit was reached`);\n    }\n}\nexport class ContentFilterFinishReasonError extends OpenAIError {\n    constructor() {\n        super(`Could not parse response content as the request was rejected by the content filter`);\n    }\n}\n//# sourceMappingURL=error.mjs.map","import { OpenAIError } from \"../../error.mjs\";\n/**\n * A re-implementation of httpx's `LineDecoder` in Python that handles incrementally\n * reading lines from text.\n *\n * https://github.com/encode/httpx/blob/920333ea98118e9cf617f246905d7b202510941c/httpx/_decoders.py#L258\n */\nexport class LineDecoder {\n    constructor() {\n        this.buffer = [];\n        this.trailingCR = false;\n    }\n    decode(chunk) {\n        let text = this.decodeText(chunk);\n        if (this.trailingCR) {\n            text = '\\r' + text;\n            this.trailingCR = false;\n        }\n        if (text.endsWith('\\r')) {\n            this.trailingCR = true;\n            text = text.slice(0, -1);\n        }\n        if (!text) {\n            return [];\n        }\n        const trailingNewline = LineDecoder.NEWLINE_CHARS.has(text[text.length - 1] || '');\n        let lines = text.split(LineDecoder.NEWLINE_REGEXP);\n        // if there is a trailing new line then the last entry will be an empty\n        // string which we don't care about\n        if (trailingNewline) {\n            lines.pop();\n        }\n        if (lines.length === 1 && !trailingNewline) {\n            this.buffer.push(lines[0]);\n            return [];\n        }\n        if (this.buffer.length > 0) {\n            lines = [this.buffer.join('') + lines[0], ...lines.slice(1)];\n            this.buffer = [];\n        }\n        if (!trailingNewline) {\n            this.buffer = [lines.pop() || ''];\n        }\n        return lines;\n    }\n    decodeText(bytes) {\n        if (bytes == null)\n            return '';\n        if (typeof bytes === 'string')\n            return bytes;\n        // Node:\n        if (typeof Buffer !== 'undefined') {\n            if (bytes instanceof Buffer) {\n                return bytes.toString();\n            }\n            if (bytes instanceof Uint8Array) {\n                return Buffer.from(bytes).toString();\n            }\n            throw new OpenAIError(`Unexpected: received non-Uint8Array (${bytes.constructor.name}) stream chunk in an environment with a global \"Buffer\" defined, which this library assumes to be Node. Please report this error.`);\n        }\n        // Browser\n        if (typeof TextDecoder !== 'undefined') {\n            if (bytes instanceof Uint8Array || bytes instanceof ArrayBuffer) {\n                this.textDecoder ?? (this.textDecoder = new TextDecoder('utf8'));\n                return this.textDecoder.decode(bytes);\n            }\n            throw new OpenAIError(`Unexpected: received non-Uint8Array/ArrayBuffer (${bytes.constructor.name}) in a web platform. Please report this error.`);\n        }\n        throw new OpenAIError(`Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.`);\n    }\n    flush() {\n        if (!this.buffer.length && !this.trailingCR) {\n            return [];\n        }\n        const lines = [this.buffer.join('')];\n        this.buffer = [];\n        this.trailingCR = false;\n        return lines;\n    }\n}\n// prettier-ignore\nLineDecoder.NEWLINE_CHARS = new Set(['\\n', '\\r']);\nLineDecoder.NEWLINE_REGEXP = /\\r\\n|[\\n\\r]/g;\n//# sourceMappingURL=line.mjs.map","import { ReadableStream } from \"./_shims/index.mjs\";\nimport { OpenAIError } from \"./error.mjs\";\nimport { LineDecoder } from \"./internal/decoders/line.mjs\";\nimport { APIError } from \"./error.mjs\";\nexport class Stream {\n    constructor(iterator, controller) {\n        this.iterator = iterator;\n        this.controller = controller;\n    }\n    static fromSSEResponse(response, controller) {\n        let consumed = false;\n        async function* iterator() {\n            if (consumed) {\n                throw new Error('Cannot iterate over a consumed stream, use `.tee()` to split the stream.');\n            }\n            consumed = true;\n            let done = false;\n            try {\n                for await (const sse of _iterSSEMessages(response, controller)) {\n                    if (done)\n                        continue;\n                    if (sse.data.startsWith('[DONE]')) {\n                        done = true;\n                        continue;\n                    }\n                    if (sse.event === null) {\n                        let data;\n                        try {\n                            data = JSON.parse(sse.data);\n                        }\n                        catch (e) {\n                            console.error(`Could not parse message into JSON:`, sse.data);\n                            console.error(`From chunk:`, sse.raw);\n                            throw e;\n                        }\n                        if (data && data.error) {\n                            throw new APIError(undefined, data.error, undefined, undefined);\n                        }\n                        yield data;\n                    }\n                    else {\n                        let data;\n                        try {\n                            data = JSON.parse(sse.data);\n                        }\n                        catch (e) {\n                            console.error(`Could not parse message into JSON:`, sse.data);\n                            console.error(`From chunk:`, sse.raw);\n                            throw e;\n                        }\n                        // TODO: Is this where the error should be thrown?\n                        if (sse.event == 'error') {\n                            throw new APIError(undefined, data.error, data.message, undefined);\n                        }\n                        yield { event: sse.event, data: data };\n                    }\n                }\n                done = true;\n            }\n            catch (e) {\n                // If the user calls `stream.controller.abort()`, we should exit without throwing.\n                if (e instanceof Error && e.name === 'AbortError')\n                    return;\n                throw e;\n            }\n            finally {\n                // If the user `break`s, abort the ongoing request.\n                if (!done)\n                    controller.abort();\n            }\n        }\n        return new Stream(iterator, controller);\n    }\n    /**\n     * Generates a Stream from a newline-separated ReadableStream\n     * where each item is a JSON value.\n     */\n    static fromReadableStream(readableStream, controller) {\n        let consumed = false;\n        async function* iterLines() {\n            const lineDecoder = new LineDecoder();\n            const iter = readableStreamAsyncIterable(readableStream);\n            for await (const chunk of iter) {\n                for (const line of lineDecoder.decode(chunk)) {\n                    yield line;\n                }\n            }\n            for (const line of lineDecoder.flush()) {\n                yield line;\n            }\n        }\n        async function* iterator() {\n            if (consumed) {\n                throw new Error('Cannot iterate over a consumed stream, use `.tee()` to split the stream.');\n            }\n            consumed = true;\n            let done = false;\n            try {\n                for await (const line of iterLines()) {\n                    if (done)\n                        continue;\n                    if (line)\n                        yield JSON.parse(line);\n                }\n                done = true;\n            }\n            catch (e) {\n                // If the user calls `stream.controller.abort()`, we should exit without throwing.\n                if (e instanceof Error && e.name === 'AbortError')\n                    return;\n                throw e;\n            }\n            finally {\n                // If the user `break`s, abort the ongoing request.\n                if (!done)\n                    controller.abort();\n            }\n        }\n        return new Stream(iterator, controller);\n    }\n    [Symbol.asyncIterator]() {\n        return this.iterator();\n    }\n    /**\n     * Splits the stream into two streams which can be\n     * independently read from at different speeds.\n     */\n    tee() {\n        const left = [];\n        const right = [];\n        const iterator = this.iterator();\n        const teeIterator = (queue) => {\n            return {\n                next: () => {\n                    if (queue.length === 0) {\n                        const result = iterator.next();\n                        left.push(result);\n                        right.push(result);\n                    }\n                    return queue.shift();\n                },\n            };\n        };\n        return [\n            new Stream(() => teeIterator(left), this.controller),\n            new Stream(() => teeIterator(right), this.controller),\n        ];\n    }\n    /**\n     * Converts this stream to a newline-separated ReadableStream of\n     * JSON stringified values in the stream\n     * which can be turned back into a Stream with `Stream.fromReadableStream()`.\n     */\n    toReadableStream() {\n        const self = this;\n        let iter;\n        const encoder = new TextEncoder();\n        return new ReadableStream({\n            async start() {\n                iter = self[Symbol.asyncIterator]();\n            },\n            async pull(ctrl) {\n                try {\n                    const { value, done } = await iter.next();\n                    if (done)\n                        return ctrl.close();\n                    const bytes = encoder.encode(JSON.stringify(value) + '\\n');\n                    ctrl.enqueue(bytes);\n                }\n                catch (err) {\n                    ctrl.error(err);\n                }\n            },\n            async cancel() {\n                await iter.return?.();\n            },\n        });\n    }\n}\nexport async function* _iterSSEMessages(response, controller) {\n    if (!response.body) {\n        controller.abort();\n        throw new OpenAIError(`Attempted to iterate over a response with no body`);\n    }\n    const sseDecoder = new SSEDecoder();\n    const lineDecoder = new LineDecoder();\n    const iter = readableStreamAsyncIterable(response.body);\n    for await (const sseChunk of iterSSEChunks(iter)) {\n        for (const line of lineDecoder.decode(sseChunk)) {\n            const sse = sseDecoder.decode(line);\n            if (sse)\n                yield sse;\n        }\n    }\n    for (const line of lineDecoder.flush()) {\n        const sse = sseDecoder.decode(line);\n        if (sse)\n            yield sse;\n    }\n}\n/**\n * Given an async iterable iterator, iterates over it and yields full\n * SSE chunks, i.e. yields when a double new-line is encountered.\n */\nasync function* iterSSEChunks(iterator) {\n    let data = new Uint8Array();\n    for await (const chunk of iterator) {\n        if (chunk == null) {\n            continue;\n        }\n        const binaryChunk = chunk instanceof ArrayBuffer ? new Uint8Array(chunk)\n            : typeof chunk === 'string' ? new TextEncoder().encode(chunk)\n                : chunk;\n        let newData = new Uint8Array(data.length + binaryChunk.length);\n        newData.set(data);\n        newData.set(binaryChunk, data.length);\n        data = newData;\n        let patternIndex;\n        while ((patternIndex = findDoubleNewlineIndex(data)) !== -1) {\n            yield data.slice(0, patternIndex);\n            data = data.slice(patternIndex);\n        }\n    }\n    if (data.length > 0) {\n        yield data;\n    }\n}\nfunction findDoubleNewlineIndex(buffer) {\n    // This function searches the buffer for the end patterns (\\r\\r, \\n\\n, \\r\\n\\r\\n)\n    // and returns the index right after the first occurrence of any pattern,\n    // or -1 if none of the patterns are found.\n    const newline = 0x0a; // \\n\n    const carriage = 0x0d; // \\r\n    for (let i = 0; i < buffer.length - 2; i++) {\n        if (buffer[i] === newline && buffer[i + 1] === newline) {\n            // \\n\\n\n            return i + 2;\n        }\n        if (buffer[i] === carriage && buffer[i + 1] === carriage) {\n            // \\r\\r\n            return i + 2;\n        }\n        if (buffer[i] === carriage &&\n            buffer[i + 1] === newline &&\n            i + 3 < buffer.length &&\n            buffer[i + 2] === carriage &&\n            buffer[i + 3] === newline) {\n            // \\r\\n\\r\\n\n            return i + 4;\n        }\n    }\n    return -1;\n}\nclass SSEDecoder {\n    constructor() {\n        this.event = null;\n        this.data = [];\n        this.chunks = [];\n    }\n    decode(line) {\n        if (line.endsWith('\\r')) {\n            line = line.substring(0, line.length - 1);\n        }\n        if (!line) {\n            // empty line and we didn't previously encounter any messages\n            if (!this.event && !this.data.length)\n                return null;\n            const sse = {\n                event: this.event,\n                data: this.data.join('\\n'),\n                raw: this.chunks,\n            };\n            this.event = null;\n            this.data = [];\n            this.chunks = [];\n            return sse;\n        }\n        this.chunks.push(line);\n        if (line.startsWith(':')) {\n            return null;\n        }\n        let [fieldname, _, value] = partition(line, ':');\n        if (value.startsWith(' ')) {\n            value = value.substring(1);\n        }\n        if (fieldname === 'event') {\n            this.event = value;\n        }\n        else if (fieldname === 'data') {\n            this.data.push(value);\n        }\n        return null;\n    }\n}\n/** This is an internal helper function that's just used for testing */\nexport function _decodeChunks(chunks) {\n    const decoder = new LineDecoder();\n    const lines = [];\n    for (const chunk of chunks) {\n        lines.push(...decoder.decode(chunk));\n    }\n    return lines;\n}\nfunction partition(str, delimiter) {\n    const index = str.indexOf(delimiter);\n    if (index !== -1) {\n        return [str.substring(0, index), delimiter, str.substring(index + delimiter.length)];\n    }\n    return [str, '', ''];\n}\n/**\n * Most browsers don't yet have async iterable support for ReadableStream,\n * and Node has a very different way of reading bytes from its \"ReadableStream\".\n *\n * This polyfill was pulled from https://github.com/MattiasBuelens/web-streams-polyfill/pull/122#issuecomment-1627354490\n */\nexport function readableStreamAsyncIterable(stream) {\n    if (stream[Symbol.asyncIterator])\n        return stream;\n    const reader = stream.getReader();\n    return {\n        async next() {\n            try {\n                const result = await reader.read();\n                if (result?.done)\n                    reader.releaseLock(); // release lock when stream becomes closed\n                return result;\n            }\n            catch (e) {\n                reader.releaseLock(); // release lock when stream becomes errored\n                throw e;\n            }\n        },\n        async return() {\n            const cancelPromise = reader.cancel();\n            reader.releaseLock();\n            await cancelPromise;\n            return { done: true, value: undefined };\n        },\n        [Symbol.asyncIterator]() {\n            return this;\n        },\n    };\n}\n//# sourceMappingURL=streaming.mjs.map","import { FormData, File, getMultipartRequestOptions, isFsReadStream, } from \"./_shims/index.mjs\";\nexport { fileFromPath } from \"./_shims/index.mjs\";\nexport const isResponseLike = (value) => value != null &&\n    typeof value === 'object' &&\n    typeof value.url === 'string' &&\n    typeof value.blob === 'function';\nexport const isFileLike = (value) => value != null &&\n    typeof value === 'object' &&\n    typeof value.name === 'string' &&\n    typeof value.lastModified === 'number' &&\n    isBlobLike(value);\n/**\n * The BlobLike type omits arrayBuffer() because @types/node-fetch@^2.6.4 lacks it; but this check\n * adds the arrayBuffer() method type because it is available and used at runtime\n */\nexport const isBlobLike = (value) => value != null &&\n    typeof value === 'object' &&\n    typeof value.size === 'number' &&\n    typeof value.type === 'string' &&\n    typeof value.text === 'function' &&\n    typeof value.slice === 'function' &&\n    typeof value.arrayBuffer === 'function';\nexport const isUploadable = (value) => {\n    return isFileLike(value) || isResponseLike(value) || isFsReadStream(value);\n};\n/**\n * Helper for creating a {@link File} to pass to an SDK upload method from a variety of different data formats\n * @param value the raw content of the file.  Can be an {@link Uploadable}, {@link BlobLikePart}, or {@link AsyncIterable} of {@link BlobLikePart}s\n * @param {string=} name the name of the file. If omitted, toFile will try to determine a file name from bits if possible\n * @param {Object=} options additional properties\n * @param {string=} options.type the MIME type of the content\n * @param {number=} options.lastModified the last modified timestamp\n * @returns a {@link File} with the given properties\n */\nexport async function toFile(value, name, options) {\n    // If it's a promise, resolve it.\n    value = await value;\n    // If we've been given a `File` we don't need to do anything\n    if (isFileLike(value)) {\n        return value;\n    }\n    if (isResponseLike(value)) {\n        const blob = await value.blob();\n        name || (name = new URL(value.url).pathname.split(/[\\\\/]/).pop() ?? 'unknown_file');\n        // we need to convert the `Blob` into an array buffer because the `Blob` class\n        // that `node-fetch` defines is incompatible with the web standard which results\n        // in `new File` interpreting it as a string instead of binary data.\n        const data = isBlobLike(blob) ? [(await blob.arrayBuffer())] : [blob];\n        return new File(data, name, options);\n    }\n    const bits = await getBytes(value);\n    name || (name = getName(value) ?? 'unknown_file');\n    if (!options?.type) {\n        const type = bits[0]?.type;\n        if (typeof type === 'string') {\n            options = { ...options, type };\n        }\n    }\n    return new File(bits, name, options);\n}\nasync function getBytes(value) {\n    let parts = [];\n    if (typeof value === 'string' ||\n        ArrayBuffer.isView(value) || // includes Uint8Array, Buffer, etc.\n        value instanceof ArrayBuffer) {\n        parts.push(value);\n    }\n    else if (isBlobLike(value)) {\n        parts.push(await value.arrayBuffer());\n    }\n    else if (isAsyncIterableIterator(value) // includes Readable, ReadableStream, etc.\n    ) {\n        for await (const chunk of value) {\n            parts.push(chunk); // TODO, consider validating?\n        }\n    }\n    else {\n        throw new Error(`Unexpected data type: ${typeof value}; constructor: ${value?.constructor\n            ?.name}; props: ${propsForError(value)}`);\n    }\n    return parts;\n}\nfunction propsForError(value) {\n    const props = Object.getOwnPropertyNames(value);\n    return `[${props.map((p) => `\"${p}\"`).join(', ')}]`;\n}\nfunction getName(value) {\n    return (getStringFromMaybeBuffer(value.name) ||\n        getStringFromMaybeBuffer(value.filename) ||\n        // For fs.ReadStream\n        getStringFromMaybeBuffer(value.path)?.split(/[\\\\/]/).pop());\n}\nconst getStringFromMaybeBuffer = (x) => {\n    if (typeof x === 'string')\n        return x;\n    if (typeof Buffer !== 'undefined' && x instanceof Buffer)\n        return String(x);\n    return undefined;\n};\nconst isAsyncIterableIterator = (value) => value != null && typeof value === 'object' && typeof value[Symbol.asyncIterator] === 'function';\nexport const isMultipartBody = (body) => body && typeof body === 'object' && body.body && body[Symbol.toStringTag] === 'MultipartBody';\n/**\n * Returns a multipart/form-data request if any part of the given request body contains a File / Blob value.\n * Otherwise returns the request as is.\n */\nexport const maybeMultipartFormRequestOptions = async (opts) => {\n    if (!hasUploadableValue(opts.body))\n        return opts;\n    const form = await createForm(opts.body);\n    return getMultipartRequestOptions(form, opts);\n};\nexport const multipartFormRequestOptions = async (opts) => {\n    const form = await createForm(opts.body);\n    return getMultipartRequestOptions(form, opts);\n};\nexport const createForm = async (body) => {\n    const form = new FormData();\n    await Promise.all(Object.entries(body || {}).map(([key, value]) => addFormValue(form, key, value)));\n    return form;\n};\nconst hasUploadableValue = (value) => {\n    if (isUploadable(value))\n        return true;\n    if (Array.isArray(value))\n        return value.some(hasUploadableValue);\n    if (value && typeof value === 'object') {\n        for (const k in value) {\n            if (hasUploadableValue(value[k]))\n                return true;\n        }\n    }\n    return false;\n};\nconst addFormValue = async (form, key, value) => {\n    if (value === undefined)\n        return;\n    if (value == null) {\n        throw new TypeError(`Received null for \"${key}\"; to pass null in FormData, you must use the string 'null'`);\n    }\n    // TODO: make nested formats configurable\n    if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        form.append(key, String(value));\n    }\n    else if (isUploadable(value)) {\n        const file = await toFile(value);\n        form.append(key, file);\n    }\n    else if (Array.isArray(value)) {\n        await Promise.all(value.map((entry) => addFormValue(form, key + '[]', entry)));\n    }\n    else if (typeof value === 'object') {\n        await Promise.all(Object.entries(value).map(([name, prop]) => addFormValue(form, `${key}[${name}]`, prop)));\n    }\n    else {\n        throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${value} instead`);\n    }\n};\n//# sourceMappingURL=uploads.mjs.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AbstractPage_client;\nimport { VERSION } from \"./version.mjs\";\nimport { Stream } from \"./streaming.mjs\";\nimport { OpenAIError, APIError, APIConnectionError, APIConnectionTimeoutError, APIUserAbortError, } from \"./error.mjs\";\nimport { kind as shimsKind, getDefaultAgent, fetch, } from \"./_shims/index.mjs\";\nimport { isBlobLike, isMultipartBody } from \"./uploads.mjs\";\nexport { maybeMultipartFormRequestOptions, multipartFormRequestOptions, createForm, } from \"./uploads.mjs\";\nasync function defaultParseResponse(props) {\n    const { response } = props;\n    if (props.options.stream) {\n        debug('response', response.status, response.url, response.headers, response.body);\n        // Note: there is an invariant here that isn't represented in the type system\n        // that if you set `stream: true` the response type must also be `Stream<T>`\n        if (props.options.__streamClass) {\n            return props.options.__streamClass.fromSSEResponse(response, props.controller);\n        }\n        return Stream.fromSSEResponse(response, props.controller);\n    }\n    // fetch refuses to read the body when the status code is 204.\n    if (response.status === 204) {\n        return null;\n    }\n    if (props.options.__binaryResponse) {\n        return response;\n    }\n    const contentType = response.headers.get('content-type');\n    const isJSON = contentType?.includes('application/json') || contentType?.includes('application/vnd.api+json');\n    if (isJSON) {\n        const json = await response.json();\n        debug('response', response.status, response.url, response.headers, json);\n        return _addRequestID(json, response);\n    }\n    const text = await response.text();\n    debug('response', response.status, response.url, response.headers, text);\n    // TODO handle blob, arraybuffer, other content types, etc.\n    return text;\n}\nfunction _addRequestID(value, response) {\n    if (!value || typeof value !== 'object' || Array.isArray(value)) {\n        return value;\n    }\n    return Object.defineProperty(value, '_request_id', {\n        value: response.headers.get('x-request-id'),\n        enumerable: false,\n    });\n}\n/**\n * A subclass of `Promise` providing additional helper methods\n * for interacting with the SDK.\n */\nexport class APIPromise extends Promise {\n    constructor(responsePromise, parseResponse = defaultParseResponse) {\n        super((resolve) => {\n            // this is maybe a bit weird but this has to be a no-op to not implicitly\n            // parse the response body; instead .then, .catch, .finally are overridden\n            // to parse the response\n            resolve(null);\n        });\n        this.responsePromise = responsePromise;\n        this.parseResponse = parseResponse;\n    }\n    _thenUnwrap(transform) {\n        return new APIPromise(this.responsePromise, async (props) => _addRequestID(transform(await this.parseResponse(props), props), props.response));\n    }\n    /**\n     * Gets the raw `Response` instance instead of parsing the response\n     * data.\n     *\n     * If you want to parse the response body but still get the `Response`\n     * instance, you can use {@link withResponse()}.\n     *\n     * 👋 Getting the wrong TypeScript type for `Response`?\n     * Try setting `\"moduleResolution\": \"NodeNext\"` if you can,\n     * or add one of these imports before your first `import … from 'openai'`:\n     * - `import 'openai/shims/node'` (if you're running on Node)\n     * - `import 'openai/shims/web'` (otherwise)\n     */\n    asResponse() {\n        return this.responsePromise.then((p) => p.response);\n    }\n    /**\n     * Gets the parsed response data, the raw `Response` instance and the ID of the request,\n     * returned via the X-Request-ID header which is useful for debugging requests and reporting\n     * issues to OpenAI.\n     *\n     * If you just want to get the raw `Response` instance without parsing it,\n     * you can use {@link asResponse()}.\n     *\n     *\n     * 👋 Getting the wrong TypeScript type for `Response`?\n     * Try setting `\"moduleResolution\": \"NodeNext\"` if you can,\n     * or add one of these imports before your first `import … from 'openai'`:\n     * - `import 'openai/shims/node'` (if you're running on Node)\n     * - `import 'openai/shims/web'` (otherwise)\n     */\n    async withResponse() {\n        const [data, response] = await Promise.all([this.parse(), this.asResponse()]);\n        return { data, response, request_id: response.headers.get('x-request-id') };\n    }\n    parse() {\n        if (!this.parsedPromise) {\n            this.parsedPromise = this.responsePromise.then(this.parseResponse);\n        }\n        return this.parsedPromise;\n    }\n    then(onfulfilled, onrejected) {\n        return this.parse().then(onfulfilled, onrejected);\n    }\n    catch(onrejected) {\n        return this.parse().catch(onrejected);\n    }\n    finally(onfinally) {\n        return this.parse().finally(onfinally);\n    }\n}\nexport class APIClient {\n    constructor({ baseURL, maxRetries = 2, timeout = 600000, // 10 minutes\n    httpAgent, fetch: overridenFetch, }) {\n        this.baseURL = baseURL;\n        this.maxRetries = validatePositiveInteger('maxRetries', maxRetries);\n        this.timeout = validatePositiveInteger('timeout', timeout);\n        this.httpAgent = httpAgent;\n        this.fetch = overridenFetch ?? fetch;\n    }\n    authHeaders(opts) {\n        return {};\n    }\n    /**\n     * Override this to add your own default headers, for example:\n     *\n     *  {\n     *    ...super.defaultHeaders(),\n     *    Authorization: 'Bearer 123',\n     *  }\n     */\n    defaultHeaders(opts) {\n        return {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            'User-Agent': this.getUserAgent(),\n            ...getPlatformHeaders(),\n            ...this.authHeaders(opts),\n        };\n    }\n    /**\n     * Override this to add your own headers validation:\n     */\n    validateHeaders(headers, customHeaders) { }\n    defaultIdempotencyKey() {\n        return `stainless-node-retry-${uuid4()}`;\n    }\n    get(path, opts) {\n        return this.methodRequest('get', path, opts);\n    }\n    post(path, opts) {\n        return this.methodRequest('post', path, opts);\n    }\n    patch(path, opts) {\n        return this.methodRequest('patch', path, opts);\n    }\n    put(path, opts) {\n        return this.methodRequest('put', path, opts);\n    }\n    delete(path, opts) {\n        return this.methodRequest('delete', path, opts);\n    }\n    methodRequest(method, path, opts) {\n        return this.request(Promise.resolve(opts).then(async (opts) => {\n            const body = opts && isBlobLike(opts?.body) ? new DataView(await opts.body.arrayBuffer())\n                : opts?.body instanceof DataView ? opts.body\n                    : opts?.body instanceof ArrayBuffer ? new DataView(opts.body)\n                        : opts && ArrayBuffer.isView(opts?.body) ? new DataView(opts.body.buffer)\n                            : opts?.body;\n            return { method, path, ...opts, body };\n        }));\n    }\n    getAPIList(path, Page, opts) {\n        return this.requestAPIList(Page, { method: 'get', path, ...opts });\n    }\n    calculateContentLength(body) {\n        if (typeof body === 'string') {\n            if (typeof Buffer !== 'undefined') {\n                return Buffer.byteLength(body, 'utf8').toString();\n            }\n            if (typeof TextEncoder !== 'undefined') {\n                const encoder = new TextEncoder();\n                const encoded = encoder.encode(body);\n                return encoded.length.toString();\n            }\n        }\n        else if (ArrayBuffer.isView(body)) {\n            return body.byteLength.toString();\n        }\n        return null;\n    }\n    buildRequest(options, { retryCount = 0 } = {}) {\n        const { method, path, query, headers: headers = {} } = options;\n        const body = ArrayBuffer.isView(options.body) || (options.__binaryRequest && typeof options.body === 'string') ?\n            options.body\n            : isMultipartBody(options.body) ? options.body.body\n                : options.body ? JSON.stringify(options.body, null, 2)\n                    : null;\n        const contentLength = this.calculateContentLength(body);\n        const url = this.buildURL(path, query);\n        if ('timeout' in options)\n            validatePositiveInteger('timeout', options.timeout);\n        const timeout = options.timeout ?? this.timeout;\n        const httpAgent = options.httpAgent ?? this.httpAgent ?? getDefaultAgent(url);\n        const minAgentTimeout = timeout + 1000;\n        if (typeof httpAgent?.options?.timeout === 'number' &&\n            minAgentTimeout > (httpAgent.options.timeout ?? 0)) {\n            // Allow any given request to bump our agent active socket timeout.\n            // This may seem strange, but leaking active sockets should be rare and not particularly problematic,\n            // and without mutating agent we would need to create more of them.\n            // This tradeoff optimizes for performance.\n            httpAgent.options.timeout = minAgentTimeout;\n        }\n        if (this.idempotencyHeader && method !== 'get') {\n            if (!options.idempotencyKey)\n                options.idempotencyKey = this.defaultIdempotencyKey();\n            headers[this.idempotencyHeader] = options.idempotencyKey;\n        }\n        const reqHeaders = this.buildHeaders({ options, headers, contentLength, retryCount });\n        const req = {\n            method,\n            ...(body && { body: body }),\n            headers: reqHeaders,\n            ...(httpAgent && { agent: httpAgent }),\n            // @ts-ignore node-fetch uses a custom AbortSignal type that is\n            // not compatible with standard web types\n            signal: options.signal ?? null,\n        };\n        return { req, url, timeout };\n    }\n    buildHeaders({ options, headers, contentLength, retryCount, }) {\n        const reqHeaders = {};\n        if (contentLength) {\n            reqHeaders['content-length'] = contentLength;\n        }\n        const defaultHeaders = this.defaultHeaders(options);\n        applyHeadersMut(reqHeaders, defaultHeaders);\n        applyHeadersMut(reqHeaders, headers);\n        // let builtin fetch set the Content-Type for multipart bodies\n        if (isMultipartBody(options.body) && shimsKind !== 'node') {\n            delete reqHeaders['content-type'];\n        }\n        // Don't set the retry count header if it was already set or removed through default headers or by the\n        // caller. We check `defaultHeaders` and `headers`, which can contain nulls, instead of `reqHeaders` to\n        // account for the removal case.\n        if (getHeader(defaultHeaders, 'x-stainless-retry-count') === undefined &&\n            getHeader(headers, 'x-stainless-retry-count') === undefined) {\n            reqHeaders['x-stainless-retry-count'] = String(retryCount);\n        }\n        this.validateHeaders(reqHeaders, headers);\n        return reqHeaders;\n    }\n    /**\n     * Used as a callback for mutating the given `FinalRequestOptions` object.\n     */\n    async prepareOptions(options) { }\n    /**\n     * Used as a callback for mutating the given `RequestInit` object.\n     *\n     * This is useful for cases where you want to add certain headers based off of\n     * the request properties, e.g. `method` or `url`.\n     */\n    async prepareRequest(request, { url, options }) { }\n    parseHeaders(headers) {\n        return (!headers ? {}\n            : Symbol.iterator in headers ?\n                Object.fromEntries(Array.from(headers).map((header) => [...header]))\n                : { ...headers });\n    }\n    makeStatusError(status, error, message, headers) {\n        return APIError.generate(status, error, message, headers);\n    }\n    request(options, remainingRetries = null) {\n        return new APIPromise(this.makeRequest(options, remainingRetries));\n    }\n    async makeRequest(optionsInput, retriesRemaining) {\n        const options = await optionsInput;\n        const maxRetries = options.maxRetries ?? this.maxRetries;\n        if (retriesRemaining == null) {\n            retriesRemaining = maxRetries;\n        }\n        await this.prepareOptions(options);\n        const { req, url, timeout } = this.buildRequest(options, { retryCount: maxRetries - retriesRemaining });\n        await this.prepareRequest(req, { url, options });\n        debug('request', url, options, req.headers);\n        if (options.signal?.aborted) {\n            throw new APIUserAbortError();\n        }\n        const controller = new AbortController();\n        const response = await this.fetchWithTimeout(url, req, timeout, controller).catch(castToError);\n        if (response instanceof Error) {\n            if (options.signal?.aborted) {\n                throw new APIUserAbortError();\n            }\n            if (retriesRemaining) {\n                return this.retryRequest(options, retriesRemaining);\n            }\n            if (response.name === 'AbortError') {\n                throw new APIConnectionTimeoutError();\n            }\n            throw new APIConnectionError({ cause: response });\n        }\n        const responseHeaders = createResponseHeaders(response.headers);\n        if (!response.ok) {\n            if (retriesRemaining && this.shouldRetry(response)) {\n                const retryMessage = `retrying, ${retriesRemaining} attempts remaining`;\n                debug(`response (error; ${retryMessage})`, response.status, url, responseHeaders);\n                return this.retryRequest(options, retriesRemaining, responseHeaders);\n            }\n            const errText = await response.text().catch((e) => castToError(e).message);\n            const errJSON = safeJSON(errText);\n            const errMessage = errJSON ? undefined : errText;\n            const retryMessage = retriesRemaining ? `(error; no more retries left)` : `(error; not retryable)`;\n            debug(`response (error; ${retryMessage})`, response.status, url, responseHeaders, errMessage);\n            const err = this.makeStatusError(response.status, errJSON, errMessage, responseHeaders);\n            throw err;\n        }\n        return { response, options, controller };\n    }\n    requestAPIList(Page, options) {\n        const request = this.makeRequest(options, null);\n        return new PagePromise(this, request, Page);\n    }\n    buildURL(path, query) {\n        const url = isAbsoluteURL(path) ?\n            new URL(path)\n            : new URL(this.baseURL + (this.baseURL.endsWith('/') && path.startsWith('/') ? path.slice(1) : path));\n        const defaultQuery = this.defaultQuery();\n        if (!isEmptyObj(defaultQuery)) {\n            query = { ...defaultQuery, ...query };\n        }\n        if (typeof query === 'object' && query && !Array.isArray(query)) {\n            url.search = this.stringifyQuery(query);\n        }\n        return url.toString();\n    }\n    stringifyQuery(query) {\n        return Object.entries(query)\n            .filter(([_, value]) => typeof value !== 'undefined')\n            .map(([key, value]) => {\n            if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n                return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n            }\n            if (value === null) {\n                return `${encodeURIComponent(key)}=`;\n            }\n            throw new OpenAIError(`Cannot stringify type ${typeof value}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`);\n        })\n            .join('&');\n    }\n    async fetchWithTimeout(url, init, ms, controller) {\n        const { signal, ...options } = init || {};\n        if (signal)\n            signal.addEventListener('abort', () => controller.abort());\n        const timeout = setTimeout(() => controller.abort(), ms);\n        return (this.getRequestClient()\n            // use undefined this binding; fetch errors if bound to something else in browser/cloudflare\n            .fetch.call(undefined, url, { signal: controller.signal, ...options })\n            .finally(() => {\n            clearTimeout(timeout);\n        }));\n    }\n    getRequestClient() {\n        return { fetch: this.fetch };\n    }\n    shouldRetry(response) {\n        // Note this is not a standard header.\n        const shouldRetryHeader = response.headers.get('x-should-retry');\n        // If the server explicitly says whether or not to retry, obey.\n        if (shouldRetryHeader === 'true')\n            return true;\n        if (shouldRetryHeader === 'false')\n            return false;\n        // Retry on request timeouts.\n        if (response.status === 408)\n            return true;\n        // Retry on lock timeouts.\n        if (response.status === 409)\n            return true;\n        // Retry on rate limits.\n        if (response.status === 429)\n            return true;\n        // Retry internal errors.\n        if (response.status >= 500)\n            return true;\n        return false;\n    }\n    async retryRequest(options, retriesRemaining, responseHeaders) {\n        let timeoutMillis;\n        // Note the `retry-after-ms` header may not be standard, but is a good idea and we'd like proactive support for it.\n        const retryAfterMillisHeader = responseHeaders?.['retry-after-ms'];\n        if (retryAfterMillisHeader) {\n            const timeoutMs = parseFloat(retryAfterMillisHeader);\n            if (!Number.isNaN(timeoutMs)) {\n                timeoutMillis = timeoutMs;\n            }\n        }\n        // About the Retry-After header: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Retry-After\n        const retryAfterHeader = responseHeaders?.['retry-after'];\n        if (retryAfterHeader && !timeoutMillis) {\n            const timeoutSeconds = parseFloat(retryAfterHeader);\n            if (!Number.isNaN(timeoutSeconds)) {\n                timeoutMillis = timeoutSeconds * 1000;\n            }\n            else {\n                timeoutMillis = Date.parse(retryAfterHeader) - Date.now();\n            }\n        }\n        // If the API asks us to wait a certain amount of time (and it's a reasonable amount),\n        // just do what it says, but otherwise calculate a default\n        if (!(timeoutMillis && 0 <= timeoutMillis && timeoutMillis < 60 * 1000)) {\n            const maxRetries = options.maxRetries ?? this.maxRetries;\n            timeoutMillis = this.calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries);\n        }\n        await sleep(timeoutMillis);\n        return this.makeRequest(options, retriesRemaining - 1);\n    }\n    calculateDefaultRetryTimeoutMillis(retriesRemaining, maxRetries) {\n        const initialRetryDelay = 0.5;\n        const maxRetryDelay = 8.0;\n        const numRetries = maxRetries - retriesRemaining;\n        // Apply exponential backoff, but not more than the max.\n        const sleepSeconds = Math.min(initialRetryDelay * Math.pow(2, numRetries), maxRetryDelay);\n        // Apply some jitter, take up to at most 25 percent of the retry time.\n        const jitter = 1 - Math.random() * 0.25;\n        return sleepSeconds * jitter * 1000;\n    }\n    getUserAgent() {\n        return `${this.constructor.name}/JS ${VERSION}`;\n    }\n}\nexport class AbstractPage {\n    constructor(client, response, body, options) {\n        _AbstractPage_client.set(this, void 0);\n        __classPrivateFieldSet(this, _AbstractPage_client, client, \"f\");\n        this.options = options;\n        this.response = response;\n        this.body = body;\n    }\n    hasNextPage() {\n        const items = this.getPaginatedItems();\n        if (!items.length)\n            return false;\n        return this.nextPageInfo() != null;\n    }\n    async getNextPage() {\n        const nextInfo = this.nextPageInfo();\n        if (!nextInfo) {\n            throw new OpenAIError('No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.');\n        }\n        const nextOptions = { ...this.options };\n        if ('params' in nextInfo && typeof nextOptions.query === 'object') {\n            nextOptions.query = { ...nextOptions.query, ...nextInfo.params };\n        }\n        else if ('url' in nextInfo) {\n            const params = [...Object.entries(nextOptions.query || {}), ...nextInfo.url.searchParams.entries()];\n            for (const [key, value] of params) {\n                nextInfo.url.searchParams.set(key, value);\n            }\n            nextOptions.query = undefined;\n            nextOptions.path = nextInfo.url.toString();\n        }\n        return await __classPrivateFieldGet(this, _AbstractPage_client, \"f\").requestAPIList(this.constructor, nextOptions);\n    }\n    async *iterPages() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        let page = this;\n        yield page;\n        while (page.hasNextPage()) {\n            page = await page.getNextPage();\n            yield page;\n        }\n    }\n    async *[(_AbstractPage_client = new WeakMap(), Symbol.asyncIterator)]() {\n        for await (const page of this.iterPages()) {\n            for (const item of page.getPaginatedItems()) {\n                yield item;\n            }\n        }\n    }\n}\n/**\n * This subclass of Promise will resolve to an instantiated Page once the request completes.\n *\n * It also implements AsyncIterable to allow auto-paginating iteration on an unawaited list call, eg:\n *\n *    for await (const item of client.items.list()) {\n *      console.log(item)\n *    }\n */\nexport class PagePromise extends APIPromise {\n    constructor(client, request, Page) {\n        super(request, async (props) => new Page(client, props.response, await defaultParseResponse(props), props.options));\n    }\n    /**\n     * Allow auto-paginating iteration on an unawaited list call, eg:\n     *\n     *    for await (const item of client.items.list()) {\n     *      console.log(item)\n     *    }\n     */\n    async *[Symbol.asyncIterator]() {\n        const page = await this;\n        for await (const item of page) {\n            yield item;\n        }\n    }\n}\nexport const createResponseHeaders = (headers) => {\n    return new Proxy(Object.fromEntries(\n    // @ts-ignore\n    headers.entries()), {\n        get(target, name) {\n            const key = name.toString();\n            return target[key.toLowerCase()] || target[key];\n        },\n    });\n};\n// This is required so that we can determine if a given object matches the RequestOptions\n// type at runtime. While this requires duplication, it is enforced by the TypeScript\n// compiler such that any missing / extraneous keys will cause an error.\nconst requestOptionsKeys = {\n    method: true,\n    path: true,\n    query: true,\n    body: true,\n    headers: true,\n    maxRetries: true,\n    stream: true,\n    timeout: true,\n    httpAgent: true,\n    signal: true,\n    idempotencyKey: true,\n    __binaryRequest: true,\n    __binaryResponse: true,\n    __streamClass: true,\n};\nexport const isRequestOptions = (obj) => {\n    return (typeof obj === 'object' &&\n        obj !== null &&\n        !isEmptyObj(obj) &&\n        Object.keys(obj).every((k) => hasOwn(requestOptionsKeys, k)));\n};\nconst getPlatformProperties = () => {\n    if (typeof Deno !== 'undefined' && Deno.build != null) {\n        return {\n            'X-Stainless-Lang': 'js',\n            'X-Stainless-Package-Version': VERSION,\n            'X-Stainless-OS': normalizePlatform(Deno.build.os),\n            'X-Stainless-Arch': normalizeArch(Deno.build.arch),\n            'X-Stainless-Runtime': 'deno',\n            'X-Stainless-Runtime-Version': typeof Deno.version === 'string' ? Deno.version : Deno.version?.deno ?? 'unknown',\n        };\n    }\n    if (typeof EdgeRuntime !== 'undefined') {\n        return {\n            'X-Stainless-Lang': 'js',\n            'X-Stainless-Package-Version': VERSION,\n            'X-Stainless-OS': 'Unknown',\n            'X-Stainless-Arch': `other:${EdgeRuntime}`,\n            'X-Stainless-Runtime': 'edge',\n            'X-Stainless-Runtime-Version': process.version,\n        };\n    }\n    // Check if Node.js\n    if (Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]') {\n        return {\n            'X-Stainless-Lang': 'js',\n            'X-Stainless-Package-Version': VERSION,\n            'X-Stainless-OS': normalizePlatform(process.platform),\n            'X-Stainless-Arch': normalizeArch(process.arch),\n            'X-Stainless-Runtime': 'node',\n            'X-Stainless-Runtime-Version': process.version,\n        };\n    }\n    const browserInfo = getBrowserInfo();\n    if (browserInfo) {\n        return {\n            'X-Stainless-Lang': 'js',\n            'X-Stainless-Package-Version': VERSION,\n            'X-Stainless-OS': 'Unknown',\n            'X-Stainless-Arch': 'unknown',\n            'X-Stainless-Runtime': `browser:${browserInfo.browser}`,\n            'X-Stainless-Runtime-Version': browserInfo.version,\n        };\n    }\n    // TODO add support for Cloudflare workers, etc.\n    return {\n        'X-Stainless-Lang': 'js',\n        'X-Stainless-Package-Version': VERSION,\n        'X-Stainless-OS': 'Unknown',\n        'X-Stainless-Arch': 'unknown',\n        'X-Stainless-Runtime': 'unknown',\n        'X-Stainless-Runtime-Version': 'unknown',\n    };\n};\n// Note: modified from https://github.com/JS-DevTools/host-environment/blob/b1ab79ecde37db5d6e163c050e54fe7d287d7c92/src/isomorphic.browser.ts\nfunction getBrowserInfo() {\n    if (typeof navigator === 'undefined' || !navigator) {\n        return null;\n    }\n    // NOTE: The order matters here!\n    const browserPatterns = [\n        { key: 'edge', pattern: /Edge(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'ie', pattern: /MSIE(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'ie', pattern: /Trident(?:.*rv\\:(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'chrome', pattern: /Chrome(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'firefox', pattern: /Firefox(?:\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?/ },\n        { key: 'safari', pattern: /(?:Version\\W+(\\d+)\\.(\\d+)(?:\\.(\\d+))?)?(?:\\W+Mobile\\S*)?\\W+Safari/ },\n    ];\n    // Find the FIRST matching browser\n    for (const { key, pattern } of browserPatterns) {\n        const match = pattern.exec(navigator.userAgent);\n        if (match) {\n            const major = match[1] || 0;\n            const minor = match[2] || 0;\n            const patch = match[3] || 0;\n            return { browser: key, version: `${major}.${minor}.${patch}` };\n        }\n    }\n    return null;\n}\nconst normalizeArch = (arch) => {\n    // Node docs:\n    // - https://nodejs.org/api/process.html#processarch\n    // Deno docs:\n    // - https://doc.deno.land/deno/stable/~/Deno.build\n    if (arch === 'x32')\n        return 'x32';\n    if (arch === 'x86_64' || arch === 'x64')\n        return 'x64';\n    if (arch === 'arm')\n        return 'arm';\n    if (arch === 'aarch64' || arch === 'arm64')\n        return 'arm64';\n    if (arch)\n        return `other:${arch}`;\n    return 'unknown';\n};\nconst normalizePlatform = (platform) => {\n    // Node platforms:\n    // - https://nodejs.org/api/process.html#processplatform\n    // Deno platforms:\n    // - https://doc.deno.land/deno/stable/~/Deno.build\n    // - https://github.com/denoland/deno/issues/14799\n    platform = platform.toLowerCase();\n    // NOTE: this iOS check is untested and may not work\n    // Node does not work natively on IOS, there is a fork at\n    // https://github.com/nodejs-mobile/nodejs-mobile\n    // however it is unknown at the time of writing how to detect if it is running\n    if (platform.includes('ios'))\n        return 'iOS';\n    if (platform === 'android')\n        return 'Android';\n    if (platform === 'darwin')\n        return 'MacOS';\n    if (platform === 'win32')\n        return 'Windows';\n    if (platform === 'freebsd')\n        return 'FreeBSD';\n    if (platform === 'openbsd')\n        return 'OpenBSD';\n    if (platform === 'linux')\n        return 'Linux';\n    if (platform)\n        return `Other:${platform}`;\n    return 'Unknown';\n};\nlet _platformHeaders;\nconst getPlatformHeaders = () => {\n    return (_platformHeaders ?? (_platformHeaders = getPlatformProperties()));\n};\nexport const safeJSON = (text) => {\n    try {\n        return JSON.parse(text);\n    }\n    catch (err) {\n        return undefined;\n    }\n};\n// https://stackoverflow.com/a/19709846\nconst startsWithSchemeRegexp = new RegExp('^(?:[a-z]+:)?//', 'i');\nconst isAbsoluteURL = (url) => {\n    return startsWithSchemeRegexp.test(url);\n};\nexport const sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\nconst validatePositiveInteger = (name, n) => {\n    if (typeof n !== 'number' || !Number.isInteger(n)) {\n        throw new OpenAIError(`${name} must be an integer`);\n    }\n    if (n < 0) {\n        throw new OpenAIError(`${name} must be a positive integer`);\n    }\n    return n;\n};\nexport const castToError = (err) => {\n    if (err instanceof Error)\n        return err;\n    if (typeof err === 'object' && err !== null) {\n        try {\n            return new Error(JSON.stringify(err));\n        }\n        catch { }\n    }\n    return new Error(err);\n};\nexport const ensurePresent = (value) => {\n    if (value == null)\n        throw new OpenAIError(`Expected a value to be given but received ${value} instead.`);\n    return value;\n};\n/**\n * Read an environment variable.\n *\n * Trims beginning and trailing whitespace.\n *\n * Will return undefined if the environment variable doesn't exist or cannot be accessed.\n */\nexport const readEnv = (env) => {\n    if (typeof process !== 'undefined') {\n        return process.env?.[env]?.trim() ?? undefined;\n    }\n    if (typeof Deno !== 'undefined') {\n        return Deno.env?.get?.(env)?.trim();\n    }\n    return undefined;\n};\nexport const coerceInteger = (value) => {\n    if (typeof value === 'number')\n        return Math.round(value);\n    if (typeof value === 'string')\n        return parseInt(value, 10);\n    throw new OpenAIError(`Could not coerce ${value} (type: ${typeof value}) into a number`);\n};\nexport const coerceFloat = (value) => {\n    if (typeof value === 'number')\n        return value;\n    if (typeof value === 'string')\n        return parseFloat(value);\n    throw new OpenAIError(`Could not coerce ${value} (type: ${typeof value}) into a number`);\n};\nexport const coerceBoolean = (value) => {\n    if (typeof value === 'boolean')\n        return value;\n    if (typeof value === 'string')\n        return value === 'true';\n    return Boolean(value);\n};\nexport const maybeCoerceInteger = (value) => {\n    if (value === undefined) {\n        return undefined;\n    }\n    return coerceInteger(value);\n};\nexport const maybeCoerceFloat = (value) => {\n    if (value === undefined) {\n        return undefined;\n    }\n    return coerceFloat(value);\n};\nexport const maybeCoerceBoolean = (value) => {\n    if (value === undefined) {\n        return undefined;\n    }\n    return coerceBoolean(value);\n};\n// https://stackoverflow.com/a/34491287\nexport function isEmptyObj(obj) {\n    if (!obj)\n        return true;\n    for (const _k in obj)\n        return false;\n    return true;\n}\n// https://eslint.org/docs/latest/rules/no-prototype-builtins\nexport function hasOwn(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n}\n/**\n * Copies headers from \"newHeaders\" onto \"targetHeaders\",\n * using lower-case for all properties,\n * ignoring any keys with undefined values,\n * and deleting any keys with null values.\n */\nfunction applyHeadersMut(targetHeaders, newHeaders) {\n    for (const k in newHeaders) {\n        if (!hasOwn(newHeaders, k))\n            continue;\n        const lowerKey = k.toLowerCase();\n        if (!lowerKey)\n            continue;\n        const val = newHeaders[k];\n        if (val === null) {\n            delete targetHeaders[lowerKey];\n        }\n        else if (val !== undefined) {\n            targetHeaders[lowerKey] = val;\n        }\n    }\n}\nexport function debug(action, ...args) {\n    if (typeof process !== 'undefined' && process?.env?.['DEBUG'] === 'true') {\n        console.log(`OpenAI:DEBUG:${action}`, ...args);\n    }\n}\n/**\n * https://stackoverflow.com/a/2117523\n */\nconst uuid4 = () => {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n        const r = (Math.random() * 16) | 0;\n        const v = c === 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n};\nexport const isRunningInBrowser = () => {\n    return (\n    // @ts-ignore\n    typeof window !== 'undefined' &&\n        // @ts-ignore\n        typeof window.document !== 'undefined' &&\n        // @ts-ignore\n        typeof navigator !== 'undefined');\n};\nexport const isHeadersProtocol = (headers) => {\n    return typeof headers?.get === 'function';\n};\nexport const getRequiredHeader = (headers, header) => {\n    const foundHeader = getHeader(headers, header);\n    if (foundHeader === undefined) {\n        throw new Error(`Could not find ${header} header`);\n    }\n    return foundHeader;\n};\nexport const getHeader = (headers, header) => {\n    const lowerCasedHeader = header.toLowerCase();\n    if (isHeadersProtocol(headers)) {\n        // to deal with the case where the header looks like Stainless-Event-Id\n        const intercapsHeader = header[0]?.toUpperCase() +\n            header.substring(1).replace(/([^\\w])(\\w)/g, (_m, g1, g2) => g1 + g2.toUpperCase());\n        for (const key of [header, lowerCasedHeader, header.toUpperCase(), intercapsHeader]) {\n            const value = headers.get(key);\n            if (value) {\n                return value;\n            }\n        }\n    }\n    for (const [key, value] of Object.entries(headers)) {\n        if (key.toLowerCase() === lowerCasedHeader) {\n            if (Array.isArray(value)) {\n                if (value.length <= 1)\n                    return value[0];\n                console.warn(`Received ${value.length} entries for the ${header} header, using the first entry.`);\n                return value[0];\n            }\n            return value;\n        }\n    }\n    return undefined;\n};\n/**\n * Encodes a string to Base64 format.\n */\nexport const toBase64 = (str) => {\n    if (!str)\n        return '';\n    if (typeof Buffer !== 'undefined') {\n        return Buffer.from(str).toString('base64');\n    }\n    if (typeof btoa !== 'undefined') {\n        return btoa(str);\n    }\n    throw new OpenAIError('Cannot generate b64 string; Expected `Buffer` or `btoa` to be defined');\n};\nexport function isObj(obj) {\n    return obj != null && typeof obj === 'object' && !Array.isArray(obj);\n}\n//# sourceMappingURL=core.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nexport class APIResource {\n    constructor(client) {\n        this._client = client;\n    }\n}\n//# sourceMappingURL=resource.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../resource.mjs\";\nexport class Completions extends APIResource {\n    create(body, options) {\n        return this._client.post('/completions', { body, ...options, stream: body.stream ?? false });\n    }\n}\n//# sourceMappingURL=completions.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../resource.mjs\";\nexport class Completions extends APIResource {\n    create(body, options) {\n        return this._client.post('/chat/completions', { body, ...options, stream: body.stream ?? false });\n    }\n}\n//# sourceMappingURL=completions.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../resource.mjs\";\nimport * as CompletionsAPI from \"./completions.mjs\";\nimport { Completions, } from \"./completions.mjs\";\nexport class Chat extends APIResource {\n    constructor() {\n        super(...arguments);\n        this.completions = new CompletionsAPI.Completions(this._client);\n    }\n}\nChat.Completions = Completions;\n//# sourceMappingURL=chat.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../resource.mjs\";\nexport class Embeddings extends APIResource {\n    /**\n     * Creates an embedding vector representing the input text.\n     */\n    create(body, options) {\n        return this._client.post('/embeddings', { body, ...options });\n    }\n}\n//# sourceMappingURL=embeddings.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { AbstractPage } from \"./core.mjs\";\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */\nexport class Page extends AbstractPage {\n    constructor(client, response, body, options) {\n        super(client, response, body, options);\n        this.data = body.data || [];\n        this.object = body.object;\n    }\n    getPaginatedItems() {\n        return this.data ?? [];\n    }\n    // @deprecated Please use `nextPageInfo()` instead\n    /**\n     * This page represents a response that isn't actually paginated at the API level\n     * so there will never be any next page params.\n     */\n    nextPageParams() {\n        return null;\n    }\n    nextPageInfo() {\n        return null;\n    }\n}\nexport class CursorPage extends AbstractPage {\n    constructor(client, response, body, options) {\n        super(client, response, body, options);\n        this.data = body.data || [];\n    }\n    getPaginatedItems() {\n        return this.data ?? [];\n    }\n    // @deprecated Please use `nextPageInfo()` instead\n    nextPageParams() {\n        const info = this.nextPageInfo();\n        if (!info)\n            return null;\n        if ('params' in info)\n            return info.params;\n        const params = Object.fromEntries(info.url.searchParams);\n        if (!Object.keys(params).length)\n            return null;\n        return params;\n    }\n    nextPageInfo() {\n        const data = this.getPaginatedItems();\n        if (!data.length) {\n            return null;\n        }\n        const id = data[data.length - 1]?.id;\n        if (!id) {\n            return null;\n        }\n        return { params: { after: id } };\n    }\n}\n//# sourceMappingURL=pagination.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../resource.mjs\";\nimport { isRequestOptions } from \"../core.mjs\";\nimport { sleep } from \"../core.mjs\";\nimport { APIConnectionTimeoutError } from \"../error.mjs\";\nimport * as Core from \"../core.mjs\";\nimport { CursorPage } from \"../pagination.mjs\";\nexport class Files extends APIResource {\n    /**\n     * Upload a file that can be used across various endpoints. Individual files can be\n     * up to 512 MB, and the size of all files uploaded by one organization can be up\n     * to 100 GB.\n     *\n     * The Assistants API supports files up to 2 million tokens and of specific file\n     * types. See the\n     * [Assistants Tools guide](https://platform.openai.com/docs/assistants/tools) for\n     * details.\n     *\n     * The Fine-tuning API only supports `.jsonl` files. The input also has certain\n     * required formats for fine-tuning\n     * [chat](https://platform.openai.com/docs/api-reference/fine-tuning/chat-input) or\n     * [completions](https://platform.openai.com/docs/api-reference/fine-tuning/completions-input)\n     * models.\n     *\n     * The Batch API only supports `.jsonl` files up to 200 MB in size. The input also\n     * has a specific required\n     * [format](https://platform.openai.com/docs/api-reference/batch/request-input).\n     *\n     * Please [contact us](https://help.openai.com/) if you need to increase these\n     * storage limits.\n     */\n    create(body, options) {\n        return this._client.post('/files', Core.multipartFormRequestOptions({ body, ...options }));\n    }\n    /**\n     * Returns information about a specific file.\n     */\n    retrieve(fileId, options) {\n        return this._client.get(`/files/${fileId}`, options);\n    }\n    list(query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList('/files', FileObjectsPage, { query, ...options });\n    }\n    /**\n     * Delete a file.\n     */\n    del(fileId, options) {\n        return this._client.delete(`/files/${fileId}`, options);\n    }\n    /**\n     * Returns the contents of the specified file.\n     */\n    content(fileId, options) {\n        return this._client.get(`/files/${fileId}/content`, { ...options, __binaryResponse: true });\n    }\n    /**\n     * Returns the contents of the specified file.\n     *\n     * @deprecated The `.content()` method should be used instead\n     */\n    retrieveContent(fileId, options) {\n        return this._client.get(`/files/${fileId}/content`, {\n            ...options,\n            headers: { Accept: 'application/json', ...options?.headers },\n        });\n    }\n    /**\n     * Waits for the given file to be processed, default timeout is 30 mins.\n     */\n    async waitForProcessing(id, { pollInterval = 5000, maxWait = 30 * 60 * 1000 } = {}) {\n        const TERMINAL_STATES = new Set(['processed', 'error', 'deleted']);\n        const start = Date.now();\n        let file = await this.retrieve(id);\n        while (!file.status || !TERMINAL_STATES.has(file.status)) {\n            await sleep(pollInterval);\n            file = await this.retrieve(id);\n            if (Date.now() - start > maxWait) {\n                throw new APIConnectionTimeoutError({\n                    message: `Giving up on waiting for file ${id} to finish processing after ${maxWait} milliseconds.`,\n                });\n            }\n        }\n        return file;\n    }\n}\nexport class FileObjectsPage extends CursorPage {\n}\nFiles.FileObjectsPage = FileObjectsPage;\n//# sourceMappingURL=files.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../resource.mjs\";\nimport * as Core from \"../core.mjs\";\nexport class Images extends APIResource {\n    /**\n     * Creates a variation of a given image.\n     */\n    createVariation(body, options) {\n        return this._client.post('/images/variations', Core.multipartFormRequestOptions({ body, ...options }));\n    }\n    /**\n     * Creates an edited or extended image given an original image and a prompt.\n     */\n    edit(body, options) {\n        return this._client.post('/images/edits', Core.multipartFormRequestOptions({ body, ...options }));\n    }\n    /**\n     * Creates an image given a prompt.\n     */\n    generate(body, options) {\n        return this._client.post('/images/generations', { body, ...options });\n    }\n}\n//# sourceMappingURL=images.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../resource.mjs\";\nexport class Speech extends APIResource {\n    /**\n     * Generates audio from the input text.\n     */\n    create(body, options) {\n        return this._client.post('/audio/speech', { body, ...options, __binaryResponse: true });\n    }\n}\n//# sourceMappingURL=speech.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../resource.mjs\";\nimport * as Core from \"../../core.mjs\";\nexport class Transcriptions extends APIResource {\n    create(body, options) {\n        return this._client.post('/audio/transcriptions', Core.multipartFormRequestOptions({ body, ...options }));\n    }\n}\n//# sourceMappingURL=transcriptions.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../resource.mjs\";\nimport * as Core from \"../../core.mjs\";\nexport class Translations extends APIResource {\n    create(body, options) {\n        return this._client.post('/audio/translations', Core.multipartFormRequestOptions({ body, ...options }));\n    }\n}\n//# sourceMappingURL=translations.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../resource.mjs\";\nimport * as SpeechAPI from \"./speech.mjs\";\nimport { Speech } from \"./speech.mjs\";\nimport * as TranscriptionsAPI from \"./transcriptions.mjs\";\nimport { Transcriptions, } from \"./transcriptions.mjs\";\nimport * as TranslationsAPI from \"./translations.mjs\";\nimport { Translations, } from \"./translations.mjs\";\nexport class Audio extends APIResource {\n    constructor() {\n        super(...arguments);\n        this.transcriptions = new TranscriptionsAPI.Transcriptions(this._client);\n        this.translations = new TranslationsAPI.Translations(this._client);\n        this.speech = new SpeechAPI.Speech(this._client);\n    }\n}\nAudio.Transcriptions = Transcriptions;\nAudio.Translations = Translations;\nAudio.Speech = Speech;\n//# sourceMappingURL=audio.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../resource.mjs\";\nexport class Moderations extends APIResource {\n    /**\n     * Classifies if text and/or image inputs are potentially harmful. Learn more in\n     * the [moderation guide](https://platform.openai.com/docs/guides/moderation).\n     */\n    create(body, options) {\n        return this._client.post('/moderations', { body, ...options });\n    }\n}\n//# sourceMappingURL=moderations.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../resource.mjs\";\nimport { Page } from \"../pagination.mjs\";\nexport class Models extends APIResource {\n    /**\n     * Retrieves a model instance, providing basic information about the model such as\n     * the owner and permissioning.\n     */\n    retrieve(model, options) {\n        return this._client.get(`/models/${model}`, options);\n    }\n    /**\n     * Lists the currently available models, and provides basic information about each\n     * one such as the owner and availability.\n     */\n    list(options) {\n        return this._client.getAPIList('/models', ModelsPage, options);\n    }\n    /**\n     * Delete a fine-tuned model. You must have the Owner role in your organization to\n     * delete a model.\n     */\n    del(model, options) {\n        return this._client.delete(`/models/${model}`, options);\n    }\n}\n/**\n * Note: no pagination actually occurs yet, this is for forwards-compatibility.\n */\nexport class ModelsPage extends Page {\n}\nModels.ModelsPage = ModelsPage;\n//# sourceMappingURL=models.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../../resource.mjs\";\nimport { isRequestOptions } from \"../../../core.mjs\";\nimport { CursorPage } from \"../../../pagination.mjs\";\nexport class Checkpoints extends APIResource {\n    list(fineTuningJobId, query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.list(fineTuningJobId, {}, query);\n        }\n        return this._client.getAPIList(`/fine_tuning/jobs/${fineTuningJobId}/checkpoints`, FineTuningJobCheckpointsPage, { query, ...options });\n    }\n}\nexport class FineTuningJobCheckpointsPage extends CursorPage {\n}\nCheckpoints.FineTuningJobCheckpointsPage = FineTuningJobCheckpointsPage;\n//# sourceMappingURL=checkpoints.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../../resource.mjs\";\nimport { isRequestOptions } from \"../../../core.mjs\";\nimport * as CheckpointsAPI from \"./checkpoints.mjs\";\nimport { Checkpoints, FineTuningJobCheckpointsPage, } from \"./checkpoints.mjs\";\nimport { CursorPage } from \"../../../pagination.mjs\";\nexport class Jobs extends APIResource {\n    constructor() {\n        super(...arguments);\n        this.checkpoints = new CheckpointsAPI.Checkpoints(this._client);\n    }\n    /**\n     * Creates a fine-tuning job which begins the process of creating a new model from\n     * a given dataset.\n     *\n     * Response includes details of the enqueued job including job status and the name\n     * of the fine-tuned models once complete.\n     *\n     * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/fine-tuning)\n     */\n    create(body, options) {\n        return this._client.post('/fine_tuning/jobs', { body, ...options });\n    }\n    /**\n     * Get info about a fine-tuning job.\n     *\n     * [Learn more about fine-tuning](https://platform.openai.com/docs/guides/fine-tuning)\n     */\n    retrieve(fineTuningJobId, options) {\n        return this._client.get(`/fine_tuning/jobs/${fineTuningJobId}`, options);\n    }\n    list(query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList('/fine_tuning/jobs', FineTuningJobsPage, { query, ...options });\n    }\n    /**\n     * Immediately cancel a fine-tune job.\n     */\n    cancel(fineTuningJobId, options) {\n        return this._client.post(`/fine_tuning/jobs/${fineTuningJobId}/cancel`, options);\n    }\n    listEvents(fineTuningJobId, query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.listEvents(fineTuningJobId, {}, query);\n        }\n        return this._client.getAPIList(`/fine_tuning/jobs/${fineTuningJobId}/events`, FineTuningJobEventsPage, {\n            query,\n            ...options,\n        });\n    }\n}\nexport class FineTuningJobsPage extends CursorPage {\n}\nexport class FineTuningJobEventsPage extends CursorPage {\n}\nJobs.FineTuningJobsPage = FineTuningJobsPage;\nJobs.FineTuningJobEventsPage = FineTuningJobEventsPage;\nJobs.Checkpoints = Checkpoints;\nJobs.FineTuningJobCheckpointsPage = FineTuningJobCheckpointsPage;\n//# sourceMappingURL=jobs.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../resource.mjs\";\nimport * as JobsAPI from \"./jobs/jobs.mjs\";\nimport { FineTuningJobEventsPage, FineTuningJobsPage, Jobs, } from \"./jobs/jobs.mjs\";\nexport class FineTuning extends APIResource {\n    constructor() {\n        super(...arguments);\n        this.jobs = new JobsAPI.Jobs(this._client);\n    }\n}\nFineTuning.Jobs = Jobs;\nFineTuning.FineTuningJobsPage = FineTuningJobsPage;\nFineTuning.FineTuningJobEventsPage = FineTuningJobEventsPage;\n//# sourceMappingURL=fine-tuning.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../resource.mjs\";\nimport { isRequestOptions } from \"../../core.mjs\";\nimport { CursorPage } from \"../../pagination.mjs\";\nexport class Assistants extends APIResource {\n    /**\n     * Create an assistant with a model and instructions.\n     */\n    create(body, options) {\n        return this._client.post('/assistants', {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Retrieves an assistant.\n     */\n    retrieve(assistantId, options) {\n        return this._client.get(`/assistants/${assistantId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Modifies an assistant.\n     */\n    update(assistantId, body, options) {\n        return this._client.post(`/assistants/${assistantId}`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    list(query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList('/assistants', AssistantsPage, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Delete an assistant.\n     */\n    del(assistantId, options) {\n        return this._client.delete(`/assistants/${assistantId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n}\nexport class AssistantsPage extends CursorPage {\n}\nAssistants.AssistantsPage = AssistantsPage;\n//# sourceMappingURL=assistants.mjs.map","export function isRunnableFunctionWithParse(fn) {\n    return typeof fn.parse === 'function';\n}\n/**\n * This is helper class for passing a `function` and `parse` where the `function`\n * argument type matches the `parse` return type.\n *\n * @deprecated - please use ParsingToolFunction instead.\n */\nexport class ParsingFunction {\n    constructor(input) {\n        this.function = input.function;\n        this.parse = input.parse;\n        this.parameters = input.parameters;\n        this.description = input.description;\n        this.name = input.name;\n    }\n}\n/**\n * This is helper class for passing a `function` and `parse` where the `function`\n * argument type matches the `parse` return type.\n */\nexport class ParsingToolFunction {\n    constructor(input) {\n        this.type = 'function';\n        this.function = input;\n    }\n}\n//# sourceMappingURL=RunnableFunction.mjs.map","export const isAssistantMessage = (message) => {\n    return message?.role === 'assistant';\n};\nexport const isFunctionMessage = (message) => {\n    return message?.role === 'function';\n};\nexport const isToolMessage = (message) => {\n    return message?.role === 'tool';\n};\nexport function isPresent(obj) {\n    return obj != null;\n}\n//# sourceMappingURL=chatCompletionUtils.mjs.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _EventStream_instances, _EventStream_connectedPromise, _EventStream_resolveConnectedPromise, _EventStream_rejectConnectedPromise, _EventStream_endPromise, _EventStream_resolveEndPromise, _EventStream_rejectEndPromise, _EventStream_listeners, _EventStream_ended, _EventStream_errored, _EventStream_aborted, _EventStream_catchingPromiseCreated, _EventStream_handleError;\nimport { APIUserAbortError, OpenAIError } from \"../error.mjs\";\nexport class EventStream {\n    constructor() {\n        _EventStream_instances.add(this);\n        this.controller = new AbortController();\n        _EventStream_connectedPromise.set(this, void 0);\n        _EventStream_resolveConnectedPromise.set(this, () => { });\n        _EventStream_rejectConnectedPromise.set(this, () => { });\n        _EventStream_endPromise.set(this, void 0);\n        _EventStream_resolveEndPromise.set(this, () => { });\n        _EventStream_rejectEndPromise.set(this, () => { });\n        _EventStream_listeners.set(this, {});\n        _EventStream_ended.set(this, false);\n        _EventStream_errored.set(this, false);\n        _EventStream_aborted.set(this, false);\n        _EventStream_catchingPromiseCreated.set(this, false);\n        __classPrivateFieldSet(this, _EventStream_connectedPromise, new Promise((resolve, reject) => {\n            __classPrivateFieldSet(this, _EventStream_resolveConnectedPromise, resolve, \"f\");\n            __classPrivateFieldSet(this, _EventStream_rejectConnectedPromise, reject, \"f\");\n        }), \"f\");\n        __classPrivateFieldSet(this, _EventStream_endPromise, new Promise((resolve, reject) => {\n            __classPrivateFieldSet(this, _EventStream_resolveEndPromise, resolve, \"f\");\n            __classPrivateFieldSet(this, _EventStream_rejectEndPromise, reject, \"f\");\n        }), \"f\");\n        // Don't let these promises cause unhandled rejection errors.\n        // we will manually cause an unhandled rejection error later\n        // if the user hasn't registered any error listener or called\n        // any promise-returning method.\n        __classPrivateFieldGet(this, _EventStream_connectedPromise, \"f\").catch(() => { });\n        __classPrivateFieldGet(this, _EventStream_endPromise, \"f\").catch(() => { });\n    }\n    _run(executor) {\n        // Unfortunately if we call `executor()` immediately we get runtime errors about\n        // references to `this` before the `super()` constructor call returns.\n        setTimeout(() => {\n            executor().then(() => {\n                this._emitFinal();\n                this._emit('end');\n            }, __classPrivateFieldGet(this, _EventStream_instances, \"m\", _EventStream_handleError).bind(this));\n        }, 0);\n    }\n    _connected() {\n        if (this.ended)\n            return;\n        __classPrivateFieldGet(this, _EventStream_resolveConnectedPromise, \"f\").call(this);\n        this._emit('connect');\n    }\n    get ended() {\n        return __classPrivateFieldGet(this, _EventStream_ended, \"f\");\n    }\n    get errored() {\n        return __classPrivateFieldGet(this, _EventStream_errored, \"f\");\n    }\n    get aborted() {\n        return __classPrivateFieldGet(this, _EventStream_aborted, \"f\");\n    }\n    abort() {\n        this.controller.abort();\n    }\n    /**\n     * Adds the listener function to the end of the listeners array for the event.\n     * No checks are made to see if the listener has already been added. Multiple calls passing\n     * the same combination of event and listener will result in the listener being added, and\n     * called, multiple times.\n     * @returns this ChatCompletionStream, so that calls can be chained\n     */\n    on(event, listener) {\n        const listeners = __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] || (__classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] = []);\n        listeners.push({ listener });\n        return this;\n    }\n    /**\n     * Removes the specified listener from the listener array for the event.\n     * off() will remove, at most, one instance of a listener from the listener array. If any single\n     * listener has been added multiple times to the listener array for the specified event, then\n     * off() must be called multiple times to remove each instance.\n     * @returns this ChatCompletionStream, so that calls can be chained\n     */\n    off(event, listener) {\n        const listeners = __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event];\n        if (!listeners)\n            return this;\n        const index = listeners.findIndex((l) => l.listener === listener);\n        if (index >= 0)\n            listeners.splice(index, 1);\n        return this;\n    }\n    /**\n     * Adds a one-time listener function for the event. The next time the event is triggered,\n     * this listener is removed and then invoked.\n     * @returns this ChatCompletionStream, so that calls can be chained\n     */\n    once(event, listener) {\n        const listeners = __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] || (__classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] = []);\n        listeners.push({ listener, once: true });\n        return this;\n    }\n    /**\n     * This is similar to `.once()`, but returns a Promise that resolves the next time\n     * the event is triggered, instead of calling a listener callback.\n     * @returns a Promise that resolves the next time given event is triggered,\n     * or rejects if an error is emitted.  (If you request the 'error' event,\n     * returns a promise that resolves with the error).\n     *\n     * Example:\n     *\n     *   const message = await stream.emitted('message') // rejects if the stream errors\n     */\n    emitted(event) {\n        return new Promise((resolve, reject) => {\n            __classPrivateFieldSet(this, _EventStream_catchingPromiseCreated, true, \"f\");\n            if (event !== 'error')\n                this.once('error', reject);\n            this.once(event, resolve);\n        });\n    }\n    async done() {\n        __classPrivateFieldSet(this, _EventStream_catchingPromiseCreated, true, \"f\");\n        await __classPrivateFieldGet(this, _EventStream_endPromise, \"f\");\n    }\n    _emit(event, ...args) {\n        // make sure we don't emit any events after end\n        if (__classPrivateFieldGet(this, _EventStream_ended, \"f\")) {\n            return;\n        }\n        if (event === 'end') {\n            __classPrivateFieldSet(this, _EventStream_ended, true, \"f\");\n            __classPrivateFieldGet(this, _EventStream_resolveEndPromise, \"f\").call(this);\n        }\n        const listeners = __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event];\n        if (listeners) {\n            __classPrivateFieldGet(this, _EventStream_listeners, \"f\")[event] = listeners.filter((l) => !l.once);\n            listeners.forEach(({ listener }) => listener(...args));\n        }\n        if (event === 'abort') {\n            const error = args[0];\n            if (!__classPrivateFieldGet(this, _EventStream_catchingPromiseCreated, \"f\") && !listeners?.length) {\n                Promise.reject(error);\n            }\n            __classPrivateFieldGet(this, _EventStream_rejectConnectedPromise, \"f\").call(this, error);\n            __classPrivateFieldGet(this, _EventStream_rejectEndPromise, \"f\").call(this, error);\n            this._emit('end');\n            return;\n        }\n        if (event === 'error') {\n            // NOTE: _emit('error', error) should only be called from #handleError().\n            const error = args[0];\n            if (!__classPrivateFieldGet(this, _EventStream_catchingPromiseCreated, \"f\") && !listeners?.length) {\n                // Trigger an unhandled rejection if the user hasn't registered any error handlers.\n                // If you are seeing stack traces here, make sure to handle errors via either:\n                // - runner.on('error', () => ...)\n                // - await runner.done()\n                // - await runner.finalChatCompletion()\n                // - etc.\n                Promise.reject(error);\n            }\n            __classPrivateFieldGet(this, _EventStream_rejectConnectedPromise, \"f\").call(this, error);\n            __classPrivateFieldGet(this, _EventStream_rejectEndPromise, \"f\").call(this, error);\n            this._emit('end');\n        }\n    }\n    _emitFinal() { }\n}\n_EventStream_connectedPromise = new WeakMap(), _EventStream_resolveConnectedPromise = new WeakMap(), _EventStream_rejectConnectedPromise = new WeakMap(), _EventStream_endPromise = new WeakMap(), _EventStream_resolveEndPromise = new WeakMap(), _EventStream_rejectEndPromise = new WeakMap(), _EventStream_listeners = new WeakMap(), _EventStream_ended = new WeakMap(), _EventStream_errored = new WeakMap(), _EventStream_aborted = new WeakMap(), _EventStream_catchingPromiseCreated = new WeakMap(), _EventStream_instances = new WeakSet(), _EventStream_handleError = function _EventStream_handleError(error) {\n    __classPrivateFieldSet(this, _EventStream_errored, true, \"f\");\n    if (error instanceof Error && error.name === 'AbortError') {\n        error = new APIUserAbortError();\n    }\n    if (error instanceof APIUserAbortError) {\n        __classPrivateFieldSet(this, _EventStream_aborted, true, \"f\");\n        return this._emit('abort', error);\n    }\n    if (error instanceof OpenAIError) {\n        return this._emit('error', error);\n    }\n    if (error instanceof Error) {\n        const openAIError = new OpenAIError(error.message);\n        // @ts-ignore\n        openAIError.cause = error;\n        return this._emit('error', openAIError);\n    }\n    return this._emit('error', new OpenAIError(String(error)));\n};\n//# sourceMappingURL=EventStream.mjs.map","import { ContentFilterFinishReasonError, LengthFinishReasonError, OpenAIError } from \"../error.mjs\";\nexport function makeParseableResponseFormat(response_format, parser) {\n    const obj = { ...response_format };\n    Object.defineProperties(obj, {\n        $brand: {\n            value: 'auto-parseable-response-format',\n            enumerable: false,\n        },\n        $parseRaw: {\n            value: parser,\n            enumerable: false,\n        },\n    });\n    return obj;\n}\nexport function isAutoParsableResponseFormat(response_format) {\n    return response_format?.['$brand'] === 'auto-parseable-response-format';\n}\nexport function makeParseableTool(tool, { parser, callback, }) {\n    const obj = { ...tool };\n    Object.defineProperties(obj, {\n        $brand: {\n            value: 'auto-parseable-tool',\n            enumerable: false,\n        },\n        $parseRaw: {\n            value: parser,\n            enumerable: false,\n        },\n        $callback: {\n            value: callback,\n            enumerable: false,\n        },\n    });\n    return obj;\n}\nexport function isAutoParsableTool(tool) {\n    return tool?.['$brand'] === 'auto-parseable-tool';\n}\nexport function maybeParseChatCompletion(completion, params) {\n    if (!params || !hasAutoParseableInput(params)) {\n        return {\n            ...completion,\n            choices: completion.choices.map((choice) => ({\n                ...choice,\n                message: { ...choice.message, parsed: null, tool_calls: choice.message.tool_calls ?? [] },\n            })),\n        };\n    }\n    return parseChatCompletion(completion, params);\n}\nexport function parseChatCompletion(completion, params) {\n    const choices = completion.choices.map((choice) => {\n        if (choice.finish_reason === 'length') {\n            throw new LengthFinishReasonError();\n        }\n        if (choice.finish_reason === 'content_filter') {\n            throw new ContentFilterFinishReasonError();\n        }\n        return {\n            ...choice,\n            message: {\n                ...choice.message,\n                tool_calls: choice.message.tool_calls?.map((toolCall) => parseToolCall(params, toolCall)) ?? [],\n                parsed: choice.message.content && !choice.message.refusal ?\n                    parseResponseFormat(params, choice.message.content)\n                    : null,\n            },\n        };\n    });\n    return { ...completion, choices };\n}\nfunction parseResponseFormat(params, content) {\n    if (params.response_format?.type !== 'json_schema') {\n        return null;\n    }\n    if (params.response_format?.type === 'json_schema') {\n        if ('$parseRaw' in params.response_format) {\n            const response_format = params.response_format;\n            return response_format.$parseRaw(content);\n        }\n        return JSON.parse(content);\n    }\n    return null;\n}\nfunction parseToolCall(params, toolCall) {\n    const inputTool = params.tools?.find((inputTool) => inputTool.function?.name === toolCall.function.name);\n    return {\n        ...toolCall,\n        function: {\n            ...toolCall.function,\n            parsed_arguments: isAutoParsableTool(inputTool) ? inputTool.$parseRaw(toolCall.function.arguments)\n                : inputTool?.function.strict ? JSON.parse(toolCall.function.arguments)\n                    : null,\n        },\n    };\n}\nexport function shouldParseToolCall(params, toolCall) {\n    if (!params) {\n        return false;\n    }\n    const inputTool = params.tools?.find((inputTool) => inputTool.function?.name === toolCall.function.name);\n    return isAutoParsableTool(inputTool) || inputTool?.function.strict || false;\n}\nexport function hasAutoParseableInput(params) {\n    if (isAutoParsableResponseFormat(params.response_format)) {\n        return true;\n    }\n    return (params.tools?.some((t) => isAutoParsableTool(t) || (t.type === 'function' && t.function.strict === true)) ?? false);\n}\nexport function validateInputTools(tools) {\n    for (const tool of tools ?? []) {\n        if (tool.type !== 'function') {\n            throw new OpenAIError(`Currently only \\`function\\` tool types support auto-parsing; Received \\`${tool.type}\\``);\n        }\n        if (tool.function.strict !== true) {\n            throw new OpenAIError(`The \\`${tool.function.name}\\` tool is not marked with \\`strict: true\\`. Only strict function tools can be auto-parsed`);\n        }\n    }\n}\n//# sourceMappingURL=parser.mjs.map","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _AbstractChatCompletionRunner_instances, _AbstractChatCompletionRunner_getFinalContent, _AbstractChatCompletionRunner_getFinalMessage, _AbstractChatCompletionRunner_getFinalFunctionCall, _AbstractChatCompletionRunner_getFinalFunctionCallResult, _AbstractChatCompletionRunner_calculateTotalUsage, _AbstractChatCompletionRunner_validateParams, _AbstractChatCompletionRunner_stringifyFunctionCallResult;\nimport { OpenAIError } from \"../error.mjs\";\nimport { isRunnableFunctionWithParse, } from \"./RunnableFunction.mjs\";\nimport { isAssistantMessage, isFunctionMessage, isToolMessage } from \"./chatCompletionUtils.mjs\";\nimport { EventStream } from \"./EventStream.mjs\";\nimport { isAutoParsableTool, parseChatCompletion } from \"../lib/parser.mjs\";\nconst DEFAULT_MAX_CHAT_COMPLETIONS = 10;\nexport class AbstractChatCompletionRunner extends EventStream {\n    constructor() {\n        super(...arguments);\n        _AbstractChatCompletionRunner_instances.add(this);\n        this._chatCompletions = [];\n        this.messages = [];\n    }\n    _addChatCompletion(chatCompletion) {\n        this._chatCompletions.push(chatCompletion);\n        this._emit('chatCompletion', chatCompletion);\n        const message = chatCompletion.choices[0]?.message;\n        if (message)\n            this._addMessage(message);\n        return chatCompletion;\n    }\n    _addMessage(message, emit = true) {\n        if (!('content' in message))\n            message.content = null;\n        this.messages.push(message);\n        if (emit) {\n            this._emit('message', message);\n            if ((isFunctionMessage(message) || isToolMessage(message)) && message.content) {\n                // Note, this assumes that {role: 'tool', content: …} is always the result of a call of tool of type=function.\n                this._emit('functionCallResult', message.content);\n            }\n            else if (isAssistantMessage(message) && message.function_call) {\n                this._emit('functionCall', message.function_call);\n            }\n            else if (isAssistantMessage(message) && message.tool_calls) {\n                for (const tool_call of message.tool_calls) {\n                    if (tool_call.type === 'function') {\n                        this._emit('functionCall', tool_call.function);\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * @returns a promise that resolves with the final ChatCompletion, or rejects\n     * if an error occurred or the stream ended prematurely without producing a ChatCompletion.\n     */\n    async finalChatCompletion() {\n        await this.done();\n        const completion = this._chatCompletions[this._chatCompletions.length - 1];\n        if (!completion)\n            throw new OpenAIError('stream ended without producing a ChatCompletion');\n        return completion;\n    }\n    /**\n     * @returns a promise that resolves with the content of the final ChatCompletionMessage, or rejects\n     * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.\n     */\n    async finalContent() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalContent).call(this);\n    }\n    /**\n     * @returns a promise that resolves with the the final assistant ChatCompletionMessage response,\n     * or rejects if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.\n     */\n    async finalMessage() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalMessage).call(this);\n    }\n    /**\n     * @returns a promise that resolves with the content of the final FunctionCall, or rejects\n     * if an error occurred or the stream ended prematurely without producing a ChatCompletionMessage.\n     */\n    async finalFunctionCall() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCall).call(this);\n    }\n    async finalFunctionCallResult() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);\n    }\n    async totalUsage() {\n        await this.done();\n        return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_calculateTotalUsage).call(this);\n    }\n    allChatCompletions() {\n        return [...this._chatCompletions];\n    }\n    _emitFinal() {\n        const completion = this._chatCompletions[this._chatCompletions.length - 1];\n        if (completion)\n            this._emit('finalChatCompletion', completion);\n        const finalMessage = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalMessage).call(this);\n        if (finalMessage)\n            this._emit('finalMessage', finalMessage);\n        const finalContent = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalContent).call(this);\n        if (finalContent)\n            this._emit('finalContent', finalContent);\n        const finalFunctionCall = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCall).call(this);\n        if (finalFunctionCall)\n            this._emit('finalFunctionCall', finalFunctionCall);\n        const finalFunctionCallResult = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalFunctionCallResult).call(this);\n        if (finalFunctionCallResult != null)\n            this._emit('finalFunctionCallResult', finalFunctionCallResult);\n        if (this._chatCompletions.some((c) => c.usage)) {\n            this._emit('totalUsage', __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_calculateTotalUsage).call(this));\n        }\n    }\n    async _createChatCompletion(client, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_validateParams).call(this, params);\n        const chatCompletion = await client.chat.completions.create({ ...params, stream: false }, { ...options, signal: this.controller.signal });\n        this._connected();\n        return this._addChatCompletion(parseChatCompletion(chatCompletion, params));\n    }\n    async _runChatCompletion(client, params, options) {\n        for (const message of params.messages) {\n            this._addMessage(message, false);\n        }\n        return await this._createChatCompletion(client, params, options);\n    }\n    async _runFunctions(client, params, options) {\n        const role = 'function';\n        const { function_call = 'auto', stream, ...restParams } = params;\n        const singleFunctionToCall = typeof function_call !== 'string' && function_call?.name;\n        const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};\n        const functionsByName = {};\n        for (const f of params.functions) {\n            functionsByName[f.name || f.function.name] = f;\n        }\n        const functions = params.functions.map((f) => ({\n            name: f.name || f.function.name,\n            parameters: f.parameters,\n            description: f.description,\n        }));\n        for (const message of params.messages) {\n            this._addMessage(message, false);\n        }\n        for (let i = 0; i < maxChatCompletions; ++i) {\n            const chatCompletion = await this._createChatCompletion(client, {\n                ...restParams,\n                function_call,\n                functions,\n                messages: [...this.messages],\n            }, options);\n            const message = chatCompletion.choices[0]?.message;\n            if (!message) {\n                throw new OpenAIError(`missing message in ChatCompletion response`);\n            }\n            if (!message.function_call)\n                return;\n            const { name, arguments: args } = message.function_call;\n            const fn = functionsByName[name];\n            if (!fn) {\n                const content = `Invalid function_call: ${JSON.stringify(name)}. Available options are: ${functions\n                    .map((f) => JSON.stringify(f.name))\n                    .join(', ')}. Please try again`;\n                this._addMessage({ role, name, content });\n                continue;\n            }\n            else if (singleFunctionToCall && singleFunctionToCall !== name) {\n                const content = `Invalid function_call: ${JSON.stringify(name)}. ${JSON.stringify(singleFunctionToCall)} requested. Please try again`;\n                this._addMessage({ role, name, content });\n                continue;\n            }\n            let parsed;\n            try {\n                parsed = isRunnableFunctionWithParse(fn) ? await fn.parse(args) : args;\n            }\n            catch (error) {\n                this._addMessage({\n                    role,\n                    name,\n                    content: error instanceof Error ? error.message : String(error),\n                });\n                continue;\n            }\n            // @ts-expect-error it can't rule out `never` type.\n            const rawContent = await fn.function(parsed, this);\n            const content = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this, rawContent);\n            this._addMessage({ role, name, content });\n            if (singleFunctionToCall)\n                return;\n        }\n    }\n    async _runTools(client, params, options) {\n        const role = 'tool';\n        const { tool_choice = 'auto', stream, ...restParams } = params;\n        const singleFunctionToCall = typeof tool_choice !== 'string' && tool_choice?.function?.name;\n        const { maxChatCompletions = DEFAULT_MAX_CHAT_COMPLETIONS } = options || {};\n        // TODO(someday): clean this logic up\n        const inputTools = params.tools.map((tool) => {\n            if (isAutoParsableTool(tool)) {\n                if (!tool.$callback) {\n                    throw new OpenAIError('Tool given to `.runTools()` that does not have an associated function');\n                }\n                return {\n                    type: 'function',\n                    function: {\n                        function: tool.$callback,\n                        name: tool.function.name,\n                        description: tool.function.description || '',\n                        parameters: tool.function.parameters,\n                        parse: tool.$parseRaw,\n                        strict: true,\n                    },\n                };\n            }\n            return tool;\n        });\n        const functionsByName = {};\n        for (const f of inputTools) {\n            if (f.type === 'function') {\n                functionsByName[f.function.name || f.function.function.name] = f.function;\n            }\n        }\n        const tools = 'tools' in params ?\n            inputTools.map((t) => t.type === 'function' ?\n                {\n                    type: 'function',\n                    function: {\n                        name: t.function.name || t.function.function.name,\n                        parameters: t.function.parameters,\n                        description: t.function.description,\n                        strict: t.function.strict,\n                    },\n                }\n                : t)\n            : undefined;\n        for (const message of params.messages) {\n            this._addMessage(message, false);\n        }\n        for (let i = 0; i < maxChatCompletions; ++i) {\n            const chatCompletion = await this._createChatCompletion(client, {\n                ...restParams,\n                tool_choice,\n                tools,\n                messages: [...this.messages],\n            }, options);\n            const message = chatCompletion.choices[0]?.message;\n            if (!message) {\n                throw new OpenAIError(`missing message in ChatCompletion response`);\n            }\n            if (!message.tool_calls?.length) {\n                return;\n            }\n            for (const tool_call of message.tool_calls) {\n                if (tool_call.type !== 'function')\n                    continue;\n                const tool_call_id = tool_call.id;\n                const { name, arguments: args } = tool_call.function;\n                const fn = functionsByName[name];\n                if (!fn) {\n                    const content = `Invalid tool_call: ${JSON.stringify(name)}. Available options are: ${Object.keys(functionsByName)\n                        .map((name) => JSON.stringify(name))\n                        .join(', ')}. Please try again`;\n                    this._addMessage({ role, tool_call_id, content });\n                    continue;\n                }\n                else if (singleFunctionToCall && singleFunctionToCall !== name) {\n                    const content = `Invalid tool_call: ${JSON.stringify(name)}. ${JSON.stringify(singleFunctionToCall)} requested. Please try again`;\n                    this._addMessage({ role, tool_call_id, content });\n                    continue;\n                }\n                let parsed;\n                try {\n                    parsed = isRunnableFunctionWithParse(fn) ? await fn.parse(args) : args;\n                }\n                catch (error) {\n                    const content = error instanceof Error ? error.message : String(error);\n                    this._addMessage({ role, tool_call_id, content });\n                    continue;\n                }\n                // @ts-expect-error it can't rule out `never` type.\n                const rawContent = await fn.function(parsed, this);\n                const content = __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_stringifyFunctionCallResult).call(this, rawContent);\n                this._addMessage({ role, tool_call_id, content });\n                if (singleFunctionToCall) {\n                    return;\n                }\n            }\n        }\n        return;\n    }\n}\n_AbstractChatCompletionRunner_instances = new WeakSet(), _AbstractChatCompletionRunner_getFinalContent = function _AbstractChatCompletionRunner_getFinalContent() {\n    return __classPrivateFieldGet(this, _AbstractChatCompletionRunner_instances, \"m\", _AbstractChatCompletionRunner_getFinalMessage).call(this).content ?? null;\n}, _AbstractChatCompletionRunner_getFinalMessage = function _AbstractChatCompletionRunner_getFinalMessage() {\n    let i = this.messages.length;\n    while (i-- > 0) {\n        const message = this.messages[i];\n        if (isAssistantMessage(message)) {\n            const { function_call, ...rest } = message;\n            // TODO: support audio here\n            const ret = {\n                ...rest,\n                content: message.content ?? null,\n                refusal: message.refusal ?? null,\n            };\n            if (function_call) {\n                ret.function_call = function_call;\n            }\n            return ret;\n        }\n    }\n    throw new OpenAIError('stream ended without producing a ChatCompletionMessage with role=assistant');\n}, _AbstractChatCompletionRunner_getFinalFunctionCall = function _AbstractChatCompletionRunner_getFinalFunctionCall() {\n    for (let i = this.messages.length - 1; i >= 0; i--) {\n        const message = this.messages[i];\n        if (isAssistantMessage(message) && message?.function_call) {\n            return message.function_call;\n        }\n        if (isAssistantMessage(message) && message?.tool_calls?.length) {\n            return message.tool_calls.at(-1)?.function;\n        }\n    }\n    return;\n}, _AbstractChatCompletionRunner_getFinalFunctionCallResult = function _AbstractChatCompletionRunner_getFinalFunctionCallResult() {\n    for (let i = this.messages.length - 1; i >= 0; i--) {\n        const message = this.messages[i];\n        if (isFunctionMessage(message) && message.content != null) {\n            return message.content;\n        }\n        if (isToolMessage(message) &&\n            message.content != null &&\n            typeof message.content === 'string' &&\n            this.messages.some((x) => x.role === 'assistant' &&\n                x.tool_calls?.some((y) => y.type === 'function' && y.id === message.tool_call_id))) {\n            return message.content;\n        }\n    }\n    return;\n}, _AbstractChatCompletionRunner_calculateTotalUsage = function _AbstractChatCompletionRunner_calculateTotalUsage() {\n    const total = {\n        completion_tokens: 0,\n        prompt_tokens: 0,\n        total_tokens: 0,\n    };\n    for (const { usage } of this._chatCompletions) {\n        if (usage) {\n            total.completion_tokens += usage.completion_tokens;\n            total.prompt_tokens += usage.prompt_tokens;\n            total.total_tokens += usage.total_tokens;\n        }\n    }\n    return total;\n}, _AbstractChatCompletionRunner_validateParams = function _AbstractChatCompletionRunner_validateParams(params) {\n    if (params.n != null && params.n > 1) {\n        throw new OpenAIError('ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.');\n    }\n}, _AbstractChatCompletionRunner_stringifyFunctionCallResult = function _AbstractChatCompletionRunner_stringifyFunctionCallResult(rawContent) {\n    return (typeof rawContent === 'string' ? rawContent\n        : rawContent === undefined ? 'undefined'\n            : JSON.stringify(rawContent));\n};\n//# sourceMappingURL=AbstractChatCompletionRunner.mjs.map","import { AbstractChatCompletionRunner, } from \"./AbstractChatCompletionRunner.mjs\";\nimport { isAssistantMessage } from \"./chatCompletionUtils.mjs\";\nexport class ChatCompletionRunner extends AbstractChatCompletionRunner {\n    /** @deprecated - please use `runTools` instead. */\n    static runFunctions(client, params, options) {\n        const runner = new ChatCompletionRunner();\n        const opts = {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'runFunctions' },\n        };\n        runner._run(() => runner._runFunctions(client, params, opts));\n        return runner;\n    }\n    static runTools(client, params, options) {\n        const runner = new ChatCompletionRunner();\n        const opts = {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'runTools' },\n        };\n        runner._run(() => runner._runTools(client, params, opts));\n        return runner;\n    }\n    _addMessage(message, emit = true) {\n        super._addMessage(message, emit);\n        if (isAssistantMessage(message) && message.content) {\n            this._emit('content', message.content);\n        }\n    }\n}\n//# sourceMappingURL=ChatCompletionRunner.mjs.map","const STR = 0b000000001;\nconst NUM = 0b000000010;\nconst ARR = 0b000000100;\nconst OBJ = 0b000001000;\nconst NULL = 0b000010000;\nconst BOOL = 0b000100000;\nconst NAN = 0b001000000;\nconst INFINITY = 0b010000000;\nconst MINUS_INFINITY = 0b100000000;\nconst INF = INFINITY | MINUS_INFINITY;\nconst SPECIAL = NULL | BOOL | INF | NAN;\nconst ATOM = STR | NUM | SPECIAL;\nconst COLLECTION = ARR | OBJ;\nconst ALL = ATOM | COLLECTION;\nconst Allow = {\n    STR,\n    NUM,\n    ARR,\n    OBJ,\n    NULL,\n    BOOL,\n    NAN,\n    INFINITY,\n    MINUS_INFINITY,\n    INF,\n    SPECIAL,\n    ATOM,\n    COLLECTION,\n    ALL,\n};\n// The JSON string segment was unable to be parsed completely\nclass PartialJSON extends Error {\n}\nclass MalformedJSON extends Error {\n}\n/**\n * Parse incomplete JSON\n * @param {string} jsonString Partial JSON to be parsed\n * @param {number} allowPartial Specify what types are allowed to be partial, see {@link Allow} for details\n * @returns The parsed JSON\n * @throws {PartialJSON} If the JSON is incomplete (related to the `allow` parameter)\n * @throws {MalformedJSON} If the JSON is malformed\n */\nfunction parseJSON(jsonString, allowPartial = Allow.ALL) {\n    if (typeof jsonString !== 'string') {\n        throw new TypeError(`expecting str, got ${typeof jsonString}`);\n    }\n    if (!jsonString.trim()) {\n        throw new Error(`${jsonString} is empty`);\n    }\n    return _parseJSON(jsonString.trim(), allowPartial);\n}\nconst _parseJSON = (jsonString, allow) => {\n    const length = jsonString.length;\n    let index = 0;\n    const markPartialJSON = (msg) => {\n        throw new PartialJSON(`${msg} at position ${index}`);\n    };\n    const throwMalformedError = (msg) => {\n        throw new MalformedJSON(`${msg} at position ${index}`);\n    };\n    const parseAny = () => {\n        skipBlank();\n        if (index >= length)\n            markPartialJSON('Unexpected end of input');\n        if (jsonString[index] === '\"')\n            return parseStr();\n        if (jsonString[index] === '{')\n            return parseObj();\n        if (jsonString[index] === '[')\n            return parseArr();\n        if (jsonString.substring(index, index + 4) === 'null' ||\n            (Allow.NULL & allow && length - index < 4 && 'null'.startsWith(jsonString.substring(index)))) {\n            index += 4;\n            return null;\n        }\n        if (jsonString.substring(index, index + 4) === 'true' ||\n            (Allow.BOOL & allow && length - index < 4 && 'true'.startsWith(jsonString.substring(index)))) {\n            index += 4;\n            return true;\n        }\n        if (jsonString.substring(index, index + 5) === 'false' ||\n            (Allow.BOOL & allow && length - index < 5 && 'false'.startsWith(jsonString.substring(index)))) {\n            index += 5;\n            return false;\n        }\n        if (jsonString.substring(index, index + 8) === 'Infinity' ||\n            (Allow.INFINITY & allow && length - index < 8 && 'Infinity'.startsWith(jsonString.substring(index)))) {\n            index += 8;\n            return Infinity;\n        }\n        if (jsonString.substring(index, index + 9) === '-Infinity' ||\n            (Allow.MINUS_INFINITY & allow &&\n                1 < length - index &&\n                length - index < 9 &&\n                '-Infinity'.startsWith(jsonString.substring(index)))) {\n            index += 9;\n            return -Infinity;\n        }\n        if (jsonString.substring(index, index + 3) === 'NaN' ||\n            (Allow.NAN & allow && length - index < 3 && 'NaN'.startsWith(jsonString.substring(index)))) {\n            index += 3;\n            return NaN;\n        }\n        return parseNum();\n    };\n    const parseStr = () => {\n        const start = index;\n        let escape = false;\n        index++; // skip initial quote\n        while (index < length && (jsonString[index] !== '\"' || (escape && jsonString[index - 1] === '\\\\'))) {\n            escape = jsonString[index] === '\\\\' ? !escape : false;\n            index++;\n        }\n        if (jsonString.charAt(index) == '\"') {\n            try {\n                return JSON.parse(jsonString.substring(start, ++index - Number(escape)));\n            }\n            catch (e) {\n                throwMalformedError(String(e));\n            }\n        }\n        else if (Allow.STR & allow) {\n            try {\n                return JSON.parse(jsonString.substring(start, index - Number(escape)) + '\"');\n            }\n            catch (e) {\n                // SyntaxError: Invalid escape sequence\n                return JSON.parse(jsonString.substring(start, jsonString.lastIndexOf('\\\\')) + '\"');\n            }\n        }\n        markPartialJSON('Unterminated string literal');\n    };\n    const parseObj = () => {\n        index++; // skip initial brace\n        skipBlank();\n        const obj = {};\n        try {\n            while (jsonString[index] !== '}') {\n                skipBlank();\n                if (index >= length && Allow.OBJ & allow)\n                    return obj;\n                const key = parseStr();\n                skipBlank();\n                index++; // skip colon\n                try {\n                    const value = parseAny();\n                    Object.defineProperty(obj, key, { value, writable: true, enumerable: true, configurable: true });\n                }\n                catch (e) {\n                    if (Allow.OBJ & allow)\n                        return obj;\n                    else\n                        throw e;\n                }\n                skipBlank();\n                if (jsonString[index] === ',')\n                    index++; // skip comma\n            }\n        }\n        catch (e) {\n            if (Allow.OBJ & allow)\n                return obj;\n            else\n                markPartialJSON(\"Expected '}' at end of object\");\n        }\n        index++; // skip final brace\n        return obj;\n    };\n    const parseArr = () => {\n        index++; // skip initial bracket\n        const arr = [];\n        try {\n            while (jsonString[index] !== ']') {\n                arr.push(parseAny());\n                skipBlank();\n                if (jsonString[index] === ',') {\n                    index++; // skip comma\n                }\n            }\n        }\n        catch (e) {\n            if (Allow.ARR & allow) {\n                return arr;\n            }\n            markPartialJSON(\"Expected ']' at end of array\");\n        }\n        index++; // skip final bracket\n        return arr;\n    };\n    const parseNum = () => {\n        if (index === 0) {\n            if (jsonString === '-' && Allow.NUM & allow)\n                markPartialJSON(\"Not sure what '-' is\");\n            try {\n                return JSON.parse(jsonString);\n            }\n            catch (e) {\n                if (Allow.NUM & allow) {\n                    try {\n                        if ('.' === jsonString[jsonString.length - 1])\n                            return JSON.parse(jsonString.substring(0, jsonString.lastIndexOf('.')));\n                        return JSON.parse(jsonString.substring(0, jsonString.lastIndexOf('e')));\n                    }\n                    catch (e) { }\n                }\n                throwMalformedError(String(e));\n            }\n        }\n        const start = index;\n        if (jsonString[index] === '-')\n            index++;\n        while (jsonString[index] && !',]}'.includes(jsonString[index]))\n            index++;\n        if (index == length && !(Allow.NUM & allow))\n            markPartialJSON('Unterminated number literal');\n        try {\n            return JSON.parse(jsonString.substring(start, index));\n        }\n        catch (e) {\n            if (jsonString.substring(start, index) === '-' && Allow.NUM & allow)\n                markPartialJSON(\"Not sure what '-' is\");\n            try {\n                return JSON.parse(jsonString.substring(start, jsonString.lastIndexOf('e')));\n            }\n            catch (e) {\n                throwMalformedError(String(e));\n            }\n        }\n    };\n    const skipBlank = () => {\n        while (index < length && ' \\n\\r\\t'.includes(jsonString[index])) {\n            index++;\n        }\n    };\n    return parseAny();\n};\n// using this function with malformed JSON is undefined behavior\nconst partialParse = (input) => parseJSON(input, Allow.ALL ^ Allow.NUM);\nexport { partialParse, PartialJSON, MalformedJSON };\n//# sourceMappingURL=parser.mjs.map","var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _ChatCompletionStream_instances, _ChatCompletionStream_params, _ChatCompletionStream_choiceEventStates, _ChatCompletionStream_currentChatCompletionSnapshot, _ChatCompletionStream_beginRequest, _ChatCompletionStream_getChoiceEventState, _ChatCompletionStream_addChunk, _ChatCompletionStream_emitToolCallDoneEvent, _ChatCompletionStream_emitContentDoneEvents, _ChatCompletionStream_endRequest, _ChatCompletionStream_getAutoParseableResponseFormat, _ChatCompletionStream_accumulateChatCompletion;\nimport { OpenAIError, APIUserAbortError, LengthFinishReasonError, ContentFilterFinishReasonError, } from \"../error.mjs\";\nimport { AbstractChatCompletionRunner, } from \"./AbstractChatCompletionRunner.mjs\";\nimport { Stream } from \"../streaming.mjs\";\nimport { hasAutoParseableInput, isAutoParsableResponseFormat, isAutoParsableTool, maybeParseChatCompletion, shouldParseToolCall, } from \"../lib/parser.mjs\";\nimport { partialParse } from \"../_vendor/partial-json-parser/parser.mjs\";\nexport class ChatCompletionStream extends AbstractChatCompletionRunner {\n    constructor(params) {\n        super();\n        _ChatCompletionStream_instances.add(this);\n        _ChatCompletionStream_params.set(this, void 0);\n        _ChatCompletionStream_choiceEventStates.set(this, void 0);\n        _ChatCompletionStream_currentChatCompletionSnapshot.set(this, void 0);\n        __classPrivateFieldSet(this, _ChatCompletionStream_params, params, \"f\");\n        __classPrivateFieldSet(this, _ChatCompletionStream_choiceEventStates, [], \"f\");\n    }\n    get currentChatCompletionSnapshot() {\n        return __classPrivateFieldGet(this, _ChatCompletionStream_currentChatCompletionSnapshot, \"f\");\n    }\n    /**\n     * Intended for use on the frontend, consuming a stream produced with\n     * `.toReadableStream()` on the backend.\n     *\n     * Note that messages sent to the model do not appear in `.on('message')`\n     * in this context.\n     */\n    static fromReadableStream(stream) {\n        const runner = new ChatCompletionStream(null);\n        runner._run(() => runner._fromReadableStream(stream));\n        return runner;\n    }\n    static createChatCompletion(client, params, options) {\n        const runner = new ChatCompletionStream(params);\n        runner._run(() => runner._runChatCompletion(client, { ...params, stream: true }, { ...options, headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'stream' } }));\n        return runner;\n    }\n    async _createChatCompletion(client, params, options) {\n        super._createChatCompletion;\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_beginRequest).call(this);\n        const stream = await client.chat.completions.create({ ...params, stream: true }, { ...options, signal: this.controller.signal });\n        this._connected();\n        for await (const chunk of stream) {\n            __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_addChunk).call(this, chunk);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new APIUserAbortError();\n        }\n        return this._addChatCompletion(__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_endRequest).call(this));\n    }\n    async _fromReadableStream(readableStream, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_beginRequest).call(this);\n        this._connected();\n        const stream = Stream.fromReadableStream(readableStream, this.controller);\n        let chatId;\n        for await (const chunk of stream) {\n            if (chatId && chatId !== chunk.id) {\n                // A new request has been made.\n                this._addChatCompletion(__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_endRequest).call(this));\n            }\n            __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_addChunk).call(this, chunk);\n            chatId = chunk.id;\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new APIUserAbortError();\n        }\n        return this._addChatCompletion(__classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_endRequest).call(this));\n    }\n    [(_ChatCompletionStream_params = new WeakMap(), _ChatCompletionStream_choiceEventStates = new WeakMap(), _ChatCompletionStream_currentChatCompletionSnapshot = new WeakMap(), _ChatCompletionStream_instances = new WeakSet(), _ChatCompletionStream_beginRequest = function _ChatCompletionStream_beginRequest() {\n        if (this.ended)\n            return;\n        __classPrivateFieldSet(this, _ChatCompletionStream_currentChatCompletionSnapshot, undefined, \"f\");\n    }, _ChatCompletionStream_getChoiceEventState = function _ChatCompletionStream_getChoiceEventState(choice) {\n        let state = __classPrivateFieldGet(this, _ChatCompletionStream_choiceEventStates, \"f\")[choice.index];\n        if (state) {\n            return state;\n        }\n        state = {\n            content_done: false,\n            refusal_done: false,\n            logprobs_content_done: false,\n            logprobs_refusal_done: false,\n            done_tool_calls: new Set(),\n            current_tool_call_index: null,\n        };\n        __classPrivateFieldGet(this, _ChatCompletionStream_choiceEventStates, \"f\")[choice.index] = state;\n        return state;\n    }, _ChatCompletionStream_addChunk = function _ChatCompletionStream_addChunk(chunk) {\n        if (this.ended)\n            return;\n        const completion = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_accumulateChatCompletion).call(this, chunk);\n        this._emit('chunk', chunk, completion);\n        for (const choice of chunk.choices) {\n            const choiceSnapshot = completion.choices[choice.index];\n            if (choice.delta.content != null &&\n                choiceSnapshot.message?.role === 'assistant' &&\n                choiceSnapshot.message?.content) {\n                this._emit('content', choice.delta.content, choiceSnapshot.message.content);\n                this._emit('content.delta', {\n                    delta: choice.delta.content,\n                    snapshot: choiceSnapshot.message.content,\n                    parsed: choiceSnapshot.message.parsed,\n                });\n            }\n            if (choice.delta.refusal != null &&\n                choiceSnapshot.message?.role === 'assistant' &&\n                choiceSnapshot.message?.refusal) {\n                this._emit('refusal.delta', {\n                    delta: choice.delta.refusal,\n                    snapshot: choiceSnapshot.message.refusal,\n                });\n            }\n            if (choice.logprobs?.content != null && choiceSnapshot.message?.role === 'assistant') {\n                this._emit('logprobs.content.delta', {\n                    content: choice.logprobs?.content,\n                    snapshot: choiceSnapshot.logprobs?.content ?? [],\n                });\n            }\n            if (choice.logprobs?.refusal != null && choiceSnapshot.message?.role === 'assistant') {\n                this._emit('logprobs.refusal.delta', {\n                    refusal: choice.logprobs?.refusal,\n                    snapshot: choiceSnapshot.logprobs?.refusal ?? [],\n                });\n            }\n            const state = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);\n            if (choiceSnapshot.finish_reason) {\n                __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitContentDoneEvents).call(this, choiceSnapshot);\n                if (state.current_tool_call_index != null) {\n                    __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitToolCallDoneEvent).call(this, choiceSnapshot, state.current_tool_call_index);\n                }\n            }\n            for (const toolCall of choice.delta.tool_calls ?? []) {\n                if (state.current_tool_call_index !== toolCall.index) {\n                    __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitContentDoneEvents).call(this, choiceSnapshot);\n                    // new tool call started, the previous one is done\n                    if (state.current_tool_call_index != null) {\n                        __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_emitToolCallDoneEvent).call(this, choiceSnapshot, state.current_tool_call_index);\n                    }\n                }\n                state.current_tool_call_index = toolCall.index;\n            }\n            for (const toolCallDelta of choice.delta.tool_calls ?? []) {\n                const toolCallSnapshot = choiceSnapshot.message.tool_calls?.[toolCallDelta.index];\n                if (!toolCallSnapshot?.type) {\n                    continue;\n                }\n                if (toolCallSnapshot?.type === 'function') {\n                    this._emit('tool_calls.function.arguments.delta', {\n                        name: toolCallSnapshot.function?.name,\n                        index: toolCallDelta.index,\n                        arguments: toolCallSnapshot.function.arguments,\n                        parsed_arguments: toolCallSnapshot.function.parsed_arguments,\n                        arguments_delta: toolCallDelta.function?.arguments ?? '',\n                    });\n                }\n                else {\n                    assertNever(toolCallSnapshot?.type);\n                }\n            }\n        }\n    }, _ChatCompletionStream_emitToolCallDoneEvent = function _ChatCompletionStream_emitToolCallDoneEvent(choiceSnapshot, toolCallIndex) {\n        const state = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);\n        if (state.done_tool_calls.has(toolCallIndex)) {\n            // we've already fired the done event\n            return;\n        }\n        const toolCallSnapshot = choiceSnapshot.message.tool_calls?.[toolCallIndex];\n        if (!toolCallSnapshot) {\n            throw new Error('no tool call snapshot');\n        }\n        if (!toolCallSnapshot.type) {\n            throw new Error('tool call snapshot missing `type`');\n        }\n        if (toolCallSnapshot.type === 'function') {\n            const inputTool = __classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\")?.tools?.find((tool) => tool.type === 'function' && tool.function.name === toolCallSnapshot.function.name);\n            this._emit('tool_calls.function.arguments.done', {\n                name: toolCallSnapshot.function.name,\n                index: toolCallIndex,\n                arguments: toolCallSnapshot.function.arguments,\n                parsed_arguments: isAutoParsableTool(inputTool) ? inputTool.$parseRaw(toolCallSnapshot.function.arguments)\n                    : inputTool?.function.strict ? JSON.parse(toolCallSnapshot.function.arguments)\n                        : null,\n            });\n        }\n        else {\n            assertNever(toolCallSnapshot.type);\n        }\n    }, _ChatCompletionStream_emitContentDoneEvents = function _ChatCompletionStream_emitContentDoneEvents(choiceSnapshot) {\n        const state = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getChoiceEventState).call(this, choiceSnapshot);\n        if (choiceSnapshot.message.content && !state.content_done) {\n            state.content_done = true;\n            const responseFormat = __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getAutoParseableResponseFormat).call(this);\n            this._emit('content.done', {\n                content: choiceSnapshot.message.content,\n                parsed: responseFormat ? responseFormat.$parseRaw(choiceSnapshot.message.content) : null,\n            });\n        }\n        if (choiceSnapshot.message.refusal && !state.refusal_done) {\n            state.refusal_done = true;\n            this._emit('refusal.done', { refusal: choiceSnapshot.message.refusal });\n        }\n        if (choiceSnapshot.logprobs?.content && !state.logprobs_content_done) {\n            state.logprobs_content_done = true;\n            this._emit('logprobs.content.done', { content: choiceSnapshot.logprobs.content });\n        }\n        if (choiceSnapshot.logprobs?.refusal && !state.logprobs_refusal_done) {\n            state.logprobs_refusal_done = true;\n            this._emit('logprobs.refusal.done', { refusal: choiceSnapshot.logprobs.refusal });\n        }\n    }, _ChatCompletionStream_endRequest = function _ChatCompletionStream_endRequest() {\n        if (this.ended) {\n            throw new OpenAIError(`stream has ended, this shouldn't happen`);\n        }\n        const snapshot = __classPrivateFieldGet(this, _ChatCompletionStream_currentChatCompletionSnapshot, \"f\");\n        if (!snapshot) {\n            throw new OpenAIError(`request ended without sending any chunks`);\n        }\n        __classPrivateFieldSet(this, _ChatCompletionStream_currentChatCompletionSnapshot, undefined, \"f\");\n        __classPrivateFieldSet(this, _ChatCompletionStream_choiceEventStates, [], \"f\");\n        return finalizeChatCompletion(snapshot, __classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\"));\n    }, _ChatCompletionStream_getAutoParseableResponseFormat = function _ChatCompletionStream_getAutoParseableResponseFormat() {\n        const responseFormat = __classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\")?.response_format;\n        if (isAutoParsableResponseFormat(responseFormat)) {\n            return responseFormat;\n        }\n        return null;\n    }, _ChatCompletionStream_accumulateChatCompletion = function _ChatCompletionStream_accumulateChatCompletion(chunk) {\n        var _a, _b, _c, _d;\n        let snapshot = __classPrivateFieldGet(this, _ChatCompletionStream_currentChatCompletionSnapshot, \"f\");\n        const { choices, ...rest } = chunk;\n        if (!snapshot) {\n            snapshot = __classPrivateFieldSet(this, _ChatCompletionStream_currentChatCompletionSnapshot, {\n                ...rest,\n                choices: [],\n            }, \"f\");\n        }\n        else {\n            Object.assign(snapshot, rest);\n        }\n        for (const { delta, finish_reason, index, logprobs = null, ...other } of chunk.choices) {\n            let choice = snapshot.choices[index];\n            if (!choice) {\n                choice = snapshot.choices[index] = { finish_reason, index, message: {}, logprobs, ...other };\n            }\n            if (logprobs) {\n                if (!choice.logprobs) {\n                    choice.logprobs = Object.assign({}, logprobs);\n                }\n                else {\n                    const { content, refusal, ...rest } = logprobs;\n                    assertIsEmpty(rest);\n                    Object.assign(choice.logprobs, rest);\n                    if (content) {\n                        (_a = choice.logprobs).content ?? (_a.content = []);\n                        choice.logprobs.content.push(...content);\n                    }\n                    if (refusal) {\n                        (_b = choice.logprobs).refusal ?? (_b.refusal = []);\n                        choice.logprobs.refusal.push(...refusal);\n                    }\n                }\n            }\n            if (finish_reason) {\n                choice.finish_reason = finish_reason;\n                if (__classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\") && hasAutoParseableInput(__classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\"))) {\n                    if (finish_reason === 'length') {\n                        throw new LengthFinishReasonError();\n                    }\n                    if (finish_reason === 'content_filter') {\n                        throw new ContentFilterFinishReasonError();\n                    }\n                }\n            }\n            Object.assign(choice, other);\n            if (!delta)\n                continue; // Shouldn't happen; just in case.\n            const { content, refusal, function_call, role, tool_calls, ...rest } = delta;\n            assertIsEmpty(rest);\n            Object.assign(choice.message, rest);\n            if (refusal) {\n                choice.message.refusal = (choice.message.refusal || '') + refusal;\n            }\n            if (role)\n                choice.message.role = role;\n            if (function_call) {\n                if (!choice.message.function_call) {\n                    choice.message.function_call = function_call;\n                }\n                else {\n                    if (function_call.name)\n                        choice.message.function_call.name = function_call.name;\n                    if (function_call.arguments) {\n                        (_c = choice.message.function_call).arguments ?? (_c.arguments = '');\n                        choice.message.function_call.arguments += function_call.arguments;\n                    }\n                }\n            }\n            if (content) {\n                choice.message.content = (choice.message.content || '') + content;\n                if (!choice.message.refusal && __classPrivateFieldGet(this, _ChatCompletionStream_instances, \"m\", _ChatCompletionStream_getAutoParseableResponseFormat).call(this)) {\n                    choice.message.parsed = partialParse(choice.message.content);\n                }\n            }\n            if (tool_calls) {\n                if (!choice.message.tool_calls)\n                    choice.message.tool_calls = [];\n                for (const { index, id, type, function: fn, ...rest } of tool_calls) {\n                    const tool_call = ((_d = choice.message.tool_calls)[index] ?? (_d[index] = {}));\n                    Object.assign(tool_call, rest);\n                    if (id)\n                        tool_call.id = id;\n                    if (type)\n                        tool_call.type = type;\n                    if (fn)\n                        tool_call.function ?? (tool_call.function = { name: fn.name ?? '', arguments: '' });\n                    if (fn?.name)\n                        tool_call.function.name = fn.name;\n                    if (fn?.arguments) {\n                        tool_call.function.arguments += fn.arguments;\n                        if (shouldParseToolCall(__classPrivateFieldGet(this, _ChatCompletionStream_params, \"f\"), tool_call)) {\n                            tool_call.function.parsed_arguments = partialParse(tool_call.function.arguments);\n                        }\n                    }\n                }\n            }\n        }\n        return snapshot;\n    }, Symbol.asyncIterator)]() {\n        const pushQueue = [];\n        const readQueue = [];\n        let done = false;\n        this.on('chunk', (chunk) => {\n            const reader = readQueue.shift();\n            if (reader) {\n                reader.resolve(chunk);\n            }\n            else {\n                pushQueue.push(chunk);\n            }\n        });\n        this.on('end', () => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.resolve(undefined);\n            }\n            readQueue.length = 0;\n        });\n        this.on('abort', (err) => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        this.on('error', (err) => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        return {\n            next: async () => {\n                if (!pushQueue.length) {\n                    if (done) {\n                        return { value: undefined, done: true };\n                    }\n                    return new Promise((resolve, reject) => readQueue.push({ resolve, reject })).then((chunk) => (chunk ? { value: chunk, done: false } : { value: undefined, done: true }));\n                }\n                const chunk = pushQueue.shift();\n                return { value: chunk, done: false };\n            },\n            return: async () => {\n                this.abort();\n                return { value: undefined, done: true };\n            },\n        };\n    }\n    toReadableStream() {\n        const stream = new Stream(this[Symbol.asyncIterator].bind(this), this.controller);\n        return stream.toReadableStream();\n    }\n}\nfunction finalizeChatCompletion(snapshot, params) {\n    const { id, choices, created, model, system_fingerprint, ...rest } = snapshot;\n    const completion = {\n        ...rest,\n        id,\n        choices: choices.map(({ message, finish_reason, index, logprobs, ...choiceRest }) => {\n            if (!finish_reason) {\n                throw new OpenAIError(`missing finish_reason for choice ${index}`);\n            }\n            const { content = null, function_call, tool_calls, ...messageRest } = message;\n            const role = message.role; // this is what we expect; in theory it could be different which would make our types a slight lie but would be fine.\n            if (!role) {\n                throw new OpenAIError(`missing role for choice ${index}`);\n            }\n            if (function_call) {\n                const { arguments: args, name } = function_call;\n                if (args == null) {\n                    throw new OpenAIError(`missing function_call.arguments for choice ${index}`);\n                }\n                if (!name) {\n                    throw new OpenAIError(`missing function_call.name for choice ${index}`);\n                }\n                return {\n                    ...choiceRest,\n                    message: {\n                        content,\n                        function_call: { arguments: args, name },\n                        role,\n                        refusal: message.refusal ?? null,\n                    },\n                    finish_reason,\n                    index,\n                    logprobs,\n                };\n            }\n            if (tool_calls) {\n                return {\n                    ...choiceRest,\n                    index,\n                    finish_reason,\n                    logprobs,\n                    message: {\n                        ...messageRest,\n                        role,\n                        content,\n                        refusal: message.refusal ?? null,\n                        tool_calls: tool_calls.map((tool_call, i) => {\n                            const { function: fn, type, id, ...toolRest } = tool_call;\n                            const { arguments: args, name, ...fnRest } = fn || {};\n                            if (id == null) {\n                                throw new OpenAIError(`missing choices[${index}].tool_calls[${i}].id\\n${str(snapshot)}`);\n                            }\n                            if (type == null) {\n                                throw new OpenAIError(`missing choices[${index}].tool_calls[${i}].type\\n${str(snapshot)}`);\n                            }\n                            if (name == null) {\n                                throw new OpenAIError(`missing choices[${index}].tool_calls[${i}].function.name\\n${str(snapshot)}`);\n                            }\n                            if (args == null) {\n                                throw new OpenAIError(`missing choices[${index}].tool_calls[${i}].function.arguments\\n${str(snapshot)}`);\n                            }\n                            return { ...toolRest, id, type, function: { ...fnRest, name, arguments: args } };\n                        }),\n                    },\n                };\n            }\n            return {\n                ...choiceRest,\n                message: { ...messageRest, content, role, refusal: message.refusal ?? null },\n                finish_reason,\n                index,\n                logprobs,\n            };\n        }),\n        created,\n        model,\n        object: 'chat.completion',\n        ...(system_fingerprint ? { system_fingerprint } : {}),\n    };\n    return maybeParseChatCompletion(completion, params);\n}\nfunction str(x) {\n    return JSON.stringify(x);\n}\n/**\n * Ensures the given argument is an empty object, useful for\n * asserting that all known properties on an object have been\n * destructured.\n */\nfunction assertIsEmpty(obj) {\n    return;\n}\nfunction assertNever(_x) { }\n//# sourceMappingURL=ChatCompletionStream.mjs.map","import { ChatCompletionStream } from \"./ChatCompletionStream.mjs\";\nexport class ChatCompletionStreamingRunner extends ChatCompletionStream {\n    static fromReadableStream(stream) {\n        const runner = new ChatCompletionStreamingRunner(null);\n        runner._run(() => runner._fromReadableStream(stream));\n        return runner;\n    }\n    /** @deprecated - please use `runTools` instead. */\n    static runFunctions(client, params, options) {\n        const runner = new ChatCompletionStreamingRunner(null);\n        const opts = {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'runFunctions' },\n        };\n        runner._run(() => runner._runFunctions(client, params, opts));\n        return runner;\n    }\n    static runTools(client, params, options) {\n        const runner = new ChatCompletionStreamingRunner(\n        // @ts-expect-error TODO these types are incompatible\n        params);\n        const opts = {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'runTools' },\n        };\n        runner._run(() => runner._runTools(client, params, opts));\n        return runner;\n    }\n}\n//# sourceMappingURL=ChatCompletionStreamingRunner.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../../resource.mjs\";\nimport { ChatCompletionRunner } from \"../../../lib/ChatCompletionRunner.mjs\";\nimport { ChatCompletionStreamingRunner, } from \"../../../lib/ChatCompletionStreamingRunner.mjs\";\nimport { ChatCompletionStream } from \"../../../lib/ChatCompletionStream.mjs\";\nimport { parseChatCompletion, validateInputTools } from \"../../../lib/parser.mjs\";\nexport { ChatCompletionStreamingRunner, } from \"../../../lib/ChatCompletionStreamingRunner.mjs\";\nexport { ParsingFunction, ParsingToolFunction, } from \"../../../lib/RunnableFunction.mjs\";\nexport { ChatCompletionStream } from \"../../../lib/ChatCompletionStream.mjs\";\nexport { ChatCompletionRunner, } from \"../../../lib/ChatCompletionRunner.mjs\";\nexport class Completions extends APIResource {\n    parse(body, options) {\n        validateInputTools(body.tools);\n        return this._client.chat.completions\n            .create(body, {\n            ...options,\n            headers: {\n                ...options?.headers,\n                'X-Stainless-Helper-Method': 'beta.chat.completions.parse',\n            },\n        })\n            ._thenUnwrap((completion) => parseChatCompletion(completion, body));\n    }\n    runFunctions(body, options) {\n        if (body.stream) {\n            return ChatCompletionStreamingRunner.runFunctions(this._client, body, options);\n        }\n        return ChatCompletionRunner.runFunctions(this._client, body, options);\n    }\n    runTools(body, options) {\n        if (body.stream) {\n            return ChatCompletionStreamingRunner.runTools(this._client, body, options);\n        }\n        return ChatCompletionRunner.runTools(this._client, body, options);\n    }\n    /**\n     * Creates a chat completion stream\n     */\n    stream(body, options) {\n        return ChatCompletionStream.createChatCompletion(this._client, body, options);\n    }\n}\n//# sourceMappingURL=completions.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../../resource.mjs\";\nimport * as CompletionsAPI from \"./completions.mjs\";\nexport class Chat extends APIResource {\n    constructor() {\n        super(...arguments);\n        this.completions = new CompletionsAPI.Completions(this._client);\n    }\n}\n(function (Chat) {\n    Chat.Completions = CompletionsAPI.Completions;\n})(Chat || (Chat = {}));\n//# sourceMappingURL=chat.mjs.map","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar _AssistantStream_instances, _AssistantStream_events, _AssistantStream_runStepSnapshots, _AssistantStream_messageSnapshots, _AssistantStream_messageSnapshot, _AssistantStream_finalRun, _AssistantStream_currentContentIndex, _AssistantStream_currentContent, _AssistantStream_currentToolCallIndex, _AssistantStream_currentToolCall, _AssistantStream_currentEvent, _AssistantStream_currentRunSnapshot, _AssistantStream_currentRunStepSnapshot, _AssistantStream_addEvent, _AssistantStream_endRequest, _AssistantStream_handleMessage, _AssistantStream_handleRunStep, _AssistantStream_handleEvent, _AssistantStream_accumulateRunStep, _AssistantStream_accumulateMessage, _AssistantStream_accumulateContent, _AssistantStream_handleRun;\nimport * as Core from \"../core.mjs\";\nimport { Stream } from \"../streaming.mjs\";\nimport { APIUserAbortError, OpenAIError } from \"../error.mjs\";\nimport { EventStream } from \"./EventStream.mjs\";\nexport class AssistantStream extends EventStream {\n    constructor() {\n        super(...arguments);\n        _AssistantStream_instances.add(this);\n        //Track all events in a single list for reference\n        _AssistantStream_events.set(this, []);\n        //Used to accumulate deltas\n        //We are accumulating many types so the value here is not strict\n        _AssistantStream_runStepSnapshots.set(this, {});\n        _AssistantStream_messageSnapshots.set(this, {});\n        _AssistantStream_messageSnapshot.set(this, void 0);\n        _AssistantStream_finalRun.set(this, void 0);\n        _AssistantStream_currentContentIndex.set(this, void 0);\n        _AssistantStream_currentContent.set(this, void 0);\n        _AssistantStream_currentToolCallIndex.set(this, void 0);\n        _AssistantStream_currentToolCall.set(this, void 0);\n        //For current snapshot methods\n        _AssistantStream_currentEvent.set(this, void 0);\n        _AssistantStream_currentRunSnapshot.set(this, void 0);\n        _AssistantStream_currentRunStepSnapshot.set(this, void 0);\n    }\n    [(_AssistantStream_events = new WeakMap(), _AssistantStream_runStepSnapshots = new WeakMap(), _AssistantStream_messageSnapshots = new WeakMap(), _AssistantStream_messageSnapshot = new WeakMap(), _AssistantStream_finalRun = new WeakMap(), _AssistantStream_currentContentIndex = new WeakMap(), _AssistantStream_currentContent = new WeakMap(), _AssistantStream_currentToolCallIndex = new WeakMap(), _AssistantStream_currentToolCall = new WeakMap(), _AssistantStream_currentEvent = new WeakMap(), _AssistantStream_currentRunSnapshot = new WeakMap(), _AssistantStream_currentRunStepSnapshot = new WeakMap(), _AssistantStream_instances = new WeakSet(), Symbol.asyncIterator)]() {\n        const pushQueue = [];\n        const readQueue = [];\n        let done = false;\n        //Catch all for passing along all events\n        this.on('event', (event) => {\n            const reader = readQueue.shift();\n            if (reader) {\n                reader.resolve(event);\n            }\n            else {\n                pushQueue.push(event);\n            }\n        });\n        this.on('end', () => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.resolve(undefined);\n            }\n            readQueue.length = 0;\n        });\n        this.on('abort', (err) => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        this.on('error', (err) => {\n            done = true;\n            for (const reader of readQueue) {\n                reader.reject(err);\n            }\n            readQueue.length = 0;\n        });\n        return {\n            next: async () => {\n                if (!pushQueue.length) {\n                    if (done) {\n                        return { value: undefined, done: true };\n                    }\n                    return new Promise((resolve, reject) => readQueue.push({ resolve, reject })).then((chunk) => (chunk ? { value: chunk, done: false } : { value: undefined, done: true }));\n                }\n                const chunk = pushQueue.shift();\n                return { value: chunk, done: false };\n            },\n            return: async () => {\n                this.abort();\n                return { value: undefined, done: true };\n            },\n        };\n    }\n    static fromReadableStream(stream) {\n        const runner = new AssistantStream();\n        runner._run(() => runner._fromReadableStream(stream));\n        return runner;\n    }\n    async _fromReadableStream(readableStream, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        this._connected();\n        const stream = Stream.fromReadableStream(readableStream, this.controller);\n        for await (const event of stream) {\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new APIUserAbortError();\n        }\n        return this._addRun(__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    toReadableStream() {\n        const stream = new Stream(this[Symbol.asyncIterator].bind(this), this.controller);\n        return stream.toReadableStream();\n    }\n    static createToolAssistantStream(threadId, runId, runs, params, options) {\n        const runner = new AssistantStream();\n        runner._run(() => runner._runToolAssistantStream(threadId, runId, runs, params, {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'stream' },\n        }));\n        return runner;\n    }\n    async _createToolAssistantStream(run, threadId, runId, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        const body = { ...params, stream: true };\n        const stream = await run.submitToolOutputs(threadId, runId, body, {\n            ...options,\n            signal: this.controller.signal,\n        });\n        this._connected();\n        for await (const event of stream) {\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new APIUserAbortError();\n        }\n        return this._addRun(__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    static createThreadAssistantStream(params, thread, options) {\n        const runner = new AssistantStream();\n        runner._run(() => runner._threadAssistantStream(params, thread, {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'stream' },\n        }));\n        return runner;\n    }\n    static createAssistantStream(threadId, runs, params, options) {\n        const runner = new AssistantStream();\n        runner._run(() => runner._runAssistantStream(threadId, runs, params, {\n            ...options,\n            headers: { ...options?.headers, 'X-Stainless-Helper-Method': 'stream' },\n        }));\n        return runner;\n    }\n    currentEvent() {\n        return __classPrivateFieldGet(this, _AssistantStream_currentEvent, \"f\");\n    }\n    currentRun() {\n        return __classPrivateFieldGet(this, _AssistantStream_currentRunSnapshot, \"f\");\n    }\n    currentMessageSnapshot() {\n        return __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\");\n    }\n    currentRunStepSnapshot() {\n        return __classPrivateFieldGet(this, _AssistantStream_currentRunStepSnapshot, \"f\");\n    }\n    async finalRunSteps() {\n        await this.done();\n        return Object.values(__classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\"));\n    }\n    async finalMessages() {\n        await this.done();\n        return Object.values(__classPrivateFieldGet(this, _AssistantStream_messageSnapshots, \"f\"));\n    }\n    async finalRun() {\n        await this.done();\n        if (!__classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\"))\n            throw Error('Final run was not received.');\n        return __classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\");\n    }\n    async _createThreadAssistantStream(thread, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        const body = { ...params, stream: true };\n        const stream = await thread.createAndRun(body, { ...options, signal: this.controller.signal });\n        this._connected();\n        for await (const event of stream) {\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new APIUserAbortError();\n        }\n        return this._addRun(__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    async _createAssistantStream(run, threadId, params, options) {\n        const signal = options?.signal;\n        if (signal) {\n            if (signal.aborted)\n                this.controller.abort();\n            signal.addEventListener('abort', () => this.controller.abort());\n        }\n        const body = { ...params, stream: true };\n        const stream = await run.create(threadId, body, { ...options, signal: this.controller.signal });\n        this._connected();\n        for await (const event of stream) {\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_addEvent).call(this, event);\n        }\n        if (stream.controller.signal?.aborted) {\n            throw new APIUserAbortError();\n        }\n        return this._addRun(__classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_endRequest).call(this));\n    }\n    static accumulateDelta(acc, delta) {\n        for (const [key, deltaValue] of Object.entries(delta)) {\n            if (!acc.hasOwnProperty(key)) {\n                acc[key] = deltaValue;\n                continue;\n            }\n            let accValue = acc[key];\n            if (accValue === null || accValue === undefined) {\n                acc[key] = deltaValue;\n                continue;\n            }\n            // We don't accumulate these special properties\n            if (key === 'index' || key === 'type') {\n                acc[key] = deltaValue;\n                continue;\n            }\n            // Type-specific accumulation logic\n            if (typeof accValue === 'string' && typeof deltaValue === 'string') {\n                accValue += deltaValue;\n            }\n            else if (typeof accValue === 'number' && typeof deltaValue === 'number') {\n                accValue += deltaValue;\n            }\n            else if (Core.isObj(accValue) && Core.isObj(deltaValue)) {\n                accValue = this.accumulateDelta(accValue, deltaValue);\n            }\n            else if (Array.isArray(accValue) && Array.isArray(deltaValue)) {\n                if (accValue.every((x) => typeof x === 'string' || typeof x === 'number')) {\n                    accValue.push(...deltaValue); // Use spread syntax for efficient addition\n                    continue;\n                }\n                for (const deltaEntry of deltaValue) {\n                    if (!Core.isObj(deltaEntry)) {\n                        throw new Error(`Expected array delta entry to be an object but got: ${deltaEntry}`);\n                    }\n                    const index = deltaEntry['index'];\n                    if (index == null) {\n                        console.error(deltaEntry);\n                        throw new Error('Expected array delta entry to have an `index` property');\n                    }\n                    if (typeof index !== 'number') {\n                        throw new Error(`Expected array delta entry \\`index\\` property to be a number but got ${index}`);\n                    }\n                    const accEntry = accValue[index];\n                    if (accEntry == null) {\n                        accValue.push(deltaEntry);\n                    }\n                    else {\n                        accValue[index] = this.accumulateDelta(accEntry, deltaEntry);\n                    }\n                }\n                continue;\n            }\n            else {\n                throw Error(`Unhandled record type: ${key}, deltaValue: ${deltaValue}, accValue: ${accValue}`);\n            }\n            acc[key] = accValue;\n        }\n        return acc;\n    }\n    _addRun(run) {\n        return run;\n    }\n    async _threadAssistantStream(params, thread, options) {\n        return await this._createThreadAssistantStream(thread, params, options);\n    }\n    async _runAssistantStream(threadId, runs, params, options) {\n        return await this._createAssistantStream(runs, threadId, params, options);\n    }\n    async _runToolAssistantStream(threadId, runId, runs, params, options) {\n        return await this._createToolAssistantStream(runs, threadId, runId, params, options);\n    }\n}\n_AssistantStream_addEvent = function _AssistantStream_addEvent(event) {\n    if (this.ended)\n        return;\n    __classPrivateFieldSet(this, _AssistantStream_currentEvent, event, \"f\");\n    __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleEvent).call(this, event);\n    switch (event.event) {\n        case 'thread.created':\n            //No action on this event.\n            break;\n        case 'thread.run.created':\n        case 'thread.run.queued':\n        case 'thread.run.in_progress':\n        case 'thread.run.requires_action':\n        case 'thread.run.completed':\n        case 'thread.run.failed':\n        case 'thread.run.cancelling':\n        case 'thread.run.cancelled':\n        case 'thread.run.expired':\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleRun).call(this, event);\n            break;\n        case 'thread.run.step.created':\n        case 'thread.run.step.in_progress':\n        case 'thread.run.step.delta':\n        case 'thread.run.step.completed':\n        case 'thread.run.step.failed':\n        case 'thread.run.step.cancelled':\n        case 'thread.run.step.expired':\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleRunStep).call(this, event);\n            break;\n        case 'thread.message.created':\n        case 'thread.message.in_progress':\n        case 'thread.message.delta':\n        case 'thread.message.completed':\n        case 'thread.message.incomplete':\n            __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_handleMessage).call(this, event);\n            break;\n        case 'error':\n            //This is included for completeness, but errors are processed in the SSE event processing so this should not occur\n            throw new Error('Encountered an error event in event processing - errors should be processed earlier');\n    }\n}, _AssistantStream_endRequest = function _AssistantStream_endRequest() {\n    if (this.ended) {\n        throw new OpenAIError(`stream has ended, this shouldn't happen`);\n    }\n    if (!__classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\"))\n        throw Error('Final run has not been received');\n    return __classPrivateFieldGet(this, _AssistantStream_finalRun, \"f\");\n}, _AssistantStream_handleMessage = function _AssistantStream_handleMessage(event) {\n    const [accumulatedMessage, newContent] = __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_accumulateMessage).call(this, event, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n    __classPrivateFieldSet(this, _AssistantStream_messageSnapshot, accumulatedMessage, \"f\");\n    __classPrivateFieldGet(this, _AssistantStream_messageSnapshots, \"f\")[accumulatedMessage.id] = accumulatedMessage;\n    for (const content of newContent) {\n        const snapshotContent = accumulatedMessage.content[content.index];\n        if (snapshotContent?.type == 'text') {\n            this._emit('textCreated', snapshotContent.text);\n        }\n    }\n    switch (event.event) {\n        case 'thread.message.created':\n            this._emit('messageCreated', event.data);\n            break;\n        case 'thread.message.in_progress':\n            break;\n        case 'thread.message.delta':\n            this._emit('messageDelta', event.data.delta, accumulatedMessage);\n            if (event.data.delta.content) {\n                for (const content of event.data.delta.content) {\n                    //If it is text delta, emit a text delta event\n                    if (content.type == 'text' && content.text) {\n                        let textDelta = content.text;\n                        let snapshot = accumulatedMessage.content[content.index];\n                        if (snapshot && snapshot.type == 'text') {\n                            this._emit('textDelta', textDelta, snapshot.text);\n                        }\n                        else {\n                            throw Error('The snapshot associated with this text delta is not text or missing');\n                        }\n                    }\n                    if (content.index != __classPrivateFieldGet(this, _AssistantStream_currentContentIndex, \"f\")) {\n                        //See if we have in progress content\n                        if (__classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\")) {\n                            switch (__classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\").type) {\n                                case 'text':\n                                    this._emit('textDone', __classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\").text, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                                    break;\n                                case 'image_file':\n                                    this._emit('imageFileDone', __classPrivateFieldGet(this, _AssistantStream_currentContent, \"f\").image_file, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                                    break;\n                            }\n                        }\n                        __classPrivateFieldSet(this, _AssistantStream_currentContentIndex, content.index, \"f\");\n                    }\n                    __classPrivateFieldSet(this, _AssistantStream_currentContent, accumulatedMessage.content[content.index], \"f\");\n                }\n            }\n            break;\n        case 'thread.message.completed':\n        case 'thread.message.incomplete':\n            //We emit the latest content we were working on on completion (including incomplete)\n            if (__classPrivateFieldGet(this, _AssistantStream_currentContentIndex, \"f\") !== undefined) {\n                const currentContent = event.data.content[__classPrivateFieldGet(this, _AssistantStream_currentContentIndex, \"f\")];\n                if (currentContent) {\n                    switch (currentContent.type) {\n                        case 'image_file':\n                            this._emit('imageFileDone', currentContent.image_file, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                            break;\n                        case 'text':\n                            this._emit('textDone', currentContent.text, __classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\"));\n                            break;\n                    }\n                }\n            }\n            if (__classPrivateFieldGet(this, _AssistantStream_messageSnapshot, \"f\")) {\n                this._emit('messageDone', event.data);\n            }\n            __classPrivateFieldSet(this, _AssistantStream_messageSnapshot, undefined, \"f\");\n    }\n}, _AssistantStream_handleRunStep = function _AssistantStream_handleRunStep(event) {\n    const accumulatedRunStep = __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_accumulateRunStep).call(this, event);\n    __classPrivateFieldSet(this, _AssistantStream_currentRunStepSnapshot, accumulatedRunStep, \"f\");\n    switch (event.event) {\n        case 'thread.run.step.created':\n            this._emit('runStepCreated', event.data);\n            break;\n        case 'thread.run.step.delta':\n            const delta = event.data.delta;\n            if (delta.step_details &&\n                delta.step_details.type == 'tool_calls' &&\n                delta.step_details.tool_calls &&\n                accumulatedRunStep.step_details.type == 'tool_calls') {\n                for (const toolCall of delta.step_details.tool_calls) {\n                    if (toolCall.index == __classPrivateFieldGet(this, _AssistantStream_currentToolCallIndex, \"f\")) {\n                        this._emit('toolCallDelta', toolCall, accumulatedRunStep.step_details.tool_calls[toolCall.index]);\n                    }\n                    else {\n                        if (__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\")) {\n                            this._emit('toolCallDone', __classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                        }\n                        __classPrivateFieldSet(this, _AssistantStream_currentToolCallIndex, toolCall.index, \"f\");\n                        __classPrivateFieldSet(this, _AssistantStream_currentToolCall, accumulatedRunStep.step_details.tool_calls[toolCall.index], \"f\");\n                        if (__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"))\n                            this._emit('toolCallCreated', __classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                    }\n                }\n            }\n            this._emit('runStepDelta', event.data.delta, accumulatedRunStep);\n            break;\n        case 'thread.run.step.completed':\n        case 'thread.run.step.failed':\n        case 'thread.run.step.cancelled':\n        case 'thread.run.step.expired':\n            __classPrivateFieldSet(this, _AssistantStream_currentRunStepSnapshot, undefined, \"f\");\n            const details = event.data.step_details;\n            if (details.type == 'tool_calls') {\n                if (__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\")) {\n                    this._emit('toolCallDone', __classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                    __classPrivateFieldSet(this, _AssistantStream_currentToolCall, undefined, \"f\");\n                }\n            }\n            this._emit('runStepDone', event.data, accumulatedRunStep);\n            break;\n        case 'thread.run.step.in_progress':\n            break;\n    }\n}, _AssistantStream_handleEvent = function _AssistantStream_handleEvent(event) {\n    __classPrivateFieldGet(this, _AssistantStream_events, \"f\").push(event);\n    this._emit('event', event);\n}, _AssistantStream_accumulateRunStep = function _AssistantStream_accumulateRunStep(event) {\n    switch (event.event) {\n        case 'thread.run.step.created':\n            __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id] = event.data;\n            return event.data;\n        case 'thread.run.step.delta':\n            let snapshot = __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id];\n            if (!snapshot) {\n                throw Error('Received a RunStepDelta before creation of a snapshot');\n            }\n            let data = event.data;\n            if (data.delta) {\n                const accumulated = AssistantStream.accumulateDelta(snapshot, data.delta);\n                __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id] = accumulated;\n            }\n            return __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id];\n        case 'thread.run.step.completed':\n        case 'thread.run.step.failed':\n        case 'thread.run.step.cancelled':\n        case 'thread.run.step.expired':\n        case 'thread.run.step.in_progress':\n            __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id] = event.data;\n            break;\n    }\n    if (__classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id])\n        return __classPrivateFieldGet(this, _AssistantStream_runStepSnapshots, \"f\")[event.data.id];\n    throw new Error('No snapshot available');\n}, _AssistantStream_accumulateMessage = function _AssistantStream_accumulateMessage(event, snapshot) {\n    let newContent = [];\n    switch (event.event) {\n        case 'thread.message.created':\n            //On creation the snapshot is just the initial message\n            return [event.data, newContent];\n        case 'thread.message.delta':\n            if (!snapshot) {\n                throw Error('Received a delta with no existing snapshot (there should be one from message creation)');\n            }\n            let data = event.data;\n            //If this delta does not have content, nothing to process\n            if (data.delta.content) {\n                for (const contentElement of data.delta.content) {\n                    if (contentElement.index in snapshot.content) {\n                        let currentContent = snapshot.content[contentElement.index];\n                        snapshot.content[contentElement.index] = __classPrivateFieldGet(this, _AssistantStream_instances, \"m\", _AssistantStream_accumulateContent).call(this, contentElement, currentContent);\n                    }\n                    else {\n                        snapshot.content[contentElement.index] = contentElement;\n                        // This is a new element\n                        newContent.push(contentElement);\n                    }\n                }\n            }\n            return [snapshot, newContent];\n        case 'thread.message.in_progress':\n        case 'thread.message.completed':\n        case 'thread.message.incomplete':\n            //No changes on other thread events\n            if (snapshot) {\n                return [snapshot, newContent];\n            }\n            else {\n                throw Error('Received thread message event with no existing snapshot');\n            }\n    }\n    throw Error('Tried to accumulate a non-message event');\n}, _AssistantStream_accumulateContent = function _AssistantStream_accumulateContent(contentElement, currentContent) {\n    return AssistantStream.accumulateDelta(currentContent, contentElement);\n}, _AssistantStream_handleRun = function _AssistantStream_handleRun(event) {\n    __classPrivateFieldSet(this, _AssistantStream_currentRunSnapshot, event.data, \"f\");\n    switch (event.event) {\n        case 'thread.run.created':\n            break;\n        case 'thread.run.queued':\n            break;\n        case 'thread.run.in_progress':\n            break;\n        case 'thread.run.requires_action':\n        case 'thread.run.cancelled':\n        case 'thread.run.failed':\n        case 'thread.run.completed':\n        case 'thread.run.expired':\n            __classPrivateFieldSet(this, _AssistantStream_finalRun, event.data, \"f\");\n            if (__classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\")) {\n                this._emit('toolCallDone', __classPrivateFieldGet(this, _AssistantStream_currentToolCall, \"f\"));\n                __classPrivateFieldSet(this, _AssistantStream_currentToolCall, undefined, \"f\");\n            }\n            break;\n        case 'thread.run.cancelling':\n            break;\n    }\n};\n//# sourceMappingURL=AssistantStream.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nvar _a;\nimport * as qs from \"./internal/qs/index.mjs\";\nimport * as Core from \"./core.mjs\";\nimport * as Errors from \"./error.mjs\";\nimport * as Pagination from \"./pagination.mjs\";\nimport * as Uploads from \"./uploads.mjs\";\nimport * as API from \"./resources/index.mjs\";\nimport { Batches, BatchesPage, } from \"./resources/batches.mjs\";\nimport { Completions, } from \"./resources/completions.mjs\";\nimport { Embeddings, } from \"./resources/embeddings.mjs\";\nimport { FileObjectsPage, Files, } from \"./resources/files.mjs\";\nimport { Images, } from \"./resources/images.mjs\";\nimport { Models, ModelsPage } from \"./resources/models.mjs\";\nimport { Moderations, } from \"./resources/moderations.mjs\";\nimport { Audio } from \"./resources/audio/audio.mjs\";\nimport { Beta } from \"./resources/beta/beta.mjs\";\nimport { Chat } from \"./resources/chat/chat.mjs\";\nimport { FineTuning } from \"./resources/fine-tuning/fine-tuning.mjs\";\nimport { Uploads as UploadsAPIUploads, } from \"./resources/uploads/uploads.mjs\";\n/**\n * API Client for interfacing with the OpenAI API.\n */\nexport class OpenAI extends Core.APIClient {\n    /**\n     * API Client for interfacing with the OpenAI API.\n     *\n     * @param {string | undefined} [opts.apiKey=process.env['OPENAI_API_KEY'] ?? undefined]\n     * @param {string | null | undefined} [opts.organization=process.env['OPENAI_ORG_ID'] ?? null]\n     * @param {string | null | undefined} [opts.project=process.env['OPENAI_PROJECT_ID'] ?? null]\n     * @param {string} [opts.baseURL=process.env['OPENAI_BASE_URL'] ?? https://api.openai.com/v1] - Override the default base URL for the API.\n     * @param {number} [opts.timeout=10 minutes] - The maximum amount of time (in milliseconds) the client will wait for a response before timing out.\n     * @param {number} [opts.httpAgent] - An HTTP agent used to manage HTTP(s) connections.\n     * @param {Core.Fetch} [opts.fetch] - Specify a custom `fetch` function implementation.\n     * @param {number} [opts.maxRetries=2] - The maximum number of times the client will retry a request.\n     * @param {Core.Headers} opts.defaultHeaders - Default headers to include with every request to the API.\n     * @param {Core.DefaultQuery} opts.defaultQuery - Default query parameters to include with every request to the API.\n     * @param {boolean} [opts.dangerouslyAllowBrowser=false] - By default, client-side use of this library is not allowed, as it risks exposing your secret API credentials to attackers.\n     */\n    constructor({ baseURL = Core.readEnv('OPENAI_BASE_URL'), apiKey = Core.readEnv('OPENAI_API_KEY'), organization = Core.readEnv('OPENAI_ORG_ID') ?? null, project = Core.readEnv('OPENAI_PROJECT_ID') ?? null, ...opts } = {}) {\n        if (apiKey === undefined) {\n            throw new Errors.OpenAIError(\"The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).\");\n        }\n        const options = {\n            apiKey,\n            organization,\n            project,\n            ...opts,\n            baseURL: baseURL || `https://api.openai.com/v1`,\n        };\n        if (!options.dangerouslyAllowBrowser && Core.isRunningInBrowser()) {\n            throw new Errors.OpenAIError(\"It looks like you're running in a browser-like environment.\\n\\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\\nIf you understand the risks and have appropriate mitigations in place,\\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\\n\\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\\n\\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\\n\");\n        }\n        super({\n            baseURL: options.baseURL,\n            timeout: options.timeout ?? 600000 /* 10 minutes */,\n            httpAgent: options.httpAgent,\n            maxRetries: options.maxRetries,\n            fetch: options.fetch,\n        });\n        this.completions = new API.Completions(this);\n        this.chat = new API.Chat(this);\n        this.embeddings = new API.Embeddings(this);\n        this.files = new API.Files(this);\n        this.images = new API.Images(this);\n        this.audio = new API.Audio(this);\n        this.moderations = new API.Moderations(this);\n        this.models = new API.Models(this);\n        this.fineTuning = new API.FineTuning(this);\n        this.beta = new API.Beta(this);\n        this.batches = new API.Batches(this);\n        this.uploads = new API.Uploads(this);\n        this._options = options;\n        this.apiKey = apiKey;\n        this.organization = organization;\n        this.project = project;\n    }\n    defaultQuery() {\n        return this._options.defaultQuery;\n    }\n    defaultHeaders(opts) {\n        return {\n            ...super.defaultHeaders(opts),\n            'OpenAI-Organization': this.organization,\n            'OpenAI-Project': this.project,\n            ...this._options.defaultHeaders,\n        };\n    }\n    authHeaders(opts) {\n        return { Authorization: `Bearer ${this.apiKey}` };\n    }\n    stringifyQuery(query) {\n        return qs.stringify(query, { arrayFormat: 'brackets' });\n    }\n}\n_a = OpenAI;\nOpenAI.OpenAI = _a;\nOpenAI.DEFAULT_TIMEOUT = 600000; // 10 minutes\nOpenAI.OpenAIError = Errors.OpenAIError;\nOpenAI.APIError = Errors.APIError;\nOpenAI.APIConnectionError = Errors.APIConnectionError;\nOpenAI.APIConnectionTimeoutError = Errors.APIConnectionTimeoutError;\nOpenAI.APIUserAbortError = Errors.APIUserAbortError;\nOpenAI.NotFoundError = Errors.NotFoundError;\nOpenAI.ConflictError = Errors.ConflictError;\nOpenAI.RateLimitError = Errors.RateLimitError;\nOpenAI.BadRequestError = Errors.BadRequestError;\nOpenAI.AuthenticationError = Errors.AuthenticationError;\nOpenAI.InternalServerError = Errors.InternalServerError;\nOpenAI.PermissionDeniedError = Errors.PermissionDeniedError;\nOpenAI.UnprocessableEntityError = Errors.UnprocessableEntityError;\nOpenAI.toFile = Uploads.toFile;\nOpenAI.fileFromPath = Uploads.fileFromPath;\nOpenAI.Completions = Completions;\nOpenAI.Chat = Chat;\nOpenAI.Embeddings = Embeddings;\nOpenAI.Files = Files;\nOpenAI.FileObjectsPage = FileObjectsPage;\nOpenAI.Images = Images;\nOpenAI.Audio = Audio;\nOpenAI.Moderations = Moderations;\nOpenAI.Models = Models;\nOpenAI.ModelsPage = ModelsPage;\nOpenAI.FineTuning = FineTuning;\nOpenAI.Beta = Beta;\nOpenAI.Batches = Batches;\nOpenAI.BatchesPage = BatchesPage;\nOpenAI.Uploads = UploadsAPIUploads;\n/** API Client for interfacing with the Azure OpenAI API. */\nexport class AzureOpenAI extends OpenAI {\n    /**\n     * API Client for interfacing with the Azure OpenAI API.\n     *\n     * @param {string | undefined} [opts.apiVersion=process.env['OPENAI_API_VERSION'] ?? undefined]\n     * @param {string | undefined} [opts.endpoint=process.env['AZURE_OPENAI_ENDPOINT'] ?? undefined] - Your Azure endpoint, including the resource, e.g. `https://example-resource.azure.openai.com/`\n     * @param {string | undefined} [opts.apiKey=process.env['AZURE_OPENAI_API_KEY'] ?? undefined]\n     * @param {string | undefined} opts.deployment - A model deployment, if given, sets the base client URL to include `/deployments/{deployment}`.\n     * @param {string | null | undefined} [opts.organization=process.env['OPENAI_ORG_ID'] ?? null]\n     * @param {string} [opts.baseURL=process.env['OPENAI_BASE_URL']] - Sets the base URL for the API, e.g. `https://example-resource.azure.openai.com/openai/`.\n     * @param {number} [opts.timeout=10 minutes] - The maximum amount of time (in milliseconds) the client will wait for a response before timing out.\n     * @param {number} [opts.httpAgent] - An HTTP agent used to manage HTTP(s) connections.\n     * @param {Core.Fetch} [opts.fetch] - Specify a custom `fetch` function implementation.\n     * @param {number} [opts.maxRetries=2] - The maximum number of times the client will retry a request.\n     * @param {Core.Headers} opts.defaultHeaders - Default headers to include with every request to the API.\n     * @param {Core.DefaultQuery} opts.defaultQuery - Default query parameters to include with every request to the API.\n     * @param {boolean} [opts.dangerouslyAllowBrowser=false] - By default, client-side use of this library is not allowed, as it risks exposing your secret API credentials to attackers.\n     */\n    constructor({ baseURL = Core.readEnv('OPENAI_BASE_URL'), apiKey = Core.readEnv('AZURE_OPENAI_API_KEY'), apiVersion = Core.readEnv('OPENAI_API_VERSION'), endpoint, deployment, azureADTokenProvider, dangerouslyAllowBrowser, ...opts } = {}) {\n        if (!apiVersion) {\n            throw new Errors.OpenAIError(\"The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).\");\n        }\n        if (typeof azureADTokenProvider === 'function') {\n            dangerouslyAllowBrowser = true;\n        }\n        if (!azureADTokenProvider && !apiKey) {\n            throw new Errors.OpenAIError('Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.');\n        }\n        if (azureADTokenProvider && apiKey) {\n            throw new Errors.OpenAIError('The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.');\n        }\n        // define a sentinel value to avoid any typing issues\n        apiKey ?? (apiKey = API_KEY_SENTINEL);\n        opts.defaultQuery = { ...opts.defaultQuery, 'api-version': apiVersion };\n        if (!baseURL) {\n            if (!endpoint) {\n                endpoint = process.env['AZURE_OPENAI_ENDPOINT'];\n            }\n            if (!endpoint) {\n                throw new Errors.OpenAIError('Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable');\n            }\n            baseURL = `${endpoint}/openai`;\n        }\n        else {\n            if (endpoint) {\n                throw new Errors.OpenAIError('baseURL and endpoint are mutually exclusive');\n            }\n        }\n        super({\n            apiKey,\n            baseURL,\n            ...opts,\n            ...(dangerouslyAllowBrowser !== undefined ? { dangerouslyAllowBrowser } : {}),\n        });\n        this.apiVersion = '';\n        this._azureADTokenProvider = azureADTokenProvider;\n        this.apiVersion = apiVersion;\n        this._deployment = deployment;\n    }\n    buildRequest(options) {\n        if (_deployments_endpoints.has(options.path) && options.method === 'post' && options.body !== undefined) {\n            if (!Core.isObj(options.body)) {\n                throw new Error('Expected request body to be an object');\n            }\n            const model = this._deployment || options.body['model'];\n            if (model !== undefined && !this.baseURL.includes('/deployments')) {\n                options.path = `/deployments/${model}${options.path}`;\n            }\n        }\n        return super.buildRequest(options);\n    }\n    async _getAzureADToken() {\n        if (typeof this._azureADTokenProvider === 'function') {\n            const token = await this._azureADTokenProvider();\n            if (!token || typeof token !== 'string') {\n                throw new Errors.OpenAIError(`Expected 'azureADTokenProvider' argument to return a string but it returned ${token}`);\n            }\n            return token;\n        }\n        return undefined;\n    }\n    authHeaders(opts) {\n        return {};\n    }\n    async prepareOptions(opts) {\n        /**\n         * The user should provide a bearer token provider if they want\n         * to use Azure AD authentication. The user shouldn't set the\n         * Authorization header manually because the header is overwritten\n         * with the Azure AD token if a bearer token provider is provided.\n         */\n        if (opts.headers?.['api-key']) {\n            return super.prepareOptions(opts);\n        }\n        const token = await this._getAzureADToken();\n        opts.headers ?? (opts.headers = {});\n        if (token) {\n            opts.headers['Authorization'] = `Bearer ${token}`;\n        }\n        else if (this.apiKey !== API_KEY_SENTINEL) {\n            opts.headers['api-key'] = this.apiKey;\n        }\n        else {\n            throw new Errors.OpenAIError('Unable to handle auth');\n        }\n        return super.prepareOptions(opts);\n    }\n}\nconst _deployments_endpoints = new Set([\n    '/completions',\n    '/chat/completions',\n    '/embeddings',\n    '/audio/transcriptions',\n    '/audio/translations',\n    '/audio/speech',\n    '/images/generations',\n]);\nconst API_KEY_SENTINEL = '<Missing Key>';\nexport { toFile, fileFromPath } from \"./uploads.mjs\";\nexport { OpenAIError, APIError, APIConnectionError, APIConnectionTimeoutError, APIUserAbortError, NotFoundError, ConflictError, RateLimitError, BadRequestError, AuthenticationError, InternalServerError, PermissionDeniedError, UnprocessableEntityError, } from \"./error.mjs\";\nexport default OpenAI;\n//# sourceMappingURL=index.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../../resource.mjs\";\nimport { isRequestOptions } from \"../../../core.mjs\";\nimport { CursorPage } from \"../../../pagination.mjs\";\nexport class Messages extends APIResource {\n    /**\n     * Create a message.\n     */\n    create(threadId, body, options) {\n        return this._client.post(`/threads/${threadId}/messages`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Retrieve a message.\n     */\n    retrieve(threadId, messageId, options) {\n        return this._client.get(`/threads/${threadId}/messages/${messageId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Modifies a message.\n     */\n    update(threadId, messageId, body, options) {\n        return this._client.post(`/threads/${threadId}/messages/${messageId}`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    list(threadId, query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.list(threadId, {}, query);\n        }\n        return this._client.getAPIList(`/threads/${threadId}/messages`, MessagesPage, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Deletes a message.\n     */\n    del(threadId, messageId, options) {\n        return this._client.delete(`/threads/${threadId}/messages/${messageId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n}\nexport class MessagesPage extends CursorPage {\n}\nMessages.MessagesPage = MessagesPage;\n//# sourceMappingURL=messages.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../../../resource.mjs\";\nimport { isRequestOptions } from \"../../../../core.mjs\";\nimport { CursorPage } from \"../../../../pagination.mjs\";\nexport class Steps extends APIResource {\n    retrieve(threadId, runId, stepId, query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.retrieve(threadId, runId, stepId, {}, query);\n        }\n        return this._client.get(`/threads/${threadId}/runs/${runId}/steps/${stepId}`, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    list(threadId, runId, query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.list(threadId, runId, {}, query);\n        }\n        return this._client.getAPIList(`/threads/${threadId}/runs/${runId}/steps`, RunStepsPage, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n}\nexport class RunStepsPage extends CursorPage {\n}\nSteps.RunStepsPage = RunStepsPage;\n//# sourceMappingURL=steps.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../../../resource.mjs\";\nimport { isRequestOptions } from \"../../../../core.mjs\";\nimport { AssistantStream } from \"../../../../lib/AssistantStream.mjs\";\nimport { sleep } from \"../../../../core.mjs\";\nimport * as StepsAPI from \"./steps.mjs\";\nimport { RunStepsPage, Steps, } from \"./steps.mjs\";\nimport { CursorPage } from \"../../../../pagination.mjs\";\nexport class Runs extends APIResource {\n    constructor() {\n        super(...arguments);\n        this.steps = new StepsAPI.Steps(this._client);\n    }\n    create(threadId, params, options) {\n        const { include, ...body } = params;\n        return this._client.post(`/threads/${threadId}/runs`, {\n            query: { include },\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n            stream: params.stream ?? false,\n        });\n    }\n    /**\n     * Retrieves a run.\n     */\n    retrieve(threadId, runId, options) {\n        return this._client.get(`/threads/${threadId}/runs/${runId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Modifies a run.\n     */\n    update(threadId, runId, body, options) {\n        return this._client.post(`/threads/${threadId}/runs/${runId}`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    list(threadId, query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.list(threadId, {}, query);\n        }\n        return this._client.getAPIList(`/threads/${threadId}/runs`, RunsPage, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Cancels a run that is `in_progress`.\n     */\n    cancel(threadId, runId, options) {\n        return this._client.post(`/threads/${threadId}/runs/${runId}/cancel`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * A helper to create a run an poll for a terminal state. More information on Run\n     * lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */\n    async createAndPoll(threadId, body, options) {\n        const run = await this.create(threadId, body, options);\n        return await this.poll(threadId, run.id, options);\n    }\n    /**\n     * Create a Run stream\n     *\n     * @deprecated use `stream` instead\n     */\n    createAndStream(threadId, body, options) {\n        return AssistantStream.createAssistantStream(threadId, this._client.beta.threads.runs, body, options);\n    }\n    /**\n     * A helper to poll a run status until it reaches a terminal state. More\n     * information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */\n    async poll(threadId, runId, options) {\n        const headers = { ...options?.headers, 'X-Stainless-Poll-Helper': 'true' };\n        if (options?.pollIntervalMs) {\n            headers['X-Stainless-Custom-Poll-Interval'] = options.pollIntervalMs.toString();\n        }\n        while (true) {\n            const { data: run, response } = await this.retrieve(threadId, runId, {\n                ...options,\n                headers: { ...options?.headers, ...headers },\n            }).withResponse();\n            switch (run.status) {\n                //If we are in any sort of intermediate state we poll\n                case 'queued':\n                case 'in_progress':\n                case 'cancelling':\n                    let sleepInterval = 5000;\n                    if (options?.pollIntervalMs) {\n                        sleepInterval = options.pollIntervalMs;\n                    }\n                    else {\n                        const headerInterval = response.headers.get('openai-poll-after-ms');\n                        if (headerInterval) {\n                            const headerIntervalMs = parseInt(headerInterval);\n                            if (!isNaN(headerIntervalMs)) {\n                                sleepInterval = headerIntervalMs;\n                            }\n                        }\n                    }\n                    await sleep(sleepInterval);\n                    break;\n                //We return the run in any terminal state.\n                case 'requires_action':\n                case 'incomplete':\n                case 'cancelled':\n                case 'completed':\n                case 'failed':\n                case 'expired':\n                    return run;\n            }\n        }\n    }\n    /**\n     * Create a Run stream\n     */\n    stream(threadId, body, options) {\n        return AssistantStream.createAssistantStream(threadId, this._client.beta.threads.runs, body, options);\n    }\n    submitToolOutputs(threadId, runId, body, options) {\n        return this._client.post(`/threads/${threadId}/runs/${runId}/submit_tool_outputs`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n            stream: body.stream ?? false,\n        });\n    }\n    /**\n     * A helper to submit a tool output to a run and poll for a terminal run state.\n     * More information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */\n    async submitToolOutputsAndPoll(threadId, runId, body, options) {\n        const run = await this.submitToolOutputs(threadId, runId, body, options);\n        return await this.poll(threadId, run.id, options);\n    }\n    /**\n     * Submit the tool outputs from a previous run and stream the run to a terminal\n     * state. More information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */\n    submitToolOutputsStream(threadId, runId, body, options) {\n        return AssistantStream.createToolAssistantStream(threadId, runId, this._client.beta.threads.runs, body, options);\n    }\n}\nexport class RunsPage extends CursorPage {\n}\nRuns.RunsPage = RunsPage;\nRuns.Steps = Steps;\nRuns.RunStepsPage = RunStepsPage;\n//# sourceMappingURL=runs.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../../resource.mjs\";\nimport { isRequestOptions } from \"../../../core.mjs\";\nimport { AssistantStream } from \"../../../lib/AssistantStream.mjs\";\nimport * as MessagesAPI from \"./messages.mjs\";\nimport { Messages, MessagesPage, } from \"./messages.mjs\";\nimport * as RunsAPI from \"./runs/runs.mjs\";\nimport { Runs, RunsPage, } from \"./runs/runs.mjs\";\nexport class Threads extends APIResource {\n    constructor() {\n        super(...arguments);\n        this.runs = new RunsAPI.Runs(this._client);\n        this.messages = new MessagesAPI.Messages(this._client);\n    }\n    create(body = {}, options) {\n        if (isRequestOptions(body)) {\n            return this.create({}, body);\n        }\n        return this._client.post('/threads', {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Retrieves a thread.\n     */\n    retrieve(threadId, options) {\n        return this._client.get(`/threads/${threadId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Modifies a thread.\n     */\n    update(threadId, body, options) {\n        return this._client.post(`/threads/${threadId}`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Delete a thread.\n     */\n    del(threadId, options) {\n        return this._client.delete(`/threads/${threadId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    createAndRun(body, options) {\n        return this._client.post('/threads/runs', {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n            stream: body.stream ?? false,\n        });\n    }\n    /**\n     * A helper to create a thread, start a run and then poll for a terminal state.\n     * More information on Run lifecycles can be found here:\n     * https://platform.openai.com/docs/assistants/how-it-works/runs-and-run-steps\n     */\n    async createAndRunPoll(body, options) {\n        const run = await this.createAndRun(body, options);\n        return await this.runs.poll(run.thread_id, run.id, options);\n    }\n    /**\n     * Create a thread and stream the run back\n     */\n    createAndRunStream(body, options) {\n        return AssistantStream.createThreadAssistantStream(body, this._client.beta.threads, options);\n    }\n}\nThreads.Runs = Runs;\nThreads.RunsPage = RunsPage;\nThreads.Messages = Messages;\nThreads.MessagesPage = MessagesPage;\n//# sourceMappingURL=threads.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../../resource.mjs\";\nimport { sleep, isRequestOptions } from \"../../../core.mjs\";\nimport { CursorPage } from \"../../../pagination.mjs\";\nexport class Files extends APIResource {\n    /**\n     * Create a vector store file by attaching a\n     * [File](https://platform.openai.com/docs/api-reference/files) to a\n     * [vector store](https://platform.openai.com/docs/api-reference/vector-stores/object).\n     */\n    create(vectorStoreId, body, options) {\n        return this._client.post(`/vector_stores/${vectorStoreId}/files`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Retrieves a vector store file.\n     */\n    retrieve(vectorStoreId, fileId, options) {\n        return this._client.get(`/vector_stores/${vectorStoreId}/files/${fileId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    list(vectorStoreId, query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.list(vectorStoreId, {}, query);\n        }\n        return this._client.getAPIList(`/vector_stores/${vectorStoreId}/files`, VectorStoreFilesPage, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Delete a vector store file. This will remove the file from the vector store but\n     * the file itself will not be deleted. To delete the file, use the\n     * [delete file](https://platform.openai.com/docs/api-reference/files/delete)\n     * endpoint.\n     */\n    del(vectorStoreId, fileId, options) {\n        return this._client.delete(`/vector_stores/${vectorStoreId}/files/${fileId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Attach a file to the given vector store and wait for it to be processed.\n     */\n    async createAndPoll(vectorStoreId, body, options) {\n        const file = await this.create(vectorStoreId, body, options);\n        return await this.poll(vectorStoreId, file.id, options);\n    }\n    /**\n     * Wait for the vector store file to finish processing.\n     *\n     * Note: this will return even if the file failed to process, you need to check\n     * file.last_error and file.status to handle these cases\n     */\n    async poll(vectorStoreId, fileId, options) {\n        const headers = { ...options?.headers, 'X-Stainless-Poll-Helper': 'true' };\n        if (options?.pollIntervalMs) {\n            headers['X-Stainless-Custom-Poll-Interval'] = options.pollIntervalMs.toString();\n        }\n        while (true) {\n            const fileResponse = await this.retrieve(vectorStoreId, fileId, {\n                ...options,\n                headers,\n            }).withResponse();\n            const file = fileResponse.data;\n            switch (file.status) {\n                case 'in_progress':\n                    let sleepInterval = 5000;\n                    if (options?.pollIntervalMs) {\n                        sleepInterval = options.pollIntervalMs;\n                    }\n                    else {\n                        const headerInterval = fileResponse.response.headers.get('openai-poll-after-ms');\n                        if (headerInterval) {\n                            const headerIntervalMs = parseInt(headerInterval);\n                            if (!isNaN(headerIntervalMs)) {\n                                sleepInterval = headerIntervalMs;\n                            }\n                        }\n                    }\n                    await sleep(sleepInterval);\n                    break;\n                case 'failed':\n                case 'completed':\n                    return file;\n            }\n        }\n    }\n    /**\n     * Upload a file to the `files` API and then attach it to the given vector store.\n     *\n     * Note the file will be asynchronously processed (you can use the alternative\n     * polling helper method to wait for processing to complete).\n     */\n    async upload(vectorStoreId, file, options) {\n        const fileInfo = await this._client.files.create({ file: file, purpose: 'assistants' }, options);\n        return this.create(vectorStoreId, { file_id: fileInfo.id }, options);\n    }\n    /**\n     * Add a file to a vector store and poll until processing is complete.\n     */\n    async uploadAndPoll(vectorStoreId, file, options) {\n        const fileInfo = await this.upload(vectorStoreId, file, options);\n        return await this.poll(vectorStoreId, fileInfo.id, options);\n    }\n}\nexport class VectorStoreFilesPage extends CursorPage {\n}\nFiles.VectorStoreFilesPage = VectorStoreFilesPage;\n//# sourceMappingURL=files.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../../resource.mjs\";\nimport { isRequestOptions } from \"../../../core.mjs\";\nimport { sleep } from \"../../../core.mjs\";\nimport { allSettledWithThrow } from \"../../../lib/Util.mjs\";\nimport { VectorStoreFilesPage } from \"./files.mjs\";\nexport class FileBatches extends APIResource {\n    /**\n     * Create a vector store file batch.\n     */\n    create(vectorStoreId, body, options) {\n        return this._client.post(`/vector_stores/${vectorStoreId}/file_batches`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Retrieves a vector store file batch.\n     */\n    retrieve(vectorStoreId, batchId, options) {\n        return this._client.get(`/vector_stores/${vectorStoreId}/file_batches/${batchId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Cancel a vector store file batch. This attempts to cancel the processing of\n     * files in this batch as soon as possible.\n     */\n    cancel(vectorStoreId, batchId, options) {\n        return this._client.post(`/vector_stores/${vectorStoreId}/file_batches/${batchId}/cancel`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Create a vector store batch and poll until all files have been processed.\n     */\n    async createAndPoll(vectorStoreId, body, options) {\n        const batch = await this.create(vectorStoreId, body);\n        return await this.poll(vectorStoreId, batch.id, options);\n    }\n    listFiles(vectorStoreId, batchId, query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.listFiles(vectorStoreId, batchId, {}, query);\n        }\n        return this._client.getAPIList(`/vector_stores/${vectorStoreId}/file_batches/${batchId}/files`, VectorStoreFilesPage, { query, ...options, headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers } });\n    }\n    /**\n     * Wait for the given file batch to be processed.\n     *\n     * Note: this will return even if one of the files failed to process, you need to\n     * check batch.file_counts.failed_count to handle this case.\n     */\n    async poll(vectorStoreId, batchId, options) {\n        const headers = { ...options?.headers, 'X-Stainless-Poll-Helper': 'true' };\n        if (options?.pollIntervalMs) {\n            headers['X-Stainless-Custom-Poll-Interval'] = options.pollIntervalMs.toString();\n        }\n        while (true) {\n            const { data: batch, response } = await this.retrieve(vectorStoreId, batchId, {\n                ...options,\n                headers,\n            }).withResponse();\n            switch (batch.status) {\n                case 'in_progress':\n                    let sleepInterval = 5000;\n                    if (options?.pollIntervalMs) {\n                        sleepInterval = options.pollIntervalMs;\n                    }\n                    else {\n                        const headerInterval = response.headers.get('openai-poll-after-ms');\n                        if (headerInterval) {\n                            const headerIntervalMs = parseInt(headerInterval);\n                            if (!isNaN(headerIntervalMs)) {\n                                sleepInterval = headerIntervalMs;\n                            }\n                        }\n                    }\n                    await sleep(sleepInterval);\n                    break;\n                case 'failed':\n                case 'cancelled':\n                case 'completed':\n                    return batch;\n            }\n        }\n    }\n    /**\n     * Uploads the given files concurrently and then creates a vector store file batch.\n     *\n     * The concurrency limit is configurable using the `maxConcurrency` parameter.\n     */\n    async uploadAndPoll(vectorStoreId, { files, fileIds = [] }, options) {\n        if (files == null || files.length == 0) {\n            throw new Error(`No \\`files\\` provided to process. If you've already uploaded files you should use \\`.createAndPoll()\\` instead`);\n        }\n        const configuredConcurrency = options?.maxConcurrency ?? 5;\n        // We cap the number of workers at the number of files (so we don't start any unnecessary workers)\n        const concurrencyLimit = Math.min(configuredConcurrency, files.length);\n        const client = this._client;\n        const fileIterator = files.values();\n        const allFileIds = [...fileIds];\n        // This code is based on this design. The libraries don't accommodate our environment limits.\n        // https://stackoverflow.com/questions/40639432/what-is-the-best-way-to-limit-concurrency-when-using-es6s-promise-all\n        async function processFiles(iterator) {\n            for (let item of iterator) {\n                const fileObj = await client.files.create({ file: item, purpose: 'assistants' }, options);\n                allFileIds.push(fileObj.id);\n            }\n        }\n        // Start workers to process results\n        const workers = Array(concurrencyLimit).fill(fileIterator).map(processFiles);\n        // Wait for all processing to complete.\n        await allSettledWithThrow(workers);\n        return await this.createAndPoll(vectorStoreId, {\n            file_ids: allFileIds,\n        });\n    }\n}\nexport { VectorStoreFilesPage };\n//# sourceMappingURL=file-batches.mjs.map","/**\n * Like `Promise.allSettled()` but throws an error if any promises are rejected.\n */\nexport const allSettledWithThrow = async (promises) => {\n    const results = await Promise.allSettled(promises);\n    const rejected = results.filter((result) => result.status === 'rejected');\n    if (rejected.length) {\n        for (const result of rejected) {\n            console.error(result.reason);\n        }\n        throw new Error(`${rejected.length} promise(s) failed - see the above errors`);\n    }\n    // Note: TS was complaining about using `.filter().map()` here for some reason\n    const values = [];\n    for (const result of results) {\n        if (result.status === 'fulfilled') {\n            values.push(result.value);\n        }\n    }\n    return values;\n};\n//# sourceMappingURL=Util.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../../resource.mjs\";\nimport { isRequestOptions } from \"../../../core.mjs\";\nimport * as FileBatchesAPI from \"./file-batches.mjs\";\nimport { FileBatches, } from \"./file-batches.mjs\";\nimport * as FilesAPI from \"./files.mjs\";\nimport { Files, VectorStoreFilesPage, } from \"./files.mjs\";\nimport { CursorPage } from \"../../../pagination.mjs\";\nexport class VectorStores extends APIResource {\n    constructor() {\n        super(...arguments);\n        this.files = new FilesAPI.Files(this._client);\n        this.fileBatches = new FileBatchesAPI.FileBatches(this._client);\n    }\n    /**\n     * Create a vector store.\n     */\n    create(body, options) {\n        return this._client.post('/vector_stores', {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Retrieves a vector store.\n     */\n    retrieve(vectorStoreId, options) {\n        return this._client.get(`/vector_stores/${vectorStoreId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Modifies a vector store.\n     */\n    update(vectorStoreId, body, options) {\n        return this._client.post(`/vector_stores/${vectorStoreId}`, {\n            body,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    list(query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList('/vector_stores', VectorStoresPage, {\n            query,\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n    /**\n     * Delete a vector store.\n     */\n    del(vectorStoreId, options) {\n        return this._client.delete(`/vector_stores/${vectorStoreId}`, {\n            ...options,\n            headers: { 'OpenAI-Beta': 'assistants=v2', ...options?.headers },\n        });\n    }\n}\nexport class VectorStoresPage extends CursorPage {\n}\nVectorStores.VectorStoresPage = VectorStoresPage;\nVectorStores.Files = Files;\nVectorStores.VectorStoreFilesPage = VectorStoreFilesPage;\nVectorStores.FileBatches = FileBatches;\n//# sourceMappingURL=vector-stores.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../resource.mjs\";\nimport * as AssistantsAPI from \"./assistants.mjs\";\nimport * as ChatAPI from \"./chat/chat.mjs\";\nimport { Assistants, AssistantsPage, } from \"./assistants.mjs\";\nimport * as ThreadsAPI from \"./threads/threads.mjs\";\nimport { Threads, } from \"./threads/threads.mjs\";\nimport * as VectorStoresAPI from \"./vector-stores/vector-stores.mjs\";\nimport { VectorStores, VectorStoresPage, } from \"./vector-stores/vector-stores.mjs\";\nimport { Chat } from \"./chat/chat.mjs\";\nexport class Beta extends APIResource {\n    constructor() {\n        super(...arguments);\n        this.vectorStores = new VectorStoresAPI.VectorStores(this._client);\n        this.chat = new ChatAPI.Chat(this._client);\n        this.assistants = new AssistantsAPI.Assistants(this._client);\n        this.threads = new ThreadsAPI.Threads(this._client);\n    }\n}\nBeta.VectorStores = VectorStores;\nBeta.VectorStoresPage = VectorStoresPage;\nBeta.Assistants = Assistants;\nBeta.AssistantsPage = AssistantsPage;\nBeta.Threads = Threads;\n//# sourceMappingURL=beta.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../resource.mjs\";\nimport { isRequestOptions } from \"../core.mjs\";\nimport { CursorPage } from \"../pagination.mjs\";\nexport class Batches extends APIResource {\n    /**\n     * Creates and executes a batch from an uploaded file of requests\n     */\n    create(body, options) {\n        return this._client.post('/batches', { body, ...options });\n    }\n    /**\n     * Retrieves a batch.\n     */\n    retrieve(batchId, options) {\n        return this._client.get(`/batches/${batchId}`, options);\n    }\n    list(query = {}, options) {\n        if (isRequestOptions(query)) {\n            return this.list({}, query);\n        }\n        return this._client.getAPIList('/batches', BatchesPage, { query, ...options });\n    }\n    /**\n     * Cancels an in-progress batch. The batch will be in status `cancelling` for up to\n     * 10 minutes, before changing to `cancelled`, where it will have partial results\n     * (if any) available in the output file.\n     */\n    cancel(batchId, options) {\n        return this._client.post(`/batches/${batchId}/cancel`, options);\n    }\n}\nexport class BatchesPage extends CursorPage {\n}\nBatches.BatchesPage = BatchesPage;\n//# sourceMappingURL=batches.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../resource.mjs\";\nimport * as Core from \"../../core.mjs\";\nexport class Parts extends APIResource {\n    /**\n     * Adds a\n     * [Part](https://platform.openai.com/docs/api-reference/uploads/part-object) to an\n     * [Upload](https://platform.openai.com/docs/api-reference/uploads/object) object.\n     * A Part represents a chunk of bytes from the file you are trying to upload.\n     *\n     * Each Part can be at most 64 MB, and you can add Parts until you hit the Upload\n     * maximum of 8 GB.\n     *\n     * It is possible to add multiple Parts in parallel. You can decide the intended\n     * order of the Parts when you\n     * [complete the Upload](https://platform.openai.com/docs/api-reference/uploads/complete).\n     */\n    create(uploadId, body, options) {\n        return this._client.post(`/uploads/${uploadId}/parts`, Core.multipartFormRequestOptions({ body, ...options }));\n    }\n}\n//# sourceMappingURL=parts.mjs.map","// File generated from our OpenAPI spec by Stainless. See CONTRIBUTING.md for details.\nimport { APIResource } from \"../../resource.mjs\";\nimport * as PartsAPI from \"./parts.mjs\";\nimport { Parts } from \"./parts.mjs\";\nexport class Uploads extends APIResource {\n    constructor() {\n        super(...arguments);\n        this.parts = new PartsAPI.Parts(this._client);\n    }\n    /**\n     * Creates an intermediate\n     * [Upload](https://platform.openai.com/docs/api-reference/uploads/object) object\n     * that you can add\n     * [Parts](https://platform.openai.com/docs/api-reference/uploads/part-object) to.\n     * Currently, an Upload can accept at most 8 GB in total and expires after an hour\n     * after you create it.\n     *\n     * Once you complete the Upload, we will create a\n     * [File](https://platform.openai.com/docs/api-reference/files/object) object that\n     * contains all the parts you uploaded. This File is usable in the rest of our\n     * platform as a regular File object.\n     *\n     * For certain `purpose`s, the correct `mime_type` must be specified. Please refer\n     * to documentation for the supported MIME types for your use case:\n     *\n     * - [Assistants](https://platform.openai.com/docs/assistants/tools/file-search#supported-files)\n     *\n     * For guidance on the proper filename extensions for each purpose, please follow\n     * the documentation on\n     * [creating a File](https://platform.openai.com/docs/api-reference/files/create).\n     */\n    create(body, options) {\n        return this._client.post('/uploads', { body, ...options });\n    }\n    /**\n     * Cancels the Upload. No Parts may be added after an Upload is cancelled.\n     */\n    cancel(uploadId, options) {\n        return this._client.post(`/uploads/${uploadId}/cancel`, options);\n    }\n    /**\n     * Completes the\n     * [Upload](https://platform.openai.com/docs/api-reference/uploads/object).\n     *\n     * Within the returned Upload object, there is a nested\n     * [File](https://platform.openai.com/docs/api-reference/files/object) object that\n     * is ready to use in the rest of the platform.\n     *\n     * You can specify the order of the Parts by passing in an ordered list of the Part\n     * IDs.\n     *\n     * The number of bytes uploaded upon completion must match the number of bytes\n     * initially specified when creating the Upload object. No Parts may be added after\n     * an Upload is completed.\n     */\n    complete(uploadId, body, options) {\n        return this._client.post(`/uploads/${uploadId}/complete`, { body, ...options });\n    }\n}\nUploads.Parts = Parts;\n//# sourceMappingURL=uploads.mjs.map","//@ts-nocheck\r\n//@ts-ignore\r\n/* eslint-disable */\r\nimport * as path from \"path\";\r\nimport { title } from \"process\";\r\nconst os = require('os')\r\n//@ts-ignore\r\nimport * as vscode from \"vscode\";\r\nimport OpenAI from 'openai';\r\n//@ts-ignore\r\nconst fs = require(\"fs\");\r\nconst cp = require('child_process');\r\nconst { exec } = require('child_process');\r\nconst { spawnSync } = require('child_process');\r\nconst { PythonShell } = require('python-shell');\r\nconst { execSync } = require('child_process'); \r\n \r\n\r\nexport const waitForFile = async (filePath: string, timeout: number = 5000) => {\r\n  const startTime = Date.now();\r\n\r\n  while (!fs.existsSync(filePath)) {\r\n    if (Date.now() - startTime > timeout) {\r\n      throw new Error(`File not found: ${filePath} after ${timeout} ms`);\r\n    }\r\n    await new Promise(resolve => setTimeout(resolve, 100));\r\n  }\r\n};\r\n\r\nexport function runCommandSync(command: string) {\r\n  console.log(\"Running command:\", command);\r\n  try {\r\n    const result = spawnSync(command, {\r\n      shell: true,\r\n      stdio: 'pipe',  // Capture output for custom handling\r\n    });\r\n\r\n    // Write stdout and stderr to gocodeo_out.txt\r\n    const outputFilePath = path.join(process.cwd(), 'gocodeo_out.txt');\r\n    fs.writeFileSync(outputFilePath, result.stdout + result.stderr);\r\n    console.log(result.stdout + result.stderr, \"outputFilePath\")\r\n    if (result.error) {\r\n      console.error(`Command Error: ${result.error.message}`);\r\n    }\r\n    if (result.stderr.toString().trim()) {\r\n      console.error(`Command Stderr: ${result.stderr.toString()}`);\r\n    }\r\n    if (result.stdout.toString().trim()) {\r\n      console.log(`Command Stdout: ${result.stdout.toString()}`);\r\n    }\r\n    console.log(outputFilePath, \"outputFilePath\")\r\n    if (result.error) {\r\n      console.log(`Error executing command ${result.error.message}`);\r\n      // vscode.window.showErrorMessage(`Error executing command: ${result.error.message}`);\r\n    } else if (result.status !== 0) {\r\n      console.log(`Command exited with status code: ${result.status}`);\r\n      // vscode.window.showErrorMessage(`Command exited with status code ${result.status}`);\r\n    } else {\r\n      console.log(`Command executed successfully`);\r\n      // vscode.window.showInformationMessage(`Command executed successfully`);\r\n    }\r\n  } catch (error) {\r\n    console.error(`Error executing command: ${error.message}`);\r\n    // vscode.window.showErrorMessage(`Error executing command: ${error.message}`);\r\n  }\r\n}\r\n\r\n//@ts-ignore\r\nexport async function saveFile(filePath, fileName, fileText) {\r\n  fileName = fileName.replace(/GoCodeo-/, \"\");\r\n  let options = {\r\n    defaultUri: vscode.Uri.file(path.join(filePath, \"..\", fileName)),\r\n    saveLabel: \"Save As\",\r\n    filters: {\r\n      \"All files\": [\"*\"],\r\n    },\r\n  };\r\n\r\n  let uri = await vscode.window.showSaveDialog(options);\r\n  if (uri) {\r\n    // vscode.window.showInformationMessage(\"test file uri\", uri, uri.fsPath);\r\n    await fs.writeFileSync(uri.fsPath, fileText);\r\n    // Update the title of the editor to the new file name\r\n    //@ts-ignore\r\n    vscode.window.showInformationMessage(uri.file);\r\n    const curDoc = await vscode.workspace.openTextDocument(uri);\r\n    await vscode.window.showTextDocument(curDoc);\r\n\r\n  }\r\n}\r\n\r\n\r\n\r\n// Helper function: Recursively build a file structure tree\r\nexport function getFileStructure(dirPath: string): any[] {\r\n  let result: any[] = [];\r\n  try {\r\n    const items = fs.readdirSync(dirPath);\r\n    items.forEach(item => {\r\n      const fullPath = path.join(dirPath, item);\r\n      const stats = fs.statSync(fullPath);\r\n      if (stats.isDirectory()) {\r\n        result.push({\r\n          name: item,\r\n          type: 'directory',\r\n          children: getFileStructure(fullPath)\r\n        });\r\n      } else {\r\n        result.push({\r\n          name: item,\r\n          type: 'file'\r\n        });\r\n      }\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Error reading directory:\", error);\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function getAllFilesRecursively(dir: string, baseDir: string = dir): string[] {\r\n  let results: string[] = [];\r\n  const list = fs.readdirSync(dir);\r\n  list.forEach((file: string) => {\r\n    const fullPath = path.join(dir, file);\r\n    const stat = fs.statSync(fullPath);\r\n    if (stat && stat.isDirectory()) {\r\n      results = results.concat(getAllFilesRecursively(fullPath, baseDir));\r\n    } else {\r\n      // Compute the relative file path from baseDir.\r\n      const relativePath = path.relative(baseDir, fullPath).replace(/\\\\/g, '/');\r\n      results.push(relativePath);\r\n    }\r\n  });\r\n  return results;\r\n}\r\n\r\n \r\nfunction createSemanticSearchResponse(\r\n  user_message: string,\r\n  history_context = \"\",\r\n  file_paths = null,\r\n  root = \"\",\r\n  is_error = false,\r\n  error_message = \"\"\r\n) {\r\n  console.log(\"got user_message:\", user_message);\r\n  console.log(\"got file_paths:\", file_paths);\r\n  // console.log(\"got root:\", root);\r\n  console.log(\"history_context_createSemanticSearchResponse:\", history_context);\r\n  // If history_context is an object (like an array), convert it to a formatted JSON string.\r\n  const formattedHistoryContext = typeof history_context === \"object\" ? JSON.stringify(history_context, null, 2)\r\n    : history_context;\r\n  console.log(formattedHistoryContext, \"formattedHistoryContext\");\r\n\r\n  if (is_error) {\r\n    user_message = error_message;\r\n  }\r\n\r\n  const prompt = `You are an expert at extracting EXACT code and content from conversation history, with deep understanding of web application architecture and file relationships.\r\n\r\nUSER QUERY: \"${user_message}\"\r\n\r\n${formattedHistoryContext}\r\n\r\nAVAILABLE FILES: ${file_paths ? file_paths : \"No files available\"}\r\n\r\nYOUR TASK:\r\n1. First, analyze the user query to understand:\r\n   - What feature/change is requested\r\n   - What UI components might be affected\r\n   - What data structures might need updating\r\n   - What routing/navigation changes might be needed\r\n   - What parent components need to be modified to integrate new features\r\n\r\n2. Then, identify ALL relevant files by considering:\r\n   - Files directly mentioned in the query\r\n   - Files that contain components referenced in the query\r\n   - Parent components that need to import/use new components\r\n   - Layout files that might need updating (App.tsx, layouts, etc.)\r\n   - Data/state management files (contexts, stores, etc.)\r\n   - Type definition files that need updating\r\n   - Style files that need modification\r\n   - Routing files if navigation is affected\r\n   - Any utility files that might be needed\r\n\r\n3. For EACH identified file:\r\n   - Extract its COMPLETE code block from history\r\n   - Extract ALL discussions/comments about this file\r\n   - If multiple versions exist, use the most recent one\r\n   - Include parent-child component relationships\r\n   - Include any setup or configuration details\r\n\r\n4. For the relevant_content field:\r\n   - MUST include the complete code block with exact formatting\r\n   - MUST include ALL related discussions\r\n   - Format as:\r\n         \\`\\`\\`\r\n         ## filepath/filename.ext\r\n         \\`\\`\\`language\r\n         <complete_code>\r\n         \\`\\`\\`\r\n         Related Discussion: <discussions>\r\n         Previous Changes: <modifications>\r\n         Component Relationships: <where this component is used/imported>\r\n         \\`\\`\\`\r\n\r\nJSON STRUCTURE:\r\n{\r\n    \"relevant_history\": [\r\n        {\r\n            \"interaction_number\": <number>,\r\n            \"relevant_content\": \"<MUST include complete code AND all related discussions>\",\r\n            \"relevance_reason\": \"<explain why this content is relevant and how it relates to other components>\"\r\n        }\r\n    ],\r\n    \"relevant_files\": [\r\n        {\r\n            \"file_path\": \"<exact path>\",\r\n            \"relevance_reason\": \"<why this file is relevant and how it connects to other components>\"\r\n        }\r\n    ]\r\n}\r\n\r\nCRITICAL REQUIREMENTS:\r\n1. Component Relationships:\r\n   - ALWAYS include parent components that need to import new components\r\n   - ALWAYS include layout files that might need updating\r\n   - ALWAYS include routing files if navigation is affected\r\n   - ALWAYS include state management files if data flow is affected\r\n\r\n2. Code Completeness:\r\n   - Include ENTIRE code blocks\r\n   - Include ALL imports and dependencies\r\n   - Include ALL related type definitions\r\n   - Include ALL style definitions\r\n\r\n3. Feature Integration:\r\n   - Identify ALL files needed to fully integrate a new feature\r\n   - Include ALL files needed for proper routing\r\n   - Include ALL files needed for state management\r\n   - Include ALL files needed for proper UI rendering\r\n\r\n4. Smart File Detection:\r\n   - If user mentions UI changes, include layout and style files\r\n   - If user mentions data changes, include state management files\r\n   - If user mentions new features, include parent components\r\n   - If user mentions routing, include navigation files\r\n\r\nIMPORTANT: \r\n1. Return ONLY the JSON response\r\n2. NEVER skip files that might be needed for proper integration\r\n3. ALWAYS consider the full application architecture\r\n4. ALWAYS include files needed for proper feature integration\r\n5. BE COMPREHENSIVE - include ALL files that might need updating\r\n6. THINK about component relationships and data flow\r\nVALIDATIONS + ULTRA IMPORTANT:\r\n1. Verify EVERY file in relevant_files **MUST EXIST* in history\r\n2. Never add ANY speculative or future files in the response\r\n3. Reverify EVERY code block comes from history\r\n`;\r\n\r\n  return prompt;\r\n}\r\n\r\n// Function to get the semantic search response from OpenAI\r\nexport async function getSemanticSearchResponse(\r\n  user_message: string,\r\n  history_context = \"\",\r\n  file_paths: any,\r\n  root = \"\",\r\n  is_error = false,\r\n  error_message = \"\",\r\n  signal: any // optional AbortSignal\r\n) {\r\n  console.log(history_context, \"history_from_semantic\");\r\n\r\n  try {\r\n    // Build the prompt using our helper\r\n    const prompt = createSemanticSearchResponse(\r\n      user_message,\r\n      history_context,\r\n      file_paths,\r\n      root,\r\n      is_error,\r\n      error_message\r\n    );\r\n\r\n    // Instantiate the OpenAI client (make sure you have the proper package installed and configured)\r\n    const openai = new OpenAI({\r\n      apiKey: \"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\", dangerouslyAllowBrowser: true\r\n    });\r\n\r\n    // Call OpenAI's Chat Completion API\r\n    const response = await openai.chat.completions.create(\r\n      {\r\n        model: \"gpt-4o\", // choose the model you prefer\r\n        messages: [\r\n          {\r\n            role: \"system\",\r\n            content:\r\n              \"You are a semantic search assistant that extracts and returns JSON responses based on conversation history.\",\r\n          },\r\n          {\r\n            role: \"user\",\r\n            content: prompt,\r\n          },\r\n        ],\r\n        max_tokens: 8000, // adjust based on your needs\r\n        temperature: 0.3,\r\n        presence_penalty: 0,\r\n        frequency_penalty: 0,\r\n        stream: false, // non-streaming response\r\n      },\r\n      { signal }\r\n    );\r\n\r\n    // Extract and return the response text (assumes the response follows the expected structure)\r\n    return response.choices[0].message.content;\r\n  } catch (error) {\r\n    if (error.name === \"AbortError\") {\r\n      throw error;\r\n    }\r\n    throw new Error(`OpenAI API error: ${error.message}`);\r\n  }\r\n}\r\n \r\n \r\n/**\r\n * Determines the path to the state.vscdb file based on the operating system.\r\n * @returns {string} The file path to state.vscdb\r\n */\r\nexport function getStateDbPath() {\r\n  let appData;\r\n  if (process.platform === 'win32') {\r\n    appData = process.env.APPDATA || path.join(os.homedir(), 'AppData', 'Roaming');\r\n  } else if (process.platform === 'darwin') {\r\n    appData = path.join(os.homedir(), 'Library', 'Application Support');\r\n  } else {\r\n    appData = path.join(os.homedir(), '.config');\r\n  }\r\n  return path.join(appData, 'Code', 'User', 'globalStorage', 'state.vscdb');\r\n}\r\n\r\n \r\nexport async function getRecentPaths(db) {\r\n  return new Promise((resolve, reject) => {\r\n    db.get(\r\n      \"SELECT value FROM ItemTable WHERE key = 'history.recentlyOpenedPathsList'\",\r\n      (err, row) => {\r\n        if (err) {\r\n          reject(err);\r\n        } else if (row) {\r\n          try {\r\n            const recentPaths = JSON.parse(row.value);\r\n            resolve(recentPaths);\r\n          } catch (parseErr) {\r\n            reject(parseErr);\r\n          }\r\n        } else {\r\n          resolve(null);\r\n        }\r\n      }\r\n    );\r\n  });\r\n}\r\n \r\nexport async function folderExists(uri) {\r\n  try {\r\n    await vscode.workspace.fs.stat(uri);\r\n    return true;\r\n  } catch (error) {\r\n    return false;\r\n  }\r\n}\r\n \r\n\r\n // Function to find the root directory (assumes it contains package.json or similar)\r\nexport  async function findRootDir(startPath: string): Promise<string | null> {\r\n    const fs = require('fs').promises;\r\n    const path = require('path');\r\n\r\n    let currentPath = startPath;\r\n\r\n    // Keep going up until we can't anymore\r\n    while (currentPath && currentPath !== path.dirname(currentPath)) {\r\n        try {\r\n            // Check for common root directory indicators\r\n            const files = await fs.readdir(currentPath);\r\n            if (\r\n                files.includes('package.json') ||\r\n                files.includes('.git') ||\r\n                files.includes('node_modules')\r\n            ) {\r\n                // Found the root directory\r\n                return path.basename(currentPath);\r\n            }\r\n\r\n            // Move up one directory\r\n            currentPath = path.dirname(currentPath);\r\n        } catch (error) {\r\n            console.error('Error reading directory:', error);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n \r\n","//@ts-nocheck\r\n//@ts-ignore\r\n/* eslint-disable */\r\nimport * as path from \"path\";\r\nimport { title } from \"process\";\r\nconst os = require('os')\r\n//@ts-ignore\r\nimport * as vscode from \"vscode\";\r\n//@ts-ignore\r\nconst fs = require(\"fs\");\r\nconst cp = require('child_process');\r\nconst { exec } = require('child_process');\r\nconst { spawnSync } = require('child_process');\r\nconst { PythonShell } = require('python-shell');\r\nconst { execSync } = require('child_process');\r\n\r\nexport function extractAllGoImports(sourceCode: any) {\r\n    // Regular expression to match all import blocks\r\n    const importRegex = /import\\s+\\(([\\s\\S]*?)\\)/g;\r\n\r\n    // Use matchAll to find all matches\r\n    const matches = [...sourceCode.matchAll(importRegex)];\r\n\r\n    // Extract and format each match\r\n    const importBlocks = matches.map(match => match[0]); // Return the full matched block for each import\r\n\r\n    return importBlocks;\r\n}\r\nexport  function extractGoPackage(code) {\r\n    // Match the `package` declaration at the start of the code\r\n    const packageMatch = code.match(/^\\s*package\\s+(\\w+)/m);\r\n    // If found, return the package name, otherwise return null\r\n    return packageMatch ? packageMatch[1] : null;\r\n}\r\n// export function modifyJSCode(sourceCode: any) {\r\n//     // Check if the code is JavaScript\r\n//     if (sourceCode.main.file.endsWith('.js')) {\r\n//         let code = sourceCode.main.code;\r\n\r\n//         // Remove all 'export' keywords from named exports\r\n//         code = code.replace(/export\\s+/g, '');\r\n\r\n//         // Handle 'export default'\r\n//         let defaultExport = null;\r\n//         const defaultExportRegex = /export\\s+default\\s+([a-zA-Z0-9_]+);?/;\r\n//         const defaultMatch = code.match(defaultExportRegex);\r\n//         if (defaultMatch) {\r\n//             defaultExport = defaultMatch[1]; // Capture the default export name\r\n//             code = code.replace(defaultExportRegex, ''); // Remove 'export default' line\r\n//         }\r\n\r\n//         // Remove standalone 'default X;' (e.g., 'default Home;')\r\n//         const standaloneDefaultRegex = /default\\s+([a-zA-Z0-9_]+);?/;\r\n//         const standaloneDefaultMatch = code.match(standaloneDefaultRegex);\r\n//         if (standaloneDefaultMatch) {\r\n//             defaultExport = standaloneDefaultMatch[1]; // Update default export\r\n//             code = code.replace(standaloneDefaultRegex, ''); // Remove the line\r\n//         }\r\n\r\n//         // Find all function names in the code\r\n//         const functionNames = [];\r\n//         const functionRegex = /function\\s+([a-zA-Z0-9_]+)\\s*\\(/g;\r\n//         let match;\r\n//         while ((match = functionRegex.exec(code)) !== null) {\r\n//             functionNames.push(match[1]);\r\n//         }\r\n\r\n//         // Append 'module.exports = {...};' with all function names\r\n//         if (functionNames.length > 0 || defaultExport) {\r\n//             const exportEntries = [...functionNames];\r\n//             if (defaultExport) {\r\n//                 exportEntries.push(`default: ${defaultExport}`);\r\n//             }\r\n//             const exportsCode = `module.exports = { ${exportEntries.join(', ')} };`;\r\n//             code += '\\n' + exportsCode; // Add module.exports to the end\r\n//         }\r\n\r\n//         return code;\r\n//     }\r\n\r\n//     // Return the code as is if it's not JavaScript\r\n//     return sourceCode.main.code;\r\n// }\r\n\r\nexport function modifyJSCode(sourceCode: any) {\r\n    // Check if the code is JavaScript\r\n    if (sourceCode.main.file.endsWith('.js' || '.ts')) {\r\n        let code = sourceCode.main.code;\r\n\r\n        // Remove all 'export' keywords from named exports\r\n        code = code.replace(/export\\s+/g, '');\r\n\r\n        // Handle 'export default'\r\n        let defaultExport = null;\r\n        const defaultExportRegex = /export\\s+default\\s+([a-zA-Z0-9_]+);?/;\r\n        const defaultMatch = code.match(defaultExportRegex);\r\n        if (defaultMatch) {\r\n            defaultExport = defaultMatch[1]; // Capture the default export name\r\n            code = code.replace(defaultExportRegex, ''); // Remove 'export default' line\r\n        }\r\n\r\n        // Remove standalone 'default X;' (e.g., 'default Home;')\r\n        const standaloneDefaultRegex = /default\\s+([a-zA-Z0-9_]+);?/;\r\n        const standaloneDefaultMatch = code.match(standaloneDefaultRegex);\r\n        if (standaloneDefaultMatch) {\r\n            defaultExport = standaloneDefaultMatch[1]; // Update default export\r\n            code = code.replace(standaloneDefaultRegex, ''); // Remove the line\r\n        }\r\n\r\n        // The rest of the logic for handling functions is unnecessary if `module.exports` is not being added\r\n        // Simply return the modified code\r\n        return code;\r\n    }\r\n\r\n    // Return the code as is if it's not JavaScript\r\n    return sourceCode.main.code;\r\n}\r\n\r\n\r\n","//@ts-nocheck\r\n//@ts-ignore\r\n/* eslint-disable */\r\nimport * as path from \"path\";\r\nimport { title } from \"process\";\r\nconst os = require('os')\r\n//@ts-ignore\r\nimport * as vscode from \"vscode\"; \r\nimport { runCommandSync } from \"./util\";  \r\n//@ts-ignore\r\nconst fs = require(\"fs\");\r\nconst cp = require('child_process');\r\nconst { exec } = require('child_process');\r\nconst { spawnSync } = require('child_process');\r\nconst { PythonShell } = require('python-shell');\r\nconst { execSync } = require('child_process');\r\n\r\nexport function getTestCommand(\r\n    language: string,\r\n    framework: string,\r\n    testFilePath: string,\r\n    testFileName: string,\r\n    outputFilePath: string\r\n): string {\r\n    if (!language || !framework || !testFilePath || !testFileName || !outputFilePath) {\r\n        throw new Error(\"Missing required parameters.\");\r\n    }\r\n    const os = require(\"os\");\r\n    const platform = os.platform();\r\n    const testDirectory = path.dirname(testFilePath);\r\n\r\n    let command = \"\";\r\n\r\n    switch (language.toLowerCase()) {\r\n        case \"javascript\":\r\n        case \"typescript\": {\r\n            const jsFramework = framework.toLowerCase();\r\n            const installFramework =\r\n                jsFramework === \"react testing library\"\r\n                    ? platform === \"win32\"\r\n                        ? `npm install --save-dev @testing-library/react @testing-library/jest-dom @testing-library/user-event && `\r\n                        : `npm install --save-dev @testing-library/react @testing-library/jest-dom @testing-library/user-event; `\r\n                    : platform === \"win32\"\r\n                        ? `npm install --save-dev ${jsFramework} && `\r\n                        : `npm install --save-dev ${jsFramework}; `;\r\n\r\n            if (jsFramework === \"mocha\") {\r\n                command = `${installFramework}cd ${testDirectory} && npx mocha \"${testFileName}\" --reporter spec > \"${outputFilePath}\" 2>&1`;\r\n            } else if (jsFramework === \"jest\" || jsFramework === \"react testing library\") {\r\n                command = `${installFramework}cd ${testDirectory} && npx jest --testPathPattern=\"${testFileName}\" --verbose --passWithNoTests > \"${outputFilePath}\" 2>&1`;\r\n            }\r\n            break;\r\n        }\r\n        case \"python\": {\r\n            const installFramework =\r\n                platform === \"win32\"\r\n                    ? `pip install coverage && pip install ${framework}`\r\n                    : `pip3 install coverage; pip3 install ${framework}`;\r\n\r\n            if (framework === \"pytest\") {\r\n                command =\r\n                    platform === \"win32\"\r\n                        ? `${installFramework} && cd ${testDirectory} && python -m pytest ${testFileName} -v > \"${outputFilePath}\" 2>&1`\r\n                        : `${installFramework}; cd ${testDirectory}; python3 -m pytest ${testFileName} -v > \"${outputFilePath}\" 2>&1`;\r\n            } else if (framework === \"unittest\") {\r\n                command =\r\n                    platform === \"win32\"\r\n                        ? `cd ${testDirectory} && python -m unittest ${testFileName} -v > \"${outputFilePath}\" 2>&1`\r\n                        : `cd ${testDirectory}; python3 -m unittest ${testFileName} > \"${outputFilePath}\" 2>&1`;\r\n            }\r\n            break;\r\n        }\r\n        // case \"go\": {\r\n        //   const installFramework = `go get github.com/stretchr/testify/assert@latest`;\r\n        //   const goModFilePath = path.join(testDirectory, \"go.mod\");\r\n\r\n        //   if (!fs.existsSync(goModFilePath)) {\r\n        //     const goModInitCommand = `cd ${testDirectory} && go mod init gocodeo_tests`;\r\n        //     runCommandSync(goModInitCommand);\r\n        //   }\r\n\r\n        //   const installTestifyCommand = `cd ${testDirectory} && ${installFramework} && go mod tidy`;\r\n        //   runCommandSync(installTestifyCommand);\r\n\r\n        //   command = `cd ${testDirectory} && go test -v ${testFileName} > \"${outputFilePath}\" 2>&1`;\r\n        //   break;\r\n        // }\r\n        case \"go\": {\r\n            if (framework.toLowerCase() === \"testify\") {\r\n                const installFramework = `go get github.com/stretchr/testify/assert@latest`;\r\n                const goModFilePath = path.join(testDirectory, \"go.mod\");\r\n\r\n                if (!fs.existsSync(goModFilePath)) {\r\n                    const goModInitCommand = `cd ${testDirectory} && go mod init gocodeo_tests`;\r\n                    runCommandSync(goModInitCommand);\r\n                }\r\n\r\n                const installTestifyCommand = `cd ${testDirectory} && ${installFramework} && go mod tidy`;\r\n                runCommandSync(installTestifyCommand);\r\n\r\n                command = `cd ${testDirectory} && go test -v ${testFileName} > \"${outputFilePath}\" 2>&1`;\r\n            } else if (framework.toLowerCase() === \"ginkgo\") {\r\n                const installGinkgo = `go install github.com/onsi/ginkgo/v2/ginkgo@latest`;\r\n                const goModFilePath = path.join(testDirectory, \"go.mod\");\r\n\r\n                if (!fs.existsSync(goModFilePath)) {\r\n                    const goModInitCommand = `cd ${testDirectory} && go mod init gocodeo_tests`;\r\n                    runCommandSync(goModInitCommand);\r\n                }\r\n\r\n                const installGinkgoCommand = `cd ${testDirectory} && ${installGinkgo} && go mod tidy`;\r\n                runCommandSync(installGinkgoCommand);\r\n\r\n                command = `cd ${testDirectory} && ginkgo -v > \"${outputFilePath}\" 2>&1`;\r\n            }\r\n            break;\r\n        }\r\n\r\n        case \"java\": {\r\n            command = `cd ${testDirectory} && mvn test -Dtest=${testFileName} > \"${outputFilePath}\" 2>&1`;\r\n            break;\r\n        }\r\n        default:\r\n            throw new Error(`Unsupported language: ${language}`);\r\n    }\r\n\r\n    return command;\r\n}","//@ts-nocheck\r\n//@ts-ignore\r\n/* eslint-disable */\r\nimport * as path from \"path\";\r\nimport { title } from \"process\";\r\nconst os = require('os')\r\n//@ts-ignore\r\nimport * as vscode from \"vscode\";\r\nimport { getStoreKey } from \"./StorageService\";\r\nimport { parseGoTestifyOutput, parseJunitTestOutput, parseMochaTestOutput, parseJSTestOutput, parsePythonPytestOutput, parsePythonUnittestOutput, parseGoGinkgoOutput } from \"./Parsing_agents\";\r\nimport { modifyGoCode } from \"./ModifyCode_agents\";\r\nimport {  runCommandSync, waitForFile } from \"./util\";\r\nimport { modifyJSCode } from \"./helper_agents\";\r\nimport { installNose2 } from \"./installing_agents\";\r\nimport { getTestCommand } from \"./commandExecuterAgent\";\r\nimport { getUniqueId } from \"./CommonServices\";\r\n//@ts-ignore\r\nconst fs = require(\"fs\");\r\nconst cp = require('child_process');\r\nconst { exec } = require('child_process');\r\nconst { spawnSync } = require('child_process');\r\nconst { PythonShell } = require('python-shell');\r\nconst { execSync } = require('child_process');\r\n\r\n// function getTestCommand(\r\n//   language: string,\r\n//   framework: string,\r\n//   testFilePath: string,\r\n//   testFileName: string,\r\n//   outputFilePath: string\r\n// ): string {\r\n//   const os = require(\"os\");\r\n//   const platform = os.platform();\r\n//   const testDirectory = path.dirname(testFilePath);\r\n\r\n//   let command = \"\";\r\n\r\n//   switch (language.toLowerCase()) {\r\n//     case \"javascript\":\r\n//     case \"typescript\": {\r\n//       const jsFramework = framework.toLowerCase();\r\n//       const installFramework =\r\n//         jsFramework === \"react testing library\"\r\n//           ? platform === \"win32\"\r\n//             ? `npm install --save-dev @testing-library/react @testing-library/jest-dom @testing-library/user-event && `\r\n//             : `npm install --save-dev @testing-library/react @testing-library/jest-dom @testing-library/user-event; `\r\n//           : platform === \"win32\"\r\n//             ? `npm install --save-dev ${jsFramework} && `\r\n//             : `npm install --save-dev ${jsFramework}; `;\r\n\r\n//       if (jsFramework === \"mocha\") {\r\n//         command = `${installFramework}cd ${testDirectory} && npx mocha \"${testFileName}\" --reporter spec > \"${outputFilePath}\" 2>&1`;\r\n//       } else if (jsFramework === \"jest\" || jsFramework === \"react testing library\") {\r\n//         command = `${installFramework}cd ${testDirectory} && npx jest --testPathPattern=\"${testFileName}\" --verbose --passWithNoTests > \"${outputFilePath}\" 2>&1`;\r\n//       }\r\n//       break;\r\n//     }\r\n//     case \"python\": {\r\n//       const installFramework =\r\n//         platform === \"win32\"\r\n//           ? `pip install coverage && pip install ${framework}`\r\n//           : `pip3 install coverage; pip3 install ${framework}`;\r\n\r\n//       if (framework === \"pytest\") {\r\n//         command =\r\n//           platform === \"win32\"\r\n//             ? `${installFramework} && cd ${testDirectory} && python -m pytest ${testFileName} -v > \"${outputFilePath}\" 2>&1`\r\n//             : `${installFramework}; cd ${testDirectory}; python3 -m pytest ${testFileName} -v > \"${outputFilePath}\" 2>&1`;\r\n//       } else if (framework === \"unittest\") {\r\n//         command =\r\n//           platform === \"win32\"\r\n//             ? `cd ${testDirectory} && python -m unittest ${testFileName} -v > \"${outputFilePath}\" 2>&1`\r\n//             : `cd ${testDirectory}; python3 -m unittest ${testFileName} > \"${outputFilePath}\" 2>&1`;\r\n//       }\r\n//       break;\r\n//     }\r\n//     // case \"go\": {\r\n//     //   const installFramework = `go get github.com/stretchr/testify/assert@latest`;\r\n//     //   const goModFilePath = path.join(testDirectory, \"go.mod\");\r\n\r\n//     //   if (!fs.existsSync(goModFilePath)) {\r\n//     //     const goModInitCommand = `cd ${testDirectory} && go mod init gocodeo_tests`;\r\n//     //     runCommandSync(goModInitCommand);\r\n//     //   }\r\n\r\n//     //   const installTestifyCommand = `cd ${testDirectory} && ${installFramework} && go mod tidy`;\r\n//     //   runCommandSync(installTestifyCommand);\r\n\r\n//     //   command = `cd ${testDirectory} && go test -v ${testFileName} > \"${outputFilePath}\" 2>&1`;\r\n//     //   break;\r\n//     // }\r\n//     case \"go\": {\r\n//       if (framework.toLowerCase() === \"testify\") {\r\n//         const installFramework = `go get github.com/stretchr/testify/assert@latest`;\r\n//         const goModFilePath = path.join(testDirectory, \"go.mod\");\r\n\r\n//         if (!fs.existsSync(goModFilePath)) {\r\n//           const goModInitCommand = `cd ${testDirectory} && go mod init gocodeo_tests`;\r\n//           runCommandSync(goModInitCommand);\r\n//         }\r\n\r\n//         const installTestifyCommand = `cd ${testDirectory} && ${installFramework} && go mod tidy`;\r\n//         runCommandSync(installTestifyCommand);\r\n\r\n//         command = `cd ${testDirectory} && go test -v ${testFileName} > \"${outputFilePath}\" 2>&1`;\r\n//       } else if (framework.toLowerCase() === \"ginkgo\") {\r\n//         const installGinkgo = `go install github.com/onsi/ginkgo/v2/ginkgo@latest`;\r\n//         const goModFilePath = path.join(testDirectory, \"go.mod\");\r\n\r\n//         if (!fs.existsSync(goModFilePath)) {\r\n//           const goModInitCommand = `cd ${testDirectory} && go mod init gocodeo_tests`;\r\n//           runCommandSync(goModInitCommand);\r\n//         }\r\n\r\n//         const installGinkgoCommand = `cd ${testDirectory} && ${installGinkgo} && go mod tidy`;\r\n//         runCommandSync(installGinkgoCommand);\r\n\r\n//         command = `cd ${testDirectory} && ginkgo -r --output-dir=${outputFilePath}`;\r\n//       }\r\n//       break;\r\n//     }\r\n\r\n//     case \"java\": {\r\n//       command = `cd ${testDirectory} && mvn test -Dtest=${testFileName} > \"${outputFilePath}\" 2>&1`;\r\n//       break;\r\n//     }\r\n//     default:\r\n//       throw new Error(`Unsupported language: ${language}`);\r\n//   }\r\n\r\n//   return command;\r\n// }\r\n\r\nexport async function runTestsFile(\r\n  filePath: string,\r\n  fileName: string,\r\n  fileText: string,\r\n  language: string,\r\n  framework: string,\r\n  testTitle: string,\r\n  sourceCode: { imports: any[], main: { file: string, code: string } },\r\n  testName: string, className: string\r\n): Promise<Array<any>> {\r\n  return new Promise(async (resolve, reject) => {\r\n    console.log(\r\n      \"Running tests for \",\r\n      filePath,\r\n      language,\r\n      framework,\r\n      testTitle,\r\n    );\r\n    console.log(sourceCode, fileText, \"thing wil be written on temp file\")\r\n    console.log(testName, \"testName file\")\r\n    console.log(className, \"className file\")\r\n\r\n    // Generate unique test file name per test case\r\n    let baseFileName = fileName.replace(/\\.(js|ts|py|go|java)$/, \"\");\r\n    console.log(baseFileName, \"baseFileName1\");\r\n    // let testFileName = language.toLowerCase() === \"python\" ? `${baseFileName}_${testTitle}.py` : `${baseFileName}_${testTitle}.test.js`; \r\n    // Sanitize the baseFileName to remove invalid characters for file names\r\n    baseFileName = baseFileName.replace(/[^\\w-]/g, \"_\"); \r\n    console.log(baseFileName, \"baseFileName2\");\r\n    const UniqueId = getUniqueId()\r\n    let testFileName = ``;\r\n    switch (language.toLowerCase()) {\r\n      case \"python\":\r\n        testFileName = `${baseFileName}_${testTitle}.py`;\r\n        break;\r\n      case \"javascript\":\r\n        testFileName = `${baseFileName}_${testTitle}.test.js`;\r\n        break;\r\n      case \"typescript\":\r\n        // testFileName = `${baseFileName}_${testTitle}.test.ts`;\r\n        testFileName = `${baseFileName}_${UniqueId}.test.ts`;\r\n        break;\r\n      case \"go\":\r\n        testFileName = `${baseFileName}_test.go`; // Consider adding a unique identifier if needed\r\n        break;\r\n      case \"java\":\r\n        testFileName = `${className}.java`;\r\n        // Add more cases for other languages as needed\r\n        break;\r\n      default:\r\n        throw new Error(`Unsupported language: ${language}`);\r\n        1\r\n    } \r\n    console.log(filePath, \"..\", testFileName);\r\n    \r\n    const testFilePath = path.join(filePath, \"..\", testFileName);\r\n\r\n    console.log(\"Generated test file path:\", testFilePath);\r\n    // Modify source code if it's JavaScript\r\n    let modifiedCode = \"\";\r\n    if (language.toLowerCase() === \"javascript\" || language.toLowerCase() === \"typescript\") {\r\n      // await fs.promises.writeFile(testFilePath, combinedFileText);\r\n      modifiedCode = modifyJSCode(sourceCode);\r\n    } else if (language.toLowerCase() === \"go\" && framework.toLowerCase() === \"testify\" ) {\r\n      modifiedCode = modifyGoCode(sourceCode);\r\n    }\r\n\r\n    console.log(modifiedCode, \"modifiedCode\");\r\n\r\n    // Write the test file\r\n    try {\r\n      if (language.toLowerCase() === \"javascript\" || language.toLowerCase() === \"typescript\") {\r\n        const combinedFileText = modifiedCode + '\\n' + fileText;\r\n        await fs.promises.writeFile(testFilePath, combinedFileText);\r\n        console.log(\"File created Succesfully\");\r\n        \r\n      } else if (language.toLowerCase() === \"python\") {\r\n        await fs.promises.writeFile(testFilePath, fileText);\r\n      } else if (language.toLowerCase() === \"go\") {\r\n        const combinedFileText = fileText + '\\n' + modifiedCode;\r\n        await fs.promises.writeFile(testFilePath, combinedFileText);\r\n      } else if (language.toLowerCase() === \"java\") {\r\n        await fs.promises.writeFile(testFilePath, modifiedCode + '\\n' + fileText);\r\n      }\r\n      console.log(\"Test file written:\", testFilePath);\r\n    } catch (error) {\r\n      console.error(\"Error writing test file:\", error);\r\n      return reject(error);\r\n    }\r\n\r\n    const outputFilePath = path.join(path.dirname(testFilePath), \"gocodeo_out.txt\");\r\n    const os = require(\"os\");\r\n    const platform = os.platform();\r\n    // let command = \"\";\r\n    const command = getTestCommand(language, framework, testFilePath, testFileName, outputFilePath);\r\n    // console.log(command,\"commandd\");\r\n    \r\n    try {\r\n      runCommandSync(command);\r\n\r\n      await waitForFile(outputFilePath, 5000);\r\n\r\n      let sampleOutput = \"\";\r\n      try {\r\n        sampleOutput = await fs.promises.readFile(outputFilePath, \"utf8\");\r\n        console.log(\"Test Output:\", sampleOutput);\r\n      } catch (error) {\r\n        console.error(\"Error reading output file:\", error);\r\n      }\r\n\r\n      let testResults = [];\r\n      if ([\"javascript\", \"typescript\"].includes(language.toLowerCase())) {\r\n        // testResults = parseJSTestOutput(sampleOutput, testTitle, framework);\r\n        if (framework.toLowerCase() === \"mocha\") {\r\n          testResults = parseMochaTestOutput(sampleOutput, testTitle, testName);\r\n        } else if (framework.toLowerCase() === \"jest\" || framework.toLowerCase() === \"react testing library\") {\r\n          testResults = parseJSTestOutput(sampleOutput, testTitle, testName);\r\n        }\r\n      } else if (language.toLowerCase() === \"python\") {\r\n        if (framework === \"unittest\") {\r\n          console.log(\"Parsing unittest output...\");\r\n          testResults = parsePythonUnittestOutput(sampleOutput, testTitle, testName);\r\n        } else if (framework === \"pytest\") {\r\n          console.log(\"Parsing pytest output...\");\r\n          testResults = parsePythonPytestOutput(sampleOutput, testTitle, testName);\r\n        }\r\n\r\n      } else if (language.toLowerCase() === \"go\") {\r\n        if (framework.toLowerCase() === \"testify\") {\r\n          console.log(\"Parsing Testify output...\");\r\n          testResults = parseGoTestifyOutput(sampleOutput,testTitle,testName);\r\n        } else if (framework.toLowerCase() === \"ginkgo\") {\r\n          console.log(\"Parsing Ginkgo output...\");\r\n          testResults = parseGoGinkgoOutput(sampleOutput,testTitle,testName);\r\n        }\r\n      } else if (language.toLowerCase() === \"java\") {\r\n        if (framework.toLowerCase() === \"junit\") {\r\n          console.log(\"Parsing Testify output...\");\r\n          testResults = parseJunitTestOutput(\r\n            sampleOutput,\r\n            testTitle,\r\n            testName\r\n          );\r\n        }\r\n      }\r\n      console.log(testResults, \"testResultxyz\");\r\n      console.log(sampleOutput, \"sampleOutputxyz\");\r\n      console.log(testTitle, \"testTitlexyz\");\r\n      resolve(testResults);\r\n    } catch (error) {\r\n      console.error(\"Error during test execution:\", error);\r\n      reject(error);\r\n    } finally {\r\n      // Clean up: Delete the test file\r\n      if (fs.existsSync(testFilePath)) {\r\n        console.log(\"File exists:\", testFilePath);\r\n        \r\n        try {\r\n          fs.unlinkSync(testFilePath);\r\n          console.log(\"Deleted temporary test file:\", testFilePath);\r\n        } catch (error) {\r\n          console.error(\"Error deleting test file:\", error);\r\n        }\r\n      }\r\n    }\r\n  });\r\n}\r\n \r\n// export async function runTestsFile(\r\n//   filePath: string,\r\n//   fileName: string,\r\n//   fileText: string,\r\n//   language: string,\r\n//   framework: string,\r\n//   testTitle: string,\r\n//   sourceCode: { imports: any[], main: { file: string, code: string } },\r\n//   testName: string, className: string\r\n// ): Promise<Array<any>> {\r\n//   return new Promise(async (resolve, reject) => {\r\n//     console.log(\r\n//       \"Running tests for \",\r\n//       filePath,\r\n//       language,\r\n//       framework,\r\n//       testTitle, \r\n//     );\r\n//     console.log(sourceCode, fileText, \"thing wil be written on temp file\")\r\n//     console.log(testName, \"testName file\")\r\n//     console.log(className, \"className file\")\r\n\r\n//     // Generate unique test file name per test case\r\n//     let baseFileName = fileName.replace(/\\.(js|ts|py|go|java)$/, \"\");\r\n//     // let testFileName = language.toLowerCase() === \"python\" ? `${baseFileName}_${testTitle}.py` : `${baseFileName}_${testTitle}.test.js`;  \r\n//     let testFileName = ``;\r\n//     switch (language.toLowerCase()) {\r\n//       case \"python\":\r\n//         testFileName = `${baseFileName}_${testTitle}.py`;\r\n//         break;\r\n//       case \"javascript\":\r\n//       case \"typescript\":\r\n//         testFileName = `${baseFileName}_${testTitle}.test.js`;\r\n//         break;\r\n//       case \"go\":\r\n//         testFileName = `${baseFileName}_test.go`; // Consider adding a unique identifier if needed\r\n//         break;\r\n//       case \"java\":\r\n//         testFileName = `${className}.java`;\r\n//       // Add more cases for other languages as needed\r\n//         break;\r\n//       default:\r\n//         throw new Error(`Unsupported language: ${language}`);\r\n//         1\r\n//     }\r\n  \r\n//     const testFilePath = path.join(filePath, \"..\", testFileName);\r\n\r\n//     console.log(\"Generated test file path:\", testFilePath);\r\n//     // Modify source code if it's JavaScript\r\n//     let modifiedCode = \"\";\r\n//     if (language.toLowerCase() === \"javascript\" || language.toLowerCase() === \"typescript\") {\r\n//       // await fs.promises.writeFile(testFilePath, combinedFileText);\r\n//        modifiedCode = modifyJSCode(sourceCode);\r\n//     } else if (language.toLowerCase() === \"go\") {\r\n//       modifiedCode = modifyGoCode(sourceCode);\r\n//     }\r\n   \r\n//     console.log(modifiedCode, \"modifiedCode\");\r\n  \r\n//     // Write the test file\r\n//     try {\r\n//       if (language.toLowerCase() === \"javascript\" || language.toLowerCase() === \"typescript\") {\r\n//         const combinedFileText = modifiedCode + '\\n' + fileText;\r\n//         await fs.promises.writeFile(testFilePath, combinedFileText);\r\n//       } else if (language.toLowerCase() === \"python\"  ) {\r\n//         await fs.promises.writeFile(testFilePath, fileText);\r\n//       } else if (language.toLowerCase() === \"go\") {\r\n//         const combinedFileText = fileText + '\\n' + modifiedCode;\r\n//         await fs.promises.writeFile(testFilePath, combinedFileText);\r\n//       } else if (language.toLowerCase() === \"java\") {\r\n//         await fs.promises.writeFile(testFilePath, modifiedCode + '\\n' + fileText);\r\n//       }\r\n//       console.log(\"Test file written:\", testFilePath);\r\n//     } catch (error) {\r\n//       console.error(\"Error writing test file:\", error);\r\n//       return reject(error);\r\n//     }\r\n\r\n//     const outputFilePath = path.join(path.dirname(testFilePath), \"gocodeo_out.txt\");\r\n//     const os = require(\"os\");\r\n//     const platform = os.platform();\r\n//     let command = \"\";\r\n\r\n//     // Set up commands for JavaScript/TypeScript\r\n//     if ([\"javascript\", \"typescript\"].includes(language.toLowerCase())) {\r\n//       const jsFramework = getStoreKey(\"gocodeo.jsTestFramework\") || \"jest\";\r\n//       const testDirectory = path.dirname(testFilePath);\r\n//        const installFramework =\r\n//         jsFramework.toLowerCase() === \"react testing library\"\r\n//           ? platform === \"win32\"\r\n//             ? `npm install --save-dev @testing-library/react @testing-library/jest-dom @testing-library/user-event && `\r\n//             : `npm install --save-dev @testing-library/react @testing-library/jest-dom @testing-library/user-event; `\r\n//           : platform === \"win32\"\r\n//             ? `npm install --save-dev ${jsFramework.toLowerCase()} && `\r\n//             : `npm install --save-dev ${jsFramework.toLowerCase()}; `;\r\n\r\n//       // command = `${installFramework}cd ${path.dirname(testFilePath)} && npx jest --testPathPattern=\"${testFileName}\" --verbose --passWithNoTests > \"${outputFilePath}\" 2>&1`;\r\n//       if (jsFramework.toLowerCase() === \"mocha\") {\r\n//         command = `${installFramework}cd ${testDirectory} && npx mocha \"${testFileName}\" --reporter spec > \"${outputFilePath}\" 2>&1`;\r\n//       } else if (jsFramework.toLowerCase() === \"jest\") {\r\n//         command = `${installFramework}cd ${testDirectory} && npx jest --testPathPattern=\"${testFileName}\" --verbose --passWithNoTests > \"${outputFilePath}\" 2>&1`;\r\n//       } else if (jsFramework.toLowerCase() === \"react testing library\") {\r\n//         command = `${installFramework}cd ${testDirectory} && npx jest --testPathPattern=\"${testFileName}\" --verbose --passWithNoTests > \"${outputFilePath}\" 2>&1`;\r\n//       }\r\n//       console.log(command, jsFramework.toLowerCase(), \"commandd\");\r\n\r\n//     } else if (language.toLowerCase() === \"python\") {\r\n//       // Python (Pytest)\r\n//       const installFramework =\r\n//         platform === \"win32\"\r\n//           ? `pip install coverage && pip install ${framework}`\r\n//           : `pip3 install coverage; pip3 install ${framework}`;\r\n\r\n//       if (framework === \"nose\") {\r\n//         try {\r\n//           await installNose2();\r\n//         } catch (err) {\r\n//           return reject(err);\r\n//         }\r\n//       }\r\n\r\n//       if (framework === \"pytest\") {\r\n//         command =\r\n//           platform === \"win32\"\r\n//             ? `${installFramework} && cd ${path.dirname(testFilePath)} && python -m pytest ${testFileName} -v > \"${outputFilePath}\" 2>&1`\r\n//             : `${installFramework}; cd ${path.dirname(testFilePath)}; python3 -m pytest ${testFileName} -v > \"${outputFilePath}\" 2>&1`;\r\n//       } else if (framework === \"unittest\") {\r\n//         command =\r\n//           platform === \"win32\"\r\n//             ? `cd ${path.dirname(testFilePath)} && python -m unittest ${testFileName} -v > \"${outputFilePath}\" 2>&1`\r\n//             : `cd ${path.dirname(testFilePath)}; python3 -m unittest ${testFileName} > \"${outputFilePath}\" 2>&1`;\r\n//       } else if (framework === \"nose\") {\r\n//         command = platform === \"win32\"\r\n//           ? `${installFramework} && cd ${path.dirname(testFilePath)} && python -m nose2 ${testFileName} -v > \"${outputFilePath}\" 2>&1`\r\n//           : `${installFramework}; cd ${path.dirname(testFilePath)}; python3 -m nose2 ${testFileName} -v > \"${outputFilePath}\" 2>&1`;\r\n//       }\r\n//     } else if (language.toLowerCase() === \"go\") {\r\n//       // Go Testify\r\n//       const installFramework =\r\n//         platform === \"win32\"\r\n//           ? `go get github.com/stretchr/testify/assert@latest`\r\n//           : `go get github.com/stretchr/testify/assert@latest`;\r\n\r\n//       const goModFilePath = path.join(path.dirname(testFilePath), \"go.mod\");\r\n//       const testDir = path.dirname(testFilePath);\r\n\r\n//       try {\r\n//         // Ensure go.mod exists or create it\r\n//         if (!fs.existsSync(goModFilePath)) {\r\n//           console.log(`Creating go.mod file in ${testDir}`);\r\n//           const goModInitCommand = `cd ${testDir} && go mod init gocodeo_tests`;\r\n//           runCommandSync(goModInitCommand);\r\n//         }\r\n\r\n//         // Install Testify and tidy up dependencies\r\n//         const installTestifyCommand = `cd ${testDir} && ${installFramework} && go mod tidy`;\r\n//         runCommandSync(installTestifyCommand);\r\n\r\n//         // Run the Go tests\r\n//         command = `cd ${testDir} && go test -v ${testFileName} > \"${outputFilePath}\" 2>&1`;\r\n//         console.log(command, \"Executing Testify test command\");\r\n\r\n//         runCommandSync(command);\r\n//       } catch (error) {\r\n//         console.error(\"Error setting up or running Go tests with Testify:\", error.message);\r\n//         return reject(new Error(\"Failed to run Testify tests. Check the console for details.\"));\r\n//       }\r\n//     } else if (language.toLowerCase() === \"java\") {\r\n//       // Java (JUnit)\r\n//       const installFramework = platform === \"win32\" ? `mvn install` : `mvn install`;\r\n\r\n//       const testDir = path.dirname(testFilePath);\r\n\r\n//       command = `cd ${testDir} && mvn test -Dtest=${testFileName} > \"${outputFilePath}\" 2>&1`;\r\n//       console.log(command, \"Executing JUnit test command\");\r\n\r\n//     } else {\r\n//       return reject(new Error(\"Unsupported language for test execution\"));\r\n//     }\r\n\r\n//     try {\r\n//       runCommandSync(command);\r\n\r\n//       await waitForFile(outputFilePath, 5000);\r\n\r\n//       let sampleOutput = \"\";\r\n//       try {\r\n//         sampleOutput = await fs.promises.readFile(outputFilePath, \"utf8\");\r\n//         console.log(\"Test Output:\", sampleOutput);\r\n//       } catch (error) {\r\n//         console.error(\"Error reading output file:\", error);\r\n//       }\r\n\r\n//       let testResults = [];\r\n//       if ([\"javascript\", \"typescript\"].includes(language.toLowerCase())) {\r\n//         // testResults = parseJSTestOutput(sampleOutput, testTitle, framework);\r\n//         if (framework.toLowerCase() === \"mocha\") {\r\n//           testResults = parseMochaTestOutput(sampleOutput, testTitle, testName);\r\n//         } else if (framework.toLowerCase() === \"jest\" || framework.toLowerCase() === \"react testing library\") {\r\n//           testResults = parseJSTestOutput(sampleOutput, testTitle,  testName);\r\n//         }\r\n//       } else if (language.toLowerCase() === \"python\") { \r\n//         if (framework === \"unittest\") {\r\n//           console.log(\"Parsing unittest output...\");\r\n//           testResults = parsePythonUnittestOutput(sampleOutput, testTitle, testName);\r\n//         } else if (framework === \"pytest\") {\r\n//           console.log(\"Parsing pytest output...\");\r\n//           testResults = parsePythonPytestOutput(sampleOutput, testTitle, testName);\r\n//         }\r\n\r\n//       } else if (language.toLowerCase() === \"go\") {\r\n//         if (framework.toLowerCase() === \"testify\") {\r\n//           console.log(\"Parsing Testify output...\");\r\n//           testResults = parseGoTestifyOutput(\r\n//             sampleOutput,\r\n//             testTitle,\r\n//             testName\r\n//           );\r\n//         }\r\n//       } else if (language.toLowerCase() === \"java\") {\r\n//         if (framework.toLowerCase() === \"junit\") {\r\n//           console.log(\"Parsing Testify output...\");\r\n//           testResults = parseJunitTestOutput(\r\n//             sampleOutput,\r\n//             testTitle,\r\n//             testName\r\n//           );\r\n//         }\r\n//       }\r\n//       console.log(testResults, \"testResultxyz\");\r\n//       console.log(sampleOutput, \"sampleOutputxyz\");\r\n//       console.log(testTitle, \"testTitlexyz\");\r\n//       resolve(testResults);\r\n//     } catch (error) {\r\n//       console.error(\"Error during test execution:\", error);\r\n//       reject(error);\r\n//     } finally {\r\n//       // Clean up: Delete the test file\r\n//       if (fs.existsSync(testFilePath)) {\r\n//         try {\r\n//           fs.unlinkSync(testFilePath);\r\n//           console.log(\"Deleted temporary test file:\", testFilePath);\r\n//         } catch (error) {\r\n//           console.error(\"Error deleting test file:\", error);\r\n//         }\r\n//       }\r\n//     }\r\n//   });\r\n// }\r\n ","export function modifyGoCode(sourceCode: any) {\r\n    // Combine all imports into a single string\r\n    let imports = sourceCode.imports.join('\\n');\r\n    let code = sourceCode.main.code;\r\n\r\n    // Remove any `package` declaration from the source code, including `package mathutils`\r\n    code = code.replace(/^\\s*package\\s+\\w+\\s*\\n/, ''); // Matches `package <identifier>` at the start of the file\r\n\r\n    // Remove `import` statements block from the source code\r\n    code = code.replace(/^\\s*import\\s+\\(([\\s\\S]*?)\\)\\s*\\n/, ''); // Matches `import (...)` block\r\n    code = code.replace(/^\\s*import\\s+\"[^\"]+\"\\s*\\n/gm, ''); // Matches single `import \"...\"` lines\r\n\r\n    // Combine imports and remaining source code with proper order\r\n    const combinedCode = `${imports}\\n\\n${code.trim()}`; // Trim to remove leading/trailing spaces\r\n    return combinedCode;\r\n}\r\n","//@ts-nocheck\r\n//@ts-ignore\r\n/* eslint-disable */\r\n\r\nexport function parseGoTestifyOutput(\r\n    output: string,\r\n    testTitle: string,\r\n    testName: string\r\n): Array<{\r\n    testTitle: string;\r\n    testResult: string;\r\n    testFailureReason: string;\r\n    executionTime?: string;\r\n    uniqeTitle: string;\r\n}> {\r\n    if (!output.trim()) return [];\r\n\r\n    const testResults = [];\r\n    const lines = output.split('\\n');\r\n    let matched = false; // Flag to track if any known pattern matched\r\n\r\n    lines.forEach((line) => {\r\n       if (line.includes(\"--- PASS\")) {\r\n            // Test case passed\r\n            const match = line.match(/--- PASS:\\s+(.+)\\s\\((\\d+\\.\\d+s)\\)/);\r\n            if (match) {\r\n                testResults.push({\r\n                    testTitle: match[1],\r\n                    testResult: \"passed\",\r\n                    executionTime: match[2],\r\n                    testFailureReason: \"\",\r\n                    uniqeTitle: testName,\r\n                });\r\n                matched = true;\r\n            }\r\n        } else if (line.includes(\"--- FAIL\")) {\r\n            // Test case failed\r\n            const match = line.match(/--- FAIL:\\s+(.+)\\s\\((\\d+\\.\\d+s)\\)/);\r\n            if (match) {\r\n                testResults.push({\r\n                    testTitle: match[1],\r\n                    testResult: \"failed\",\r\n                    executionTime: match[2],\r\n                    testFailureReason: output,\r\n                    uniqeTitle: testName,\r\n                });\r\n                matched = true;\r\n            }\r\n        } else if (line.includes(\"FAIL\")) {\r\n            // Entire test suite failed\r\n            const match = line.match(/FAIL\\s+(.+)/);\r\n            if (match) {\r\n                testResults.push({\r\n                    testTitle: match[1],\r\n                    testResult: \"failed\",\r\n                    testFailureReason: output,\r\n                    uniqeTitle: testName,\r\n                });\r\n                matched = true;\r\n            }\r\n        } else if (line.includes(\"PASS\")) {\r\n            // Entire test suite passed\r\n            const match = line.match(/PASS\\s+(.+)/);\r\n            if (match) {\r\n                testResults.push({\r\n                    testTitle: match[1],\r\n                    testResult: \"passed\",\r\n                    testFailureReason: \"\",\r\n                    uniqeTitle: testName,\r\n                });\r\n                matched = true;\r\n            }\r\n        }\r\n    });\r\n\r\n    // Fallback for unrecognized output\r\n    if (!matched) {\r\n        testResults.push({\r\n            testTitle: \"Unrecognized Test Output\",\r\n            testResult: \"failed\",\r\n            testFailureReason: output, // Include the entire output for debugging\r\n            uniqeTitle: testName,\r\n        });\r\n    }\r\n\r\n    console.log(testResults, \"parseGoTestifyOutput\");\r\n\r\n    return testResults;\r\n}\r\n \r\nexport function parseGoGinkgoOutput(\r\n    output: string,\r\n    testTitle: string,\r\n    testName: string\r\n): Array<{\r\n    testTitle: string;\r\n    testResult: string;\r\n    testFailureReason: string;\r\n    executionTime?: string;\r\n    uniqeTitle: string;\r\n}> {\r\n    console.log(output, \"ginkgoOutput\");\r\n\r\n    // Strip ANSI color codes using a regex\r\n    const cleanedOutput = output.replace(/\\x1b\\[[0-9;]*m/g, '');\r\n\r\n    if (!cleanedOutput.trim()) return [];\r\n\r\n    const testResults = [];\r\n    const lines = cleanedOutput.split(\"\\n\");\r\n    let matched = false; // Flag to track if any known pattern matched\r\n\r\n    lines.forEach((line) => {\r\n        if (line.includes(\"[PASS]\")) {\r\n            const match = line.match(/\\[PASS\\]\\s+(\\S+)\\s+(\\d+\\.\\d+s)/);\r\n            if (match) {\r\n                testResults.push({\r\n                    testTitle: match[1],\r\n                    testResult: \"passed\",\r\n                    executionTime: match[2],\r\n                    testFailureReason: \"\",\r\n                    uniqeTitle: testName,\r\n                });\r\n                matched = true;\r\n            }\r\n        } else if (line.includes(\"[FAIL]\")) {\r\n            const match = line.match(/\\[FAIL\\]\\s+(\\S+)\\s+(\\d+\\.\\d+s)/);\r\n            if (match) {\r\n                testResults.push({\r\n                    testTitle: match[1],\r\n                    testResult: \"failed\",\r\n                    executionTime: match[2],\r\n                    testFailureReason: cleanedOutput,\r\n                    uniqeTitle: testName,\r\n                });\r\n                matched = true;\r\n            }\r\n        } else if (line.includes(\"Test Suite Passed\")) {\r\n            testResults.push({\r\n                testTitle: testTitle || \"Test Suite\",\r\n                testResult: \"passed\",\r\n                executionTime: undefined,\r\n                testFailureReason: \"\",\r\n                uniqeTitle: testName,\r\n            });\r\n            matched = true;\r\n        }\r\n    });\r\n\r\n    if (!matched) {\r\n        testResults.push({\r\n            testTitle: \"Unrecognized Test Output\",\r\n            testResult: \"failed\",\r\n            testFailureReason: cleanedOutput,\r\n            uniqeTitle: testName,\r\n        });\r\n    }\r\n\r\n    return testResults;\r\n}\r\n\r\n\r\n\r\nexport function parseJunitTestOutput(\r\n    output: string,\r\n    testTitle: string,\r\n    testName: string\r\n): Array<{\r\n    testTitle: string;\r\n    testResult: string;\r\n    testFailureReason: string;\r\n    executionTime?: string;\r\n    uniqeTitle: string;\r\n}> {\r\n    if (!output.trim()) return [];\r\n\r\n    const testResults = [];\r\n    const lines = output.split('\\n');\r\n    let matched = false; // Flag to track if any known pattern matched\r\n\r\n    // Check for Maven POM-related errors\r\n    if (output.includes(\"there is no POM in this directory\")) {\r\n        testResults.push({\r\n            testTitle: \"Maven Configuration Error\",\r\n            testResult: \"error\",\r\n            testFailureReason: \"No POM file found in the specified directory.\",\r\n            uniqeTitle: testName,\r\n        });\r\n        console.log(testResults, \"parseJunitTestOutput - POM Error\");\r\n        return testResults;\r\n    }\r\n\r\n    lines.forEach((line) => {\r\n        // Match for individual test results (Passed)\r\n        if (line.includes(\"<testcase\")) {\r\n            const matchPass = line.match(/<testcase.*name=\"([^\"]+)\".*time=\"([^\"]+)\".*\\/>/);\r\n            if (matchPass) {\r\n                testResults.push({\r\n                    testTitle: matchPass[1],\r\n                    testResult: \"passed\",\r\n                    executionTime: matchPass[2],\r\n                    testFailureReason: \"\",\r\n                    uniqeTitle: testName,\r\n                });\r\n                matched = true;\r\n            }\r\n        } else if (line.includes(\"<failure\")) {\r\n            // Test case failed\r\n            const matchFail = line.match(/<testcase.*name=\"([^\"]+)\".*time=\"([^\"]+)\".*><failure.*message=\"([^\"]+)\"/);\r\n            if (matchFail) {\r\n                testResults.push({\r\n                    testTitle: matchFail[1],\r\n                    testResult: \"failed\",\r\n                    executionTime: matchFail[2],\r\n                    testFailureReason: matchFail[3],\r\n                    uniqeTitle: testName,\r\n                });\r\n                matched = true;\r\n            }\r\n        } else if (line.includes(\"<error\")) {\r\n            // Test case error\r\n            const matchError = line.match(/<testcase.*name=\"([^\"]+)\".*time=\"([^\"]+)\".*><error.*message=\"([^\"]+)\"/);\r\n            if (matchError) {\r\n                testResults.push({\r\n                    testTitle: matchError[1],\r\n                    testResult: \"failed\",\r\n                    executionTime: matchError[2],\r\n                    testFailureReason: matchError[3],\r\n                    uniqeTitle: testName,\r\n                });\r\n                matched = true;\r\n            }\r\n        }\r\n    });\r\n\r\n    // Fallback for unrecognized output\r\n    if (!matched) {\r\n        testResults.push({\r\n            testTitle: \"Unrecognized Test Output\",\r\n            testResult: \"failed\",\r\n            testFailureReason: output, // Include the entire output for debugging\r\n            uniqeTitle: testName,\r\n        });\r\n    }\r\n\r\n    console.log(testResults, \"parseJunitTestOutput\");\r\n\r\n    return testResults;\r\n}\r\n\r\nexport function parseMochaTestOutput(output: string, testTitle: string, testName: string): Array<any> {\r\n    if (!output.trim()) return [];\r\n    console.log(testName, \"parseMochaTestOutputTestName\");\r\n\r\n    const testResults:any = [];\r\n    const lines = output.split(\"\\n\");\r\n    let hasFailingTests = false; // Flag to track if there are failing tests\r\n    let matched = false; // Flag to track if any known pattern matched\r\n\r\n    lines.forEach((line) => {\r\n        // Parse passing tests\r\n        if (line.trim().startsWith(\"√\")) {\r\n            const match = line.match(/√ (.+)/);\r\n            if (match) {\r\n                const testTitleName = match[1];\r\n                testResults.push({\r\n                    testTitle: testTitleName,\r\n                    testResult: \"passed\",\r\n                    executionTime: \"\", // Execution time is summarized later\r\n                    testFailureReason: \"\",\r\n                    uniqeTitle: testName,\r\n                });\r\n                matched = true; // Set matched to true for this line\r\n            }\r\n        }\r\n\r\n        // Parse summary line for execution time\r\n        if (line.trim().endsWith(\"passing\")) {\r\n            const match = line.match(/(\\d+) passing \\((\\d+ms)\\)/);\r\n            if (match) {\r\n                const executionTime = match[2];\r\n                testResults.forEach((result: any) => {\r\n                    if (result.testResult === \"passed\") {\r\n                        result.executionTime = executionTime; // Assign execution time to passed tests\r\n                    }\r\n                });\r\n                matched = true; // Set matched to true for this line\r\n            }\r\n        }\r\n\r\n        // Parse failing tests (AssertionError or other failures)\r\n        if (line.trim().startsWith(\"✖\") || line.includes(\"AssertionError\")) {\r\n            hasFailingTests = true; // Set flag to true if there is a failing test\r\n            const match = line.match(/✖ (.+)/) || line.match(/(.+): AssertionError/);\r\n            const testTitleName = match ? match[1] : testTitle; // Default to testTitle if no match\r\n            testResults.push({\r\n                testTitle: testTitleName,\r\n                testResult: \"failed\",\r\n                executionTime: \"\", // Add detailed time if available in future\r\n                testFailureReason: output, // Attach the entire output for failing tests\r\n                uniqeTitle: testName,\r\n            });\r\n            matched = true; // Set matched to true for this line\r\n        }\r\n        if (line.includes(\"SyntaxError\") && !line.includes(\"AssertionError\")) {\r\n            testResults.push({\r\n                testTitle: \"Test Suite Error\",\r\n                testResult: \"failed\",\r\n                testFailureReason: output,\r\n                uniqeTitle: testName,\r\n            });\r\n            matched = true; // Set matched to true for this line\r\n        }\r\n        if (line.includes(\"ReferenceError\") && !line.includes(\"AssertionError\")) {\r\n            testResults.push({\r\n                testTitle: \"Test Suite Error\",\r\n                testResult: \"failed\",\r\n                testFailureReason: output,\r\n                uniqeTitle: testName,\r\n            });\r\n            matched = true; // Set matched to true for this line\r\n        }\r\n        if (line.includes(\"TypeError\") || line.includes(\"RangeError\") || line.includes(\"Timeout of\") || line.includes(\"UnhandledPromiseRejection\") || line.includes(\"Cannot find module\") || line.includes(\"DeprecationWarning\") || line.includes(\"Unhandled event\")) {\r\n            testResults.push({\r\n                testTitle: \"Test Suite Error\",\r\n                testResult: \"failed\",\r\n                testFailureReason: output,\r\n                uniqeTitle: testName,\r\n            });\r\n            matched = true;\r\n        }\r\n        \r\n\r\n        // Parse suite-level errors (like syntax errors, runtime issues)\r\n        if (line.includes(\"Error\") && !line.includes(\"AssertionError\")) {\r\n            testResults.push({\r\n                testTitle: \"Test Suite Error\",\r\n                testResult: \"error\",\r\n                testFailureReason: output,\r\n                uniqeTitle: testName,\r\n            });\r\n            matched = true; // Set matched to true for this line\r\n        }\r\n    });\r\n\r\n    // Add a fallback if no patterns matched\r\n    if (!matched) {\r\n        testResults.push({\r\n            testTitle: \"Unrecognized Test Output\",\r\n            testResult: \"failed\",\r\n            executionTime: \"\", // Optional: Extract total time if present\r\n            testFailureReason: output, // Include the entire test run output for debugging\r\n            uniqeTitle: testName,\r\n        });\r\n    }\r\n\r\n    // If there are any failing tests, ensure the whole output is captured in the result\r\n    if (hasFailingTests) {\r\n        testResults.push({\r\n            testTitle: \"Test Run Failed\",\r\n            testResult: \"failed\",\r\n            executionTime: \"\", // Optional: Extract total time if present\r\n            testFailureReason: output, // Include the entire test run output for debugging\r\n            uniqeTitle: testTitle,\r\n        });\r\n    }\r\n\r\n    console.log(testResults, \"parseMochaTestOutput\");\r\n    return testResults;\r\n}\r\n\r\nexport function parseJSTestOutput(output, testTitle, testName) {\r\n    if (!output.trim()) return [];\r\n\r\n    const testResults = [];\r\n    const lines = output.split('\\n');\r\n    let isConfigError = false;\r\n    let matched = false; // Flag to track if any known pattern matched\r\n\r\n    // Check for configuration-related errors\r\n    if (output.includes('Could not find a config file')) {\r\n        isConfigError = true;\r\n        testResults.push({\r\n            testTitle: 'Config Error',\r\n            testResult: 'error',\r\n            testFailureReason: 'Jest configuration file not found or invalid.',\r\n            uniqeTitle: testName,\r\n        });\r\n        matched = true; // Mark as matched since this is a known case\r\n    }\r\n\r\n    // If it's not a config error, parse the test output normally\r\n    if (!isConfigError) {\r\n        lines.forEach((line) => {\r\n            if (line.startsWith('FAIL')) {\r\n                const match = line.match(/FAIL (.*)/);\r\n                if (match) {\r\n                    const testFile = match[1];\r\n                    testResults.push({\r\n                        testTitle: testFile,\r\n                        testResult: 'failed',\r\n                        testFailureReason: output,\r\n                        uniqeTitle: testName,\r\n                    });\r\n                    matched = true; // Mark as matched\r\n                }\r\n            } else if (line.startsWith('✕')) {\r\n                const match = line.match(/✕ (.*) \\((.*)\\)/);\r\n                if (match) {\r\n                    const testTitleName = match[1];\r\n                    const time = match[2];\r\n                    testResults.push({\r\n                        testTitle: testTitleName,\r\n                        testResult: 'failed',\r\n                        executionTime: time,\r\n                        testFailureReason: output,\r\n                        uniqeTitle: testName,\r\n                    });\r\n                    matched = true; // Mark as matched\r\n                }\r\n            } else if (line.startsWith('✔')) {\r\n                const match = line.match(/✔ (.*) \\((.*)\\)/);\r\n                if (match) {\r\n                    const testTitleName = match[1];\r\n                    const time = match[2];\r\n                    testResults.push({\r\n                        testTitle: testTitleName,\r\n                        testResult: 'passed',\r\n                        executionTime: time,\r\n                        testFailureReason: '',\r\n                        uniqeTitle: testName,\r\n                    });\r\n                    matched = true; // Mark as matched\r\n                }\r\n            } else if (line.includes('PASS')) {\r\n                const match = line.match(/PASS (.*)/);\r\n                if (match) {\r\n                    const suiteName = match[1];\r\n                    testResults.push({\r\n                        testTitle: suiteName,\r\n                        testResult: 'passed',\r\n                        testFailureReason: '',\r\n                        uniqeTitle: testName,\r\n                    });\r\n                    matched = true; // Mark as matched\r\n                }\r\n            } else if (line.includes('Your test suite must contain at least one test.')) {\r\n                testResults.push({\r\n                    testTitle: 'Test Suite',\r\n                    testResult: 'failed',\r\n                    testFailureReason: 'No tests defined',\r\n                    uniqeTitle: testName,\r\n                });\r\n                matched = true; // Mark as matched\r\n            } else if (line.includes(\"TypeError\") || line.includes(\"RangeError\") || line.includes(\"Timeout of\") || line.includes(\"UnhandledPromiseRejection\") || line.includes(\"Cannot find module\") || line.includes(\"DeprecationWarning\") || line.includes(\"Unhandled event\")) {\r\n                testResults.push({\r\n                    testTitle: \"Test Suite Error\",\r\n                    testResult: \"failed\",\r\n                    testFailureReason: output,\r\n                    uniqeTitle: testName,\r\n                });\r\n                matched = true;\r\n            }\r\n        });\r\n    }\r\n\r\n    // Fallback for unrecognized outputs\r\n    if (!matched) {\r\n        testResults.push({\r\n            testTitle: 'Unrecognized Test Output',\r\n            testResult: 'failed',\r\n            executionTime: '', // Optionally extract total time\r\n            testFailureReason: output, // Include the entire output for debugging\r\n            uniqeTitle: testName,\r\n        });\r\n    }\r\n\r\n    console.log(testResults, \"parseJSTestOutput\");\r\n\r\n    return testResults;\r\n}\r\n\r\nexport function parsePythonPytestOutput(output, testTitle, testName) {\r\n    console.log(\"Parsing output:\", output);\r\n\r\n    if (output.trim() === \"\") {\r\n        return [];\r\n    }\r\n\r\n    const lines = output.split(\"\\n\");\r\n    const testResults = [];\r\n    let matched = false; // Track if any line matches the expected patterns\r\n    let i = 0;\r\n\r\n    while (i < lines.length) {\r\n        const line = lines[i].trim();\r\n        console.log(\"Line:\", line);\r\n\r\n        // Check for passed test\r\n        const passedMatch = line.match(/^(.*) PASSED.*$/);\r\n        if (passedMatch) {\r\n            const testTitleName = passedMatch[1].trim(); // Get the test case name\r\n            testResults.push({\r\n                testTitle: testTitleName,\r\n                testResult: \"passed\",\r\n                testFailureReason: \"\",\r\n                uniqeTitle: testName,\r\n            });\r\n            matched = true;\r\n            i++;\r\n            continue;\r\n        }\r\n\r\n        // Check for failed test\r\n        const failedMatch = line.match(/^(.*) FAILED.*$/);\r\n        if (failedMatch) {\r\n            const testTitleName = failedMatch[1].trim(); // Get the test case name\r\n            testResults.push({\r\n                testTitle: testTitleName,\r\n                testResult: \"failed\",\r\n                testFailureReason: output.trim(), // Attach the entire output for failed tests\r\n                uniqeTitle: testName,\r\n            });\r\n            matched = true;\r\n            i++;\r\n            continue;\r\n        }\r\n\r\n        // Check for error details\r\n        const errorMatch = line.match(/^(.*) ERROR .*$/);\r\n        if (errorMatch) {\r\n            const testTitleName = errorMatch[1].trim(); // Get the test case name\r\n            testResults.push({\r\n                testTitle: testTitleName,\r\n                testResult: \"failed\",\r\n                testFailureReason: output.trim(), // Attach the entire output for errors\r\n                uniqeTitle: testName,\r\n            });\r\n            matched = true;\r\n            i++;\r\n            continue;\r\n        }\r\n\r\n        i++;\r\n    }\r\n\r\n    // Fallback: If no matches were found, return the entire output as a failure\r\n    if (!matched) {\r\n        testResults.push({\r\n            testTitle: testTitle || \"Unknown Test\", // Use a generic title if none provided\r\n            testResult: \"failed\",\r\n            testFailureReason: output.trim(),\r\n            uniqeTitle: testName,\r\n        });\r\n    }\r\n\r\n    console.log(testResults, \"testResultsXXX\");\r\n    return testResults;\r\n}\r\n\r\nexport function parsePythonUnittestOutput(output, testTitle, testName) {\r\n    console.log(\"Parsing unittest output:\", output);\r\n\r\n    if (output.trim() === \"\") {\r\n        return [];\r\n    }\r\n\r\n    const lines = output.split(\"\\n\");\r\n    const testResults = [];\r\n    let matched = false; // Track if any line matches the expected patterns\r\n    let i = 0;\r\n\r\n    // Handle the case where the output contains a general setup or import failure (e.g., NameError)\r\n    const importErrorMatch = output.match(/NameError: name '([^']+)' is not defined/);\r\n    if (importErrorMatch) {\r\n        testResults.push({\r\n            testTitle: testTitle || \"Import Error\", // Use a generic title if testTitle is undefined\r\n            testResult: \"failed\",\r\n            testFailureReason: output.trim(), // Attach the entire output for import errors\r\n            uniqeTitle: testName,\r\n        });\r\n        return testResults; // Return early since this is a setup error\r\n    }\r\n\r\n    // Handle cases where no tests were found or executed\r\n    if (output.includes(\"NO TESTS RAN\") || output.includes(\"Ran 0 tests\")) {\r\n        testResults.push({\r\n            testTitle: \"No tests found or ran\",\r\n            testResult: \"skipped\",\r\n            testFailureReason:\r\n                \"No test cases were discovered or executed. Ensure the test methods are defined correctly and follow naming conventions.\",\r\n            uniqeTitle: testName,\r\n        });\r\n        return testResults;\r\n    }\r\n\r\n    while (i < lines.length) {\r\n        const line = lines[i].trim();\r\n        console.log(\"Line:\", line);\r\n\r\n        // Check for passed test\r\n        const passedMatch = line.match(/^(.*) \\.\\.\\. ok$/); // Matches \"test_case_name ... ok\"\r\n        if (passedMatch) {\r\n            const testTitleName = passedMatch[1].trim(); // Get the test case name\r\n            testResults.push({\r\n                testTitle: testTitleName,\r\n                testResult: \"passed\",\r\n                testFailureReason: \"\",\r\n                uniqeTitle: testName,\r\n            });\r\n            matched = true;\r\n            i++;\r\n            continue;\r\n        }\r\n\r\n        // Check for failed test\r\n        const failedMatch = line.match(/^(.*) \\.\\.\\. FAIL$/); // Matches \"test_case_name ... FAIL\"\r\n        if (failedMatch) {\r\n            const testTitleName = failedMatch[1].trim(); // Get the test case name\r\n            testResults.push({\r\n                testTitle: testTitleName,\r\n                testResult: \"failed\",\r\n                testFailureReason: output.trim(), // Attach the entire output for failed tests\r\n                uniqeTitle: testName,\r\n            });\r\n            matched = true;\r\n            i++;\r\n            continue;\r\n        }\r\n\r\n        // Check for errors\r\n        const errorMatch = line.match(/^(.*) \\.\\.\\. ERROR$/); // Matches \"test_case_name ... ERROR\"\r\n        if (errorMatch) {\r\n            const testTitleName = errorMatch[1].trim(); // Get the test case name\r\n            testResults.push({\r\n                testTitle: testTitleName,\r\n                testResult: \"failed\",\r\n                testFailureReason: output.trim(), // Attach the entire output for errors\r\n                uniqeTitle: testName,\r\n            });\r\n            matched = true;\r\n            i++;\r\n            continue;\r\n        }\r\n\r\n        i++;\r\n    }\r\n\r\n    // Fallback: If no matches were found, return the entire output as a failure\r\n    if (!matched) {\r\n        testResults.push({\r\n            testTitle: testTitle || \"Unknown Test\", // Use a generic title if none provided\r\n            testResult: \"failed\",\r\n            testFailureReason: output.trim(), // Attach the full output for debugging\r\n            uniqeTitle: testName,\r\n        });\r\n    }\r\n\r\n    console.log(testResults, \"testResultsUnittest\");\r\n    return testResults;\r\n}","function Diff() {}\nDiff.prototype = {\n  diff: function diff(oldString, newString) {\n    var _options$timeout;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var callback = options.callback;\n\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    this.options = options;\n    var self = this;\n\n    function done(value) {\n      if (callback) {\n        setTimeout(function () {\n          callback(undefined, value);\n        }, 0);\n        return true;\n      } else {\n        return value;\n      }\n    } // Allow subclasses to massage the input prior to running\n\n\n    oldString = this.castInput(oldString);\n    newString = this.castInput(newString);\n    oldString = this.removeEmpty(this.tokenize(oldString));\n    newString = this.removeEmpty(this.tokenize(newString));\n    var newLen = newString.length,\n        oldLen = oldString.length;\n    var editLength = 1;\n    var maxEditLength = newLen + oldLen;\n\n    if (options.maxEditLength) {\n      maxEditLength = Math.min(maxEditLength, options.maxEditLength);\n    }\n\n    var maxExecutionTime = (_options$timeout = options.timeout) !== null && _options$timeout !== void 0 ? _options$timeout : Infinity;\n    var abortAfterTimestamp = Date.now() + maxExecutionTime;\n    var bestPath = [{\n      oldPos: -1,\n      lastComponent: undefined\n    }]; // Seed editLength = 0, i.e. the content starts with the same values\n\n    var newPos = this.extractCommon(bestPath[0], newString, oldString, 0);\n\n    if (bestPath[0].oldPos + 1 >= oldLen && newPos + 1 >= newLen) {\n      // Identity per the equality and tokenizer\n      return done([{\n        value: this.join(newString),\n        count: newString.length\n      }]);\n    } // Once we hit the right edge of the edit graph on some diagonal k, we can\n    // definitely reach the end of the edit graph in no more than k edits, so\n    // there's no point in considering any moves to diagonal k+1 any more (from\n    // which we're guaranteed to need at least k+1 more edits).\n    // Similarly, once we've reached the bottom of the edit graph, there's no\n    // point considering moves to lower diagonals.\n    // We record this fact by setting minDiagonalToConsider and\n    // maxDiagonalToConsider to some finite value once we've hit the edge of\n    // the edit graph.\n    // This optimization is not faithful to the original algorithm presented in\n    // Myers's paper, which instead pointlessly extends D-paths off the end of\n    // the edit graph - see page 7 of Myers's paper which notes this point\n    // explicitly and illustrates it with a diagram. This has major performance\n    // implications for some common scenarios. For instance, to compute a diff\n    // where the new text simply appends d characters on the end of the\n    // original text of length n, the true Myers algorithm will take O(n+d^2)\n    // time while this optimization needs only O(n+d) time.\n\n\n    var minDiagonalToConsider = -Infinity,\n        maxDiagonalToConsider = Infinity; // Main worker method. checks all permutations of a given edit length for acceptance.\n\n    function execEditLength() {\n      for (var diagonalPath = Math.max(minDiagonalToConsider, -editLength); diagonalPath <= Math.min(maxDiagonalToConsider, editLength); diagonalPath += 2) {\n        var basePath = void 0;\n        var removePath = bestPath[diagonalPath - 1],\n            addPath = bestPath[diagonalPath + 1];\n\n        if (removePath) {\n          // No one else is going to attempt to use this value, clear it\n          bestPath[diagonalPath - 1] = undefined;\n        }\n\n        var canAdd = false;\n\n        if (addPath) {\n          // what newPos will be after we do an insertion:\n          var addPathNewPos = addPath.oldPos - diagonalPath;\n          canAdd = addPath && 0 <= addPathNewPos && addPathNewPos < newLen;\n        }\n\n        var canRemove = removePath && removePath.oldPos + 1 < oldLen;\n\n        if (!canAdd && !canRemove) {\n          // If this path is a terminal then prune\n          bestPath[diagonalPath] = undefined;\n          continue;\n        } // Select the diagonal that we want to branch from. We select the prior\n        // path whose position in the old string is the farthest from the origin\n        // and does not pass the bounds of the diff graph\n        // TODO: Remove the `+ 1` here to make behavior match Myers algorithm\n        //       and prefer to order removals before insertions.\n\n\n        if (!canRemove || canAdd && removePath.oldPos + 1 < addPath.oldPos) {\n          basePath = self.addToPath(addPath, true, undefined, 0);\n        } else {\n          basePath = self.addToPath(removePath, undefined, true, 1);\n        }\n\n        newPos = self.extractCommon(basePath, newString, oldString, diagonalPath);\n\n        if (basePath.oldPos + 1 >= oldLen && newPos + 1 >= newLen) {\n          // If we have hit the end of both strings, then we are done\n          return done(buildValues(self, basePath.lastComponent, newString, oldString, self.useLongestToken));\n        } else {\n          bestPath[diagonalPath] = basePath;\n\n          if (basePath.oldPos + 1 >= oldLen) {\n            maxDiagonalToConsider = Math.min(maxDiagonalToConsider, diagonalPath - 1);\n          }\n\n          if (newPos + 1 >= newLen) {\n            minDiagonalToConsider = Math.max(minDiagonalToConsider, diagonalPath + 1);\n          }\n        }\n      }\n\n      editLength++;\n    } // Performs the length of edit iteration. Is a bit fugly as this has to support the\n    // sync and async mode which is never fun. Loops over execEditLength until a value\n    // is produced, or until the edit length exceeds options.maxEditLength (if given),\n    // in which case it will return undefined.\n\n\n    if (callback) {\n      (function exec() {\n        setTimeout(function () {\n          if (editLength > maxEditLength || Date.now() > abortAfterTimestamp) {\n            return callback();\n          }\n\n          if (!execEditLength()) {\n            exec();\n          }\n        }, 0);\n      })();\n    } else {\n      while (editLength <= maxEditLength && Date.now() <= abortAfterTimestamp) {\n        var ret = execEditLength();\n\n        if (ret) {\n          return ret;\n        }\n      }\n    }\n  },\n  addToPath: function addToPath(path, added, removed, oldPosInc) {\n    var last = path.lastComponent;\n\n    if (last && last.added === added && last.removed === removed) {\n      return {\n        oldPos: path.oldPos + oldPosInc,\n        lastComponent: {\n          count: last.count + 1,\n          added: added,\n          removed: removed,\n          previousComponent: last.previousComponent\n        }\n      };\n    } else {\n      return {\n        oldPos: path.oldPos + oldPosInc,\n        lastComponent: {\n          count: 1,\n          added: added,\n          removed: removed,\n          previousComponent: last\n        }\n      };\n    }\n  },\n  extractCommon: function extractCommon(basePath, newString, oldString, diagonalPath) {\n    var newLen = newString.length,\n        oldLen = oldString.length,\n        oldPos = basePath.oldPos,\n        newPos = oldPos - diagonalPath,\n        commonCount = 0;\n\n    while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(newString[newPos + 1], oldString[oldPos + 1])) {\n      newPos++;\n      oldPos++;\n      commonCount++;\n    }\n\n    if (commonCount) {\n      basePath.lastComponent = {\n        count: commonCount,\n        previousComponent: basePath.lastComponent\n      };\n    }\n\n    basePath.oldPos = oldPos;\n    return newPos;\n  },\n  equals: function equals(left, right) {\n    if (this.options.comparator) {\n      return this.options.comparator(left, right);\n    } else {\n      return left === right || this.options.ignoreCase && left.toLowerCase() === right.toLowerCase();\n    }\n  },\n  removeEmpty: function removeEmpty(array) {\n    var ret = [];\n\n    for (var i = 0; i < array.length; i++) {\n      if (array[i]) {\n        ret.push(array[i]);\n      }\n    }\n\n    return ret;\n  },\n  castInput: function castInput(value) {\n    return value;\n  },\n  tokenize: function tokenize(value) {\n    return value.split('');\n  },\n  join: function join(chars) {\n    return chars.join('');\n  }\n};\n\nfunction buildValues(diff, lastComponent, newString, oldString, useLongestToken) {\n  // First we convert our linked list of components in reverse order to an\n  // array in the right order:\n  var components = [];\n  var nextComponent;\n\n  while (lastComponent) {\n    components.push(lastComponent);\n    nextComponent = lastComponent.previousComponent;\n    delete lastComponent.previousComponent;\n    lastComponent = nextComponent;\n  }\n\n  components.reverse();\n  var componentPos = 0,\n      componentLen = components.length,\n      newPos = 0,\n      oldPos = 0;\n\n  for (; componentPos < componentLen; componentPos++) {\n    var component = components[componentPos];\n\n    if (!component.removed) {\n      if (!component.added && useLongestToken) {\n        var value = newString.slice(newPos, newPos + component.count);\n        value = value.map(function (value, i) {\n          var oldValue = oldString[oldPos + i];\n          return oldValue.length > value.length ? oldValue : value;\n        });\n        component.value = diff.join(value);\n      } else {\n        component.value = diff.join(newString.slice(newPos, newPos + component.count));\n      }\n\n      newPos += component.count; // Common case\n\n      if (!component.added) {\n        oldPos += component.count;\n      }\n    } else {\n      component.value = diff.join(oldString.slice(oldPos, oldPos + component.count));\n      oldPos += component.count; // Reverse add and remove so removes are output first to match common convention\n      // The diffing algorithm is tied to add then remove output and this is the simplest\n      // route to get the desired output with minimal overhead.\n\n      if (componentPos && components[componentPos - 1].added) {\n        var tmp = components[componentPos - 1];\n        components[componentPos - 1] = components[componentPos];\n        components[componentPos] = tmp;\n      }\n    }\n  } // Special case handle for when one terminal is ignored (i.e. whitespace).\n  // For this case we merge the terminal into the prior string and drop the change.\n  // This is only available for string mode.\n\n\n  var finalComponent = components[componentLen - 1];\n\n  if (componentLen > 1 && typeof finalComponent.value === 'string' && (finalComponent.added || finalComponent.removed) && diff.equals('', finalComponent.value)) {\n    components[componentLen - 2].value += finalComponent.value;\n    components.pop();\n  }\n\n  return components;\n}\n\nvar characterDiff = new Diff();\nfunction diffChars(oldStr, newStr, options) {\n  return characterDiff.diff(oldStr, newStr, options);\n}\n\nfunction generateOptions(options, defaults) {\n  if (typeof options === 'function') {\n    defaults.callback = options;\n  } else if (options) {\n    for (var name in options) {\n      /* istanbul ignore else */\n      if (options.hasOwnProperty(name)) {\n        defaults[name] = options[name];\n      }\n    }\n  }\n\n  return defaults;\n}\n\n//\n// Ranges and exceptions:\n// Latin-1 Supplement, 0080–00FF\n//  - U+00D7  × Multiplication sign\n//  - U+00F7  ÷ Division sign\n// Latin Extended-A, 0100–017F\n// Latin Extended-B, 0180–024F\n// IPA Extensions, 0250–02AF\n// Spacing Modifier Letters, 02B0–02FF\n//  - U+02C7  ˇ &#711;  Caron\n//  - U+02D8  ˘ &#728;  Breve\n//  - U+02D9  ˙ &#729;  Dot Above\n//  - U+02DA  ˚ &#730;  Ring Above\n//  - U+02DB  ˛ &#731;  Ogonek\n//  - U+02DC  ˜ &#732;  Small Tilde\n//  - U+02DD  ˝ &#733;  Double Acute Accent\n// Latin Extended Additional, 1E00–1EFF\n\nvar extendedWordChars = /^[A-Za-z\\xC0-\\u02C6\\u02C8-\\u02D7\\u02DE-\\u02FF\\u1E00-\\u1EFF]+$/;\nvar reWhitespace = /\\S/;\nvar wordDiff = new Diff();\n\nwordDiff.equals = function (left, right) {\n  if (this.options.ignoreCase) {\n    left = left.toLowerCase();\n    right = right.toLowerCase();\n  }\n\n  return left === right || this.options.ignoreWhitespace && !reWhitespace.test(left) && !reWhitespace.test(right);\n};\n\nwordDiff.tokenize = function (value) {\n  // All whitespace symbols except newline group into one token, each newline - in separate token\n  var tokens = value.split(/([^\\S\\r\\n]+|[()[\\]{}'\"\\r\\n]|\\b)/); // Join the boundary splits that we do not consider to be boundaries. This is primarily the extended Latin character set.\n\n  for (var i = 0; i < tokens.length - 1; i++) {\n    // If we have an empty string in the next field and we have only word chars before and after, merge\n    if (!tokens[i + 1] && tokens[i + 2] && extendedWordChars.test(tokens[i]) && extendedWordChars.test(tokens[i + 2])) {\n      tokens[i] += tokens[i + 2];\n      tokens.splice(i + 1, 2);\n      i--;\n    }\n  }\n\n  return tokens;\n};\n\nfunction diffWords(oldStr, newStr, options) {\n  options = generateOptions(options, {\n    ignoreWhitespace: true\n  });\n  return wordDiff.diff(oldStr, newStr, options);\n}\nfunction diffWordsWithSpace(oldStr, newStr, options) {\n  return wordDiff.diff(oldStr, newStr, options);\n}\n\nvar lineDiff = new Diff();\n\nlineDiff.tokenize = function (value) {\n  if (this.options.stripTrailingCr) {\n    // remove one \\r before \\n to match GNU diff's --strip-trailing-cr behavior\n    value = value.replace(/\\r\\n/g, '\\n');\n  }\n\n  var retLines = [],\n      linesAndNewlines = value.split(/(\\n|\\r\\n)/); // Ignore the final empty token that occurs if the string ends with a new line\n\n  if (!linesAndNewlines[linesAndNewlines.length - 1]) {\n    linesAndNewlines.pop();\n  } // Merge the content and line separators into single tokens\n\n\n  for (var i = 0; i < linesAndNewlines.length; i++) {\n    var line = linesAndNewlines[i];\n\n    if (i % 2 && !this.options.newlineIsToken) {\n      retLines[retLines.length - 1] += line;\n    } else {\n      if (this.options.ignoreWhitespace) {\n        line = line.trim();\n      }\n\n      retLines.push(line);\n    }\n  }\n\n  return retLines;\n};\n\nfunction diffLines(oldStr, newStr, callback) {\n  return lineDiff.diff(oldStr, newStr, callback);\n}\nfunction diffTrimmedLines(oldStr, newStr, callback) {\n  var options = generateOptions(callback, {\n    ignoreWhitespace: true\n  });\n  return lineDiff.diff(oldStr, newStr, options);\n}\n\nvar sentenceDiff = new Diff();\n\nsentenceDiff.tokenize = function (value) {\n  return value.split(/(\\S.+?[.!?])(?=\\s+|$)/);\n};\n\nfunction diffSentences(oldStr, newStr, callback) {\n  return sentenceDiff.diff(oldStr, newStr, callback);\n}\n\nvar cssDiff = new Diff();\n\ncssDiff.tokenize = function (value) {\n  return value.split(/([{}:;,]|\\s+)/);\n};\n\nfunction diffCss(oldStr, newStr, callback) {\n  return cssDiff.diff(oldStr, newStr, callback);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar objectPrototypeToString = Object.prototype.toString;\nvar jsonDiff = new Diff(); // Discriminate between two lines of pretty-printed, serialized JSON where one of them has a\n// dangling comma and the other doesn't. Turns out including the dangling comma yields the nicest output:\n\njsonDiff.useLongestToken = true;\njsonDiff.tokenize = lineDiff.tokenize;\n\njsonDiff.castInput = function (value) {\n  var _this$options = this.options,\n      undefinedReplacement = _this$options.undefinedReplacement,\n      _this$options$stringi = _this$options.stringifyReplacer,\n      stringifyReplacer = _this$options$stringi === void 0 ? function (k, v) {\n    return typeof v === 'undefined' ? undefinedReplacement : v;\n  } : _this$options$stringi;\n  return typeof value === 'string' ? value : JSON.stringify(canonicalize(value, null, null, stringifyReplacer), stringifyReplacer, '  ');\n};\n\njsonDiff.equals = function (left, right) {\n  return Diff.prototype.equals.call(jsonDiff, left.replace(/,([\\r\\n])/g, '$1'), right.replace(/,([\\r\\n])/g, '$1'));\n};\n\nfunction diffJson(oldObj, newObj, options) {\n  return jsonDiff.diff(oldObj, newObj, options);\n} // This function handles the presence of circular references by bailing out when encountering an\n// object that is already on the \"stack\" of items being processed. Accepts an optional replacer\n\nfunction canonicalize(obj, stack, replacementStack, replacer, key) {\n  stack = stack || [];\n  replacementStack = replacementStack || [];\n\n  if (replacer) {\n    obj = replacer(key, obj);\n  }\n\n  var i;\n\n  for (i = 0; i < stack.length; i += 1) {\n    if (stack[i] === obj) {\n      return replacementStack[i];\n    }\n  }\n\n  var canonicalizedObj;\n\n  if ('[object Array]' === objectPrototypeToString.call(obj)) {\n    stack.push(obj);\n    canonicalizedObj = new Array(obj.length);\n    replacementStack.push(canonicalizedObj);\n\n    for (i = 0; i < obj.length; i += 1) {\n      canonicalizedObj[i] = canonicalize(obj[i], stack, replacementStack, replacer, key);\n    }\n\n    stack.pop();\n    replacementStack.pop();\n    return canonicalizedObj;\n  }\n\n  if (obj && obj.toJSON) {\n    obj = obj.toJSON();\n  }\n\n  if (_typeof(obj) === 'object' && obj !== null) {\n    stack.push(obj);\n    canonicalizedObj = {};\n    replacementStack.push(canonicalizedObj);\n\n    var sortedKeys = [],\n        _key;\n\n    for (_key in obj) {\n      /* istanbul ignore else */\n      if (obj.hasOwnProperty(_key)) {\n        sortedKeys.push(_key);\n      }\n    }\n\n    sortedKeys.sort();\n\n    for (i = 0; i < sortedKeys.length; i += 1) {\n      _key = sortedKeys[i];\n      canonicalizedObj[_key] = canonicalize(obj[_key], stack, replacementStack, replacer, _key);\n    }\n\n    stack.pop();\n    replacementStack.pop();\n  } else {\n    canonicalizedObj = obj;\n  }\n\n  return canonicalizedObj;\n}\n\nvar arrayDiff = new Diff();\n\narrayDiff.tokenize = function (value) {\n  return value.slice();\n};\n\narrayDiff.join = arrayDiff.removeEmpty = function (value) {\n  return value;\n};\n\nfunction diffArrays(oldArr, newArr, callback) {\n  return arrayDiff.diff(oldArr, newArr, callback);\n}\n\nfunction parsePatch(uniDiff) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var diffstr = uniDiff.split(/\\r\\n|[\\n\\v\\f\\r\\x85]/),\n      delimiters = uniDiff.match(/\\r\\n|[\\n\\v\\f\\r\\x85]/g) || [],\n      list = [],\n      i = 0;\n\n  function parseIndex() {\n    var index = {};\n    list.push(index); // Parse diff metadata\n\n    while (i < diffstr.length) {\n      var line = diffstr[i]; // File header found, end parsing diff metadata\n\n      if (/^(\\-\\-\\-|\\+\\+\\+|@@)\\s/.test(line)) {\n        break;\n      } // Diff index\n\n\n      var header = /^(?:Index:|diff(?: -r \\w+)+)\\s+(.+?)\\s*$/.exec(line);\n\n      if (header) {\n        index.index = header[1];\n      }\n\n      i++;\n    } // Parse file headers if they are defined. Unified diff requires them, but\n    // there's no technical issues to have an isolated hunk without file header\n\n\n    parseFileHeader(index);\n    parseFileHeader(index); // Parse hunks\n\n    index.hunks = [];\n\n    while (i < diffstr.length) {\n      var _line = diffstr[i];\n\n      if (/^(Index:|diff|\\-\\-\\-|\\+\\+\\+)\\s/.test(_line)) {\n        break;\n      } else if (/^@@/.test(_line)) {\n        index.hunks.push(parseHunk());\n      } else if (_line && options.strict) {\n        // Ignore unexpected content unless in strict mode\n        throw new Error('Unknown line ' + (i + 1) + ' ' + JSON.stringify(_line));\n      } else {\n        i++;\n      }\n    }\n  } // Parses the --- and +++ headers, if none are found, no lines\n  // are consumed.\n\n\n  function parseFileHeader(index) {\n    var fileHeader = /^(---|\\+\\+\\+)\\s+(.*)$/.exec(diffstr[i]);\n\n    if (fileHeader) {\n      var keyPrefix = fileHeader[1] === '---' ? 'old' : 'new';\n      var data = fileHeader[2].split('\\t', 2);\n      var fileName = data[0].replace(/\\\\\\\\/g, '\\\\');\n\n      if (/^\".*\"$/.test(fileName)) {\n        fileName = fileName.substr(1, fileName.length - 2);\n      }\n\n      index[keyPrefix + 'FileName'] = fileName;\n      index[keyPrefix + 'Header'] = (data[1] || '').trim();\n      i++;\n    }\n  } // Parses a hunk\n  // This assumes that we are at the start of a hunk.\n\n\n  function parseHunk() {\n    var chunkHeaderIndex = i,\n        chunkHeaderLine = diffstr[i++],\n        chunkHeader = chunkHeaderLine.split(/@@ -(\\d+)(?:,(\\d+))? \\+(\\d+)(?:,(\\d+))? @@/);\n    var hunk = {\n      oldStart: +chunkHeader[1],\n      oldLines: typeof chunkHeader[2] === 'undefined' ? 1 : +chunkHeader[2],\n      newStart: +chunkHeader[3],\n      newLines: typeof chunkHeader[4] === 'undefined' ? 1 : +chunkHeader[4],\n      lines: [],\n      linedelimiters: []\n    }; // Unified Diff Format quirk: If the chunk size is 0,\n    // the first number is one lower than one would expect.\n    // https://www.artima.com/weblogs/viewpost.jsp?thread=164293\n\n    if (hunk.oldLines === 0) {\n      hunk.oldStart += 1;\n    }\n\n    if (hunk.newLines === 0) {\n      hunk.newStart += 1;\n    }\n\n    var addCount = 0,\n        removeCount = 0;\n\n    for (; i < diffstr.length; i++) {\n      // Lines starting with '---' could be mistaken for the \"remove line\" operation\n      // But they could be the header for the next file. Therefore prune such cases out.\n      if (diffstr[i].indexOf('--- ') === 0 && i + 2 < diffstr.length && diffstr[i + 1].indexOf('+++ ') === 0 && diffstr[i + 2].indexOf('@@') === 0) {\n        break;\n      }\n\n      var operation = diffstr[i].length == 0 && i != diffstr.length - 1 ? ' ' : diffstr[i][0];\n\n      if (operation === '+' || operation === '-' || operation === ' ' || operation === '\\\\') {\n        hunk.lines.push(diffstr[i]);\n        hunk.linedelimiters.push(delimiters[i] || '\\n');\n\n        if (operation === '+') {\n          addCount++;\n        } else if (operation === '-') {\n          removeCount++;\n        } else if (operation === ' ') {\n          addCount++;\n          removeCount++;\n        }\n      } else {\n        break;\n      }\n    } // Handle the empty block count case\n\n\n    if (!addCount && hunk.newLines === 1) {\n      hunk.newLines = 0;\n    }\n\n    if (!removeCount && hunk.oldLines === 1) {\n      hunk.oldLines = 0;\n    } // Perform optional sanity checking\n\n\n    if (options.strict) {\n      if (addCount !== hunk.newLines) {\n        throw new Error('Added line count did not match for hunk at line ' + (chunkHeaderIndex + 1));\n      }\n\n      if (removeCount !== hunk.oldLines) {\n        throw new Error('Removed line count did not match for hunk at line ' + (chunkHeaderIndex + 1));\n      }\n    }\n\n    return hunk;\n  }\n\n  while (i < diffstr.length) {\n    parseIndex();\n  }\n\n  return list;\n}\n\n// Iterator that traverses in the range of [min, max], stepping\n// by distance from a given start position. I.e. for [0, 4], with\n// start of 2, this will iterate 2, 3, 1, 4, 0.\nfunction distanceIterator (start, minLine, maxLine) {\n  var wantForward = true,\n      backwardExhausted = false,\n      forwardExhausted = false,\n      localOffset = 1;\n  return function iterator() {\n    if (wantForward && !forwardExhausted) {\n      if (backwardExhausted) {\n        localOffset++;\n      } else {\n        wantForward = false;\n      } // Check if trying to fit beyond text length, and if not, check it fits\n      // after offset location (or desired location on first iteration)\n\n\n      if (start + localOffset <= maxLine) {\n        return localOffset;\n      }\n\n      forwardExhausted = true;\n    }\n\n    if (!backwardExhausted) {\n      if (!forwardExhausted) {\n        wantForward = true;\n      } // Check if trying to fit before text beginning, and if not, check it fits\n      // before offset location\n\n\n      if (minLine <= start - localOffset) {\n        return -localOffset++;\n      }\n\n      backwardExhausted = true;\n      return iterator();\n    } // We tried to fit hunk before text beginning and beyond text length, then\n    // hunk can't fit on the text. Return undefined\n\n  };\n}\n\nfunction applyPatch(source, uniDiff) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (typeof uniDiff === 'string') {\n    uniDiff = parsePatch(uniDiff);\n  }\n\n  if (Array.isArray(uniDiff)) {\n    if (uniDiff.length > 1) {\n      throw new Error('applyPatch only works with a single input.');\n    }\n\n    uniDiff = uniDiff[0];\n  } // Apply the diff to the input\n\n\n  var lines = source.split(/\\r\\n|[\\n\\v\\f\\r\\x85]/),\n      delimiters = source.match(/\\r\\n|[\\n\\v\\f\\r\\x85]/g) || [],\n      hunks = uniDiff.hunks,\n      compareLine = options.compareLine || function (lineNumber, line, operation, patchContent) {\n    return line === patchContent;\n  },\n      errorCount = 0,\n      fuzzFactor = options.fuzzFactor || 0,\n      minLine = 0,\n      offset = 0,\n      removeEOFNL,\n      addEOFNL;\n  /**\n   * Checks if the hunk exactly fits on the provided location\n   */\n\n\n  function hunkFits(hunk, toPos) {\n    for (var j = 0; j < hunk.lines.length; j++) {\n      var line = hunk.lines[j],\n          operation = line.length > 0 ? line[0] : ' ',\n          content = line.length > 0 ? line.substr(1) : line;\n\n      if (operation === ' ' || operation === '-') {\n        // Context sanity check\n        if (!compareLine(toPos + 1, lines[toPos], operation, content)) {\n          errorCount++;\n\n          if (errorCount > fuzzFactor) {\n            return false;\n          }\n        }\n\n        toPos++;\n      }\n    }\n\n    return true;\n  } // Search best fit offsets for each hunk based on the previous ones\n\n\n  for (var i = 0; i < hunks.length; i++) {\n    var hunk = hunks[i],\n        maxLine = lines.length - hunk.oldLines,\n        localOffset = 0,\n        toPos = offset + hunk.oldStart - 1;\n    var iterator = distanceIterator(toPos, minLine, maxLine);\n\n    for (; localOffset !== undefined; localOffset = iterator()) {\n      if (hunkFits(hunk, toPos + localOffset)) {\n        hunk.offset = offset += localOffset;\n        break;\n      }\n    }\n\n    if (localOffset === undefined) {\n      return false;\n    } // Set lower text limit to end of the current hunk, so next ones don't try\n    // to fit over already patched text\n\n\n    minLine = hunk.offset + hunk.oldStart + hunk.oldLines;\n  } // Apply patch hunks\n\n\n  var diffOffset = 0;\n\n  for (var _i = 0; _i < hunks.length; _i++) {\n    var _hunk = hunks[_i],\n        _toPos = _hunk.oldStart + _hunk.offset + diffOffset - 1;\n\n    diffOffset += _hunk.newLines - _hunk.oldLines;\n\n    for (var j = 0; j < _hunk.lines.length; j++) {\n      var line = _hunk.lines[j],\n          operation = line.length > 0 ? line[0] : ' ',\n          content = line.length > 0 ? line.substr(1) : line,\n          delimiter = _hunk.linedelimiters && _hunk.linedelimiters[j] || '\\n';\n\n      if (operation === ' ') {\n        _toPos++;\n      } else if (operation === '-') {\n        lines.splice(_toPos, 1);\n        delimiters.splice(_toPos, 1);\n        /* istanbul ignore else */\n      } else if (operation === '+') {\n        lines.splice(_toPos, 0, content);\n        delimiters.splice(_toPos, 0, delimiter);\n        _toPos++;\n      } else if (operation === '\\\\') {\n        var previousOperation = _hunk.lines[j - 1] ? _hunk.lines[j - 1][0] : null;\n\n        if (previousOperation === '+') {\n          removeEOFNL = true;\n        } else if (previousOperation === '-') {\n          addEOFNL = true;\n        }\n      }\n    }\n  } // Handle EOFNL insertion/removal\n\n\n  if (removeEOFNL) {\n    while (!lines[lines.length - 1]) {\n      lines.pop();\n      delimiters.pop();\n    }\n  } else if (addEOFNL) {\n    lines.push('');\n    delimiters.push('\\n');\n  }\n\n  for (var _k = 0; _k < lines.length - 1; _k++) {\n    lines[_k] = lines[_k] + delimiters[_k];\n  }\n\n  return lines.join('');\n} // Wrapper that supports multiple file patches via callbacks.\n\nfunction applyPatches(uniDiff, options) {\n  if (typeof uniDiff === 'string') {\n    uniDiff = parsePatch(uniDiff);\n  }\n\n  var currentIndex = 0;\n\n  function processIndex() {\n    var index = uniDiff[currentIndex++];\n\n    if (!index) {\n      return options.complete();\n    }\n\n    options.loadFile(index, function (err, data) {\n      if (err) {\n        return options.complete(err);\n      }\n\n      var updatedContent = applyPatch(data, index, options);\n      options.patched(index, updatedContent, function (err) {\n        if (err) {\n          return options.complete(err);\n        }\n\n        processIndex();\n      });\n    });\n  }\n\n  processIndex();\n}\n\nfunction structuredPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (typeof options.context === 'undefined') {\n    options.context = 4;\n  }\n\n  var diff = diffLines(oldStr, newStr, options);\n\n  if (!diff) {\n    return;\n  }\n\n  diff.push({\n    value: '',\n    lines: []\n  }); // Append an empty value to make cleanup easier\n\n  function contextLines(lines) {\n    return lines.map(function (entry) {\n      return ' ' + entry;\n    });\n  }\n\n  var hunks = [];\n  var oldRangeStart = 0,\n      newRangeStart = 0,\n      curRange = [],\n      oldLine = 1,\n      newLine = 1;\n\n  var _loop = function _loop(i) {\n    var current = diff[i],\n        lines = current.lines || current.value.replace(/\\n$/, '').split('\\n');\n    current.lines = lines;\n\n    if (current.added || current.removed) {\n      var _curRange;\n\n      // If we have previous context, start with that\n      if (!oldRangeStart) {\n        var prev = diff[i - 1];\n        oldRangeStart = oldLine;\n        newRangeStart = newLine;\n\n        if (prev) {\n          curRange = options.context > 0 ? contextLines(prev.lines.slice(-options.context)) : [];\n          oldRangeStart -= curRange.length;\n          newRangeStart -= curRange.length;\n        }\n      } // Output our changes\n\n\n      (_curRange = curRange).push.apply(_curRange, _toConsumableArray(lines.map(function (entry) {\n        return (current.added ? '+' : '-') + entry;\n      }))); // Track the updated file position\n\n\n      if (current.added) {\n        newLine += lines.length;\n      } else {\n        oldLine += lines.length;\n      }\n    } else {\n      // Identical context lines. Track line changes\n      if (oldRangeStart) {\n        // Close out any changes that have been output (or join overlapping)\n        if (lines.length <= options.context * 2 && i < diff.length - 2) {\n          var _curRange2;\n\n          // Overlapping\n          (_curRange2 = curRange).push.apply(_curRange2, _toConsumableArray(contextLines(lines)));\n        } else {\n          var _curRange3;\n\n          // end the range and output\n          var contextSize = Math.min(lines.length, options.context);\n\n          (_curRange3 = curRange).push.apply(_curRange3, _toConsumableArray(contextLines(lines.slice(0, contextSize))));\n\n          var hunk = {\n            oldStart: oldRangeStart,\n            oldLines: oldLine - oldRangeStart + contextSize,\n            newStart: newRangeStart,\n            newLines: newLine - newRangeStart + contextSize,\n            lines: curRange\n          };\n\n          if (i >= diff.length - 2 && lines.length <= options.context) {\n            // EOF is inside this hunk\n            var oldEOFNewline = /\\n$/.test(oldStr);\n            var newEOFNewline = /\\n$/.test(newStr);\n            var noNlBeforeAdds = lines.length == 0 && curRange.length > hunk.oldLines;\n\n            if (!oldEOFNewline && noNlBeforeAdds && oldStr.length > 0) {\n              // special case: old has no eol and no trailing context; no-nl can end up before adds\n              // however, if the old file is empty, do not output the no-nl line\n              curRange.splice(hunk.oldLines, 0, '\\\\ No newline at end of file');\n            }\n\n            if (!oldEOFNewline && !noNlBeforeAdds || !newEOFNewline) {\n              curRange.push('\\\\ No newline at end of file');\n            }\n          }\n\n          hunks.push(hunk);\n          oldRangeStart = 0;\n          newRangeStart = 0;\n          curRange = [];\n        }\n      }\n\n      oldLine += lines.length;\n      newLine += lines.length;\n    }\n  };\n\n  for (var i = 0; i < diff.length; i++) {\n    _loop(i);\n  }\n\n  return {\n    oldFileName: oldFileName,\n    newFileName: newFileName,\n    oldHeader: oldHeader,\n    newHeader: newHeader,\n    hunks: hunks\n  };\n}\nfunction formatPatch(diff) {\n  if (Array.isArray(diff)) {\n    return diff.map(formatPatch).join('\\n');\n  }\n\n  var ret = [];\n\n  if (diff.oldFileName == diff.newFileName) {\n    ret.push('Index: ' + diff.oldFileName);\n  }\n\n  ret.push('===================================================================');\n  ret.push('--- ' + diff.oldFileName + (typeof diff.oldHeader === 'undefined' ? '' : '\\t' + diff.oldHeader));\n  ret.push('+++ ' + diff.newFileName + (typeof diff.newHeader === 'undefined' ? '' : '\\t' + diff.newHeader));\n\n  for (var i = 0; i < diff.hunks.length; i++) {\n    var hunk = diff.hunks[i]; // Unified Diff Format quirk: If the chunk size is 0,\n    // the first number is one lower than one would expect.\n    // https://www.artima.com/weblogs/viewpost.jsp?thread=164293\n\n    if (hunk.oldLines === 0) {\n      hunk.oldStart -= 1;\n    }\n\n    if (hunk.newLines === 0) {\n      hunk.newStart -= 1;\n    }\n\n    ret.push('@@ -' + hunk.oldStart + ',' + hunk.oldLines + ' +' + hunk.newStart + ',' + hunk.newLines + ' @@');\n    ret.push.apply(ret, hunk.lines);\n  }\n\n  return ret.join('\\n') + '\\n';\n}\nfunction createTwoFilesPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options) {\n  return formatPatch(structuredPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options));\n}\nfunction createPatch(fileName, oldStr, newStr, oldHeader, newHeader, options) {\n  return createTwoFilesPatch(fileName, fileName, oldStr, newStr, oldHeader, newHeader, options);\n}\n\nfunction arrayEqual(a, b) {\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  return arrayStartsWith(a, b);\n}\nfunction arrayStartsWith(array, start) {\n  if (start.length > array.length) {\n    return false;\n  }\n\n  for (var i = 0; i < start.length; i++) {\n    if (start[i] !== array[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction calcLineCount(hunk) {\n  var _calcOldNewLineCount = calcOldNewLineCount(hunk.lines),\n      oldLines = _calcOldNewLineCount.oldLines,\n      newLines = _calcOldNewLineCount.newLines;\n\n  if (oldLines !== undefined) {\n    hunk.oldLines = oldLines;\n  } else {\n    delete hunk.oldLines;\n  }\n\n  if (newLines !== undefined) {\n    hunk.newLines = newLines;\n  } else {\n    delete hunk.newLines;\n  }\n}\nfunction merge(mine, theirs, base) {\n  mine = loadPatch(mine, base);\n  theirs = loadPatch(theirs, base);\n  var ret = {}; // For index we just let it pass through as it doesn't have any necessary meaning.\n  // Leaving sanity checks on this to the API consumer that may know more about the\n  // meaning in their own context.\n\n  if (mine.index || theirs.index) {\n    ret.index = mine.index || theirs.index;\n  }\n\n  if (mine.newFileName || theirs.newFileName) {\n    if (!fileNameChanged(mine)) {\n      // No header or no change in ours, use theirs (and ours if theirs does not exist)\n      ret.oldFileName = theirs.oldFileName || mine.oldFileName;\n      ret.newFileName = theirs.newFileName || mine.newFileName;\n      ret.oldHeader = theirs.oldHeader || mine.oldHeader;\n      ret.newHeader = theirs.newHeader || mine.newHeader;\n    } else if (!fileNameChanged(theirs)) {\n      // No header or no change in theirs, use ours\n      ret.oldFileName = mine.oldFileName;\n      ret.newFileName = mine.newFileName;\n      ret.oldHeader = mine.oldHeader;\n      ret.newHeader = mine.newHeader;\n    } else {\n      // Both changed... figure it out\n      ret.oldFileName = selectField(ret, mine.oldFileName, theirs.oldFileName);\n      ret.newFileName = selectField(ret, mine.newFileName, theirs.newFileName);\n      ret.oldHeader = selectField(ret, mine.oldHeader, theirs.oldHeader);\n      ret.newHeader = selectField(ret, mine.newHeader, theirs.newHeader);\n    }\n  }\n\n  ret.hunks = [];\n  var mineIndex = 0,\n      theirsIndex = 0,\n      mineOffset = 0,\n      theirsOffset = 0;\n\n  while (mineIndex < mine.hunks.length || theirsIndex < theirs.hunks.length) {\n    var mineCurrent = mine.hunks[mineIndex] || {\n      oldStart: Infinity\n    },\n        theirsCurrent = theirs.hunks[theirsIndex] || {\n      oldStart: Infinity\n    };\n\n    if (hunkBefore(mineCurrent, theirsCurrent)) {\n      // This patch does not overlap with any of the others, yay.\n      ret.hunks.push(cloneHunk(mineCurrent, mineOffset));\n      mineIndex++;\n      theirsOffset += mineCurrent.newLines - mineCurrent.oldLines;\n    } else if (hunkBefore(theirsCurrent, mineCurrent)) {\n      // This patch does not overlap with any of the others, yay.\n      ret.hunks.push(cloneHunk(theirsCurrent, theirsOffset));\n      theirsIndex++;\n      mineOffset += theirsCurrent.newLines - theirsCurrent.oldLines;\n    } else {\n      // Overlap, merge as best we can\n      var mergedHunk = {\n        oldStart: Math.min(mineCurrent.oldStart, theirsCurrent.oldStart),\n        oldLines: 0,\n        newStart: Math.min(mineCurrent.newStart + mineOffset, theirsCurrent.oldStart + theirsOffset),\n        newLines: 0,\n        lines: []\n      };\n      mergeLines(mergedHunk, mineCurrent.oldStart, mineCurrent.lines, theirsCurrent.oldStart, theirsCurrent.lines);\n      theirsIndex++;\n      mineIndex++;\n      ret.hunks.push(mergedHunk);\n    }\n  }\n\n  return ret;\n}\n\nfunction loadPatch(param, base) {\n  if (typeof param === 'string') {\n    if (/^@@/m.test(param) || /^Index:/m.test(param)) {\n      return parsePatch(param)[0];\n    }\n\n    if (!base) {\n      throw new Error('Must provide a base reference or pass in a patch');\n    }\n\n    return structuredPatch(undefined, undefined, base, param);\n  }\n\n  return param;\n}\n\nfunction fileNameChanged(patch) {\n  return patch.newFileName && patch.newFileName !== patch.oldFileName;\n}\n\nfunction selectField(index, mine, theirs) {\n  if (mine === theirs) {\n    return mine;\n  } else {\n    index.conflict = true;\n    return {\n      mine: mine,\n      theirs: theirs\n    };\n  }\n}\n\nfunction hunkBefore(test, check) {\n  return test.oldStart < check.oldStart && test.oldStart + test.oldLines < check.oldStart;\n}\n\nfunction cloneHunk(hunk, offset) {\n  return {\n    oldStart: hunk.oldStart,\n    oldLines: hunk.oldLines,\n    newStart: hunk.newStart + offset,\n    newLines: hunk.newLines,\n    lines: hunk.lines\n  };\n}\n\nfunction mergeLines(hunk, mineOffset, mineLines, theirOffset, theirLines) {\n  // This will generally result in a conflicted hunk, but there are cases where the context\n  // is the only overlap where we can successfully merge the content here.\n  var mine = {\n    offset: mineOffset,\n    lines: mineLines,\n    index: 0\n  },\n      their = {\n    offset: theirOffset,\n    lines: theirLines,\n    index: 0\n  }; // Handle any leading content\n\n  insertLeading(hunk, mine, their);\n  insertLeading(hunk, their, mine); // Now in the overlap content. Scan through and select the best changes from each.\n\n  while (mine.index < mine.lines.length && their.index < their.lines.length) {\n    var mineCurrent = mine.lines[mine.index],\n        theirCurrent = their.lines[their.index];\n\n    if ((mineCurrent[0] === '-' || mineCurrent[0] === '+') && (theirCurrent[0] === '-' || theirCurrent[0] === '+')) {\n      // Both modified ...\n      mutualChange(hunk, mine, their);\n    } else if (mineCurrent[0] === '+' && theirCurrent[0] === ' ') {\n      var _hunk$lines;\n\n      // Mine inserted\n      (_hunk$lines = hunk.lines).push.apply(_hunk$lines, _toConsumableArray(collectChange(mine)));\n    } else if (theirCurrent[0] === '+' && mineCurrent[0] === ' ') {\n      var _hunk$lines2;\n\n      // Theirs inserted\n      (_hunk$lines2 = hunk.lines).push.apply(_hunk$lines2, _toConsumableArray(collectChange(their)));\n    } else if (mineCurrent[0] === '-' && theirCurrent[0] === ' ') {\n      // Mine removed or edited\n      removal(hunk, mine, their);\n    } else if (theirCurrent[0] === '-' && mineCurrent[0] === ' ') {\n      // Their removed or edited\n      removal(hunk, their, mine, true);\n    } else if (mineCurrent === theirCurrent) {\n      // Context identity\n      hunk.lines.push(mineCurrent);\n      mine.index++;\n      their.index++;\n    } else {\n      // Context mismatch\n      conflict(hunk, collectChange(mine), collectChange(their));\n    }\n  } // Now push anything that may be remaining\n\n\n  insertTrailing(hunk, mine);\n  insertTrailing(hunk, their);\n  calcLineCount(hunk);\n}\n\nfunction mutualChange(hunk, mine, their) {\n  var myChanges = collectChange(mine),\n      theirChanges = collectChange(their);\n\n  if (allRemoves(myChanges) && allRemoves(theirChanges)) {\n    // Special case for remove changes that are supersets of one another\n    if (arrayStartsWith(myChanges, theirChanges) && skipRemoveSuperset(their, myChanges, myChanges.length - theirChanges.length)) {\n      var _hunk$lines3;\n\n      (_hunk$lines3 = hunk.lines).push.apply(_hunk$lines3, _toConsumableArray(myChanges));\n\n      return;\n    } else if (arrayStartsWith(theirChanges, myChanges) && skipRemoveSuperset(mine, theirChanges, theirChanges.length - myChanges.length)) {\n      var _hunk$lines4;\n\n      (_hunk$lines4 = hunk.lines).push.apply(_hunk$lines4, _toConsumableArray(theirChanges));\n\n      return;\n    }\n  } else if (arrayEqual(myChanges, theirChanges)) {\n    var _hunk$lines5;\n\n    (_hunk$lines5 = hunk.lines).push.apply(_hunk$lines5, _toConsumableArray(myChanges));\n\n    return;\n  }\n\n  conflict(hunk, myChanges, theirChanges);\n}\n\nfunction removal(hunk, mine, their, swap) {\n  var myChanges = collectChange(mine),\n      theirChanges = collectContext(their, myChanges);\n\n  if (theirChanges.merged) {\n    var _hunk$lines6;\n\n    (_hunk$lines6 = hunk.lines).push.apply(_hunk$lines6, _toConsumableArray(theirChanges.merged));\n  } else {\n    conflict(hunk, swap ? theirChanges : myChanges, swap ? myChanges : theirChanges);\n  }\n}\n\nfunction conflict(hunk, mine, their) {\n  hunk.conflict = true;\n  hunk.lines.push({\n    conflict: true,\n    mine: mine,\n    theirs: their\n  });\n}\n\nfunction insertLeading(hunk, insert, their) {\n  while (insert.offset < their.offset && insert.index < insert.lines.length) {\n    var line = insert.lines[insert.index++];\n    hunk.lines.push(line);\n    insert.offset++;\n  }\n}\n\nfunction insertTrailing(hunk, insert) {\n  while (insert.index < insert.lines.length) {\n    var line = insert.lines[insert.index++];\n    hunk.lines.push(line);\n  }\n}\n\nfunction collectChange(state) {\n  var ret = [],\n      operation = state.lines[state.index][0];\n\n  while (state.index < state.lines.length) {\n    var line = state.lines[state.index]; // Group additions that are immediately after subtractions and treat them as one \"atomic\" modify change.\n\n    if (operation === '-' && line[0] === '+') {\n      operation = '+';\n    }\n\n    if (operation === line[0]) {\n      ret.push(line);\n      state.index++;\n    } else {\n      break;\n    }\n  }\n\n  return ret;\n}\n\nfunction collectContext(state, matchChanges) {\n  var changes = [],\n      merged = [],\n      matchIndex = 0,\n      contextChanges = false,\n      conflicted = false;\n\n  while (matchIndex < matchChanges.length && state.index < state.lines.length) {\n    var change = state.lines[state.index],\n        match = matchChanges[matchIndex]; // Once we've hit our add, then we are done\n\n    if (match[0] === '+') {\n      break;\n    }\n\n    contextChanges = contextChanges || change[0] !== ' ';\n    merged.push(match);\n    matchIndex++; // Consume any additions in the other block as a conflict to attempt\n    // to pull in the remaining context after this\n\n    if (change[0] === '+') {\n      conflicted = true;\n\n      while (change[0] === '+') {\n        changes.push(change);\n        change = state.lines[++state.index];\n      }\n    }\n\n    if (match.substr(1) === change.substr(1)) {\n      changes.push(change);\n      state.index++;\n    } else {\n      conflicted = true;\n    }\n  }\n\n  if ((matchChanges[matchIndex] || '')[0] === '+' && contextChanges) {\n    conflicted = true;\n  }\n\n  if (conflicted) {\n    return changes;\n  }\n\n  while (matchIndex < matchChanges.length) {\n    merged.push(matchChanges[matchIndex++]);\n  }\n\n  return {\n    merged: merged,\n    changes: changes\n  };\n}\n\nfunction allRemoves(changes) {\n  return changes.reduce(function (prev, change) {\n    return prev && change[0] === '-';\n  }, true);\n}\n\nfunction skipRemoveSuperset(state, removeChanges, delta) {\n  for (var i = 0; i < delta; i++) {\n    var changeContent = removeChanges[removeChanges.length - delta + i].substr(1);\n\n    if (state.lines[state.index + i] !== ' ' + changeContent) {\n      return false;\n    }\n  }\n\n  state.index += delta;\n  return true;\n}\n\nfunction calcOldNewLineCount(lines) {\n  var oldLines = 0;\n  var newLines = 0;\n  lines.forEach(function (line) {\n    if (typeof line !== 'string') {\n      var myCount = calcOldNewLineCount(line.mine);\n      var theirCount = calcOldNewLineCount(line.theirs);\n\n      if (oldLines !== undefined) {\n        if (myCount.oldLines === theirCount.oldLines) {\n          oldLines += myCount.oldLines;\n        } else {\n          oldLines = undefined;\n        }\n      }\n\n      if (newLines !== undefined) {\n        if (myCount.newLines === theirCount.newLines) {\n          newLines += myCount.newLines;\n        } else {\n          newLines = undefined;\n        }\n      }\n    } else {\n      if (newLines !== undefined && (line[0] === '+' || line[0] === ' ')) {\n        newLines++;\n      }\n\n      if (oldLines !== undefined && (line[0] === '-' || line[0] === ' ')) {\n        oldLines++;\n      }\n    }\n  });\n  return {\n    oldLines: oldLines,\n    newLines: newLines\n  };\n}\n\nfunction reversePatch(structuredPatch) {\n  if (Array.isArray(structuredPatch)) {\n    return structuredPatch.map(reversePatch).reverse();\n  }\n\n  return _objectSpread2(_objectSpread2({}, structuredPatch), {}, {\n    oldFileName: structuredPatch.newFileName,\n    oldHeader: structuredPatch.newHeader,\n    newFileName: structuredPatch.oldFileName,\n    newHeader: structuredPatch.oldHeader,\n    hunks: structuredPatch.hunks.map(function (hunk) {\n      return {\n        oldLines: hunk.newLines,\n        oldStart: hunk.newStart,\n        newLines: hunk.oldLines,\n        newStart: hunk.oldStart,\n        linedelimiters: hunk.linedelimiters,\n        lines: hunk.lines.map(function (l) {\n          if (l.startsWith('-')) {\n            return \"+\".concat(l.slice(1));\n          }\n\n          if (l.startsWith('+')) {\n            return \"-\".concat(l.slice(1));\n          }\n\n          return l;\n        })\n      };\n    })\n  });\n}\n\n// See: http://code.google.com/p/google-diff-match-patch/wiki/API\nfunction convertChangesToDMP(changes) {\n  var ret = [],\n      change,\n      operation;\n\n  for (var i = 0; i < changes.length; i++) {\n    change = changes[i];\n\n    if (change.added) {\n      operation = 1;\n    } else if (change.removed) {\n      operation = -1;\n    } else {\n      operation = 0;\n    }\n\n    ret.push([operation, change.value]);\n  }\n\n  return ret;\n}\n\nfunction convertChangesToXML(changes) {\n  var ret = [];\n\n  for (var i = 0; i < changes.length; i++) {\n    var change = changes[i];\n\n    if (change.added) {\n      ret.push('<ins>');\n    } else if (change.removed) {\n      ret.push('<del>');\n    }\n\n    ret.push(escapeHTML(change.value));\n\n    if (change.added) {\n      ret.push('</ins>');\n    } else if (change.removed) {\n      ret.push('</del>');\n    }\n  }\n\n  return ret.join('');\n}\n\nfunction escapeHTML(s) {\n  var n = s;\n  n = n.replace(/&/g, '&amp;');\n  n = n.replace(/</g, '&lt;');\n  n = n.replace(/>/g, '&gt;');\n  n = n.replace(/\"/g, '&quot;');\n  return n;\n}\n\nexport { Diff, applyPatch, applyPatches, canonicalize, convertChangesToDMP, convertChangesToXML, createPatch, createTwoFilesPatch, diffArrays, diffChars, diffCss, diffJson, diffLines, diffSentences, diffTrimmedLines, diffWords, diffWordsWithSpace, formatPatch, merge, parsePatch, reversePatch, structuredPatch };\n","const crypto = require(\"crypto\");\r\nconst algorithm = \"aes-256-cbc\";\r\n// const initVector = \"\\xba\\xf9\\xf2\\x929\\x0e>F\\x80\\xc4\\x86\\xb3\\xff\\xdbj\\xa7\";\r\nconst initVector = \"GoCodeo63ae90857\";\r\nconst getSecretKey = (secretKey:string)=>{\r\n    return secretKey + 'GoCodeo1';\r\n}\r\n\r\nexport const encrypt = (secretKey:string, data:string) => {\r\n    secretKey = getSecretKey(secretKey);\r\n    const cipher = crypto.createCipheriv(algorithm, secretKey, initVector);\r\n    let encryptedData = cipher.update(data, \"utf-8\", \"hex\");\r\n    encryptedData += cipher.final(\"hex\");\r\n    return encryptedData;\r\n}\r\n","/* eslint-disable */\r\n// src/webview/parseAndCreateFiles.ts\r\n//@ts-nocheck\r\nimport * as vscode from \"vscode\";\r\nimport { diff_match_patch } from \"diff-match-patch\";\r\nimport * as path from \"path\";\r\nimport * as os from \"os\";\r\nimport * as fs from \"fs\";\r\n\r\ninterface File {\r\n  filename: string;\r\n  content: string;\r\n}\r\n\r\ninterface Folder {\r\n  folder: string;\r\n  files: File[];\r\n}\r\n\r\ninterface ProjectStructure {\r\n  project_directory: string;\r\n  structure: Folder[];\r\n}\r\n// Function to create decorations for added/removed lines\r\nconst fileDecorationState = new Map<\r\n  string,\r\n  {\r\n    addedDecoration: vscode.TextEditorDecorationType;\r\n    removedDecoration: vscode.TextEditorDecorationType;\r\n    originalContent: string;\r\n    removedRanges: vscode.Range[];\r\n  }\r\n>();\r\n\r\nfunction createDecorations() {\r\n  const addedLineDecoration = vscode.window.createTextEditorDecorationType({\r\n    backgroundColor: \"rgba(0, 255, 0, 0.2)\",\r\n    isWholeLine: true,\r\n  });\r\n\r\n  const removedLineDecoration = vscode.window.createTextEditorDecorationType({\r\n    backgroundColor: \"rgba(255, 0, 0, 0.2)\",\r\n    isWholeLine: true,\r\n  });\r\n\r\n  return { addedLineDecoration, removedLineDecoration };\r\n}\r\nconst activeDiffViews = new Map<\r\n  string,\r\n  {\r\n    originalUri: vscode.Uri;\r\n    editableUri: vscode.Uri;\r\n    diffUri: vscode.Uri;\r\n    fileName: string;\r\n  }\r\n>();\r\n\r\nasync function updateDecorations(\r\n  editor: vscode.TextEditor,\r\n  originalContent: string,\r\n  newContent: string\r\n) {\r\n  try {\r\n    const fileUri = editor.document.uri.toString();\r\n\r\n    if (!fileDecorationState.has(fileUri)) {\r\n      const { addedLineDecoration, removedLineDecoration } =\r\n        createDecorations();\r\n      fileDecorationState.set(fileUri, {\r\n        addedDecoration: addedLineDecoration,\r\n        removedDecoration: removedLineDecoration,\r\n        originalContent: originalContent || \"\",\r\n        removedRanges: [],\r\n      });\r\n    }\r\n\r\n    const state = fileDecorationState.get(fileUri)!;\r\n\r\n    // Clear previous ranges\r\n    state.removedRanges = [];\r\n\r\n    // For initial creation, mark all lines as added\r\n    if (!state.originalContent.trim()) {\r\n      const addedRanges: vscode.Range[] = [];\r\n      const lines = newContent.split(\"\\n\");\r\n\r\n      lines.forEach((line, index) => {\r\n        if (line.trim()) {\r\n          const range = new vscode.Range(\r\n            new vscode.Position(index, 0),\r\n            new vscode.Position(index, line.length)\r\n          );\r\n          addedRanges.push(range);\r\n        }\r\n      });\r\n\r\n      editor.setDecorations(state.addedDecoration, addedRanges);\r\n      editor.setDecorations(state.removedDecoration, []);\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error updating decorations:\", error);\r\n  }\r\n}\r\n\r\n// Add these helper functions for diff handling\r\nasync function deleteCodeFiles() {\r\n  try {\r\n    const isWindows = process.platform === \"win32\";\r\n    const possiblePaths = isWindows\r\n      ? [\r\n          path.join(\r\n            process.env.LOCALAPPDATA || \"\",\r\n            \"Programs\",\r\n            \"cursor\",\r\n            \"resources\",\r\n            \"app\",\r\n            \"bin\",\r\n            \"code.cmd\"\r\n          ),\r\n          path.join(\r\n            process.env.LOCALAPPDATA || \"\",\r\n            \"Programs\",\r\n            \"cursor\",\r\n            \"resources\",\r\n            \"app\",\r\n            \"bin\",\r\n            \"code\"\r\n          ),\r\n        ]\r\n      : [\"/usr/bin/code\", \"/usr/local/bin/code\"];\r\n\r\n    for (const filePath of possiblePaths) {\r\n      if (fs.existsSync(filePath)) {\r\n        await fs.promises.unlink(filePath);\r\n        console.log(`Deleted file: ${filePath}`);\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error deleting code files:\", error);\r\n  }\r\n}\r\n\r\nlet globalDiffCommandDisposable: vscode.Disposable | undefined;\r\n\r\nasync function registerDiffCommand(\r\n  document: vscode.TextDocument\r\n): Promise<vscode.Disposable | undefined> {\r\n  try {\r\n    // Dispose of existing command registration if it exists\r\n    if (globalDiffCommandDisposable) {\r\n      globalDiffCommandDisposable.dispose();\r\n    }\r\n\r\n    // Register the command\r\n    globalDiffCommandDisposable = vscode.commands.registerCommand(\r\n      \"workbench.action.compareEditor.acceptChanges\",\r\n      async () => {\r\n        try {\r\n          // Save the document when changes are accepted\r\n          if (document.isDirty) {\r\n            await document.save();\r\n          }\r\n          // Cleanup\r\n          if ((global as any).__diffCleanup) {\r\n            (global as any).__diffCleanup();\r\n          }\r\n        } catch (error) {\r\n          console.error(\"Error in diff command handler:\", error);\r\n        }\r\n      }\r\n    );\r\n\r\n    return globalDiffCommandDisposable;\r\n  } catch (error) {\r\n    console.error(\"Error registering diff command:\", error);\r\n    return undefined;\r\n  }\r\n}\r\n\r\n// Add this class before the showDiffForFile function\r\nclass DiffReadOnlyContentProvider\r\n  implements vscode.TextDocumentContentProvider\r\n{\r\n  private _onDidChange = new vscode.EventEmitter<vscode.Uri>();\r\n  private _content = new Map<string, string>();\r\n\r\n  onDidChange = this._onDidChange.event;\r\n\r\n  provideTextDocumentContent(uri: vscode.Uri): string {\r\n    return this._content.get(uri.toString()) || \"\";\r\n  }\r\n\r\n  updateContent(uri: vscode.Uri, content: string): void {\r\n    this._content.set(uri.toString(), content);\r\n    this._onDidChange.fire(uri);\r\n  }\r\n\r\n  dispose() {\r\n    this._onDidChange.dispose();\r\n    this._content.clear();\r\n  }\r\n}\r\n\r\nasync function showDiffForFile(\r\n  originalUri: vscode.Uri,\r\n  oldContent: string,\r\n  newContent: string,\r\n  originalFileName: string\r\n) {\r\n  try {\r\n    console.log(\"Starting diff process for:\", originalFileName);\r\n\r\n    // Create read-only content provider\r\n    const contentProvider = new DiffReadOnlyContentProvider();\r\n    const providerRegistration =\r\n      vscode.workspace.registerTextDocumentContentProvider(\r\n        \"diff-readonly\",\r\n        contentProvider\r\n      );\r\n\r\n    // Create URIs for read-only content\r\n    const leftUri = vscode.Uri.parse(\r\n      `diff-readonly://left/${originalFileName}`\r\n    );\r\n    const rightUri = vscode.Uri.parse(\r\n      `diff-readonly://right/${originalFileName}`\r\n    );\r\n\r\n    // Update content in the provider\r\n    contentProvider.updateContent(leftUri, oldContent);\r\n    contentProvider.updateContent(rightUri, newContent);\r\n\r\n    // Create or get the editable document\r\n    const editableUri = originalUri;\r\n    const editableDocument = await vscode.workspace.openTextDocument(\r\n      editableUri\r\n    );\r\n\r\n    // Apply new content to editable document\r\n    const edit = new vscode.WorkspaceEdit();\r\n    edit.replace(\r\n      editableUri,\r\n      new vscode.Range(0, 0, editableDocument.lineCount, 0),\r\n      newContent\r\n    );\r\n    await vscode.workspace.applyEdit(edit);\r\n    await editableDocument.save();\r\n    await vscode.commands.executeCommand(\"workbench.action.closeActiveEditor\");\r\n\r\n    // Store the diff view information\r\n    const diffKey = originalUri.toString();\r\n    activeDiffViews.set(diffKey, {\r\n      originalUri: originalUri,\r\n      editableUri: editableUri,\r\n      diffUri: leftUri,\r\n      fileName: originalFileName,\r\n    });\r\n    console.log(\"[Diff View] Added new diff view:\", diffKey);\r\n\r\n    // Create a document for the new content without saving\r\n    const document = await vscode.workspace.openTextDocument(originalUri);\r\n\r\n    // Register the command for this diff session\r\n    const diffCommandsDisposable = await registerDiffCommand(document);\r\n\r\n    // Create a promise that will be resolved when changes are accepted\r\n    const diffPromise = new Promise<void>((resolve) => {\r\n      const disposables: vscode.Disposable[] = [];\r\n\r\n      // Listen for save events\r\n      disposables.push(\r\n        vscode.workspace.onDidSaveTextDocument(async (savedDoc) => {\r\n          if (savedDoc.uri.toString() === editableUri.toString()) {\r\n            // Cleanup and resolve\r\n            disposables.forEach((d) => d.dispose());\r\n            resolve();\r\n          }\r\n        })\r\n      );\r\n\r\n      // Store the cleanup function globally\r\n      (global as any).__diffCleanup = () => {\r\n        disposables.forEach((d) => d.dispose());\r\n        resolve();\r\n      };\r\n    });\r\n\r\n    // Show diff in read-only mode\r\n    const title = originalFileName;\r\n    const diffOptions = {\r\n      viewColumn: vscode.ViewColumn.Active,\r\n      preview: false,\r\n      preserveFocus: false,\r\n      options: {\r\n        readOnly: true,\r\n        contextmenu: false,\r\n        hover: false,\r\n        quickSuggestions: false,\r\n        suggestOnTriggerCharacters: false,\r\n        parameterHints: false,\r\n        codeLens: false,\r\n        lightbulb: { enabled: false },\r\n      },\r\n    };\r\n\r\n    // Register event listeners for the diff editor\r\n    const editorChangeDisposable = vscode.window.onDidChangeActiveTextEditor(\r\n      async (editor) => {\r\n        if (editor) {\r\n          const currentUri = editor.document.uri.toString();\r\n          const isDiffView =\r\n            currentUri.startsWith(\"diff-readonly://\") ||\r\n            Array.from(activeDiffViews.values()).some(\r\n              (view) => view.diffUri.toString() === currentUri\r\n            );\r\n\r\n          if (isDiffView) {\r\n            // For diff views, ensure they are read-only\r\n            editor.options = {\r\n              ...editor.options,\r\n              readOnly: true,\r\n              cursorStyle: vscode.TextEditorCursorStyle.Line,\r\n              lineNumbers: \"on\",\r\n              renderWhitespace: \"none\",\r\n              matchBrackets: \"never\",\r\n              renderControlCharacters: false,\r\n              renderIndentGuides: false,\r\n              selectionHighlight: false,\r\n              occurrencesHighlight: false,\r\n            };\r\n          }\r\n        }\r\n      }\r\n    );\r\n\r\n    await vscode.commands.executeCommand(\r\n      \"vscode.diff\",\r\n      leftUri, // Left side (old content)\r\n      rightUri, // Right side (new content)\r\n      title,\r\n      diffOptions\r\n    );\r\n\r\n    // Wait for changes to be accepted\r\n    await diffPromise;\r\n\r\n    // Cleanup\r\n    if (diffCommandsDisposable) {\r\n      diffCommandsDisposable.dispose();\r\n      if (globalDiffCommandDisposable === diffCommandsDisposable) {\r\n        globalDiffCommandDisposable = undefined;\r\n      }\r\n    }\r\n\r\n    editorChangeDisposable.dispose();\r\n    providerRegistration.dispose();\r\n    contentProvider.dispose();\r\n\r\n    const closeListener = vscode.window.onDidChangeVisibleTextEditors(\r\n      (editors) => {\r\n        const visibleUris = editors.map((e) => e.document.uri.toString());\r\n        if (\r\n          !visibleUris.includes(leftUri.toString()) &&\r\n          !visibleUris.includes(rightUri.toString())\r\n        ) {\r\n          console.log(\"[Diff View] Cleaning up diff view:\", diffKey);\r\n          activeDiffViews.delete(diffKey);\r\n          closeListener.dispose();\r\n        }\r\n      }\r\n    );\r\n\r\n    return { tempUri: leftUri };\r\n  } catch (error) {\r\n    console.error(\"Error showing diff:\", error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n// Add this at the top with other global variables\r\nconst changeDisposables = new Map<string, vscode.Disposable>();\r\n\r\n// Add this function to reapply decorations when switching tabs\r\nasync function reapplyDecorations(editor: vscode.TextEditor) {\r\n  const fileKey = editor.document.uri.toString();\r\n  const state = fileDecorationState.get(fileKey);\r\n  if (state) {\r\n    const currentContent = editor.document.getText();\r\n    await updateDecorations(editor, state.originalContent, currentContent);\r\n  }\r\n}\r\n\r\nasync function createFile(\r\n  workspaceUri: vscode.Uri,\r\n  fullPath: string,\r\n  file: File,\r\n  unsavedContent: string\r\n) {\r\n  try {\r\n    const fullFolderPath = vscode.Uri.joinPath(workspaceUri, fullPath);\r\n    await vscode.workspace.fs.createDirectory(fullFolderPath);\r\n\r\n    const fileUri = vscode.Uri.joinPath(fullFolderPath, file.filename);\r\n    const fileKey = fileUri.toString();\r\n\r\n    let originalContent = \"\";\r\n    let tempUri: vscode.Uri | undefined;\r\n\r\n    try {\r\n      const existingContent = await vscode.workspace.fs.readFile(fileUri);\r\n      originalContent = new TextDecoder().decode(existingContent);\r\n    } catch (e) {\r\n      const initialContent = new TextEncoder().encode(\"\");\r\n      await vscode.workspace.fs.writeFile(fileUri, initialContent);\r\n    }\r\n\r\n    const document = await vscode.workspace.openTextDocument(fileUri);\r\n    const editor = await vscode.window.showTextDocument(document, {\r\n      preview: false,\r\n      viewColumn: vscode.ViewColumn.One,\r\n    });\r\n\r\n    if (file.content) {\r\n      if (!originalContent.trim()) {\r\n        // First-time content handling with green decorations\r\n        const edit = new vscode.WorkspaceEdit();\r\n        edit.replace(\r\n          fileUri,\r\n          new vscode.Range(0, 0, document.lineCount, 0),\r\n          file.content\r\n        );\r\n        await vscode.workspace.applyEdit(edit);\r\n\r\n        const { addedLineDecoration } = createDecorations();\r\n        fileDecorationState.set(fileKey, {\r\n          addedDecoration: addedLineDecoration,\r\n          removedDecoration: vscode.window.createTextEditorDecorationType({}),\r\n          originalContent,\r\n          removedRanges: [],\r\n        });\r\n\r\n        await updateDecorations(editor, originalContent, file.content);\r\n\r\n        // Add save handler for first-time content\r\n        const firstTimeSaveDisposable = vscode.workspace.onDidSaveTextDocument(\r\n          async (savedDoc) => {\r\n            if (savedDoc.uri.toString() === fileKey) {\r\n              try {\r\n                // Clean up decorations only for this specific file\r\n                const state = fileDecorationState.get(fileKey);\r\n                if (state) {\r\n                  state.addedDecoration.dispose();\r\n                  state.removedDecoration.dispose();\r\n                  fileDecorationState.delete(fileKey);\r\n                }\r\n\r\n                // Dispose of event listeners for this file\r\n                firstTimeSaveDisposable.dispose();\r\n\r\n                // Only dispose the change disposable if it's for this file\r\n                if (changeDisposables.has(fileKey)) {\r\n                  changeDisposables.get(fileKey)?.dispose();\r\n                  changeDisposables.delete(fileKey);\r\n                }\r\n              } catch (error) {\r\n                console.error(\"Error handling first-time save cleanup:\", error);\r\n              }\r\n            }\r\n          }\r\n        );\r\n\r\n        // Add editor change handler to reapply decorations\r\n        const editorChangeDisposable =\r\n          vscode.window.onDidChangeActiveTextEditor(async (newEditor) => {\r\n            if (newEditor && newEditor.document.uri.toString() === fileKey) {\r\n              await reapplyDecorations(newEditor);\r\n            }\r\n          });\r\n\r\n        // Store change disposable for this file\r\n        const changeDisposable = vscode.workspace.onDidChangeTextDocument(\r\n          async (e) => {\r\n            if (e.document === document && !originalContent.trim()) {\r\n              const currentContent = document.getText();\r\n              const state = fileDecorationState.get(fileKey);\r\n              if (state) {\r\n                await updateDecorations(\r\n                  editor,\r\n                  state.originalContent,\r\n                  currentContent\r\n                );\r\n              }\r\n            }\r\n          }\r\n        );\r\n\r\n        // Store both disposables in the map\r\n        changeDisposables.set(\r\n          fileKey,\r\n          vscode.Disposable.from(changeDisposable, editorChangeDisposable)\r\n        );\r\n      } else {\r\n        // Show diff with old content in temp file and new content in original file\r\n        const { tempUri } = await showDiffForFile(\r\n          fileUri,\r\n          originalContent,\r\n          file.content,\r\n          file.filename\r\n        );\r\n\r\n        // Handle save cleanup\r\n        const saveDisposable = vscode.workspace.onDidSaveTextDocument(\r\n          async (savedDoc) => {\r\n            if (savedDoc.uri.toString() === fileUri.toString()) {\r\n              try {\r\n                // Clean up decorations only for this specific file\r\n                const state = fileDecorationState.get(fileKey);\r\n                if (state) {\r\n                  state.addedDecoration.dispose();\r\n                  state.removedDecoration.dispose();\r\n                  fileDecorationState.delete(fileKey);\r\n                }\r\n\r\n                // await new Promise(resolve => setTimeout(resolve, 100));\r\n                await vscode.commands.executeCommand(\r\n                  \"workbench.action.closeActiveEditor\"\r\n                );\r\n\r\n                await new Promise(resolve => setTimeout(resolve, 130));\r\n                if (tempUri) {\r\n                  try {\r\n                    await vscode.workspace.fs.delete(tempUri);\r\n                  } catch (error) {\r\n                    console.error(\"Error deleting temp file:\", error);\r\n                  }\r\n                }\r\n\r\n                await new Promise(resolve => setTimeout(resolve, 50));\r\n                const savedDocument = await vscode.workspace.openTextDocument(\r\n                  fileUri\r\n                );\r\n                await vscode.window.showTextDocument(savedDocument, {\r\n                  preview: false,\r\n                  viewColumn: vscode.ViewColumn.One,\r\n                });\r\n\r\n                // Dispose of event listeners for this file\r\n                saveDisposable.dispose();\r\n                if (changeDisposables.has(fileKey)) {\r\n                  changeDisposables.get(fileKey)?.dispose();\r\n                  changeDisposables.delete(fileKey);\r\n                }\r\n              } catch (error) {\r\n                console.error(\"Error handling save cleanup:\", error);\r\n              }\r\n            }\r\n          }\r\n        );\r\n\r\n        // Add editor change handler to reapply decorations\r\n        const editorChangeDisposable =\r\n          vscode.window.onDidChangeActiveTextEditor(async (newEditor) => {\r\n            if (newEditor && newEditor.document.uri.toString() === fileKey) {\r\n              await reapplyDecorations(newEditor);\r\n            }\r\n          });\r\n\r\n        // Store change disposable for this file\r\n        const changeDisposable = vscode.workspace.onDidChangeTextDocument(\r\n          async (e) => {\r\n            if (e.document === document && !originalContent.trim()) {\r\n              const currentContent = document.getText();\r\n              const state = fileDecorationState.get(fileKey);\r\n              if (state) {\r\n                await updateDecorations(\r\n                  editor,\r\n                  state.originalContent,\r\n                  currentContent\r\n                );\r\n              }\r\n            }\r\n          }\r\n        );\r\n\r\n        // Store both disposables in the map\r\n        changeDisposables.set(\r\n          fileKey,\r\n          vscode.Disposable.from(changeDisposable, editorChangeDisposable)\r\n        );\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error(`Error creating file ${file.filename}:`, error);\r\n    vscode.window.showErrorMessage(\r\n      `Failed to create file ${file.filename}: ${error.message}`\r\n    );\r\n  }\r\n}\r\n\r\n// Function to handle single file creation from streaming response with unsaved content\r\nexport async function createSingleFile(\r\n  filePath: string,\r\n  content: string,\r\n  unsavedContent: string\r\n) {\r\n  try {\r\n    const workspaceUri = vscode.workspace.workspaceFolders?.[0].uri;\r\n    if (!workspaceUri) {\r\n      vscode.window.showErrorMessage(\"No workspace is open.\");\r\n      return;\r\n    }\r\n\r\n    // Split the file path into directory and filename\r\n    const pathParts = filePath.split(\"/\");\r\n    const filename = pathParts.pop() || \"\";\r\n    const fullPath = pathParts.join(\"/\");\r\n\r\n    console.log(\"Created file's path\", fullPath);\r\n\r\n    // Ensure content is not undefined\r\n    const fileContent = content || \"\"; // Default to empty if content is undefined\r\n\r\n    // Create the file with initial content and then add unsaved content\r\n    await createFile(\r\n      workspaceUri,\r\n      fullPath,\r\n      {\r\n        filename,\r\n        content: fileContent,\r\n      },\r\n      unsavedContent\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Error creating file:\", error);\r\n    vscode.window.showErrorMessage(\"Failed to create file: \" + error.message);\r\n  }\r\n}\r\n\r\n// Original function for handling complete project structure, with file creation and unsaved content\r\nexport async function parseAndCreateFiles(\r\n  apiResponse: ProjectStructure,\r\n  unsavedContent: string\r\n) {\r\n  try {\r\n    // Validate the response structure\r\n    if (\r\n      !apiResponse.project_directory ||\r\n      !Array.isArray(apiResponse.structure)\r\n    ) {\r\n      throw new Error(\"Invalid response format\");\r\n    }\r\n\r\n    const workspaceUri = vscode.workspace.workspaceFolders?.[0].uri;\r\n    if (!workspaceUri) {\r\n      vscode.window.showErrorMessage(\"No workspace is open.\");\r\n      return;\r\n    }\r\n\r\n    // Create project root directory\r\n    const rootProjectUri = vscode.Uri.joinPath(\r\n      workspaceUri,\r\n      apiResponse.project_directory\r\n    );\r\n    await vscode.workspace.fs.createDirectory(rootProjectUri);\r\n\r\n    // Create each file in the structure with unsaved content\r\n    for (const folder of apiResponse.structure) {\r\n      for (const file of folder.files) {\r\n        const fullPath = `${apiResponse.project_directory}/${folder.folder}`;\r\n        await createFile(workspaceUri, fullPath, file, unsavedContent);\r\n      }\r\n    }\r\n\r\n    vscode.window.showInformationMessage(\r\n      `Project ${apiResponse.project_directory} created successfully.`\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Error handling API response:\", error);\r\n    vscode.window.showErrorMessage(\r\n      \"Failed to process API response: \" + error.message\r\n    );\r\n  }\r\n}\r\n\r\n// Add cleanup on extension deactivation\r\nexport function deactivate() {\r\n  // Clean up all decorations and disposables\r\n  for (const [key, state] of fileDecorationState) {\r\n    state.addedDecoration.dispose();\r\n    state.removedDecoration.dispose();\r\n  }\r\n  fileDecorationState.clear();\r\n\r\n  // Clean up all change disposables\r\n  for (const disposable of changeDisposables.values()) {\r\n    disposable.dispose();\r\n  }\r\n  changeDisposables.clear();\r\n\r\n  if (globalDiffCommandDisposable) {\r\n    globalDiffCommandDisposable.dispose();\r\n  }\r\n}\r\n\r\nasync function deleteFolder(rootDir) {\r\n  const folderUri = vscode.Uri.joinPath(\r\n    vscode.workspace.workspaceFolders[0].uri,\r\n    rootDir\r\n  );\r\n\r\n  try {\r\n    const folderPath = folderUri.fsPath;\r\n\r\n    // Close all open tabs that belong to the folder\r\n    const closeTabsInFolder = async () => {\r\n      const tabsToClose = [];\r\n      const unsavedTabs = [];\r\n\r\n      vscode.window.tabGroups.all.forEach((group) => {\r\n        group.tabs.forEach((tab) => {\r\n          if (\r\n            tab.input &&\r\n            tab.input.uri &&\r\n            tab.input.uri.fsPath.startsWith(folderPath)\r\n          ) {\r\n            if (tab.isDirty) {\r\n              unsavedTabs.push(tab);\r\n            } else {\r\n              tabsToClose.push(tab);\r\n            }\r\n          }\r\n        });\r\n      });\r\n\r\n      // Save all unsaved files automatically\r\n      for (const tab of unsavedTabs) {\r\n        const document = await vscode.workspace.openTextDocument(tab.input.uri);\r\n        await document.save();\r\n      }\r\n      for (const tab of tabsToClose) {\r\n        const document = await vscode.workspace.openTextDocument(tab.input.uri);\r\n        await document.save();\r\n      }\r\n\r\n      console.log(\"sxsxtabsToClose\", tabsToClose);\r\n      console.log(\"sxsxunsavedTabs\", unsavedTabs);\r\n\r\n      // Close all tabs\r\n      for (const tab of [...tabsToClose, ...unsavedTabs]) {\r\n        await vscode.window.tabGroups.close(tab);\r\n      }\r\n    };\r\n\r\n    await closeTabsInFolder(); // Wait for tabs to close\r\n\r\n    // Now delete the folder and its contents\r\n    await vscode.workspace.fs.delete(folderUri, {\r\n      recursive: true,\r\n      force: true,\r\n    });\r\n\r\n    console.log(`Deleted folder and all contents: ${rootDir}`);\r\n  } catch (error) {\r\n    console.error(`Error deleting folder: ${rootDir}`, error);\r\n    vscode.window.showErrorMessage(`Failed to delete folder: ${rootDir}`);\r\n  }\r\n}\r\nexport async function revertChangesOrDelete(\r\n  filePaths: string[],\r\n  rootDir: string | null\r\n) {\r\n  try {\r\n    const workspaceUri = vscode.workspace.workspaceFolders?.[0]?.uri;\r\n    if (!workspaceUri) {\r\n      throw new Error(\"No workspace is open.\");\r\n    }\r\n    for (const filePath of filePaths) {\r\n      const fileUri = vscode.Uri.joinPath(workspaceUri, filePath);\r\n      try {\r\n        // First, try to get the actual file document\r\n        const document = await vscode.workspace.openTextDocument(fileUri);\r\n        console.log(`document.isDirty: ${document.isDirty}`);\r\n        if (document.isDirty) {\r\n          // Check if the file is now empty\r\n          const updatedContent = (await vscode.workspace.fs.readFile(fileUri))\r\n            .toString()\r\n            .trim();\r\n          if (!updatedContent) {\r\n            console.log(`File is empty, deleting: ${filePath}`);\r\n            // Find all tabs for this file\r\n            const tabsToClose = [];\r\n            console.log(`Processing unsaved content for: ${filePath}`);\r\n            // Show the file in Column One\r\n            await vscode.window.showTextDocument(document, {\r\n              preview: true,\r\n              viewColumn: vscode.ViewColumn.One,\r\n            });\r\n            // Retrieve saved content (on disk)\r\n            const savedContent = (\r\n              await vscode.workspace.fs.readFile(fileUri)\r\n            ).toString();\r\n            console.log(\"Saved Content:\\n\", savedContent);\r\n            // Retrieve unsaved content (in editor)\r\n            const unsavedContent = document.getText();\r\n            console.log(\"Unsaved Content:\\n\", unsavedContent);\r\n            if (unsavedContent !== savedContent) {\r\n              const edit = new vscode.WorkspaceEdit();\r\n              const entireRange = new vscode.Range(\r\n                0,\r\n                0,\r\n                document.lineCount,\r\n                document.getText().length\r\n              );\r\n              edit.replace(fileUri, entireRange, savedContent);\r\n              await vscode.workspace.applyEdit(edit);\r\n              await document.save();\r\n              console.log(`Unsaved content reverted for: ${filePath}`);\r\n            } else {\r\n              console.log(`No unsaved content detected for: ${filePath}`);\r\n            }\r\n          }\r\n          //  ------------------\r\n          if (!updatedContent) {\r\n            console.log(`File is empty, deleting: ${filePath}`);\r\n            console.log(`File deleted: ${filePath}`);\r\n            // Close the file tab in VS Code\r\n            const tabsToClose = [];\r\n            vscode.window.tabGroups.all.forEach((group) => {\r\n              group.tabs.forEach((tab) => {\r\n                if (\r\n                  tab.input &&\r\n                  tab.input.uri &&\r\n                  tab.input.uri.fsPath === fileUri.fsPath\r\n                ) {\r\n                  tabsToClose.push(tab);\r\n                }\r\n              });\r\n            });\r\n            for (const tab of tabsToClose) {\r\n              await vscode.window.tabGroups.close(tab);\r\n            }\r\n            await vscode.workspace.fs.delete(fileUri);\r\n            console.log(`Closed tab for deleted file: ${filePath}`);\r\n          }\r\n          if (rootDir) {\r\n            await deleteFolder(rootDir);\r\n          }\r\n        }\r\n        else {\r\n          // Handle non-dirty files\r\n          console.log(`Processing non-dirty file: ${filePath}`);\r\n          const fileUriString = fileUri.toString();\r\n          const diffView = activeDiffViews.get(fileUriString);\r\n          if (diffView) {\r\n            console.log(\"[Revert] Found active diff view for:\", filePath);\r\n            try {\r\n              // Get the old content from the diff-readonly URI\r\n              const oldContent = await vscode.workspace\r\n                .openTextDocument(diffView.diffUri)\r\n                .then((doc) => doc.getText());\r\n              console.log(\"[Revert] Retrieved old content for:\", filePath);\r\n              // Replace content in editable file\r\n              const document = await vscode.workspace.openTextDocument(\r\n                diffView.editableUri\r\n              );\r\n              const edit = new vscode.WorkspaceEdit();\r\n              edit.replace(\r\n                diffView.editableUri,\r\n                new vscode.Range(0, 0, document.lineCount, 0),\r\n                oldContent\r\n              );\r\n              // Apply and save changes\r\n              await vscode.workspace.applyEdit(edit);\r\n              await document.save();\r\n              // Find only the specific diff editor tab for this file\r\n              const allTabs = vscode.window.tabGroups.all.flatMap(\r\n                (group) => group.tabs\r\n              );\r\n              const tabsToClose = allTabs.filter((tab) => {\r\n                if (!tab.input || typeof tab.input !== \"object\") {\r\n                  return false;\r\n                }\r\n                // For diff editor tabs\r\n                if (\"original\" in tab.input && \"modified\" in tab.input) {\r\n                  const original = tab.input.original.toString();\r\n                  const modified = tab.input.modified.toString();\r\n                  // Strict matching to ensure we only close the exact diff view\r\n                  const isExactMatch =\r\n                    (original.includes(`diff-readonly://left/${diffView.fileName}`) ||\r\n                     original.includes(`diff-readonly://right/${diffView.fileName}`)) &&\r\n                    (modified.includes(fileUriString) ||\r\n                     modified.includes(`diff-readonly://right/${diffView.fileName}`));\r\n                  if (isExactMatch) {\r\n                    console.log(\"[Revert] Found exact matching diff tab:\", {\r\n                      original,\r\n                      modified,\r\n                      fileName: diffView.fileName\r\n                    });\r\n                  }\r\n                  return isExactMatch;\r\n                }\r\n                // For standalone diff-readonly tabs of this specific file\r\n                if (\"uri\" in tab.input) {\r\n                  const uri = tab.input.uri.toString();\r\n                  const isExactMatch = uri.includes(\"diff-readonly://\") &&\r\n                                      uri.includes(diffView.fileName) &&\r\n                                      (uri.includes(`/left/${diffView.fileName}`) ||\r\n                                       uri.includes(`/right/${diffView.fileName}`));\r\n                  if (isExactMatch) {\r\n                    console.log(\"[Revert] Found exact matching readonly tab:\", uri);\r\n                  }\r\n                  return isExactMatch;\r\n                }\r\n                return false;\r\n              });\r\n              console.log(\"[Revert] Tabs to close:\", tabsToClose.length);\r\n              // Close only the specific tabs for this file\r\n              for (const tab of tabsToClose) {\r\n                try {\r\n                  await vscode.window.tabGroups.close(tab);\r\n                  console.log(\"[Revert] Closed specific tab:\", tab.label);\r\n                } catch (error) {\r\n                  console.error(\"[Revert] Error closing tab:\", {\r\n                    label: tab.label,\r\n                    error,\r\n                  });\r\n                }\r\n              }\r\n              // Remove only this file from active diffs\r\n              activeDiffViews.delete(fileUriString);\r\n              // Open the original file with reverted content\r\n              await vscode.window.showTextDocument(document, {\r\n                viewColumn: vscode.ViewColumn.One,\r\n                preview: false,\r\n              });\r\n              console.log(`[Revert] Successfully reverted changes for: ${filePath}`);\r\n            } catch (error) {\r\n              console.error(\"[Revert] Error reverting changes:\", error);\r\n              throw error;\r\n            }\r\n          } else {\r\n            console.log(\"[Revert] No active diff view found for:\", filePath);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(`Error processing file ${filePath}:`, error);\r\n        // If we can't open the document, try direct deletion\r\n        try {\r\n          await vscode.workspace.fs.delete(fileUri);\r\n          console.log(`Successfully deleted file: ${filePath}`);\r\n        } catch (deleteError) {\r\n          console.error(\r\n            `Error in direct deletion of ${filePath}:`,\r\n            deleteError\r\n          );\r\n        }\r\n      }\r\n    }\r\n    // After processing all files, handle root directory deletion if needed\r\n    if (rootDir) {\r\n      await deleteFolder(rootDir);\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error handling revert for multiple files:\", error);\r\n    vscode.window.showErrorMessage(\r\n      \"Failed to revert files. Check logs for details.\"\r\n    );\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport async function deleteFiles(\r\n  filePaths: string[],\r\n  rootDir: string | null, deleteRoot: boolean = false\r\n) {\r\n  try {\r\n    const workspaceUri = vscode.workspace.workspaceFolders?.[0]?.uri;\r\n    if (!workspaceUri) {\r\n      throw new Error(\"No workspace is open.\");\r\n    }\r\n\r\n    for (const filePath of filePaths) {\r\n      const fileUri = vscode.Uri.joinPath(workspaceUri, filePath);\r\n\r\n      // Skip non-file URIs (e.g. diff-readonly://)\r\n      if (fileUri.scheme !== \"file\") {\r\n        console.warn(`Skipping non-file URI: ${fileUri.toString()}`);\r\n        continue;\r\n      }\r\n      // Attempt to close any open tabs for this file\r\n      const tabsToClose: vscode.Tab[] = [];\r\n      vscode.window.tabGroups.all.forEach((group) => {\r\n        group.tabs.forEach((tab) => {\r\n          if (\r\n            tab.input &&\r\n            tab.input.uri &&\r\n            tab.input.uri.fsPath === fileUri.fsPath\r\n          ) {\r\n            tabsToClose.push(tab);\r\n          }\r\n        });\r\n      });\r\n\r\n      for (const tab of tabsToClose) {\r\n        try {\r\n          await vscode.window.tabGroups.close(tab);\r\n          console.log(`Closed tab for: ${filePath}`);\r\n        } catch (closeError) {\r\n          console.error(`Error closing tab for ${filePath}:`, closeError);\r\n        }\r\n      }\r\n\r\n      // Delete the file\r\n      try {\r\n        await vscode.workspace.fs.delete(fileUri);\r\n        console.log(`Successfully deleted file: ${filePath}`);\r\n      } catch (deleteError) {\r\n        console.error(`Error deleting file ${filePath}:`, deleteError);\r\n      }\r\n    }\r\n \r\n    // Only delete the root directory if explicitly requested\r\n    if (deleteRoot && rootDir) {\r\n      try {\r\n        await deleteFolder(rootDir);\r\n        console.log(`Successfully deleted root directory: ${rootDir}`);\r\n      } catch (deleteFolderError) {\r\n        console.error(`Error deleting root directory ${rootDir}:`, deleteFolderError);\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error deleting multiple files:\", error);\r\n    vscode.window.showErrorMessage(\r\n      \"Failed to delete files. Check logs for details.\"\r\n    );\r\n    throw error;\r\n  }\r\n}\r\n\r\n// Update saveBuildFile function to use editableUri\r\nexport async function saveBuildFile(filePath: string) {\r\n  try {\r\n    console.log(`[Save Build] Saving file: ${filePath}`);\r\n\r\n    const workspaceUri = vscode.workspace.workspaceFolders?.[0]?.uri;\r\n    if (!workspaceUri) {\r\n      throw new Error(\"No workspace is open.\");\r\n    }\r\n\r\n    const fileUri = vscode.Uri.joinPath(workspaceUri, filePath);\r\n    const fileUriString = fileUri.toString();\r\n\r\n    // Extract filename from filePath or URI\r\n    const fileName = filePath.split(\"/\").pop() || path.basename(fileUriString);\r\n    console.log(\"[Save Build] Looking for file:\", fileName);\r\n\r\n    // Get all open tabs\r\n    const allTabs = vscode.window.tabGroups.all.flatMap((group) => group.tabs);\r\n    console.log(\"[Save Build] Total open tabs:\", allTabs.length);\r\n\r\n    // Find matching tabs\r\n    const matchingTabs = allTabs.filter((tab) => {\r\n      if (!tab.input) return false;\r\n\r\n      let tabFileName = \"\";\r\n      if (\"uri\" in tab.input) {\r\n        // Regular editor tab\r\n        tabFileName = path.basename(tab.input.uri.fsPath);\r\n      } else if (\"original\" in tab.input) {\r\n        // Diff editor tab\r\n        const modified = tab.input.modified;\r\n        if (\"path\" in modified) {\r\n          tabFileName = path.basename(modified.path);\r\n        }\r\n      }\r\n\r\n      // console.log(\"[Save Build] Checking tab:\", {\r\n      //   tabName: tab.label,\r\n      //   fileName: tabFileName,\r\n      //   isDirty: tab.isDirty,\r\n      // });\r\n\r\n      return tabFileName.toLowerCase() === fileName.toLowerCase();\r\n    });\r\n\r\n    console.log(\"[Save Build] Found matching tabs:\", matchingTabs.length);\r\n\r\n    // Save matching dirty tabs\r\n    for (const tab of matchingTabs) {\r\n      if (tab.isDirty) {\r\n        if (\"uri\" in tab.input) {\r\n          const document = await vscode.workspace.openTextDocument(\r\n            tab.input.uri\r\n          );\r\n          await document.save();\r\n          console.log(\"[Save Build] Saved dirty tab:\", fileName);\r\n        }\r\n      }\r\n    }\r\n\r\n    // Check if this file has an active diff view\r\n    const diffView = activeDiffViews.get(fileUriString);\r\n    if (diffView) {\r\n      console.log(\"[Save Build] Found active diff view for:\", filePath);\r\n      console.log(\"[Save Build] DiffView details:\", {\r\n        originalUri: diffView.originalUri.toString(),\r\n        editableUri: diffView.editableUri.toString(),\r\n        diffUri: diffView.diffUri.toString(),\r\n        fileName: diffView.fileName,\r\n      });\r\n\r\n      // Find all diff editor tabs related to this file\r\n      const allTabs = vscode.window.tabGroups.all.flatMap(\r\n        (group) => group.tabs\r\n      );\r\n      console.log(\"[Save Build] Total tabs found:\", allTabs.length);\r\n\r\n      const diffTabs = allTabs.filter((tab) => {\r\n        if (!tab.input || !(\"original\" in tab.input)) {\r\n          return false;\r\n        }\r\n\r\n        // Log tab details for debugging\r\n        const original = tab.input.original.toString();\r\n        const modified = tab.input.modified.toString();\r\n        // console.log(\"[Save Build] Checking tab:\", {\r\n        //   original,\r\n        //   modified,\r\n        //   isDiffEditor: \"original\" in tab.input,\r\n        // });\r\n\r\n        // Check if this tab is comparing our target file\r\n        const isMatch =\r\n          original.includes(`diff-readonly://left/${diffView.fileName}`) ||\r\n          original.includes(`diff-readonly://right/${diffView.fileName}`) ||\r\n          modified.includes(`diff-readonly://left/${diffView.fileName}`) ||\r\n          modified.includes(`diff-readonly://right/${diffView.fileName}`);\r\n\r\n        if (isMatch) {\r\n          console.log(\"[Save Build] Found matching diff tab:\", {\r\n            original,\r\n            modified,\r\n            fileName: diffView.fileName,\r\n          });\r\n        }\r\n\r\n        return isMatch;\r\n      });\r\n\r\n      console.log(\"[Save Build] Matching diff tabs found:\", diffTabs.length);\r\n\r\n      // Close all related diff tabs\r\n      for (const tab of diffTabs) {\r\n        await vscode.window.tabGroups.close(tab);\r\n        console.log(\"[Save Build] Closed diff tab for:\", filePath);\r\n      }\r\n\r\n      // Reopen the editable file\r\n      const document = await vscode.workspace.openTextDocument(\r\n        diffView.editableUri\r\n      );\r\n      await vscode.window.showTextDocument(document, {\r\n        viewColumn: vscode.ViewColumn.One,\r\n        preview: false,\r\n      });\r\n\r\n      // Remove from active diffs\r\n      activeDiffViews.delete(fileUriString);\r\n      console.log(\"[Save Build] Reopened original file:\", filePath);\r\n    }\r\n  } catch (error) {\r\n    console.error(\"[Save Build] Error saving file:\", error);\r\n    vscode.window.showErrorMessage(`Failed to save file: ${filePath}`);\r\n    throw error;\r\n  }\r\n}\r\nexport async function retrieveCode(\r\n  filePaths: string[],\r\n  rootDir: string | null\r\n) {\r\n  try {\r\n    const workspaceUri = vscode.workspace.workspaceFolders?.[0]?.uri;\r\n    if (!workspaceUri) {\r\n      throw new Error(\"No workspace is open.\");\r\n    }\r\n\r\n    // Object to store the retrieved code for each file\r\n    const retrievedCodes: { [filePath: string]: string } = {};\r\n\r\n    for (const filePath of filePaths) {\r\n      const fileUri = vscode.Uri.joinPath(workspaceUri, filePath);\r\n      try {\r\n        const document = await vscode.workspace.openTextDocument(fileUri);\r\n        let codeContent = \"\";\r\n\r\n        if (document.isDirty) {\r\n          // For dirty documents, retrieve the unsaved content.\r\n          codeContent = document.getText();\r\n          console.log(`Retrieved unsaved code for dirty file: ${filePath}`);\r\n        } else {\r\n          // For non-dirty documents, check if there's an active diff view.\r\n          const fileUriString = fileUri.toString();\r\n          const diffView = activeDiffViews.get(fileUriString);\r\n          if (diffView) {\r\n            console.log(`[Retrieve] Found active diff view for: ${filePath}`);\r\n            // Retrieve the old content from the diff view.\r\n            codeContent = await vscode.workspace\r\n              .openTextDocument(diffView.diffUri)\r\n              .then((doc) => doc.getText());\r\n            console.log(`[Retrieve] Retrieved code from diff view for: ${filePath}`);\r\n          } else {\r\n            // Simply retrieve the saved content.\r\n            codeContent = document.getText();\r\n            console.log(`[Retrieve] Retrieved saved code for: ${filePath}`);\r\n          }\r\n        }\r\n\r\n        // Store the retrieved code.\r\n        retrievedCodes[filePath] = codeContent;\r\n\r\n        // Optionally, open the document in the editor.\r\n        await vscode.window.showTextDocument(document, {\r\n          viewColumn: vscode.ViewColumn.One,\r\n          preview: false,\r\n        });\r\n      } catch (error) {\r\n        console.error(`Error retrieving code for file ${filePath}:`, error);\r\n      }\r\n    }\r\n\r\n    // Note: We do not delete the root directory in this function.\r\n    return retrievedCodes;\r\n  } catch (error) {\r\n    console.error(\"Error retrieving code from multiple files:\", error);\r\n    vscode.window.showErrorMessage(\"Failed to retrieve code. Check logs for details.\");\r\n    throw error;\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * Reads the content of files specified in the semanticResults object.\r\n *\r\n * @param {Object} semanticResults - The object containing relevant_files array.\r\n * @returns {Promise<string[]>} - A promise that resolves to an array of file contents.\r\n * @throws {Error} - If semanticResults is invalid.\r\n */\r\ninterface SemanticResult {\r\n  relevant_history: Array<{\r\n    interaction_number: number;\r\n    relevant_content: string;\r\n    relevance_reason: string;\r\n  }>;\r\n  relevant_files: Array<{\r\n    file_path: string;\r\n    relevance_reason: string;\r\n  }>;\r\n}\r\nexport async function getRelevantFilesContent(semanticResults: SemanticResult, rootDirectory: string) {\r\n  console.log(semanticResults, rootDirectory,\"getRelevantFilesContentCv\")\r\n  if (!semanticResults || !Array.isArray(semanticResults.relevant_files)) {\r\n    throw new Error('Invalid semanticResults object');\r\n  }\r\n\r\n  // Map each file object to a promise that resolves with its content.\r\n  const fileContentPromises = semanticResults.relevant_files.map(async (fileObj) => {\r\n    let filePath = path.join(rootDirectory, fileObj.file_path); \r\n \r\n    try {\r\n      const content = await fs.readFileSync(filePath, 'utf8');\r\n      console.log(content, \"reading_content_filepath\");\r\n      \r\n      return content;\r\n    } catch (error) {\r\n      console.error(`Error reading file at ${filePath}:`, error);\r\n      // Optionally, you could rethrow or simply return null.\r\n      return null;\r\n    }\r\n  });\r\n\r\n  // Wait for all file-read operations to complete.\r\n  const fileContents = await Promise.all(fileContentPromises);\r\n  // Filter out any null results from failed reads.\r\n  return fileContents.filter(content => content !== null);\r\n}","/* eslint-disable */\r\n//@ts-nocheck\r\nimport * as vscode from 'vscode';\r\nimport * as path from 'path';\r\nimport * as fs from 'fs';\r\nimport ignore from 'ignore';\r\n\r\n// Default patterns to ignore\r\nconst defaultIgnorePatterns = [\r\n  '.git',\r\n  'node_modules',\r\n  'build',\r\n  'dist',\r\n  'coverage',\r\n  '.DS_Store',\r\n  '*.log',\r\n];\r\n\r\n// Files to exclude from initial suggestions but allow when explicitly searched\r\nconst configFilePatterns = [\r\n  'package.json',\r\n  'tsconfig.json',\r\n  'webpack.config.*',\r\n  '.env*',\r\n  '.eslintrc.*',\r\n  '.prettierrc.*',\r\n  '.babelrc.*'\r\n];\r\n\r\n// Files to always exclude from suggestions\r\nconst excludedFilePatterns = [\r\n  // System files\r\n  'thumbs.db',\r\n  '.DS_Store',\r\n  // Lock files\r\n  '*.lock',\r\n  'yarn.lock',\r\n  // Build artifacts\r\n  '*.map',\r\n  '*.min.*',\r\n];\r\n\r\n// Function to check if file is a config file\r\nfunction isConfigFile(fileName: string): boolean {\r\n  return configFilePatterns.some(pattern => {\r\n    if (pattern.includes('*')) {\r\n      const regex = new RegExp('^' + pattern.replace(/\\*/g, '.*') + '$');\r\n      return regex.test(fileName);\r\n    }\r\n    return fileName === pattern;\r\n  });\r\n}\r\n\r\n// Function to check if file should be included in suggestions\r\nfunction shouldIncludeFile(fileName: string, isExplicitSearch: boolean = false): boolean {\r\n  // Check against excluded patterns first (always exclude these)\r\n  for (const pattern of excludedFilePatterns) {\r\n    if (pattern.includes('*')) {\r\n      const regex = new RegExp('^' + pattern.replace(/\\*/g, '.*') + '$');\r\n      if (regex.test(fileName)) return false;\r\n    } else if (fileName === pattern || fileName.startsWith(pattern)) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // If it's a config file, only include if explicitly searched for that type\r\n  if (isConfigFile(fileName)) {\r\n    return isExplicitSearch;\r\n  }\r\n\r\n  // Include common code files\r\n  const validExtensions = [\r\n    '.ts', '.tsx', '.js', '.jsx', '.py', '.java', '.cpp', '.c',\r\n    '.html', '.css', '.scss', '.sass', '.less', '.vue', '.php',\r\n    '.rb', '.go', '.rs', '.swift', '.kt', '.cs', '.fs', '.clj',\r\n    '.scala', '.dart', '.ex', '.exs', '.erl', '.ml', '.mli',\r\n    '.json'\r\n  ];\r\n  \r\n  return validExtensions.some(ext => fileName.toLowerCase().endsWith(ext));\r\n}\r\n\r\n// Function to check if directory should be ignored\r\nfunction shouldIgnoreDirectory(dirPath: string): boolean {\r\n  const dirName = path.basename(dirPath);\r\n  return defaultIgnorePatterns.some(pattern => \r\n    pattern === dirName || \r\n    (pattern.startsWith('.') && dirName.startsWith('.'))\r\n  );\r\n}\r\n\r\n// Optimized level-by-level directory search with relevance scoring\r\n// 1. Modified searchFilesInDirectory:\r\n// -------------------------------------\r\nasync function searchFilesInDirectory(\r\n  dirPath: string,\r\n  searchQuery: string,\r\n  maxResults: number = 10\r\n): Promise<Array<{ path: string; score: number }>> {\r\n  const results: Array<{ path: string; score: number }> = [];\r\n  const queue: Array<{ path: string; depth: number }> = [{ path: dirPath, depth: 0 }];\r\n  const seen = new Set<string>();\r\n\r\n  const searchQueryLower = searchQuery.toLowerCase();\r\n  // Determine if we’re doing an explicit config search (if needed)\r\n  const isConfigSearch = configFilePatterns.some(pattern =>\r\n    pattern.toLowerCase().includes(searchQueryLower)\r\n  );\r\n\r\n  while (queue.length > 0) {\r\n    const { path: currentPath, depth } = queue.shift()!;\r\n\r\n    try {\r\n      const entries = await fs.promises.readdir(currentPath, { withFileTypes: true });\r\n\r\n      // Process files first\r\n      for (const entry of entries) {\r\n        if (entry.isFile()) {\r\n          const fileName = entry.name;\r\n          const fullPath = path.join(currentPath, fileName);\r\n\r\n          if (seen.has(fullPath)) continue;\r\n          seen.add(fullPath);\r\n\r\n          // Only include files whose names start with the query\r\n          const fileNameLower = fileName.toLowerCase();\r\n          if (!fileNameLower.startsWith(searchQueryLower)) continue;\r\n\r\n          const isConfig = isConfigFile(fileName);\r\n          // Only include config files if explicitly searching for them\r\n          if (!shouldIncludeFile(fileName, isConfigSearch && isConfig)) continue;\r\n\r\n          // Now calculate a score (we have a simple 2–tier system: exact match vs. startsWith)\r\n          let score = fileNameLower === searchQueryLower ? 100 : 90;\r\n\r\n          // Boost config files only if explicitly searching for them\r\n          if (isConfig && isConfigSearch) {\r\n            // Even if it’s not an exact match, let it score a bit lower than an exact match\r\n            score = fileNameLower === searchQueryLower ? 100 : 85;\r\n          }\r\n\r\n          // Penalize config files in normal searches\r\n          if (isConfig && !isConfigSearch) {\r\n            score = 0;\r\n          }\r\n\r\n          // Adjust score based on depth (files in the search root get the highest boost)\r\n          score = score / (depth + 1);\r\n\r\n          if (score > 0) {\r\n            results.push({ path: fullPath, score });\r\n          }\r\n        }\r\n      }\r\n\r\n      // Then process directories (skip ignored directories)\r\n      for (const entry of entries) {\r\n        if (entry.isDirectory() && !shouldIgnoreDirectory(path.join(currentPath, entry.name))) {\r\n          queue.push({\r\n            path: path.join(currentPath, entry.name),\r\n            depth: depth + 1\r\n          });\r\n        }\r\n      }\r\n\r\n      // Sort results by score and stop early if we have enough\r\n      results.sort((a, b) => b.score - a.score);\r\n      if (results.length >= maxResults * 2) {\r\n        queue.length = 0;\r\n      }\r\n    } catch (error) {\r\n      console.error(`Error reading directory ${currentPath}:`, error);\r\n    }\r\n  }\r\n\r\n  return results.slice(0, maxResults);\r\n}\r\n\r\n\r\n// Get all active tab files\r\nfunction getAllActiveTabs(): Array<{ label: string; path: string }> {\r\n  const openTabFiles = new Map<string, { label: string; path: string }>();\r\n\r\n  try {\r\n    // First try using Tab Groups API\r\n    if (vscode.window.tabGroups) {\r\n      vscode.window.tabGroups.all.forEach(group => {\r\n        group.tabs.forEach(tab => {\r\n          if (tab.input instanceof vscode.TabInputText) {\r\n            const filePath = tab.input.uri.fsPath;\r\n            const fileName = path.basename(filePath);\r\n\r\n            if (filePath && \r\n                shouldIncludeFile(fileName) &&\r\n                fs.existsSync(filePath)) {\r\n              openTabFiles.set(filePath, {\r\n                label: fileName,\r\n                path: filePath\r\n              });\r\n            }\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    // Fallback for older VS Code versions or if no tabs found\r\n    if (openTabFiles.size === 0) {\r\n      vscode.window.visibleTextEditors.forEach(editor => {\r\n        const filePath = editor.document.uri.fsPath;\r\n        const fileName = path.basename(filePath);\r\n\r\n        if (filePath && \r\n            shouldIncludeFile(fileName) &&\r\n            fs.existsSync(filePath)) {\r\n          openTabFiles.set(filePath, {\r\n            label: fileName,\r\n            path: filePath\r\n          });\r\n        }\r\n      });\r\n    }\r\n\r\n    return Array.from(openTabFiles.values())\r\n      .sort((a, b) => a.label.localeCompare(b.label));\r\n\r\n  } catch (error) {\r\n    console.error('Error getting active tabs:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\n// Get filtered file suggestions based on query\r\n// 2. Modified getFileContextSuggestions:\r\n// ----------------------------------------\r\nexport async function getFileContextSuggestions(query: string): Promise<Array<{ label: string; path: string }>> {\r\n  try {\r\n    const searchQuery = query.trim().replace(\"@\", \"\").toLowerCase();\r\n\r\n    // Get all active tab files\r\n    const allActiveTabs = getAllActiveTabs();\r\n\r\n    // If the query is empty, return all active tabs\r\n    if (!searchQuery) {\r\n      return allActiveTabs;\r\n    }\r\n\r\n    // Filter active tabs to only include those whose file names start with the query.\r\n    // (This prevents showing e.g. tsconfig.app.json for query \"p\")\r\n    const activeTabs = allActiveTabs.filter(file =>\r\n      file.label.toLowerCase().startsWith(searchQuery)\r\n    );\r\n\r\n    const workspaceResults: Array<{ label: string; path: string; score: number; level: number }> = [];\r\n    const activeTabPaths = new Set(activeTabs.map(tab => tab.path));\r\n\r\n    // PRIORITY 1: If there is an active editor, use its folder and its ancestors\r\n    const activeEditor = vscode.window.activeTextEditor;\r\n    if (activeEditor) {\r\n      let currentFolder = path.dirname(activeEditor.document.uri.fsPath);\r\n      // Find the workspace folder that contains the active file\r\n      const workspaceFolder = vscode.workspace.getWorkspaceFolder(activeEditor.document.uri);\r\n      let level = 0;\r\n      while (currentFolder && workspaceFolder && currentFolder.startsWith(workspaceFolder.uri.fsPath)) {\r\n        // Search within the current folder.\r\n        // We limit results in each folder so that current folder files (level 0) are ranked higher.\r\n        const files = await searchFilesInDirectory(currentFolder, searchQuery, 10);\r\n        files.forEach(({ path: filePath, score }) => {\r\n          if (!activeTabPaths.has(filePath)) {\r\n            workspaceResults.push({\r\n              label: path.relative(currentFolder, filePath), // Or use basename(filePath) if preferred\r\n              path: filePath,\r\n              score,\r\n              level, // Lower level means closer to the active file folder.\r\n            });\r\n          }\r\n        });\r\n        const parent = path.dirname(currentFolder);\r\n        if (parent === currentFolder) break;\r\n        currentFolder = parent;\r\n        level++;\r\n      }\r\n    } else {\r\n      // Fallback: search each workspace folder\r\n      const folders = vscode.workspace.workspaceFolders;\r\n      if (folders) {\r\n        for (const folder of folders) {\r\n          const files = await searchFilesInDirectory(folder.uri.fsPath, searchQuery, 10);\r\n          files.forEach(({ path: filePath, score }) => {\r\n            workspaceResults.push({\r\n              label: path.relative(folder.uri.fsPath, filePath),\r\n              path: filePath,\r\n              score,\r\n              level: 0,\r\n            });\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    // Sort the workspace results: first by folder proximity (level) then by score\r\n    workspaceResults.sort((a, b) => {\r\n      if (a.level !== b.level) {\r\n        return a.level - b.level;\r\n      }\r\n      return b.score - a.score;\r\n    });\r\n\r\n    // Combine: active tab files first, then workspace suggestions\r\n    const combined = [\r\n      ...activeTabs,\r\n      ...workspaceResults.map(({ label, path }) => ({ label, path }))\r\n    ].slice(0, 10);\r\n    console.log(combined, \"combined_suggetions\");\r\n    \r\n    return combined;\r\n  } catch (error) {\r\n    console.error('Error getting file suggestions:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\n\r\n// Get file content by path\r\nexport async function getFileContent(filePath: string): Promise<string> {\r\n  try {\r\n    const content = await fs.promises.readFile(filePath, 'utf-8');\r\n    return content;\r\n  } catch (error) {\r\n    console.error('Error reading file:', error);\r\n    return '';\r\n  }\r\n}\r\n \r\n\r\n/**\r\n * Reads the given directory and returns an array of file suggestions.\r\n * Adjust the filtering logic (e.g. ignore hidden files, only include certain extensions, etc.) as needed.\r\n */\r\nexport async function getRecursiveNearByFiles(\r\n  directory: string,\r\n  additionalNeeded: number,\r\n  visitedDirs = new Set<string>()\r\n): Promise<Array<{ label: string; path: string }>> {\r\n  let suggestions: Array<{ label: string; path: string }> = [];\r\n\r\n  // Avoid re-visiting directories.\r\n  if (visitedDirs.has(directory)) {\r\n    return suggestions;\r\n  }\r\n  visitedDirs.add(directory);\r\n\r\n  try {\r\n    const items = await fs.promises.readdir(directory);\r\n\r\n    // First, add files from the current directory.\r\n    for (const item of items) {\r\n      const fullPath = path.join(directory, item);\r\n      const stat = await fs.promises.stat(fullPath);\r\n      if (stat.isFile() && shouldIncludeFileWith(item)) {\r\n        suggestions.push({ label: item, path: fullPath });\r\n        if (suggestions.length >= additionalNeeded) {\r\n          return suggestions;\r\n        }\r\n      }\r\n    }\r\n\r\n    // If not enough files were found, iterate over subdirectories.\r\n    for (const item of items) {\r\n      const fullPath = path.join(directory, item);\r\n      const stat = await fs.promises.stat(fullPath);\r\n      if (stat.isDirectory()) {\r\n        const subSuggestions = await getRecursiveNearByFiles(\r\n          fullPath,\r\n          additionalNeeded - suggestions.length,\r\n          visitedDirs\r\n        );\r\n        suggestions = suggestions.concat(subSuggestions);\r\n        if (suggestions.length >= additionalNeeded) {\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    return suggestions;\r\n  } catch (error) {\r\n    console.error(\"Error reading directory:\", directory, error);\r\n    return suggestions;\r\n  }\r\n}\r\n\r\n/**\r\n * Example filter function.\r\n * Modify this to suit your needs (for instance, filtering hidden files, etc.).\r\n */\r\nfunction shouldIncludeFileWith(fileName: string): boolean {\r\n  return !fileName.startsWith(\".\");\r\n}\r\n\r\n\r\n// export async function processImageFiles(files: File[]): Promise<Array<{extension: string, base64: string}>> {\r\n//   const processedImages: Array<{extension: string, base64: string}> = [];\r\n\r\n//   for (const file of files) {\r\n//     try {\r\n//       const extension = file.name.split('.').pop()?.toLowerCase() || '';\r\n//       const base64 = await convertFileToBase64(file);\r\n      \r\n//       processedImages.push({\r\n//         extension,\r\n//         base64\r\n//       });\r\n//     } catch (error) {\r\n//       console.error('Error processing image:', error);\r\n//     }\r\n//   }\r\n\r\n//   return processedImages;\r\n// }\r\n\r\n// function convertFileToBase64(file: File): Promise<string> {\r\n//   return new Promise((resolve, reject) => {\r\n//     const reader = new FileReader();\r\n//     reader.readAsDataURL(file);\r\n    \r\n//     reader.onload = () => {\r\n//       if (typeof reader.result === 'string') {\r\n//         // Remove the data:image/xxx;base64, prefix\r\n//         const base64 = reader.result.split(',')[1];\r\n//         resolve(base64);\r\n//       } else {\r\n//         reject(new Error('Failed to convert file to base64'));\r\n//       }\r\n//     };\r\n    \r\n//     reader.onerror = (error) => reject(error);\r\n//   });\r\n// } ","export const fileContentsForFastifyProject = [\r\n    {\r\n        filename: \".gitignore\",\r\n        content: `node_modules\r\n.env\r\npackage-lock.json\r\n`,\r\n    },\r\n    {\r\n        filename: \"index.js\",\r\n        content: `\r\nconst fastify = require(\"fastify\")({ logger: true });\r\n\r\n// Define the \"/\" route\r\nfastify.get(\"/\", async (request, reply) => {\r\n  return { message: \"Welcome to Fastify!\" };\r\n});\r\n\r\n// Start the server\r\nconst start = async () => {\r\n  try {\r\n    await fastify.listen({ port: 3000 });\r\n    console.log(\"Server is running on http://localhost:3000\");\r\n  } catch (err) {\r\n    fastify.log.error(err);\r\n    process.exit(1);\r\n  }\r\n};\r\n\r\nstart();\r\n`\r\n    },\r\n\r\n    {\r\n        filename: \"package.json\",\r\n        content: `{\r\n  \"name\": \"fastify_project\",\r\n  \"version\": \"1.0.0\",\r\n  \"main\": \"index.js\",\r\n  \"scripts\": {\r\n    \"test\": \"echo \\\\\\\"Error: no test specified\\\\\\\" && exit 1\"\r\n  },\r\n  \"keywords\": [],\r\n  \"author\": \"\",\r\n  \"license\": \"ISC\",\r\n  \"description\": \"\",\r\n  \"dependencies\": {\r\n    \"fastify\": \"^5.2.1\"\r\n  }\r\n}\r\n\r\n`,\r\n    },\r\n\r\n];\r\n\r\nexport default fileContentsForFastifyProject;\r\n","export const fileContentsForKoaProject = [\r\n    {\r\n        filename: \".gitignore\",\r\n        content: `node_modules\r\n.env\r\npackage-lock.json\r\n`,\r\n    },\r\n    {\r\n        filename: \"index.js\",\r\n        content: `\r\nconst Koa = require(\"koa\");\r\nconst Router = require(\"@koa/router\");\r\n\r\nconst app = new Koa();\r\nconst router = new Router();\r\n\r\n// Define the \"/\" route\r\nrouter.get(\"/\", (ctx) => {\r\n  ctx.body = \"Welcome to Koa.js!\";\r\n});\r\n\r\n// Use the router middleware\r\napp.use(router.routes()).use(router.allowedMethods());\r\n\r\n// Start the server\r\nconst PORT = 3000;\r\napp.listen(PORT, () => {\r\n  console.log(\\`Server is running on http://localhost:\\${PORT}\\`);\r\n});\r\n`\r\n    },\r\n\r\n    {\r\n        filename: \"package.json\",\r\n        content: `{\r\n  \"name\": \"koa_project\",\r\n  \"version\": \"1.0.0\",\r\n  \"main\": \"index.js\",\r\n  \"scripts\": {\r\n     \"test\": \"echo \\\\\\\"Error: no test specified\\\\\\\" && exit 1\"\r\n  },\r\n  \"keywords\": [],\r\n  \"author\": \"\",\r\n  \"license\": \"ISC\",\r\n  \"description\": \"\",\r\n  \"dependencies\": {\r\n    \"@koa/router\": \"^13.1.0\",\r\n    \"koa\": \"^2.15.3\"\r\n  }\r\n}\r\n\r\n`,\r\n    },\r\n    \r\n];\r\n\r\nexport default fileContentsForKoaProject;\r\n","// export const fileContentsForSpringBoootProject = [\r\n//     {\r\n//         filename: \".mvn\",\r\n//         contents: [{\r\n//             filename: \"wrapper\",\r\n//             contents: [{\r\n//                 filename: \"maven-wrapper.properties\",\r\n//                 content: `# Licensed to the Apache Software Foundation (ASF) under one\r\n// # or more contributor license agreements.  See the NOTICE file\r\n// # distributed with this work for additional information\r\n// # regarding copyright ownership.  The ASF licenses this file\r\n// # to you under the Apache License, Version 2.0 (the\r\n// # \"License\"); you may not use this file except in compliance\r\n// # with the License.  You may obtain a copy of the License at\r\n// #\r\n// #   http://www.apache.org/licenses/LICENSE-2.0\r\n// #\r\n// # Unless required by applicable law or agreed to in writing,\r\n// # software distributed under the License is distributed on an\r\n// # \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n// # KIND, either express or implied.  See the License for the\r\n// # specific language governing permissions and limitations\r\n// # under the License.\r\n// wrapperVersion=3.3.2\r\n// distributionType=only-script\r\n// distributionUrl=https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.9.9/apache-maven-3.9.9-bin.zip\r\n// `\r\n//             }]\r\n//         }],\r\n//     },\r\n//     {\r\n//         filename: \".gitattributes\",\r\n//         content: `/mvnw text eol=lf\r\n// *.cmd text eol=crlf\r\n// `\r\n//     },\r\n//     {\r\n//         filename: \".gitignore\",\r\n//         content: `HELP.md\r\n// target/\r\n// !.mvn/wrapper/maven-wrapper.jar\r\n// !**/src/main/**/target/\r\n// !**/src/test/**/target/\r\n\r\n// ### STS ###\r\n// .apt_generated\r\n// .classpath\r\n// .factorypath\r\n// .project\r\n// .settings\r\n// .springBeans\r\n// .sts4-cache\r\n\r\n// ### IntelliJ IDEA ###\r\n// .idea\r\n// *.iws\r\n// *.iml\r\n// *.ipr\r\n\r\n// ### NetBeans ###\r\n// /nbproject/private/\r\n// /nbbuild/\r\n// /dist/\r\n// /nbdist/\r\n// /.nb-gradle/\r\n// build/\r\n// !**/src/main/**/build/\r\n// !**/src/test/**/build/\r\n\r\n// ### VS Code ###\r\n// .vscode/\r\n\r\n// `\r\n//     },\r\n//     {\r\n//         filename: \"mvnw\",\r\n//         content: \"#!/bin/sh\\n# ----------------------------------------------------------------------------\\n# Licensed to the Apache Software Foundation (ASF) under one\\n# or more contributor license agreements.  See the NOTICE file\\n# distributed with this work for additional information\\n# regarding copyright ownership.  The ASF licenses this file\\n# to you under the Apache License, Version 2.0 (the\\n# \\\"License\\\"); you may not use this file except in compliance\\n# with the License.  You may obtain a copy of the License at\\n#\\n#    http://www.apache.org/licenses/LICENSE-2.0\\n#\\n# Unless required by applicable law or agreed to in writing,\\n# software distributed under the License is distributed on an\\n# \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n# KIND, either express or implied.  See the License for the\\n# specific language governing permissions and limitations\\n# under the License.\\n# ----------------------------------------------------------------------------\\n\\n# ----------------------------------------------------------------------------\\n# Apache Maven Wrapper startup batch script, version 3.3.2\\n#\\n# Optional ENV vars\\n# -----------------\\n#   JAVA_HOME - location of a JDK home dir, required when download maven via java source\\n#   MVNW_REPOURL - repo url base for downloading maven distribution\\n#   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven\\n#   MVNW_VERBOSE - true: enable verbose log; debug: trace the mvnw script; others: silence the output\\n# ----------------------------------------------------------------------------\\n\\nset -euf\\n[ \\\"${MVNW_VERBOSE-}\\\" != debug ] || set -x\\n\\n# OS specific support.\\nnative_path() { printf %s\\\\n \\\"$1\\\"; }\\ncase \\\"$(uname)\\\" in\\nCYGWIN* | MINGW*)\\n  [ -z \\\"${JAVA_HOME-}\\\" ] || JAVA_HOME=\\\"$(cygpath --unix \\\"$JAVA_HOME\\\")\\\"\\n  native_path() { cygpath --path --windows \\\"$1\\\"; }\\n  ;;\\nesac\\n\\n# set JAVACMD and JAVACCMD\\nset_java_home() {\\n  # For Cygwin and MinGW, ensure paths are in Unix format before anything is touched\\n  if [ -n \\\"${JAVA_HOME-}\\\" ]; then\\n    if [ -x \\\"$JAVA_HOME/jre/sh/java\\\" ]; then\\n      # IBM's JDK on AIX uses strange locations for the executables\\n      JAVACMD=\\\"$JAVA_HOME/jre/sh/java\\\"\\n      JAVACCMD=\\\"$JAVA_HOME/jre/sh/javac\\\"\\n    else\\n      JAVACMD=\\\"$JAVA_HOME/bin/java\\\"\\n      JAVACCMD=\\\"$JAVA_HOME/bin/javac\\\"\\n\\n      if [ ! -x \\\"$JAVACMD\\\" ] || [ ! -x \\\"$JAVACCMD\\\" ]; then\\n        echo \\\"The JAVA_HOME environment variable is not defined correctly, so mvnw cannot run.\\\" >&2\\n        echo \\\"JAVA_HOME is set to \\\"$JAVA_HOME\\\", but \\\"\\$JAVA_HOME/bin/java\\\" or \\\"\\$JAVA_HOME/bin/javac\\\" does not exist.\\\" >&2\\n        return 1\\n      fi\\n    fi\\n  else\\n    JAVACMD=\\\"$(\\n      'set' +e\\n      'unset' -f command 2>/dev/null\\n      'command' -v java\\n    )\\\" || :\\n    JAVACCMD=\\\"$(\\n      'set' +e\\n      'unset' -f command 2>/dev/null\\n      'command' -v javac\\n    )\\\" || :\\n\\n    if [ ! -x \\\"${JAVACMD-}\\\" ] || [ ! -x \\\"${JAVACCMD-}\\\" ]; then\\n      echo \\\"The java/javac command does not exist in PATH nor is JAVA_HOME set, so mvnw cannot run.\\\" >&2\\n      return 1\\n    fi\\n  fi\\n}\\n\\n# hash string like Java String::hashCode\\nhash_string() {\\n  str=\\\"${1:-}\\\" h=0\\n  while [ -n \\\"$str\\\" ]; do\\n    char=\\\"${str%\\\"${str#?}\\\"}\\\"\\n    h=$(((h * 31 + $(LC_CTYPE=C printf %d \\\"'$char\\\")) % 4294967296))\\n    str=\\\"${str#?}\\\"\\n  done\\n  printf %x\\\\n $h\\n}\\n\\nverbose() { :; }\\n[ \\\"${MVNW_VERBOSE-}\\\" != true ] || verbose() { printf %s\\\\n \\\"${1-}\\\"; }\\n\\ndie() {\\n  printf %s\\\\n \\\"$1\\\" >&2\\n  exit 1\\n}\\n\\ntrim() {\\n  # MWRAPPER-139:\\n  #   Trims trailing and leading whitespace, carriage returns, tabs, and linefeeds.\\n  #   Needed for removing poorly interpreted newline sequences when running in more\\n  #   exotic environments such as mingw bash on Windows.\\n  printf \\\"%s\\\" \\\"${1}\\\" | tr -d '[:space:]'\\n}\\n\\n# parse distributionUrl and optional distributionSha256Sum, requires .mvn/wrapper/maven-wrapper.properties\\nwhile IFS=\\\"=\\\" read -r key value; do\\n  case \\\"${key-}\\\" in\\ndistributionUrl) distributionUrl=$(trim \\\"${value-}\\\") ;;\\ndistributionSha256Sum) distributionSha256Sum=$(trim \\\"${value-}\\\") ;;\\nesac\\ndone <\\\"${0%/*}/.mvn/wrapper/maven-wrapper.properties\\\"\\n[ -n \\\"${distributionUrl-}\\\" ] || die \\\"cannot read distributionUrl property in ${0%/*}/.mvn/wrapper/maven-wrapper.properties\\\"\\n\\ncase \\\"${distributionUrl##*/}\\\" in\\nmaven-mvnd-*bin.*)\\n  MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/\\n  case \\\"${PROCESSOR_ARCHITECTURE-}${PROCESSOR_ARCHITEW6432-}:$(uname -a)\\\" in\\n  *AMD64:CYGWIN* | *AMD64:MINGW*) distributionPlatform=windows-amd64 ;;\\n  :Darwin*x86_64) distributionPlatform=darwin-amd64 ;;\\n  :Darwin*arm64) distributionPlatform=darwin-aarch64 ;;\\n  :Linux*x86_64*) distributionPlatform=linux-amd64 ;;\\n  *)\\n    echo \\\"Cannot detect native platform for mvnd on $(uname)-$(uname -m), use pure java version\\\" >&2\\n    distributionPlatform=linux-amd64\\n    ;;\\nesac\\ndistributionUrl=\\\"${distributionUrl%-bin.*}-$distributionPlatform.zip\\\"\\n  ;;\\nmaven-mvnd-*) MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/ ;;\\n*) MVN_CMD=\\\"mvn${0##*/mvnw}\\\" _MVNW_REPO_PATTERN=/org/apache/maven/ ;;\\nesac\\n\\n# apply MVNW_REPOURL and calculate MAVEN_HOME\\n# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>\\n[ -z \\\"${MVNW_REPOURL-}\\\" ] || distributionUrl=\\\"$MVNW_REPOURL$_MVNW_REPO_PATTERN${distributionUrl#*\\\"$_MVNW_REPO_PATTERN\\\"}\\\"\\ndistributionUrlName=\\\"${distributionUrl##*/}\\\"\\ndistributionUrlNameMain=\\\"${distributionUrlName%.*}\\\"\\ndistributionUrlNameMain=\\\"${distributionUrlNameMain%-bin}\\\"\\nMAVEN_USER_HOME=\\\"${MAVEN_USER_HOME:-${HOME}/.m2}\\\"\\nMAVEN_HOME=\\\"${MAVEN_USER_HOME}/wrapper/dists/${distributionUrlNameMain-}/$(hash_string \\\"$distributionUrl\\\")\\\"\\n\\nexec_maven() {\\n  unset MVNW_VERBOSE MVNW_USERNAME MVNW_PASSWORD MVNW_REPOURL || :\\n  exec \\\"$MAVEN_HOME/bin/$MVN_CMD\\\" \\\"$@\\\" || die \\\"cannot exec $MAVEN_HOME/bin/$MVN_CMD\\\"\\n}\\n\\nif [ -d \\\"$MAVEN_HOME\\\" ]; then\\n  verbose \\\"found existing MAVEN_HOME at $MAVEN_HOME\\\"\\n  exec_maven \\\"$@\\\"\\nfi\\n\\ncase \\\"${distributionUrl-}\\\" in\\n*?-bin.zip | *?maven-mvnd-?*-?*.zip) ;;\\n*) die \\\"distributionUrl is not valid, must match *-bin.zip or maven-mvnd-*.zip, but found '${distributionUrl-}'\\\" ;;\\nesac\\n\\n# prepare tmp dir\\nif TMP_DOWNLOAD_DIR=\\\"$(mktemp -d)\\\" && [ -d \\\"$TMP_DOWNLOAD_DIR\\\" ]; then\\n  clean() { rm -rf -- \\\"$TMP_DOWNLOAD_DIR\\\"; }\\n  trap clean HUP INT TERM EXIT\\nelse\\n  die \\\"cannot create temp dir\\\"\\nfi\\n\\nmkdir -p -- \\\"${MAVEN_HOME%/*}\\\"\\n\\n# Download and Install Apache Maven\\nverbose \\\"Couldn't find MAVEN_HOME, downloading and installing it ...\\\"\\nverbose \\\"Downloading from: $distributionUrl\\\"\\nverbose \\\"Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName\\\"\\n\\n# select .zip or .tar.gz\\nif ! command -v unzip >/dev/null; then\\n  distributionUrl=\\\"${distributionUrl%.zip}.tar.gz\\\"\\n  distributionUrlName=\\\"${distributionUrl##*/}\\\"\\nfi\\n\\n# verbose opt\\n__MVNW_QUIET_WGET=--quiet __MVNW_QUIET_CURL=--silent __MVNW_QUIET_UNZIP=-q __MVNW_QUIET_TAR=''\\n[ \\\"${MVNW_VERBOSE-}\\\" != true ] || __MVNW_QUIET_WGET='' __MVNW_QUIET_CURL='' __MVNW_QUIET_UNZIP='' __MVNW_QUIET_TAR=v\\n\\n# normalize http auth\\ncase \\\"${MVNW_PASSWORD:+has-password}\\\" in\\n'') MVNW_USERNAME='' MVNW_PASSWORD='' ;; \\nhas-password) [ -n \\\"${MVNW_USERNAME-}\\\" ] || MVNW_USERNAME='' MVNW_PASSWORD='' ;;\\nesac\\n\\n# download and install\\nmkdir -p -- \\\"${MAVEN_HOME}\\\" || :\\n[ -e \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" ] || (curl $__MVNW_QUIET_CURL --location --output \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" \\\"$distributionUrl\\\" || wget $__MVNW_QUIET_WGET --output-document=\\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" \\\"$distributionUrl\\\")\\n\\n# verify\\n[ -n \\\"${distributionSha256Sum-}\\\" ] || distributionSha256Sum=\\\"$(sha256sum \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" | cut -d' ' -f1)\\\"\\nverify_checksum() {\\n  local filename=$1\\n  local checksum=$2\\n  local calculated_sha256=$(sha256sum \\\"$filename\\\" | cut -d' ' -f1)\\n  [ \\\"$checksum\\\" == \\\"$calculated_sha256\\\" ] || die \\\"checksum failed, sha256sum of '$filename' is not valid, expected $checksum but got $calculated_sha256\\\"\\n}\\nverify_checksum \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" \\\"$distributionSha256Sum\\\"\\n\\n# install\\nverbose \\\"Unzipping ...\\\"\\n[ -d \\\"$MAVEN_HOME\\\" ] || mkdir -p -- \\\"$MAVEN_HOME\\\"\\n\\n# extracting\\nverbose \\\"Unzipping ...\\\"\\nif [ \\\"$distributionUrlName\\\" != \\\"$(basename -- \\\"$distributionUrlName\\\")\\\" ]; then\\n  cp -- \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" \\\"${MAVEN_HOME}/$distributionUrlName\\\"\\nfi\\n\\nunzip $__MVNW_QUIET_UNZIP -- \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" -d \\\"$MAVEN_HOME\\\" || tar $__MVNW_QUIET_TAR -xf \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" -C \\\"$MAVEN_HOME\\\"\\n\\nverbose \\\"done\\\"\\n\\nexec_maven \\\"$@\\\"\\n\"\r\n//     },\r\n//     {\r\n//         filename: \"mvnw.cmd\",\r\n//         content: \"<# : batch portion\\n@REM ----------------------------------------------------------------------------\\n@REM Licensed to the Apache Software Foundation (ASF) under one\\n@REM or more contributor license agreements.  See the NOTICE file\\n@REM distributed with this work for additional information\\n@REM regarding copyright ownership.  The ASF licenses this file\\n@REM to you under the Apache License, Version 2.0 (the\\n@REM \\\"License\\\"); you may not use this file except in compliance\\n@REM with the License.  You may obtain a copy of the License at\\n@REM\\n@REM    http://www.apache.org/licenses/LICENSE-2.0\\n@REM\\n@REM Unless required by applicable law or agreed to in writing,\\n@REM software distributed under the License is distributed on an\\n@REM \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n@REM KIND, either express or implied.  See the License for the\\n@REM specific language governing permissions and limitations\\n@REM under the License.\\n@REM ----------------------------------------------------------------------------\\n\\n@REM ----------------------------------------------------------------------------\\n@REM Apache Maven Wrapper startup batch script, version 3.3.2\\n@REM\\n@REM Optional ENV vars\\n@REM   MVNW_REPOURL - repo url base for downloading maven distribution\\n@REM   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven\\n@REM   MVNW_VERBOSE - true: enable verbose log; others: silence the output\\n@REM ----------------------------------------------------------------------------\\n\\n@IF \\\"%__MVNW_ARG0_NAME__%\\\"==\\\"\\\" (SET __MVNW_ARG0_NAME__=%~nx0)\\n@SET __MVNW_CMD__=\\n@SET __MVNW_ERROR__=\\n@SET __MVNW_PSMODULEP_SAVE=%PSModulePath%\\n@SET PSModulePath=\\n@FOR /F \\\"usebackq tokens=1* delims==\\\" %%A IN (`powershell -noprofile \\\"& {$scriptDir='%~dp0'; $script='%__MVNW_ARG0_NAME__%'; icm -ScriptBlock ([Scriptblock]::Create((Get-Content -Raw '%~f0'))) -NoNewScope}\\\"`) DO @(\\n  IF \\\"%%A\\\"==\\\"MVN_CMD\\\" (set __MVNW_CMD__=%%B) ELSE IF \\\"%%B\\\"==\\\"\\\" (echo %%A) ELSE (echo %%A=%%B)\\n)\\n@SET PSModulePath=%__MVNW_PSMODULEP_SAVE%\\n@SET __MVNW_PSMODULEP_SAVE=\\n@SET __MVNW_ARG0_NAME__=\\n@SET MVNW_USERNAME=\\n@SET MVNW_PASSWORD=\\n@IF NOT \\\"%__MVNW_CMD__%\\\"==\\\"\\\" (%__MVNW_CMD__% %*)\\n@echo Cannot start maven from wrapper >&2 && exit /b 1\\n@GOTO :EOF\\n: end batch / begin powershell #>\\n\\n$ErrorActionPreference = \\\"Stop\\\"\\nif ($env:MVNW_VERBOSE -eq \\\"true\\\") {\\n  $VerbosePreference = \\\"Continue\\\"\\n}\\n\\n# calculate distributionUrl, requires .mvn/wrapper/maven-wrapper.properties\\n$distributionUrl = (Get-Content -Raw \\\"$scriptDir/.mvn/wrapper/maven-wrapper.properties\\\" | ConvertFrom-StringData).distributionUrl\\nif (!$distributionUrl) {\\n  Write-Error \\\"cannot read distributionUrl property in $scriptDir/.mvn/wrapper/maven-wrapper.properties\\\"\\n}\\n\\nswitch -wildcard -casesensitive ( $($distributionUrl -replace '^.*/','') ) {\\n  \\\"maven-mvnd-*\\\" {\\n    $USE_MVND = $true\\n    $distributionUrl = $distributionUrl -replace '-bin\\\\.[^.]*$',\\\"-windows-amd64.zip\\\"\\n    $MVN_CMD = \\\"mvnd.cmd\\\"\\n    break\\n  }\\n  default {\\n    $USE_MVND = $false\\n    $MVN_CMD = $script -replace '^mvnw','mvn'\\n    break\\n  }\\n}\\n\\n# apply MVNW_REPOURL and calculate MAVEN_HOME\\n# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>\\nif ($env:MVNW_REPOURL) {\\n  $MVNW_REPO_PATTERN = if ($USE_MVND) { \\\"/org/apache/maven/\\\" } else { \\\"/maven/mvnd/\\\" }\\n  $distributionUrl = \\\"$env:MVNW_REPOURL$MVNW_REPO_PATTERN$($distributionUrl -replace '^.*'+$MVNW_REPO_PATTERN,'')\\\"\\n}\\n$distributionUrlName = $distributionUrl -replace '^.*/',''\\n$distributionUrlNameMain = $distributionUrlName -replace '\\\\.[^.]*$','' -replace '-bin$',''\\n$MAVEN_HOME_PARENT = \\\"$HOME/.m2/wrapper/dists/$distributionUrlNameMain\\\"\\nif ($env:MAVEN_USER_HOME) {\\n  $MAVEN_HOME_PARENT = \\\"$env:MAVEN_USER_HOME/wrapper/dists/$distributionUrlNameMain\\\"\\n}\\n$MAVEN_HOME_NAME = ([System.Security.Cryptography.MD5]::Create().ComputeHash([byte[]][char[]]$distributionUrl) | ForEach-Object {$_.ToString(\\\"x2\\\")}) -join ''\\n$MAVEN_HOME = \\\"$MAVEN_HOME_PARENT/$MAVEN_HOME_NAME\\\"\\n\\nif (Test-Path -Path \\\"$MAVEN_HOME\\\" -PathType Container) {\\n  Write-Verbose \\\"found existing MAVEN_HOME at $MAVEN_HOME\\\"\\n  Write-Output \\\"MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD\\\"\\n  exit $?\\n}\\n\\nif (! $distributionUrlNameMain -or ($distributionUrlName -eq $distributionUrlNameMain)) {\\n  Write-Error \\\"distributionUrl is not valid, must end with *-bin.zip, but found $distributionUrl\\\"\\n}\\n\\n# prepare tmp dir\\n$TMP_DOWNLOAD_DIR_HOLDER = New-TemporaryFile\\n$TMP_DOWNLOAD_DIR = New-Item -Itemtype Directory -Path \\\"$TMP_DOWNLOAD_DIR_HOLDER.dir\\\"\\n$TMP_DOWNLOAD_DIR_HOLDER.Delete() | Out-Null\\ntrap {\\n  if ($TMP_DOWNLOAD_DIR.Exists) {\\n    try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }\\n    catch { Write-Warning \\\"Cannot remove $TMP_DOWNLOAD_DIR\\\" }\\n  }\\n}\\n\\nNew-Item -Itemtype Directory -Path \\\"$MAVEN_HOME_PARENT\\\" -Force | Out-Null\\n\\n# Download and Install Apache Maven\\nWrite-Verbose \\\"Couldn't find MAVEN_HOME, downloading and installing it ...\\\"\\nWrite-Verbose \\\"Downloading from: $distributionUrl\\\"\\nWrite-Verbose \\\"Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName\\\"\\n\\n$webclient = New-Object System.Net.WebClient\\nif ($env:MVNW_USERNAME -and $env:MVNW_PASSWORD) {\\n  $webclient.Credentials = New-Object System.Net.NetworkCredential($env:MVNW_USERNAME, $env:MVNW_PASSWORD)\\n}\\n[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\\n$webclient.DownloadFile($distributionUrl, \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\") | Out-Null\\n\\n# If specified, validate the SHA-256 sum of the Maven distribution zip file\\n$distributionSha256Sum = (Get-Content -Raw \\\"$scriptDir/.mvn/wrapper/maven-wrapper.properties\\\" | ConvertFrom-StringData).distributionSha256Sum\\nif ($distributionSha256Sum) {\\n  if ($USE_MVND) {\\n    Write-Error \\\"Checksum validation is not supported for maven-mvnd. `nPlease disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties.\\\"\\n  }\\n  Import-Module $PSHOME\\\\Modules\\\\Microsoft.PowerShell.Utility -Function Get-FileHash\\n  if ((Get-FileHash \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" -Algorithm SHA256).Hash.ToLower() -ne $distributionSha256Sum) {\\n    Write-Error \\\"Error: Failed to validate Maven distribution SHA-256, your Maven distribution might be compromised. If you updated your Maven version, you need to update the specified distributionSha256Sum property.\\\"\\n  }\\n}\\n\\n# unzip and move\\nExpand-Archive \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" -DestinationPath \\\"$TMP_DOWNLOAD_DIR\\\" | Out-Null\\nRename-Item -Path \\\"$TMP_DOWNLOAD_DIR/$distributionUrlNameMain\\\" -NewName $MAVEN_HOME_NAME | Out-Null\\ntry {\\n  Move-Item -Path \\\"$TMP_DOWNLOAD_DIR/$MAVEN_HOME_NAME\\\" -Destination $MAVEN_HOME_PARENT | Out-Null\\n} catch {\\n  if (! (Test-Path -Path \\\"$MAVEN_HOME\\\" -PathType Container)) {\\n    Write-Error \\\"fail to move MAVEN_HOME\\\"\\n  }\\n} finally {\\n  try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }\\n  catch { Write-Warning \\\"Cannot remove $TMP_DOWNLOAD_DIR\\\" }\\n}\\n\\nWrite-Output \\\"MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD\\\"\\n\"\r\n//     },\r\n//     {\r\n//         filename: \"pom.xml\",\r\n//         content: `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n// <project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n// \txsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n// \t<modelVersion>4.0.0</modelVersion>\r\n// \t<parent>\r\n// \t\t<groupId>org.springframework.boot</groupId>\r\n// \t\t<artifactId>spring-boot-starter-parent</artifactId>\r\n// \t\t<version>3.4.1</version>\r\n// \t\t<relativePath/> <!-- lookup parent from repository -->\r\n// \t</parent>\r\n// \t<groupId>com.gocodeo</groupId>\r\n// \t<artifactId>demo</artifactId>\r\n// \t<version>0.0.1-SNAPSHOT</version>\r\n// \t<name>springbootproject</name>\r\n// \t<description>Demo project for Spring Boot</description>\r\n// \t<url/>\r\n// \t<licenses>\r\n// \t\t<license/>\r\n// \t</licenses>\r\n// \t<developers>\r\n// \t\t<developer/>\r\n// \t</developers>\r\n// \t<scm>\r\n// \t\t<connection/>\r\n// \t\t<developerConnection/>\r\n// \t\t<tag/>\r\n// \t\t<url/>\r\n// \t</scm>\r\n// \t<properties>\r\n// \t\t<java.version>23</java.version>\r\n// \t</properties>\r\n// \t<dependencies>\r\n// \t\t<dependency>\r\n// \t\t\t<groupId>org.springframework.boot</groupId>\r\n// \t\t\t<artifactId>spring-boot-starter-web</artifactId>\r\n// \t\t</dependency>\r\n\r\n// \t\t<dependency>\r\n// \t\t\t<groupId>org.springframework.boot</groupId>\r\n// \t\t\t<artifactId>spring-boot-starter-test</artifactId>\r\n// \t\t\t<scope>test</scope>\r\n// \t\t</dependency>\r\n// \t</dependencies>\r\n\r\n// \t<build>\r\n// \t\t<plugins>\r\n// \t\t\t<plugin>\r\n// \t\t\t\t<groupId>org.springframework.boot</groupId>\r\n// \t\t\t\t<artifactId>spring-boot-maven-plugin</artifactId>\r\n// \t\t\t</plugin>\r\n// \t\t</plugins>\r\n// \t</build>\r\n\r\n// </project>`\r\n//     },\r\n//     {\r\n//         filename: \"src\",\r\n//         contents: [\r\n//             {\r\n//                 filename: \"main\",\r\n//                 contents: [{\r\n//                     filename: \"java\",\r\n//                     contents: [{\r\n//                         filename: \"com\",\r\n//                         contents: [{\r\n//                             filename: \"goCodeo\",\r\n//                             contents: [{\r\n//                                 filename: \"demo\",\r\n//                                 contents: [{\r\n//                                     filename: \"SpringbootprojectApplication.java\",\r\n//                                     contents: `package com.gocodeo.demo;\r\n\r\n// import org.springframework.boot.SpringApplication;\r\n// import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n// @SpringBootApplication\r\n// public class SpringbootprojectApplication {\r\n\r\n// \tpublic static void main(String[] args) {\r\n// \t\tSpringApplication.run(SpringbootprojectApplication.class, args);\r\n// \t}\r\n\r\n// }`\r\n//                                 }]\r\n//                             }]\r\n//                         }]\r\n//                     }]\r\n//                 },\r\n//                 {\r\n//                     filename: \"resources\",\r\n//                     contents: [{\r\n//                         filename: \"static\",\r\n//                         contents: []\r\n//                     }, {\r\n//                         filename: \"templates\",\r\n//                         contents: []\r\n//                     }, {\r\n//                         filename: \"application.properties\",\r\n//                         content: `spring.application.name=springbootproject\r\n// `\r\n//                     }]\r\n//                 }\r\n//                 ]\r\n//             },\r\n//             {\r\n//                 filename: \"test\",\r\n//                 contents: [{\r\n//                     filename: \"java\",\r\n//                     contents: [{\r\n//                         filename: \"com\",\r\n//                         contents: [{\r\n//                             filename: \"gocodeo\",\r\n//                             contents: [{\r\n//                                 filename: \"demo\",\r\n//                                 contents: [{\r\n//                                     filename: \"SpringbootprojectApplicationTests.java\",\r\n//                                     content:  `package com.gocodeo.demo;\r\n\r\n// import org.junit.jupiter.api.Test;\r\n// import org.springframework.boot.test.context.SpringBootTest;\r\n\r\n// @SpringBootTest\r\n// class SpringbootprojectApplicationTests {\r\n\r\n// \t@Test\r\n// \tvoid contextLoads() {\r\n// \t}\r\n\r\n// }`\r\n//                                 }]\r\n//                             }]\r\n//                         }]  \r\n//                     }] \r\n//                 }]\r\n//             }\r\n//         ]\r\n//     }\r\n \r\n\r\n// ];\r\nexport const fileContentsForSpringBoootProject = [\r\n    {\r\n        filename: \".mvn\",\r\n        contents: [{\r\n            filename: \"wrapper\",\r\n            contents: [{\r\n                filename: \"maven-wrapper.properties\",\r\n                content: `# Licensed to the Apache Software Foundation (ASF) under one\r\n# or more contributor license agreements.  See the NOTICE file\r\n# distributed with this work for additional information\r\n# regarding copyright ownership.  The ASF licenses this file\r\n# to you under the Apache License, Version 2.0 (the\r\n# \"License\"); you may not use this file except in compliance\r\n# with the License.  You may obtain a copy of the License at\r\n#\r\n#   http://www.apache.org/licenses/LICENSE-2.0\r\n#\r\n# Unless required by applicable law or agreed to in writing,\r\n# software distributed under the License is distributed on an\r\n# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n# KIND, either express or implied.  See the License for the\r\n# specific language governing permissions and limitations\r\n# under the License.\r\nwrapperVersion=3.3.2\r\ndistributionType=only-script\r\ndistributionUrl=https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.9.9/apache-maven-3.9.9-bin.zip\r\n\r\n`\r\n            }]\r\n        }],\r\n    },\r\n    {\r\n        filename: \".gitattributes\",\r\n        content: `/mvnw text eol=lf\r\n*.cmd text eol=crlf\r\n`\r\n    },\r\n    {\r\n        filename: \".gitignore\",\r\n        content: `HELP.md\r\ntarget/\r\n!.mvn/wrapper/maven-wrapper.jar\r\n!**/src/main/**/target/\r\n!**/src/test/**/target/\r\n\r\n### STS ###\r\n.apt_generated\r\n.classpath\r\n.factorypath\r\n.project\r\n.settings\r\n.springBeans\r\n.sts4-cache\r\n\r\n### IntelliJ IDEA ###\r\n.idea\r\n*.iws\r\n*.iml\r\n*.ipr\r\n\r\n### NetBeans ###\r\n/nbproject/private/\r\n/nbbuild/\r\n/dist/\r\n/nbdist/\r\n/.nb-gradle/\r\nbuild/\r\n!**/src/main/**/build/\r\n!**/src/test/**/build/\r\n\r\n### VS Code ###\r\n.vscode/\r\n\r\n`\r\n    },\r\n    {\r\n        filename: \"mvnw\",\r\n        content: \"#!/bin/sh\\n# ----------------------------------------------------------------------------\\n# Licensed to the Apache Software Foundation (ASF) under one\\n# or more contributor license agreements.  See the NOTICE file\\n# distributed with this work for additional information\\n# regarding copyright ownership.  The ASF licenses this file\\n# to you under the Apache License, Version 2.0 (the\\n# \\\"License\\\"); you may not use this file except in compliance\\n# with the License.  You may obtain a copy of the License at\\n#\\n#    http://www.apache.org/licenses/LICENSE-2.0\\n#\\n# Unless required by applicable law or agreed to in writing,\\n# software distributed under the License is distributed on an\\n# \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n# KIND, either express or implied.  See the License for the\\n# specific language governing permissions and limitations\\n# under the License.\\n# ----------------------------------------------------------------------------\\n\\n# ----------------------------------------------------------------------------\\n# Apache Maven Wrapper startup batch script, version 3.3.2\\n#\\n# Optional ENV vars\\n# -----------------\\n#   JAVA_HOME - location of a JDK home dir, required when download maven via java source\\n#   MVNW_REPOURL - repo url base for downloading maven distribution\\n#   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven\\n#   MVNW_VERBOSE - true: enable verbose log; debug: trace the mvnw script; others: silence the output\\n# ----------------------------------------------------------------------------\\n\\nset -euf\\n[ \\\"${MVNW_VERBOSE-}\\\" != debug ] || set -x\\n\\n# OS specific support.\\nnative_path() { printf %s\\\\n \\\"$1\\\"; }\\ncase \\\"$(uname)\\\" in\\nCYGWIN* | MINGW*)\\n  [ -z \\\"${JAVA_HOME-}\\\" ] || JAVA_HOME=\\\"$(cygpath --unix \\\"$JAVA_HOME\\\")\\\"\\n  native_path() { cygpath --path --windows \\\"$1\\\"; }\\n  ;;\\nesac\\n\\n# set JAVACMD and JAVACCMD\\nset_java_home() {\\n  # For Cygwin and MinGW, ensure paths are in Unix format before anything is touched\\n  if [ -n \\\"${JAVA_HOME-}\\\" ]; then\\n    if [ -x \\\"$JAVA_HOME/jre/sh/java\\\" ]; then\\n      # IBM's JDK on AIX uses strange locations for the executables\\n      JAVACMD=\\\"$JAVA_HOME/jre/sh/java\\\"\\n      JAVACCMD=\\\"$JAVA_HOME/jre/sh/javac\\\"\\n    else\\n      JAVACMD=\\\"$JAVA_HOME/bin/java\\\"\\n      JAVACCMD=\\\"$JAVA_HOME/bin/javac\\\"\\n\\n      if [ ! -x \\\"$JAVACMD\\\" ] || [ ! -x \\\"$JAVACCMD\\\" ]; then\\n        echo \\\"The JAVA_HOME environment variable is not defined correctly, so mvnw cannot run.\\\" >&2\\n        echo \\\"JAVA_HOME is set to \\\"$JAVA_HOME\\\", but \\\"\\$JAVA_HOME/bin/java\\\" or \\\"\\$JAVA_HOME/bin/javac\\\" does not exist.\\\" >&2\\n        return 1\\n      fi\\n    fi\\n  else\\n    JAVACMD=\\\"$(\\n      'set' +e\\n      'unset' -f command 2>/dev/null\\n      'command' -v java\\n    )\\\" || :\\n    JAVACCMD=\\\"$(\\n      'set' +e\\n      'unset' -f command 2>/dev/null\\n      'command' -v javac\\n    )\\\" || :\\n\\n    if [ ! -x \\\"${JAVACMD-}\\\" ] || [ ! -x \\\"${JAVACCMD-}\\\" ]; then\\n      echo \\\"The java/javac command does not exist in PATH nor is JAVA_HOME set, so mvnw cannot run.\\\" >&2\\n      return 1\\n    fi\\n  fi\\n}\\n\\n# hash string like Java String::hashCode\\nhash_string() {\\n  str=\\\"${1:-}\\\" h=0\\n  while [ -n \\\"$str\\\" ]; do\\n    char=\\\"${str%\\\"${str#?}\\\"}\\\"\\n    h=$(((h * 31 + $(LC_CTYPE=C printf %d \\\"'$char\\\")) % 4294967296))\\n    str=\\\"${str#?}\\\"\\n  done\\n  printf %x\\\\n $h\\n}\\n\\nverbose() { :; }\\n[ \\\"${MVNW_VERBOSE-}\\\" != true ] || verbose() { printf %s\\\\n \\\"${1-}\\\"; }\\n\\ndie() {\\n  printf %s\\\\n \\\"$1\\\" >&2\\n  exit 1\\n}\\n\\ntrim() {\\n  # MWRAPPER-139:\\n  #   Trims trailing and leading whitespace, carriage returns, tabs, and linefeeds.\\n  #   Needed for removing poorly interpreted newline sequences when running in more\\n  #   exotic environments such as mingw bash on Windows.\\n  printf \\\"%s\\\" \\\"${1}\\\" | tr -d '[:space:]'\\n}\\n\\n# parse distributionUrl and optional distributionSha256Sum, requires .mvn/wrapper/maven-wrapper.properties\\nwhile IFS=\\\"=\\\" read -r key value; do\\n  case \\\"${key-}\\\" in\\ndistributionUrl) distributionUrl=$(trim \\\"${value-}\\\") ;;\\ndistributionSha256Sum) distributionSha256Sum=$(trim \\\"${value-}\\\") ;;\\nesac\\ndone <\\\"${0%/*}/.mvn/wrapper/maven-wrapper.properties\\\"\\n[ -n \\\"${distributionUrl-}\\\" ] || die \\\"cannot read distributionUrl property in ${0%/*}/.mvn/wrapper/maven-wrapper.properties\\\"\\n\\ncase \\\"${distributionUrl##*/}\\\" in\\nmaven-mvnd-*bin.*)\\n  MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/\\n  case \\\"${PROCESSOR_ARCHITECTURE-}${PROCESSOR_ARCHITEW6432-}:$(uname -a)\\\" in\\n  *AMD64:CYGWIN* | *AMD64:MINGW*) distributionPlatform=windows-amd64 ;;\\n  :Darwin*x86_64) distributionPlatform=darwin-amd64 ;;\\n  :Darwin*arm64) distributionPlatform=darwin-aarch64 ;;\\n  :Linux*x86_64*) distributionPlatform=linux-amd64 ;;\\n  *)\\n    echo \\\"Cannot detect native platform for mvnd on $(uname)-$(uname -m), use pure java version\\\" >&2\\n    distributionPlatform=linux-amd64\\n    ;;\\nesac\\ndistributionUrl=\\\"${distributionUrl%-bin.*}-$distributionPlatform.zip\\\"\\n  ;;\\nmaven-mvnd-*) MVN_CMD=mvnd.sh _MVNW_REPO_PATTERN=/maven/mvnd/ ;;\\n*) MVN_CMD=\\\"mvn${0##*/mvnw}\\\" _MVNW_REPO_PATTERN=/org/apache/maven/ ;;\\nesac\\n\\n# apply MVNW_REPOURL and calculate MAVEN_HOME\\n# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>\\n[ -z \\\"${MVNW_REPOURL-}\\\" ] || distributionUrl=\\\"$MVNW_REPOURL$_MVNW_REPO_PATTERN${distributionUrl#*\\\"$_MVNW_REPO_PATTERN\\\"}\\\"\\ndistributionUrlName=\\\"${distributionUrl##*/}\\\"\\ndistributionUrlNameMain=\\\"${distributionUrlName%.*}\\\"\\ndistributionUrlNameMain=\\\"${distributionUrlNameMain%-bin}\\\"\\nMAVEN_USER_HOME=\\\"${MAVEN_USER_HOME:-${HOME}/.m2}\\\"\\nMAVEN_HOME=\\\"${MAVEN_USER_HOME}/wrapper/dists/${distributionUrlNameMain-}/$(hash_string \\\"$distributionUrl\\\")\\\"\\n\\nexec_maven() {\\n  unset MVNW_VERBOSE MVNW_USERNAME MVNW_PASSWORD MVNW_REPOURL || :\\n  exec \\\"$MAVEN_HOME/bin/$MVN_CMD\\\" \\\"$@\\\" || die \\\"cannot exec $MAVEN_HOME/bin/$MVN_CMD\\\"\\n}\\n\\nif [ -d \\\"$MAVEN_HOME\\\" ]; then\\n  verbose \\\"found existing MAVEN_HOME at $MAVEN_HOME\\\"\\n  exec_maven \\\"$@\\\"\\nfi\\n\\ncase \\\"${distributionUrl-}\\\" in\\n*?-bin.zip | *?maven-mvnd-?*-?*.zip) ;;\\n*) die \\\"distributionUrl is not valid, must match *-bin.zip or maven-mvnd-*.zip, but found '${distributionUrl-}'\\\" ;;\\nesac\\n\\n# prepare tmp dir\\nif TMP_DOWNLOAD_DIR=\\\"$(mktemp -d)\\\" && [ -d \\\"$TMP_DOWNLOAD_DIR\\\" ]; then\\n  clean() { rm -rf -- \\\"$TMP_DOWNLOAD_DIR\\\"; }\\n  trap clean HUP INT TERM EXIT\\nelse\\n  die \\\"cannot create temp dir\\\"\\nfi\\n\\nmkdir -p -- \\\"${MAVEN_HOME%/*}\\\"\\n\\n# Download and Install Apache Maven\\nverbose \\\"Couldn't find MAVEN_HOME, downloading and installing it ...\\\"\\nverbose \\\"Downloading from: $distributionUrl\\\"\\nverbose \\\"Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName\\\"\\n\\n# select .zip or .tar.gz\\nif ! command -v unzip >/dev/null; then\\n  distributionUrl=\\\"${distributionUrl%.zip}.tar.gz\\\"\\n  distributionUrlName=\\\"${distributionUrl##*/}\\\"\\nfi\\n\\n# verbose opt\\n__MVNW_QUIET_WGET=--quiet __MVNW_QUIET_CURL=--silent __MVNW_QUIET_UNZIP=-q __MVNW_QUIET_TAR=''\\n[ \\\"${MVNW_VERBOSE-}\\\" != true ] || __MVNW_QUIET_WGET='' __MVNW_QUIET_CURL='' __MVNW_QUIET_UNZIP='' __MVNW_QUIET_TAR=v\\n\\n# normalize http auth\\ncase \\\"${MVNW_PASSWORD:+has-password}\\\" in\\n'') MVNW_USERNAME='' MVNW_PASSWORD='' ;; \\nhas-password) [ -n \\\"${MVNW_USERNAME-}\\\" ] || MVNW_USERNAME='' MVNW_PASSWORD='' ;;\\nesac\\n\\n# download and install\\nmkdir -p -- \\\"${MAVEN_HOME}\\\" || :\\n[ -e \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" ] || (curl $__MVNW_QUIET_CURL --location --output \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" \\\"$distributionUrl\\\" || wget $__MVNW_QUIET_WGET --output-document=\\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" \\\"$distributionUrl\\\")\\n\\n# verify\\n[ -n \\\"${distributionSha256Sum-}\\\" ] || distributionSha256Sum=\\\"$(sha256sum \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" | cut -d' ' -f1)\\\"\\nverify_checksum() {\\n  local filename=$1\\n  local checksum=$2\\n  local calculated_sha256=$(sha256sum \\\"$filename\\\" | cut -d' ' -f1)\\n  [ \\\"$checksum\\\" == \\\"$calculated_sha256\\\" ] || die \\\"checksum failed, sha256sum of '$filename' is not valid, expected $checksum but got $calculated_sha256\\\"\\n}\\nverify_checksum \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" \\\"$distributionSha256Sum\\\"\\n\\n# install\\nverbose \\\"Unzipping ...\\\"\\n[ -d \\\"$MAVEN_HOME\\\" ] || mkdir -p -- \\\"$MAVEN_HOME\\\"\\n\\n# extracting\\nverbose \\\"Unzipping ...\\\"\\nif [ \\\"$distributionUrlName\\\" != \\\"$(basename -- \\\"$distributionUrlName\\\")\\\" ]; then\\n  cp -- \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" \\\"${MAVEN_HOME}/$distributionUrlName\\\"\\nfi\\n\\nunzip $__MVNW_QUIET_UNZIP -- \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" -d \\\"$MAVEN_HOME\\\" || tar $__MVNW_QUIET_TAR -xf \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" -C \\\"$MAVEN_HOME\\\"\\n\\nverbose \\\"done\\\"\\n\\nexec_maven \\\"$@\\\"\\n\"\r\n    },\r\n    {\r\n        filename: \"mvnw.cmd\",\r\n        content: \"<# : batch portion\\n@REM ----------------------------------------------------------------------------\\n@REM Licensed to the Apache Software Foundation (ASF) under one\\n@REM or more contributor license agreements.  See the NOTICE file\\n@REM distributed with this work for additional information\\n@REM regarding copyright ownership.  The ASF licenses this file\\n@REM to you under the Apache License, Version 2.0 (the\\n@REM \\\"License\\\"); you may not use this file except in compliance\\n@REM with the License.  You may obtain a copy of the License at\\n@REM\\n@REM    http://www.apache.org/licenses/LICENSE-2.0\\n@REM\\n@REM Unless required by applicable law or agreed to in writing,\\n@REM software distributed under the License is distributed on an\\n@REM \\\"AS IS\\\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\\n@REM KIND, either express or implied.  See the License for the\\n@REM specific language governing permissions and limitations\\n@REM under the License.\\n@REM ----------------------------------------------------------------------------\\n\\n@REM ----------------------------------------------------------------------------\\n@REM Apache Maven Wrapper startup batch script, version 3.3.2\\n@REM\\n@REM Optional ENV vars\\n@REM   MVNW_REPOURL - repo url base for downloading maven distribution\\n@REM   MVNW_USERNAME/MVNW_PASSWORD - user and password for downloading maven\\n@REM   MVNW_VERBOSE - true: enable verbose log; others: silence the output\\n@REM ----------------------------------------------------------------------------\\n\\n@IF \\\"%__MVNW_ARG0_NAME__%\\\"==\\\"\\\" (SET __MVNW_ARG0_NAME__=%~nx0)\\n@SET __MVNW_CMD__=\\n@SET __MVNW_ERROR__=\\n@SET __MVNW_PSMODULEP_SAVE=%PSModulePath%\\n@SET PSModulePath=\\n@FOR /F \\\"usebackq tokens=1* delims==\\\" %%A IN (`powershell -noprofile \\\"& {$scriptDir='%~dp0'; $script='%__MVNW_ARG0_NAME__%'; icm -ScriptBlock ([Scriptblock]::Create((Get-Content -Raw '%~f0'))) -NoNewScope}\\\"`) DO @(\\n  IF \\\"%%A\\\"==\\\"MVN_CMD\\\" (set __MVNW_CMD__=%%B) ELSE IF \\\"%%B\\\"==\\\"\\\" (echo %%A) ELSE (echo %%A=%%B)\\n)\\n@SET PSModulePath=%__MVNW_PSMODULEP_SAVE%\\n@SET __MVNW_PSMODULEP_SAVE=\\n@SET __MVNW_ARG0_NAME__=\\n@SET MVNW_USERNAME=\\n@SET MVNW_PASSWORD=\\n@IF NOT \\\"%__MVNW_CMD__%\\\"==\\\"\\\" (%__MVNW_CMD__% %*)\\n@echo Cannot start maven from wrapper >&2 && exit /b 1\\n@GOTO :EOF\\n: end batch / begin powershell #>\\n\\n$ErrorActionPreference = \\\"Stop\\\"\\nif ($env:MVNW_VERBOSE -eq \\\"true\\\") {\\n  $VerbosePreference = \\\"Continue\\\"\\n}\\n\\n# calculate distributionUrl, requires .mvn/wrapper/maven-wrapper.properties\\n$distributionUrl = (Get-Content -Raw \\\"$scriptDir/.mvn/wrapper/maven-wrapper.properties\\\" | ConvertFrom-StringData).distributionUrl\\nif (!$distributionUrl) {\\n  Write-Error \\\"cannot read distributionUrl property in $scriptDir/.mvn/wrapper/maven-wrapper.properties\\\"\\n}\\n\\nswitch -wildcard -casesensitive ( $($distributionUrl -replace '^.*/','') ) {\\n  \\\"maven-mvnd-*\\\" {\\n    $USE_MVND = $true\\n    $distributionUrl = $distributionUrl -replace '-bin\\\\.[^.]*$',\\\"-windows-amd64.zip\\\"\\n    $MVN_CMD = \\\"mvnd.cmd\\\"\\n    break\\n  }\\n  default {\\n    $USE_MVND = $false\\n    $MVN_CMD = $script -replace '^mvnw','mvn'\\n    break\\n  }\\n}\\n\\n# apply MVNW_REPOURL and calculate MAVEN_HOME\\n# maven home pattern: ~/.m2/wrapper/dists/{apache-maven-<version>,maven-mvnd-<version>-<platform>}/<hash>\\nif ($env:MVNW_REPOURL) {\\n  $MVNW_REPO_PATTERN = if ($USE_MVND) { \\\"/org/apache/maven/\\\" } else { \\\"/maven/mvnd/\\\" }\\n  $distributionUrl = \\\"$env:MVNW_REPOURL$MVNW_REPO_PATTERN$($distributionUrl -replace '^.*'+$MVNW_REPO_PATTERN,'')\\\"\\n}\\n$distributionUrlName = $distributionUrl -replace '^.*/',''\\n$distributionUrlNameMain = $distributionUrlName -replace '\\\\.[^.]*$','' -replace '-bin$',''\\n$MAVEN_HOME_PARENT = \\\"$HOME/.m2/wrapper/dists/$distributionUrlNameMain\\\"\\nif ($env:MAVEN_USER_HOME) {\\n  $MAVEN_HOME_PARENT = \\\"$env:MAVEN_USER_HOME/wrapper/dists/$distributionUrlNameMain\\\"\\n}\\n$MAVEN_HOME_NAME = ([System.Security.Cryptography.MD5]::Create().ComputeHash([byte[]][char[]]$distributionUrl) | ForEach-Object {$_.ToString(\\\"x2\\\")}) -join ''\\n$MAVEN_HOME = \\\"$MAVEN_HOME_PARENT/$MAVEN_HOME_NAME\\\"\\n\\nif (Test-Path -Path \\\"$MAVEN_HOME\\\" -PathType Container) {\\n  Write-Verbose \\\"found existing MAVEN_HOME at $MAVEN_HOME\\\"\\n  Write-Output \\\"MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD\\\"\\n  exit $?\\n}\\n\\nif (! $distributionUrlNameMain -or ($distributionUrlName -eq $distributionUrlNameMain)) {\\n  Write-Error \\\"distributionUrl is not valid, must end with *-bin.zip, but found $distributionUrl\\\"\\n}\\n\\n# prepare tmp dir\\n$TMP_DOWNLOAD_DIR_HOLDER = New-TemporaryFile\\n$TMP_DOWNLOAD_DIR = New-Item -Itemtype Directory -Path \\\"$TMP_DOWNLOAD_DIR_HOLDER.dir\\\"\\n$TMP_DOWNLOAD_DIR_HOLDER.Delete() | Out-Null\\ntrap {\\n  if ($TMP_DOWNLOAD_DIR.Exists) {\\n    try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }\\n    catch { Write-Warning \\\"Cannot remove $TMP_DOWNLOAD_DIR\\\" }\\n  }\\n}\\n\\nNew-Item -Itemtype Directory -Path \\\"$MAVEN_HOME_PARENT\\\" -Force | Out-Null\\n\\n# Download and Install Apache Maven\\nWrite-Verbose \\\"Couldn't find MAVEN_HOME, downloading and installing it ...\\\"\\nWrite-Verbose \\\"Downloading from: $distributionUrl\\\"\\nWrite-Verbose \\\"Downloading to: $TMP_DOWNLOAD_DIR/$distributionUrlName\\\"\\n\\n$webclient = New-Object System.Net.WebClient\\nif ($env:MVNW_USERNAME -and $env:MVNW_PASSWORD) {\\n  $webclient.Credentials = New-Object System.Net.NetworkCredential($env:MVNW_USERNAME, $env:MVNW_PASSWORD)\\n}\\n[Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12\\n$webclient.DownloadFile($distributionUrl, \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\") | Out-Null\\n\\n# If specified, validate the SHA-256 sum of the Maven distribution zip file\\n$distributionSha256Sum = (Get-Content -Raw \\\"$scriptDir/.mvn/wrapper/maven-wrapper.properties\\\" | ConvertFrom-StringData).distributionSha256Sum\\nif ($distributionSha256Sum) {\\n  if ($USE_MVND) {\\n    Write-Error \\\"Checksum validation is not supported for maven-mvnd. `nPlease disable validation by removing 'distributionSha256Sum' from your maven-wrapper.properties.\\\"\\n  }\\n  Import-Module $PSHOME\\\\Modules\\\\Microsoft.PowerShell.Utility -Function Get-FileHash\\n  if ((Get-FileHash \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" -Algorithm SHA256).Hash.ToLower() -ne $distributionSha256Sum) {\\n    Write-Error \\\"Error: Failed to validate Maven distribution SHA-256, your Maven distribution might be compromised. If you updated your Maven version, you need to update the specified distributionSha256Sum property.\\\"\\n  }\\n}\\n\\n# unzip and move\\nExpand-Archive \\\"$TMP_DOWNLOAD_DIR/$distributionUrlName\\\" -DestinationPath \\\"$TMP_DOWNLOAD_DIR\\\" | Out-Null\\nRename-Item -Path \\\"$TMP_DOWNLOAD_DIR/$distributionUrlNameMain\\\" -NewName $MAVEN_HOME_NAME | Out-Null\\ntry {\\n  Move-Item -Path \\\"$TMP_DOWNLOAD_DIR/$MAVEN_HOME_NAME\\\" -Destination $MAVEN_HOME_PARENT | Out-Null\\n} catch {\\n  if (! (Test-Path -Path \\\"$MAVEN_HOME\\\" -PathType Container)) {\\n    Write-Error \\\"fail to move MAVEN_HOME\\\"\\n  }\\n} finally {\\n  try { Remove-Item $TMP_DOWNLOAD_DIR -Recurse -Force | Out-Null }\\n  catch { Write-Warning \\\"Cannot remove $TMP_DOWNLOAD_DIR\\\" }\\n}\\n\\nWrite-Output \\\"MVN_CMD=$MAVEN_HOME/bin/$MVN_CMD\\\"\\n\"\r\n    },\r\n    {\r\n        filename: \"pom.xml\",\r\n        content: `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n\txsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n\t<modelVersion>4.0.0</modelVersion>\r\n\t<parent>\r\n\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t<artifactId>spring-boot-starter-parent</artifactId>\r\n\t\t<version>3.4.1</version>\r\n\t\t<relativePath/> <!-- lookup parent from repository -->\r\n\t</parent>\r\n\t<groupId>com.gocodeo</groupId>\r\n\t<artifactId>springbootSetup</artifactId>\r\n\t<version>0.0.1-SNAPSHOT</version>\r\n\t<name>springbootSetup</name>\r\n\t<description>Templet project for Spring Boot</description>\r\n\t<url/>\r\n\t<licenses>\r\n\t\t<license/>\r\n\t</licenses>\r\n\t<developers>\r\n\t\t<developer/>\r\n\t</developers>\r\n\t<scm>\r\n\t\t<connection/>\r\n\t\t<developerConnection/>\r\n\t\t<tag/>\r\n\t\t<url/>\r\n\t</scm>\r\n\t<properties>\r\n\t\t<java.version>23</java.version>\r\n\t</properties>\r\n\t<dependencies>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-web</artifactId>\r\n\t\t</dependency>\r\n\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-test</artifactId>\r\n\t\t\t<scope>test</scope>\r\n\t\t</dependency>\r\n\t</dependencies>\r\n\r\n\t<build>\r\n\t\t<plugins>\r\n\t\t\t<plugin>\r\n\t\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t\t<artifactId>spring-boot-maven-plugin</artifactId>\r\n\t\t\t</plugin>\r\n\t\t</plugins>\r\n\t</build>\r\n\r\n</project>\r\n`\r\n    },\r\n    {\r\n        filename: \"src\",\r\n        contents: [\r\n            {\r\n                filename: \"main\",\r\n                contents: [{\r\n                    filename: \"java\",\r\n                    contents: [{\r\n                        filename: \"com\",\r\n                        contents: [{\r\n                            filename: \"gocodeo\",\r\n                            contents: [{\r\n                                filename: \"springbootSetup\",\r\n                                contents: [{\r\n                                    filename: \"SpringbootSetupApplication.java\",\r\n                                    content: `package com.gocodeo.springbootSetup;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class SpringbootSetupApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringbootSetupApplication.class, args);\r\n\t}\r\n\r\n}\r\n`\r\n                                }]\r\n                            }]\r\n                        }]\r\n                    }]\r\n                },\r\n                {\r\n                    filename: \"resources\",\r\n                    contents: [{\r\n                        filename: \"static\",\r\n                        contents: []\r\n                    }, {\r\n                        filename: \"templates\",\r\n                        contents: []\r\n                    }, {\r\n                        filename: \"application.properties\",\r\n                        content: `spring.application.name=springbootSetup\r\n`\r\n                    }]\r\n                }\r\n                ]\r\n            },\r\n            {\r\n                filename: \"test\",\r\n                contents: [{\r\n                    filename: \"java\",\r\n                    contents: [{\r\n                        filename: \"com\",\r\n                        contents: [{\r\n                            filename: \"gocodeo\",\r\n                            contents: [{\r\n                                filename: \"springbootSetup\",\r\n                                contents: [{\r\n                                    filename: \"SpringbootSetupApplicationTests.java\",\r\n                                    content:  `package com.gocodeo.springbootSetup;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass SpringbootSetupApplicationTests {\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t}\r\n\r\n}\r\n`\r\n                                }]\r\n                            }]\r\n                        }]  \r\n                    }] \r\n                }]\r\n            }\r\n        ]\r\n    }\r\n \r\n\r\n];\r\n\r\n","export const fileContentsForEchoProject = [\r\n    {\r\n        filename: \"main.go\",\r\n        content: `\r\npackage main\r\n\r\nimport (\r\n\t\"net/http\"\r\n\r\n\t\"github.com/labstack/echo/v4\"\r\n)\r\n\r\nfunc main() {\r\n\t// Create a new Echo instance\r\n\te := echo.New()\r\n\r\n\t// Define a \"/\" route\r\n\te.GET(\"/\", func(c echo.Context) error {\r\n\t\treturn c.String(http.StatusOK, \"Hello World\")\r\n\t})\r\n\r\n\t// Start the server on port 8080\r\n\te.Start(\":8080\")\r\n}\r\n\r\n`,\r\n    },\r\n    {\r\n        filename: \"go.mod\",\r\n        content: `module echo-backend\r\n\r\ngo 1.20\r\n\r\nrequire github.com/labstack/echo/v4 v4.11.2\r\n\r\n\r\n`,\r\n    },\r\n    {\r\n        \"filename\": \"README.md\",\r\n        \"content\": \"# Echo Backend Starter Template\\n\\nA simple starter template for a Echo backend project with a basic `/` route.\\n\\n## Prerequisites\\n\\n- [Go](https://golang.org/) installed on your system (v1.20 or higher recommended).\\n\\n## How to Run\\n\\n1. Clone the repository or create the folder structure and files as shown.\\n2. Navigate to the project folder:\\n   ```bash\\n   cd gin-backend\\n   ```\\n3. Install the Gin framework dependency:\\n   ```bash\\n   go mod tidy\\n   ```\\n4. Run the application:\\n   ```bash\\n   go run main.go\\n   ```\\n5. Open your browser or use a tool like `curl` to visit `http://localhost:8080/`:\\n   ```bash\\n   curl http://localhost:8080/\\n   ```\\n\\n   You should see the response:\\n   ```plaintext\\n   Hello World\\n   ```\\n\"\r\n    }\r\n\r\n\r\n\r\n\r\n];\r\n\r\nexport default fileContentsForEchoProject;\r\n","export const fileContentsForGinProject = [\r\n    {\r\n        filename: \"main.go\",\r\n        content: `\r\npackage main\r\n\r\nimport (\r\n\t\"github.com/gin-gonic/gin\"\r\n)\r\n\r\nfunc main() {\r\n\t// Create a Gin router\r\n\tr := gin.Default()\r\n\r\n\t// Define a \"/\" route\r\n\tr.GET(\"/\", func(c *gin.Context) {\r\n\t\tc.String(200, \"Hello World\")\r\n\t})\r\n\r\n\t// Start the server on port 8080\r\n\tr.Run(\":8080\")\r\n}\r\n\r\n`,\r\n    },\r\n    {\r\n        filename: \"go.mod\",\r\n        content: `module gin-backend\r\n\r\ngo 1.20\r\n\r\nrequire github.com/gin-gonic/gin v1.9.1\r\n\r\n`,\r\n    },\r\n    {\r\n        \"filename\": \"README.md\",\r\n        \"content\": \"# Gin Backend Starter Template\\n\\nA simple starter template for a Gin backend project with a basic `/` route.\\n\\n## Prerequisites\\n\\n- [Go](https://golang.org/) installed on your system (v1.20 or higher recommended).\\n\\n## How to Run\\n\\n1. Clone the repository or create the folder structure and files as shown.\\n2. Navigate to the project folder:\\n   ```bash\\n   cd gin-backend\\n   ```\\n3. Install the Gin framework dependency:\\n   ```bash\\n   go mod tidy\\n   ```\\n4. Run the application:\\n   ```bash\\n   go run main.go\\n   ```\\n5. Open your browser or use a tool like `curl` to visit `http://localhost:8080/`:\\n   ```bash\\n   curl http://localhost:8080/\\n   ```\\n\\n   You should see the response:\\n   ```plaintext\\n   Hello World\\n   ```\\n\"\r\n    }\r\n\r\n\r\n    \r\n\r\n];\r\n\r\nexport default fileContentsForGinProject;\r\n","export const fileContentsForFlaskProject = [\r\n    {\r\n        filename: \"run.py\",\r\n        content: `\r\nfrom app import create_app\r\n\r\napp = create_app()\r\n\r\nif __name__ == \"__main__\":\r\n    app.run(debug=True)\r\n\r\n`,\r\n    },\r\n    {\r\n        filename: \"requirements.txt\",\r\n        content: `Flask==2.3.2\r\n`,\r\n    },\r\n      \r\n    {\r\n        filename: \"app\",\r\n        contents: [\r\n            {\r\n                filename: \"__init__.py\",\r\n                content: `from flask import Flask\r\n\r\ndef create_app():\r\n    app = Flask(__name__)\r\n    \r\n    # Register routes\r\n    with app.app_context():\r\n        from .routes import bp\r\n        app.register_blueprint(bp)\r\n    \r\n    return app\r\n`,\r\n            },\r\n            {\r\n                filename: \"routes.py\",\r\n                content: `from flask import Blueprint\r\n\r\nbp = Blueprint('main', __name__)\r\n\r\n@bp.route('/')\r\ndef hello_world():\r\n    return \"Hello, world!\"\r\n\r\n`,\r\n            },\r\n            \r\n        ],\r\n    },\r\n    \r\n];\r\n\r\nexport default fileContentsForFlaskProject;\r\n","export const fileContentsForNestJSProject = [\r\n    {\r\n        filename: \"tsconfig.json\",\r\n        content: `{\r\n  \"compilerOptions\": {\r\n    \"module\": \"CommonJS\",\r\n    \"target\": \"ES2020\",\r\n    \"strict\": true,\r\n    \"baseUrl\": \"./\",\r\n    \"rootDir\": \"./src\",\r\n    \"outDir\": \"./dist\",\r\n    \"esModuleInterop\": true,\r\n    \"emitDecoratorMetadata\": true,\r\n    \"experimentalDecorators\": true\r\n  },\r\n  \"exclude\": [\"node_modules\", \"dist\"]\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename: \"tsconfig.build.json\",\r\n        content: `{\r\n        \"extends\": \"./tsconfig.json\",\r\n        \"compilerOptions\": {\r\n            \"outDir\": \"./dist\",\r\n            \"rootDir\": \"./src\",\r\n            \"sourceMap\": true,\r\n            \"declaration\": true\r\n        },\r\n        \"include\": [\"src/**/*\"],\r\n        \"exclude\": [\"node_modules\", \"test\", \"**/*.spec.ts\"]\r\n        }\r\n`,\r\n    },\r\n    {\r\n        filename: \".gitignore\",\r\n        content: `node_modules/\r\ndist/\r\n.env\r\n`,\r\n    },\r\n    {\r\n        filename: \"package.json\",\r\n        content: `{\r\n  \"name\": \"nestjs-backend\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"A minimal NestJS backend project\",\r\n  \"main\": \"dist/main.js\",\r\n  \"scripts\": {\r\n    \"start\": \"ts-node -r tsconfig-paths/register src/main.ts\",\r\n    \"build\": \"tsc\",\r\n    \"test\": \"jest\",\r\n    \"start:prod\": \"node dist/main.js\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@nestjs/common\": \"^10.4.15\",\r\n    \"@nestjs/core\": \"^10.4.15\",\r\n    \"@nestjs/platform-express\": \"^10.4.15\",\r\n    \"reflect-metadata\": \"^0.1.14\",\r\n    \"rxjs\": \"^7.8.1\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@nestjs/cli\": \"^10.4.9\",\r\n    \"@nestjs/schematics\": \"^10.2.3\",\r\n    \"@nestjs/testing\": \"^10.4.15\",\r\n    \"@types/node\": \"^18.19.69\",\r\n    \"ts-loader\": \"^9.5.1\",\r\n    \"typescript\": \"^5.7.2\",\r\n    \"ts-jest\": \"^29.0.0\",\r\n    \"ts-node\": \"^10.0.0\"\r\n  }\r\n}\r\n\r\n`,\r\n    },\r\n    {\r\n        filename: \"src\",\r\n        contents: [\r\n            {\r\n                filename: \"app.controller.ts\",\r\n                content: `\r\nimport { Controller, Get } from '@nestjs/common';\r\nimport { AppService } from './app.service';\r\n\r\n@Controller()\r\nexport class AppController {\r\n    constructor(private readonly appService: AppService) { }\r\n\r\n    @Get()\r\n    getHello(): string {\r\n        return this.appService.getHello();\r\n    }\r\n}\r\n`,\r\n            },\r\n            {\r\n                filename: \"app.module.ts\",\r\n                content: `\r\nimport { Module } from '@nestjs/common';\r\nimport { AppController } from './app.controller';\r\nimport { AppService } from './app.service';\r\n\r\n@Module({\r\n    imports: [],\r\n    controllers: [AppController],\r\n    providers: [AppService],\r\n})\r\nexport class AppModule { }\r\n\r\n`,\r\n            },\r\n            {\r\n                filename: \"app.service.ts\",\r\n                content: `\r\nimport { Injectable } from '@nestjs/common';\r\n\r\n@Injectable()\r\nexport class AppService {\r\n    getHello(): string {\r\n        return 'Hello World!';\r\n    }\r\n}\r\n\r\n`,\r\n            },\r\n            {\r\n                filename: \"main.ts\",\r\n                content: `\r\nimport { NestFactory } from '@nestjs/core';\r\nimport { AppModule } from './app.module';\r\n\r\nasync function bootstrap() {\r\n    const app = await NestFactory.create(AppModule);\r\n    await app.listen(3000);\r\n    console.log('Application is running on http://localhost:3000');\r\n}\r\nbootstrap();\r\n`,\r\n            },\r\n          \r\n        ],\r\n    },\r\n];\r\n\r\nexport default fileContentsForNestJSProject;","const fileContentsForReactVite = [\r\n    {\r\n        filename: 'package.json',\r\n        content: `{\r\n  \"name\": \"vite-react-typescript-starter\",\r\n  \"private\": true,\r\n  \"version\": \"0.0.0\",\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"dev\": \"vite\",\r\n    \"build\": \"vite build\",\r\n    \"lint\": \"eslint .\",\r\n    \"preview\": \"vite preview\"\r\n  },\r\n  \"dependencies\": {\r\n    \"lucide-react\": \"^0.344.0\",\r\n    \"react\": \"^18.3.1\",\r\n    \"react-dom\": \"^18.3.1\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@eslint/js\": \"^9.9.1\",\r\n    \"@types/react\": \"^18.3.5\",\r\n    \"@types/react-dom\": \"^18.3.0\",\r\n    \"@vitejs/plugin-react\": \"^4.3.1\",\r\n    \"autoprefixer\": \"^10.4.18\",\r\n    \"eslint\": \"^9.9.1\",\r\n    \"eslint-plugin-react-hooks\": \"^5.1.0-rc.0\",\r\n    \"eslint-plugin-react-refresh\": \"^0.4.11\",\r\n    \"globals\": \"^15.9.0\",\r\n    \"postcss\": \"^8.4.35\",\r\n    \"tailwindcss\": \"^3.4.1\",\r\n    \"typescript\": \"^5.5.3\",\r\n    \"typescript-eslint\": \"^8.3.0\",\r\n    \"vite\": \"^5.4.2\"\r\n  }\r\n}`\r\n    },\r\n    {\r\n        filename: 'vite.config.ts',\r\n        content: `import { defineConfig } from 'vite'\r\nimport react from '@vitejs/plugin-react'\r\n\r\n// https://vitejs.dev/config/\r\nexport default defineConfig({\r\n  plugins: [react()],\r\n  optimizeDeps: {\r\n    exclude: ['lucide-react'],\r\n  },\r\n  server: {\r\n    open: true\r\n  }\r\n});`\r\n    },\r\n    {\r\n      filename: \"postcss.config.js\",\r\n      content: `export default {\r\n  plugins: {\r\n    tailwindcss: {},\r\n    autoprefixer: {},\r\n  },\r\n}`\r\n    },\r\n    {\r\n        filename: 'tsconfig.json',\r\n        content: `{\r\n  \"files\": [],\r\n  \"references\": [\r\n    { \"path\": \"./tsconfig.app.json\" },\r\n    { \"path\": \"./tsconfig.node.json\" }\r\n  ]\r\n}`\r\n    },\r\n    {\r\n      filename: \"tailwind.config.js\",\r\n      content: `/** @type {import('tailwindcss').Config} */\r\nexport default {\r\n  content: [\r\n    \"./index.html\",\r\n    \"./src/**/*.{js,ts,jsx,tsx}\",\r\n  ],\r\n  theme: {\r\n    extend: {},\r\n  },\r\n  plugins: [],\r\n}`\r\n    },\r\n    {\r\n        filename: 'tsconfig.node.json',\r\n        content: `{\r\n  \"compilerOptions\": {\r\n    \"target\": \"ES2022\",\r\n    \"lib\": [\"ES2023\"],\r\n    \"module\": \"ESNext\",\r\n    \"skipLibCheck\": true,\r\n\r\n    /* Bundler mode */\r\n    \"moduleResolution\": \"bundler\",\r\n    \"allowImportingTsExtensions\": true,\r\n    \"isolatedModules\": true,\r\n    \"moduleDetection\": \"force\",\r\n    \"noEmit\": true,\r\n\r\n    /* Linting */\r\n    \"strict\": true,\r\n    \"noUnusedLocals\": true,\r\n    \"noUnusedParameters\": true,\r\n    \"noFallthroughCasesInSwitch\": true\r\n  },\r\n  \"include\": [\"vite.config.ts\"]\r\n}`\r\n    },\r\n    {\r\n        filename: 'tsconfig.app.json',\r\n        content: `{\r\n  \"compilerOptions\": {\r\n    \"target\": \"ES2020\",\r\n    \"useDefineForClassFields\": true,\r\n    \"lib\": [\"ES2020\", \"DOM\", \"DOM.Iterable\"],\r\n    \"module\": \"ESNext\",\r\n    \"skipLibCheck\": true,\r\n\r\n    /* Bundler mode */\r\n    \"moduleResolution\": \"bundler\",\r\n    \"allowImportingTsExtensions\": true,\r\n    \"isolatedModules\": true,\r\n    \"moduleDetection\": \"force\",\r\n    \"noEmit\": true,\r\n    \"jsx\": \"react-jsx\",\r\n\r\n    /* Linting */\r\n    \"strict\": true,\r\n    \"noUnusedLocals\": true,\r\n    \"noUnusedParameters\": true,\r\n    \"noFallthroughCasesInSwitch\": true\r\n  },\r\n  \"include\": [\"src\"]\r\n}`\r\n    },\r\n    {\r\n      filename: \"eslint.config.js\",\r\n      content: `import js from '@eslint/js'\r\nimport globals from 'globals'\r\nimport reactHooks from 'eslint-plugin-react-hooks'\r\nimport reactRefresh from 'eslint-plugin-react-refresh'\r\nimport tseslint from 'typescript-eslint'\r\n\r\nexport default tseslint.config(\r\n  { ignores: ['dist'] },\r\n  {\r\n    extends: [js.configs.recommended, ...tseslint.configs.recommended],\r\n    files: ['**/*.{ts,tsx}'],\r\n    languageOptions: {\r\n      ecmaVersion: 2020,\r\n      globals: globals.browser,\r\n    },\r\n    plugins: {\r\n      'react-hooks': reactHooks,\r\n      'react-refresh': reactRefresh,\r\n    },\r\n    rules: {\r\n      ...reactHooks.configs.recommended.rules,\r\n      'react-refresh/only-export-components': [\r\n        'warn',\r\n        { allowConstantExport: true },\r\n      ],\r\n    },\r\n  },\r\n)\r\n`\r\n    },\r\n    {\r\n        filename: 'index.html',\r\n        content: `<!doctype html>\r\n        <html lang=\"en\">\r\n          <head>\r\n            <meta charset=\"UTF-8\" />\r\n            <link rel=\"icon\" type=\"image/svg+xml\" href=\"/vite.svg\" />\r\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n            <title>Vite + React + TS</title>\r\n          </head>\r\n          <body>\r\n            <div id=\"root\"></div>\r\n            <script type=\"module\" src=\"/src/main.tsx\"></script>\r\n          </body>\r\n        </html>`\r\n    }\r\n];\r\n\r\n\r\nexport default fileContentsForReactVite;","\r\nconst fileContentsForReact = [\r\n\r\n    {\r\n        filename : '.gitignore',\r\n        content : `# Logs\r\nlogs\r\n*.log\r\nnpm-debug.log*\r\nyarn-debug.log*\r\nyarn-error.log*\r\npnpm-debug.log*\r\nlerna-debug.log*\r\n\r\nnode_modules\r\ndist\r\ndist-ssr\r\n*.local\r\n\r\n# Editor directories and files\r\n.vscode/*\r\n!.vscode/extensions.json\r\n.idea\r\n.DS_Store\r\n*.suo\r\n*.ntvs*\r\n*.njsproj\r\n*.sln\r\n*.sw?\r\n`,\r\n    },\r\n    {\r\n        filename : '.eslint.config.js',\r\n        content : `import js from '@eslint/js'\r\nimport globals from 'globals'\r\nimport reactHooks from 'eslint-plugin-react-hooks'\r\nimport reactRefresh from 'eslint-plugin-react-refresh'\r\nimport tseslint from 'typescript-eslint'\r\n\r\nexport default tseslint.config(\r\n  { ignores: ['dist'] },\r\n  {\r\n    extends: [js.configs.recommended, ...tseslint.configs.recommended],\r\n    files: ['**/*.{ts,tsx}'],\r\n    languageOptions: {\r\n      ecmaVersion: 2020,\r\n      globals: globals.browser,\r\n    },\r\n    plugins: {\r\n      'react-hooks': reactHooks,\r\n      'react-refresh': reactRefresh,\r\n    },\r\n    rules: {\r\n      ...reactHooks.configs.recommended.rules,\r\n      'react-refresh/only-export-components': [\r\n        'warn',\r\n        { allowConstantExport: true },\r\n      ],\r\n    },\r\n  },\r\n)\r\n`,\r\n    },\r\n    {\r\n        filename : 'index.html',\r\n        content : `<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <link rel=\"icon\" type=\"image/svg+xml\" href=\"/vite.svg\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <title>Vite + React + TS</title>\r\n  </head>\r\n  <body>\r\n    <div id=\"root\"></div>\r\n    <script type=\"module\" src=\"/src/main.tsx\"></script>\r\n  </body>\r\n</html>\r\n`,\r\n    },\r\n    {\r\n        filename : 'package.json',\r\n        content : `{\r\n  \"name\": \"vite-react-typescript-starter\",\r\n  \"private\": true,\r\n  \"version\": \"0.0.0\",\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"dev\": \"vite\",\r\n    \"build\": \"vite build\",\r\n    \"lint\": \"eslint .\",\r\n    \"preview\": \"vite preview\"\r\n  },\r\n  \"dependencies\": {\r\n    \"lucide-react\": \"^0.344.0\",\r\n    \"react\": \"^18.3.1\",\r\n    \"react-dom\": \"^18.3.1\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@eslint/js\": \"^9.9.1\",\r\n    \"@types/react\": \"^18.3.5\",\r\n    \"@types/react-dom\": \"^18.3.0\",\r\n    \"@vitejs/plugin-react\": \"^4.3.1\",\r\n    \"autoprefixer\": \"^10.4.18\",\r\n    \"eslint\": \"^9.9.1\",\r\n    \"eslint-plugin-react-hooks\": \"^5.1.0-rc.0\",\r\n    \"eslint-plugin-react-refresh\": \"^0.4.11\",\r\n    \"globals\": \"^15.9.0\",\r\n    \"postcss\": \"^8.4.35\",\r\n    \"tailwindcss\": \"^3.4.1\",\r\n    \"typescript\": \"^5.5.3\",\r\n    \"typescript-eslint\": \"^8.3.0\",\r\n    \"vite\": \"^5.4.2\"\r\n  }\r\n}`,\r\n    },\r\n    {\r\n        filename : 'postcss.config.js',\r\n        content : `export default {\r\n  plugins: {\r\n    tailwindcss: {},\r\n    autoprefixer: {},\r\n  },\r\n}`,\r\n    },\r\n    {\r\n        filename : 'tailwind.config.ts',\r\n        content : `/** @type {import('tailwindcss').Config} */\r\nexport default {\r\n  content: [\r\n    \"./index.html\",\r\n    \"./src/**/*.{js,ts,jsx,tsx}\",\r\n  ],\r\n  theme: {\r\n    extend: {},\r\n  },\r\n  plugins: [],\r\n}`,\r\n    },\r\n    {\r\n        filename : 'tsconfig.app.json',\r\n        content : `{\r\n  \"compilerOptions\": {\r\n    \"target\": \"ES2020\",\r\n    \"useDefineForClassFields\": true,\r\n    \"lib\": [\"ES2020\", \"DOM\", \"DOM.Iterable\"],\r\n    \"module\": \"ESNext\",\r\n    \"skipLibCheck\": true,\r\n\r\n    /* Bundler mode */\r\n    \"moduleResolution\": \"bundler\",\r\n    \"allowImportingTsExtensions\": true,\r\n    \"isolatedModules\": true,\r\n    \"moduleDetection\": \"force\",\r\n    \"noEmit\": true,\r\n    \"jsx\": \"react-jsx\",\r\n\r\n    /* Linting */\r\n    \"strict\": true,\r\n    \"noUnusedLocals\": true,\r\n    \"noUnusedParameters\": true,\r\n    \"noFallthroughCasesInSwitch\": true\r\n  },\r\n  \"include\": [\"src\"]\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'tsconfig.node.json',\r\n        content : `{\r\n  \"compilerOptions\": {\r\n    \"target\": \"ES2022\",\r\n    \"lib\": [\"ES2023\"],\r\n    \"module\": \"ESNext\",\r\n    \"skipLibCheck\": true,\r\n\r\n    /* Bundler mode */\r\n    \"moduleResolution\": \"bundler\",\r\n    \"allowImportingTsExtensions\": true,\r\n    \"isolatedModules\": true,\r\n    \"moduleDetection\": \"force\",\r\n    \"noEmit\": true,\r\n\r\n    /* Linting */\r\n    \"strict\": true,\r\n    \"noUnusedLocals\": true,\r\n    \"noUnusedParameters\": true,\r\n    \"noFallthroughCasesInSwitch\": true\r\n  },\r\n  \"include\": [\"vite.config.ts\"]\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'tsconfig.json',\r\n        content : `{\r\n  \"files\": [],\r\n  \"references\": [\r\n    { \"path\": \"./tsconfig.app.json\" },\r\n    { \"path\": \"./tsconfig.node.json\" }\r\n  ]\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'vite.config.ts',\r\n        content : `import { defineConfig } from 'vite'\r\nimport react from '@vitejs/plugin-react'\r\n\r\n// https://vitejs.dev/config/\r\nexport default defineConfig({\r\n  plugins: [react()],\r\n  optimizeDeps: {\r\n    exclude: ['lucide-react'],\r\n  },\r\n})\r\n`,\r\n    },\r\n\r\n];\r\n\r\nexport default fileContentsForReact;\r\n\r\n\r\nexport const fileContentsForReactProject = [\r\n\r\n    {\r\n        filename : '.gitignore',\r\n        content : `# Logs\r\nlogs\r\n*.log\r\nnpm-debug.log*\r\nyarn-debug.log*\r\nyarn-error.log*\r\npnpm-debug.log*\r\nlerna-debug.log*\r\n\r\nnode_modules\r\ndist\r\ndist-ssr\r\n*.local\r\n\r\n# Editor directories and files\r\n.vscode/*\r\n!.vscode/extensions.json\r\n.idea\r\n.DS_Store\r\n*.suo\r\n*.ntvs*\r\n*.njsproj\r\n*.sln\r\n*.sw?\r\n`,\r\n    },\r\n    {\r\n        filename : '.eslint.config.js',\r\n        content : `import js from '@eslint/js'\r\nimport globals from 'globals'\r\nimport reactHooks from 'eslint-plugin-react-hooks'\r\nimport reactRefresh from 'eslint-plugin-react-refresh'\r\nimport tseslint from 'typescript-eslint'\r\n\r\nexport default tseslint.config(\r\n  { ignores: ['dist'] },\r\n  {\r\n    extends: [js.configs.recommended, ...tseslint.configs.recommended],\r\n    files: ['**/*.{ts,tsx}'],\r\n    languageOptions: {\r\n      ecmaVersion: 2020,\r\n      globals: globals.browser,\r\n    },\r\n    plugins: {\r\n      'react-hooks': reactHooks,\r\n      'react-refresh': reactRefresh,\r\n    },\r\n    rules: {\r\n      ...reactHooks.configs.recommended.rules,\r\n      'react-refresh/only-export-components': [\r\n        'warn',\r\n        { allowConstantExport: true },\r\n      ],\r\n    },\r\n  },\r\n)\r\n`,\r\n    },\r\n    {\r\n        filename : 'index.html',\r\n        content : `<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <link rel=\"icon\" type=\"image/svg+xml\" href=\"/vite.svg\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <title>Vite + React + TS</title>\r\n  </head>\r\n  <body>\r\n    <div id=\"root\"></div>\r\n    <script type=\"module\" src=\"/src/main.tsx\"></script>\r\n  </body>\r\n</html>\r\n`,\r\n    },\r\n    {\r\n        filename : 'package.json',\r\n        content : `{\r\n  \"name\": \"vite-react-typescript-starter\",\r\n  \"private\": true,\r\n  \"version\": \"0.0.0\",\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"dev\": \"vite\",\r\n    \"build\": \"vite build\",\r\n    \"lint\": \"eslint .\",\r\n    \"preview\": \"vite preview\"\r\n  },\r\n  \"dependencies\": {\r\n    \"class-variance-authority\": \"^0.7.1\",\r\n    \"clsx\": \"^2.1.1\",\r\n    \"lucide-react\": \"^0.344.0\",\r\n    \"react\": \"^18.3.1\",\r\n    \"react-dom\": \"^18.3.1\",\r\n    \"tailwind-merge\": \"^2.6.0\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@eslint/js\": \"^9.9.1\",\r\n    \"@types/react\": \"^18.3.5\",\r\n    \"@types/react-dom\": \"^18.3.0\",\r\n    \"@vitejs/plugin-react\": \"^4.3.1\",\r\n    \"autoprefixer\": \"^10.4.18\",\r\n    \"eslint\": \"^9.9.1\",\r\n    \"eslint-plugin-react-hooks\": \"^5.1.0-rc.0\",\r\n    \"eslint-plugin-react-refresh\": \"^0.4.11\",\r\n    \"globals\": \"^15.9.0\",\r\n    \"postcss\": \"^8.4.35\",\r\n    \"tailwindcss\": \"^3.4.1\",\r\n    \"typescript\": \"^5.5.3\",\r\n    \"typescript-eslint\": \"^8.3.0\",\r\n    \"vite\": \"^5.4.2\"\r\n  }\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'postcss.config.js',\r\n        content : `export default {\r\n  plugins: {\r\n    tailwindcss: {},\r\n    autoprefixer: {},\r\n  },\r\n}`,\r\n    },\r\n    {\r\n        filename : 'tailwind.config.ts',\r\n        content : `/** @type {import('tailwindcss').Config} */\r\nexport default {\r\n  content: [\r\n    \"./index.html\",\r\n    \"./src/**/*.{js,ts,jsx,tsx}\",\r\n  ],\r\n  theme: {\r\n    extend: {},\r\n  },\r\n  plugins: [],\r\n}`,\r\n    },\r\n    {\r\n        filename : 'tsconfig.app.json',\r\n        content : `{\r\n  \"compilerOptions\": {\r\n    \"target\": \"ES2020\",\r\n    \"useDefineForClassFields\": true,\r\n    \"lib\": [\"ES2020\", \"DOM\", \"DOM.Iterable\"],\r\n    \"module\": \"ESNext\",\r\n    \"skipLibCheck\": true,\r\n\r\n    /* Bundler mode */\r\n    \"moduleResolution\": \"bundler\",\r\n    \"allowImportingTsExtensions\": true,\r\n    \"isolatedModules\": true,\r\n    \"moduleDetection\": \"force\",\r\n    \"noEmit\": true,\r\n    \"jsx\": \"react-jsx\",\r\n\r\n    /* Linting */\r\n    \"strict\": true,\r\n    \"noUnusedLocals\": true,\r\n    \"noUnusedParameters\": true,\r\n    \"noFallthroughCasesInSwitch\": true\r\n  },\r\n  \"include\": [\"src\"]\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'tsconfig.node.json',\r\n        content : `{\r\n  \"compilerOptions\": {\r\n    \"target\": \"ES2022\",\r\n    \"lib\": [\"ES2023\"],\r\n    \"module\": \"ESNext\",\r\n    \"skipLibCheck\": true,\r\n\r\n    /* Bundler mode */\r\n    \"moduleResolution\": \"bundler\",\r\n    \"allowImportingTsExtensions\": true,\r\n    \"isolatedModules\": true,\r\n    \"moduleDetection\": \"force\",\r\n    \"noEmit\": true,\r\n\r\n    /* Linting */\r\n    \"strict\": true,\r\n    \"noUnusedLocals\": true,\r\n    \"noUnusedParameters\": true,\r\n    \"noFallthroughCasesInSwitch\": true\r\n  },\r\n  \"include\": [\"vite.config.ts\"]\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'tsconfig.json',\r\n        content : `{\r\n  \"files\": [],\r\n  \"references\": [\r\n    { \"path\": \"./tsconfig.app.json\" },\r\n    { \"path\": \"./tsconfig.node.json\" }\r\n  ]\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'vite.config.ts',\r\n        content : `import { defineConfig } from 'vite'\r\nimport react from '@vitejs/plugin-react'\r\n\r\n// https://vitejs.dev/config/\r\nexport default defineConfig({\r\n  plugins: [react()],\r\n  optimizeDeps: {\r\n    exclude: ['lucide-react'],\r\n  },\r\n  server: {\r\n    open: true, // This will open the browser automatically\r\n  },\r\n})\r\n`,\r\n    },\r\n    {\r\n      filename: 'src',\r\n      contents: [\r\n        {\r\n          filename: 'main.tsx',\r\n          content: `import { StrictMode } from 'react'\r\nimport { createRoot } from 'react-dom/client'\r\nimport App from './App.tsx'\r\nimport './index.css'\r\n\r\ncreateRoot(document.getElementById('root')!).render(\r\n  <StrictMode>\r\n    <App />\r\n  </StrictMode>,\r\n)\r\n`,\r\n        },\r\n        {\r\n          filename: 'App.tsx',\r\n          content: `import React from 'react'\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 flex items-center justify-center\">\r\n      <p>Start prompting (or editing) to see magic happen :)</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n`,\r\n        },\r\n        {\r\n          filename: 'index.css',\r\n          content: `@tailwind base;\r\n@tailwind components;\r\n@tailwind utilities;`,\r\n        },\r\n        {\r\n          filename: 'vite-env.d.ts',\r\n          content: `/// <reference types=\"vite/client\" />\r\n`,\r\n        }\r\n      ]\r\n    }\r\n\r\n];","const fileContentsForNextjs = [\r\n  {\r\n    filename: \"package.json\",\r\n    content: `{\r\n  \"name\": \"nextjs\",\r\n  \"version\": \"0.1.0\",\r\n  \"private\": true,\r\n  \"scripts\": {\r\n    \"dev\": \"next dev\",\r\n    \"build\": \"next build\",\r\n    \"start\": \"next start\",\r\n    \"lint\": \"next lint\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@hookform/resolvers\": \"^3.9.0\",\r\n    \"@next/swc-wasm-nodejs\": \"13.5.1\",\r\n    \"@radix-ui/react-accordion\": \"^1.2.0\",\r\n    \"@radix-ui/react-alert-dialog\": \"^1.1.1\",\r\n    \"@radix-ui/react-aspect-ratio\": \"^1.1.0\",\r\n    \"@radix-ui/react-avatar\": \"^1.1.0\",\r\n    \"@radix-ui/react-checkbox\": \"^1.1.1\",\r\n    \"@radix-ui/react-collapsible\": \"^1.1.0\",\r\n    \"@radix-ui/react-context-menu\": \"^2.2.1\",\r\n    \"@radix-ui/react-dialog\": \"^1.1.1\",\r\n    \"@radix-ui/react-dropdown-menu\": \"^2.1.1\",\r\n    \"@radix-ui/react-hover-card\": \"^1.1.1\",\r\n    \"@radix-ui/react-label\": \"^2.1.0\",\r\n    \"@radix-ui/react-menubar\": \"^1.1.1\",\r\n    \"@radix-ui/react-navigation-menu\": \"^1.2.0\",\r\n    \"@radix-ui/react-popover\": \"^1.1.1\",\r\n    \"@radix-ui/react-progress\": \"^1.1.0\",\r\n    \"@radix-ui/react-radio-group\": \"^1.2.0\",\r\n    \"@radix-ui/react-scroll-area\": \"^1.1.0\",\r\n    \"@radix-ui/react-select\": \"^2.1.1\",\r\n    \"@radix-ui/react-separator\": \"^1.1.0\",\r\n    \"@radix-ui/react-slider\": \"^1.2.0\",\r\n    \"@radix-ui/react-slot\": \"^1.1.0\",\r\n    \"@radix-ui/react-switch\": \"^1.1.0\",\r\n    \"@radix-ui/react-tabs\": \"^1.1.0\",\r\n    \"@radix-ui/react-toast\": \"^1.2.1\",\r\n    \"@radix-ui/react-toggle\": \"^1.1.0\",\r\n    \"@radix-ui/react-toggle-group\": \"^1.1.0\",\r\n    \"@radix-ui/react-tooltip\": \"^1.1.2\",\r\n    \"@types/node\": \"20.6.2\",\r\n    \"@types/react\": \"18.2.22\",\r\n    \"@types/react-dom\": \"18.2.7\",\r\n    \"autoprefixer\": \"10.4.15\",\r\n    \"class-variance-authority\": \"^0.7.0\",\r\n    \"clsx\": \"^2.1.1\",\r\n    \"cmdk\": \"^1.0.0\",\r\n    \"date-fns\": \"^3.6.0\",\r\n    \"embla-carousel-react\": \"^8.3.0\",\r\n    \"eslint\": \"8.49.0\",\r\n    \"eslint-config-next\": \"13.5.1\",\r\n    \"input-otp\": \"^1.2.4\",\r\n    \"lucide-react\": \"^0.446.0\",\r\n    \"next\": \"13.5.1\",\r\n    \"next-themes\": \"^0.3.0\",\r\n    \"postcss\": \"8.4.30\",\r\n    \"react\": \"18.2.0\",\r\n    \"react-day-picker\": \"^8.10.1\",\r\n    \"react-dom\": \"18.2.0\",\r\n    \"react-hook-form\": \"^7.53.0\",\r\n    \"react-resizable-panels\": \"^2.1.3\",\r\n    \"recharts\": \"^2.12.7\",\r\n    \"sonner\": \"^1.5.0\",\r\n    \"tailwind-merge\": \"^2.5.2\",\r\n    \"tailwindcss\": \"3.3.3\",\r\n    \"tailwindcss-animate\": \"^1.0.7\",\r\n    \"typescript\": \"5.2.2\",\r\n    \"vaul\": \"^0.9.9\",\r\n    \"zod\": \"^3.23.8\"\r\n  }\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: \"next.config.js\",\r\n    content: `/** @type {import('next').NextConfig} */\r\nconst nextConfig = {\r\n  output: 'export',\r\n  eslint: {\r\n    ignoreDuringBuilds: true,\r\n  },\r\n  images: { unoptimized: true },\r\n};\r\n\r\nmodule.exports = nextConfig;\r\n`,\r\n  },\r\n  {\r\n    filename: \"tsconfig.json\",\r\n    content: `{\r\n  \"compilerOptions\": {\r\n    \"target\": \"es5\",\r\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\r\n    \"allowJs\": true,\r\n    \"skipLibCheck\": true,\r\n    \"strict\": true,\r\n    \"noEmit\": true,\r\n    \"esModuleInterop\": true,\r\n    \"module\": \"esnext\",\r\n    \"moduleResolution\": \"bundler\",\r\n    \"resolveJsonModule\": true,\r\n    \"isolatedModules\": true,\r\n    \"jsx\": \"preserve\",\r\n    \"incremental\": true,\r\n    \"plugins\": [\r\n      {\r\n        \"name\": \"next\"\r\n      }\r\n    ],\r\n    \"paths\": {\r\n      \"@/*\": [\"./*\"]\r\n    }\r\n  },\r\n  \"include\": [\"next-env.d.ts\", \"**/*.ts\", \"**/*.tsx\", \".next/types/**/*.ts\"],\r\n  \"exclude\": [\"node_modules\"]\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: \"next-env.d.ts\",\r\n    content: `/// <reference types=\"next\" />\r\n/// <reference types=\"next/image-types/global\" />\r\n\r\n// NOTE: This file should not be edited\r\n// see https://nextjs.org/docs/basic-features/typescript for more information.\r\n  `,\r\n  },\r\n  {\r\n    filename: \".eslintrc.json\",\r\n    content: `{\r\n  \"extends\": \"next/core-web-vitals\"\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: \".gitignore\",\r\n    content: `# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.\r\n\r\n# dependencies\r\n/node_modules\r\n/.pnp\r\n.pnp.js\r\n\r\n# testing\r\n/coverage\r\n\r\n# next.js\r\n/.next/\r\n/out/\r\n\r\n# production\r\n/build\r\n\r\n# misc\r\n.DS_Store\r\n*.pem\r\n\r\n# debug\r\nnpm-debug.log*\r\nyarn-debug.log*\r\nyarn-error.log*\r\n\r\n# local env files\r\n.env*.local\r\n\r\n# vercel\r\n.vercel\r\n\r\n# typescript\r\n*.tsbuildinfo\r\nnext-env.d.ts\r\n`,\r\n  },\r\n  {\r\n    filename: \"components.json\",\r\n    content: `{\r\n  \"$schema\": \"https://ui.shadcn.com/schema.json\",\r\n  \"style\": \"default\",\r\n  \"rsc\": true,\r\n  \"tsx\": true,\r\n  \"tailwind\": {\r\n    \"config\": \"tailwind.config.ts\",\r\n    \"css\": \"app/globals.css\",\r\n    \"baseColor\": \"neutral\",\r\n    \"cssVariables\": true,\r\n    \"prefix\": \"\"\r\n  },\r\n  \"aliases\": {\r\n    \"components\": \"@/components\",\r\n    \"utils\": \"@/lib/utils\",\r\n    \"ui\": \"@/components/ui\",\r\n    \"lib\": \"@/lib\",\r\n    \"hooks\": \"@/hooks\"\r\n  }\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: \"postcss.config.js\",\r\n    content: `module.exports = {\r\n  plugins: {\r\n    tailwindcss: {},\r\n    autoprefixer: {},\r\n  },\r\n};\r\n`,\r\n  },\r\n  {\r\n    filename: \"tailwind.config.ts\",\r\n    content: `import type { Config } from 'tailwindcss';\r\n\r\nconst config: Config = {\r\n  darkMode: ['class'],\r\n  content: [\r\n    './pages/**/*.{js,ts,jsx,tsx,mdx}',\r\n    './components/**/*.{js,ts,jsx,tsx,mdx}',\r\n    './app/**/*.{js,ts,jsx,tsx,mdx}',\r\n  ],\r\n  theme: {\r\n    extend: {\r\n      backgroundImage: {\r\n        'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',\r\n        'gradient-conic':\r\n          'conic-gradient(from 180deg at 50% 50%, var(--tw-gradient-stops))',\r\n      },\r\n      borderRadius: {\r\n        lg: 'var(--radius)',\r\n        md: 'calc(var(--radius) - 2px)',\r\n        sm: 'calc(var(--radius) - 4px)',\r\n      },\r\n      colors: {\r\n        background: 'hsl(var(--background))',\r\n        foreground: 'hsl(var(--foreground))',\r\n        card: {\r\n          DEFAULT: 'hsl(var(--card))',\r\n          foreground: 'hsl(var(--card-foreground))',\r\n        },\r\n        popover: {\r\n          DEFAULT: 'hsl(var(--popover))',\r\n          foreground: 'hsl(var(--popover-foreground))',\r\n        },\r\n        primary: {\r\n          DEFAULT: 'hsl(var(--primary))',\r\n          foreground: 'hsl(var(--primary-foreground))',\r\n        },\r\n        secondary: {\r\n          DEFAULT: 'hsl(var(--secondary))',\r\n          foreground: 'hsl(var(--secondary-foreground))',\r\n        },\r\n        muted: {\r\n          DEFAULT: 'hsl(var(--muted))',\r\n          foreground: 'hsl(var(--muted-foreground))',\r\n        },\r\n        accent: {\r\n          DEFAULT: 'hsl(var(--accent))',\r\n          foreground: 'hsl(var(--accent-foreground))',\r\n        },\r\n        destructive: {\r\n          DEFAULT: 'hsl(var(--destructive))',\r\n          foreground: 'hsl(var(--destructive-foreground))',\r\n        },\r\n        border: 'hsl(var(--border))',\r\n        input: 'hsl(var(--input))',\r\n        ring: 'hsl(var(--ring))',\r\n        chart: {\r\n          '1': 'hsl(var(--chart-1))',\r\n          '2': 'hsl(var(--chart-2))',\r\n          '3': 'hsl(var(--chart-3))',\r\n          '4': 'hsl(var(--chart-4))',\r\n          '5': 'hsl(var(--chart-5))',\r\n        },\r\n      },\r\n      keyframes: {\r\n        'accordion-down': {\r\n          from: {\r\n            height: '0',\r\n          },\r\n          to: {\r\n            height: 'var(--radix-accordion-content-height)',\r\n          },\r\n        },\r\n        'accordion-up': {\r\n          from: {\r\n            height: 'var(--radix-accordion-content-height)',\r\n          },\r\n          to: {\r\n            height: '0',\r\n          },\r\n        },\r\n      },\r\n      animation: {\r\n        'accordion-down': 'accordion-down 0.2s ease-out',\r\n        'accordion-up': 'accordion-up 0.2s ease-out',\r\n      },\r\n    },\r\n  },\r\n  plugins: [require('tailwindcss-animate')],\r\n};\r\nexport default config;\r\n`,\r\n  },\r\n];\r\n\r\nexport default fileContentsForNextjs;\r\n\r\n\r\nexport const fileContentsForNextjsProject = [\r\n  {\r\n    filename: \"package.json\",\r\n    content: `{\r\n  \"name\": \"nextjs\",\r\n  \"version\": \"0.1.0\",\r\n  \"private\": true,\r\n  \"scripts\": {\r\n    \"dev\": \"next dev\",\r\n    \"build\": \"next build\",\r\n    \"start\": \"next start\",\r\n    \"lint\": \"next lint\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@hookform/resolvers\": \"^3.9.0\",\r\n    \"@next/swc-wasm-nodejs\": \"13.5.1\",\r\n    \"@radix-ui/react-accordion\": \"^1.2.0\",\r\n    \"@radix-ui/react-alert-dialog\": \"^1.1.1\",\r\n    \"@radix-ui/react-aspect-ratio\": \"^1.1.0\",\r\n    \"@radix-ui/react-avatar\": \"^1.1.0\",\r\n    \"@radix-ui/react-checkbox\": \"^1.1.1\",\r\n    \"@radix-ui/react-collapsible\": \"^1.1.0\",\r\n    \"@radix-ui/react-context-menu\": \"^2.2.1\",\r\n    \"@radix-ui/react-dialog\": \"^1.1.1\",\r\n    \"@radix-ui/react-dropdown-menu\": \"^2.1.1\",\r\n    \"@radix-ui/react-hover-card\": \"^1.1.1\",\r\n    \"@radix-ui/react-label\": \"^2.1.0\",\r\n    \"@radix-ui/react-menubar\": \"^1.1.1\",\r\n    \"@radix-ui/react-navigation-menu\": \"^1.2.0\",\r\n    \"@radix-ui/react-popover\": \"^1.1.1\",\r\n    \"@radix-ui/react-progress\": \"^1.1.0\",\r\n    \"@radix-ui/react-radio-group\": \"^1.2.0\",\r\n    \"@radix-ui/react-scroll-area\": \"^1.1.0\",\r\n    \"@radix-ui/react-select\": \"^2.1.1\",\r\n    \"@radix-ui/react-separator\": \"^1.1.0\",\r\n    \"@radix-ui/react-slider\": \"^1.2.0\",\r\n    \"@radix-ui/react-slot\": \"^1.1.0\",\r\n    \"@radix-ui/react-switch\": \"^1.1.0\",\r\n    \"@radix-ui/react-tabs\": \"^1.1.0\",\r\n    \"@radix-ui/react-toast\": \"^1.2.1\",\r\n    \"@radix-ui/react-toggle\": \"^1.1.0\",\r\n    \"@radix-ui/react-toggle-group\": \"^1.1.0\",\r\n    \"@radix-ui/react-tooltip\": \"^1.1.2\",\r\n    \"@types/node\": \"20.6.2\",\r\n    \"@types/react\": \"18.2.22\",\r\n    \"@types/react-dom\": \"18.2.7\",\r\n    \"autoprefixer\": \"10.4.15\",\r\n    \"class-variance-authority\": \"^0.7.0\",\r\n    \"clsx\": \"^2.1.1\",\r\n    \"cmdk\": \"^1.0.0\",\r\n    \"date-fns\": \"^3.6.0\",\r\n    \"embla-carousel-react\": \"^8.3.0\",\r\n    \"eslint\": \"8.49.0\",\r\n    \"eslint-config-next\": \"13.5.1\",\r\n    \"input-otp\": \"^1.2.4\",\r\n    \"lucide-react\": \"^0.446.0\",\r\n    \"next\": \"13.5.1\",\r\n    \"next-themes\": \"^0.3.0\",\r\n    \"postcss\": \"8.4.30\",\r\n    \"react\": \"18.2.0\",\r\n    \"react-day-picker\": \"^8.10.1\",\r\n    \"react-dom\": \"18.2.0\",\r\n    \"react-hook-form\": \"^7.53.0\",\r\n    \"react-resizable-panels\": \"^2.1.3\",\r\n    \"recharts\": \"^2.12.7\",\r\n    \"sonner\": \"^1.5.0\",\r\n    \"tailwind-merge\": \"^2.5.2\",\r\n    \"tailwindcss\": \"3.3.3\",\r\n    \"tailwindcss-animate\": \"^1.0.7\",\r\n    \"typescript\": \"5.2.2\",\r\n    \"vaul\": \"^0.9.9\",\r\n    \"zod\": \"^3.23.8\"\r\n  }\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: \"next.config.js\",\r\n    content: `/** @type {import('next').NextConfig} */\r\nconst nextConfig = {\r\n  output: 'export',\r\n  eslint: {\r\n    ignoreDuringBuilds: true,\r\n  },\r\n  images: { unoptimized: true },\r\n};\r\n\r\nmodule.exports = nextConfig;\r\n`,\r\n  },\r\n  {\r\n    filename: \"tsconfig.json\",\r\n    content: `{\r\n  \"compilerOptions\": {\r\n    \"target\": \"es5\",\r\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\r\n    \"allowJs\": true,\r\n    \"skipLibCheck\": true,\r\n    \"strict\": true,\r\n    \"noEmit\": true,\r\n    \"esModuleInterop\": true,\r\n    \"module\": \"esnext\",\r\n    \"moduleResolution\": \"bundler\",\r\n    \"resolveJsonModule\": true,\r\n    \"isolatedModules\": true,\r\n    \"jsx\": \"preserve\",\r\n    \"incremental\": true,\r\n    \"plugins\": [\r\n      {\r\n        \"name\": \"next\"\r\n      }\r\n    ],\r\n    \"paths\": {\r\n      \"@/*\": [\"./*\"]\r\n    }\r\n  },\r\n  \"include\": [\"next-env.d.ts\", \"**/*.ts\", \"**/*.tsx\", \".next/types/**/*.ts\"],\r\n  \"exclude\": [\"node_modules\"]\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: \"next-env.d.ts\",\r\n    content: `/// <reference types=\"next\" />\r\n/// <reference types=\"next/image-types/global\" />\r\n\r\n// NOTE: This file should not be edited\r\n// see https://nextjs.org/docs/basic-features/typescript for more information.\r\n  `,\r\n  },\r\n  {\r\n    filename: \".eslintrc.json\",\r\n    content: `{\r\n  \"extends\": \"next/core-web-vitals\"\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: \".gitignore\",\r\n    content: `# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.\r\n\r\n# dependencies\r\n/node_modules\r\n/.pnp\r\n.pnp.js\r\n\r\n# testing\r\n/coverage\r\n\r\n# next.js\r\n/.next/\r\n/out/\r\n\r\n# production\r\n/build\r\n\r\n# misc\r\n.DS_Store\r\n*.pem\r\n\r\n# debug\r\nnpm-debug.log*\r\nyarn-debug.log*\r\nyarn-error.log*\r\n\r\n# local env files\r\n.env*.local\r\n\r\n# vercel\r\n.vercel\r\n\r\n# typescript\r\n*.tsbuildinfo\r\nnext-env.d.ts\r\n`,\r\n  },\r\n  {\r\n    filename: \"components.json\",\r\n    content: `{\r\n  \"$schema\": \"https://ui.shadcn.com/schema.json\",\r\n  \"style\": \"default\",\r\n  \"rsc\": true,\r\n  \"tsx\": true,\r\n  \"tailwind\": {\r\n    \"config\": \"tailwind.config.ts\",\r\n    \"css\": \"app/globals.css\",\r\n    \"baseColor\": \"neutral\",\r\n    \"cssVariables\": true,\r\n    \"prefix\": \"\"\r\n  },\r\n  \"aliases\": {\r\n    \"components\": \"@/components\",\r\n    \"utils\": \"@/lib/utils\",\r\n    \"ui\": \"@/components/ui\",\r\n    \"lib\": \"@/lib\",\r\n    \"hooks\": \"@/hooks\"\r\n  }\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: \"postcss.config.js\",\r\n    content: `module.exports = {\r\n  plugins: {\r\n    tailwindcss: {},\r\n    autoprefixer: {},\r\n  },\r\n};\r\n`,\r\n  },\r\n  {\r\n    filename: \"tailwind.config.ts\",\r\n    content: `import type { Config } from 'tailwindcss';\r\n\r\nconst config: Config = {\r\n  darkMode: ['class'],\r\n  content: [\r\n    './pages/**/*.{js,ts,jsx,tsx,mdx}',\r\n    './components/**/*.{js,ts,jsx,tsx,mdx}',\r\n    './app/**/*.{js,ts,jsx,tsx,mdx}',\r\n  ],\r\n  theme: {\r\n    extend: {\r\n      backgroundImage: {\r\n        'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',\r\n        'gradient-conic':\r\n          'conic-gradient(from 180deg at 50% 50%, var(--tw-gradient-stops))',\r\n      },\r\n      borderRadius: {\r\n        lg: 'var(--radius)',\r\n        md: 'calc(var(--radius) - 2px)',\r\n        sm: 'calc(var(--radius) - 4px)',\r\n      },\r\n      colors: {\r\n        background: 'hsl(var(--background))',\r\n        foreground: 'hsl(var(--foreground))',\r\n        card: {\r\n          DEFAULT: 'hsl(var(--card))',\r\n          foreground: 'hsl(var(--card-foreground))',\r\n        },\r\n        popover: {\r\n          DEFAULT: 'hsl(var(--popover))',\r\n          foreground: 'hsl(var(--popover-foreground))',\r\n        },\r\n        primary: {\r\n          DEFAULT: 'hsl(var(--primary))',\r\n          foreground: 'hsl(var(--primary-foreground))',\r\n        },\r\n        secondary: {\r\n          DEFAULT: 'hsl(var(--secondary))',\r\n          foreground: 'hsl(var(--secondary-foreground))',\r\n        },\r\n        muted: {\r\n          DEFAULT: 'hsl(var(--muted))',\r\n          foreground: 'hsl(var(--muted-foreground))',\r\n        },\r\n        accent: {\r\n          DEFAULT: 'hsl(var(--accent))',\r\n          foreground: 'hsl(var(--accent-foreground))',\r\n        },\r\n        destructive: {\r\n          DEFAULT: 'hsl(var(--destructive))',\r\n          foreground: 'hsl(var(--destructive-foreground))',\r\n        },\r\n        border: 'hsl(var(--border))',\r\n        input: 'hsl(var(--input))',\r\n        ring: 'hsl(var(--ring))',\r\n        chart: {\r\n          '1': 'hsl(var(--chart-1))',\r\n          '2': 'hsl(var(--chart-2))',\r\n          '3': 'hsl(var(--chart-3))',\r\n          '4': 'hsl(var(--chart-4))',\r\n          '5': 'hsl(var(--chart-5))',\r\n        },\r\n      },\r\n      keyframes: {\r\n        'accordion-down': {\r\n          from: {\r\n            height: '0',\r\n          },\r\n          to: {\r\n            height: 'var(--radix-accordion-content-height)',\r\n          },\r\n        },\r\n        'accordion-up': {\r\n          from: {\r\n            height: 'var(--radix-accordion-content-height)',\r\n          },\r\n          to: {\r\n            height: '0',\r\n          },\r\n        },\r\n      },\r\n      animation: {\r\n        'accordion-down': 'accordion-down 0.2s ease-out',\r\n        'accordion-up': 'accordion-up 0.2s ease-out',\r\n      },\r\n    },\r\n  },\r\n  plugins: [require('tailwindcss-animate')],\r\n};\r\nexport default config;\r\n`,\r\n  },\r\n  {\r\n    filename: \"app\",\r\n    contents:[\r\n      {\r\n        filename: \"globals.css\",\r\n        content: `@tailwind base;\r\n@tailwind components;\r\n@tailwind utilities;\r\n\r\n:root {\r\n  --foreground-rgb: 0, 0, 0;\r\n  --background-start-rgb: 214, 219, 220;\r\n  --background-end-rgb: 255, 255, 255;\r\n}\r\n\r\n@media (prefers-color-scheme: dark) {\r\n  :root {\r\n    --foreground-rgb: 255, 255, 255;\r\n    --background-start-rgb: 0, 0, 0;\r\n    --background-end-rgb: 0, 0, 0;\r\n  }\r\n}\r\n\r\n@layer base {\r\n  :root {\r\n    --background: 0 0% 100%;\r\n    --foreground: 0 0% 3.9%;\r\n    --card: 0 0% 100%;\r\n    --card-foreground: 0 0% 3.9%;\r\n    --popover: 0 0% 100%;\r\n    --popover-foreground: 0 0% 3.9%;\r\n    --primary: 0 0% 9%;\r\n    --primary-foreground: 0 0% 98%;\r\n    --secondary: 0 0% 96.1%;\r\n    --secondary-foreground: 0 0% 9%;\r\n    --muted: 0 0% 96.1%;\r\n    --muted-foreground: 0 0% 45.1%;\r\n    --accent: 0 0% 96.1%;\r\n    --accent-foreground: 0 0% 9%;\r\n    --destructive: 0 84.2% 60.2%;\r\n    --destructive-foreground: 0 0% 98%;\r\n    --border: 0 0% 89.8%;\r\n    --input: 0 0% 89.8%;\r\n    --ring: 0 0% 3.9%;\r\n    --chart-1: 12 76% 61%;\r\n    --chart-2: 173 58% 39%;\r\n    --chart-3: 197 37% 24%;\r\n    --chart-4: 43 74% 66%;\r\n    --chart-5: 27 87% 67%;\r\n    --radius: 0.5rem;\r\n  }\r\n  .dark {\r\n    --background: 0 0% 3.9%;\r\n    --foreground: 0 0% 98%;\r\n    --card: 0 0% 3.9%;\r\n    --card-foreground: 0 0% 98%;\r\n    --popover: 0 0% 3.9%;\r\n    --popover-foreground: 0 0% 98%;\r\n    --primary: 0 0% 98%;\r\n    --primary-foreground: 0 0% 9%;\r\n    --secondary: 0 0% 14.9%;\r\n    --secondary-foreground: 0 0% 98%;\r\n    --muted: 0 0% 14.9%;\r\n    --muted-foreground: 0 0% 63.9%;\r\n    --accent: 0 0% 14.9%;\r\n    --accent-foreground: 0 0% 98%;\r\n    --destructive: 0 62.8% 30.6%;\r\n    --destructive-foreground: 0 0% 98%;\r\n    --border: 0 0% 14.9%;\r\n    --input: 0 0% 14.9%;\r\n    --ring: 0 0% 83.1%;\r\n    --chart-1: 220 70% 50%;\r\n    --chart-2: 160 60% 45%;\r\n    --chart-3: 30 80% 55%;\r\n    --chart-4: 280 65% 60%;\r\n    --chart-5: 340 75% 55%;\r\n  }\r\n}\r\n\r\n@layer base {\r\n  * {\r\n    @apply border-border;\r\n  }\r\n  body {\r\n    @apply bg-background text-foreground;\r\n  }\r\n}\r\n`\r\n      },\r\n      {\r\n        filename: \"layout.tsx\",\r\n        content: `import './globals.css';\r\nimport type { Metadata } from 'next';\r\nimport { Inter } from 'next/font/google';\r\n\r\nconst inter = Inter({ subsets: ['latin'] });\r\n\r\nexport const metadata: Metadata = {\r\n  title: 'Create Next App',\r\n  description: 'Generated by create next app',\r\n};\r\n\r\nexport default function RootLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  return (\r\n    <html lang=\"en\">\r\n      <body className={inter.className}>{children}</body>\r\n    </html>\r\n  );\r\n}\r\n`\r\n      },\r\n      {\r\n        filename: \"page.tsx\",\r\n        content: `export default function Home() {\r\n  return (\r\n    <div\r\n      style={{\r\n        maxWidth: 1280,\r\n        margin: '0 auto',\r\n        padding: '2rem',\r\n        textAlign: 'center',\r\n      }}\r\n    >\r\n      Start prompting.\r\n    </div>\r\n  );\r\n}\r\n`\r\n      }\r\n    ],\r\n  },\r\n  {\r\n    filename: \"components\",\r\n    contents: [\r\n      {\r\n        filename: 'ui',\r\n       contents: [],\r\n      },\r\n    ]\r\n  }, \r\n  {\r\n    filename: \"hooks\",\r\n    contents: []\r\n  },\r\n  {\r\n    filename: \"lib\",\r\n    contents: [\r\n      {\r\n        filename: \"utils.ts\",\r\n        content: `import { clsx, type ClassValue } from 'clsx';\r\nimport { twMerge } from 'tailwind-merge';\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n`\r\n      }\r\n    ]\r\n  }\r\n\r\n\r\n];","const fileContentsForVue = [\r\n    {\r\n        filename: '.gitignore',\r\n        content: `# Logs\r\nlogs\r\n*.log\r\nnpm-debug.log*\r\nyarn-debug.log*\r\nyarn-error.log*\r\npnpm-debug.log*\r\nlerna-debug.log*\r\n\r\nnode_modules\r\ndist\r\ndist-ssr\r\n*.local\r\n\r\n# Editor directories and files\r\n.vscode/*\r\n!.vscode/extensions.json\r\n.idea\r\n.DS_Store\r\n*.suo\r\n*.ntvs*\r\n*.njsproj\r\n*.sln\r\n*.sw?\r\n`,\r\n    },\r\n    {\r\n        filename: 'index.html',\r\n        content: `<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <link rel=\"icon\" type=\"image/svg+xml\" href=\"/vite.svg\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <title>Vite + Vue + TS</title>\r\n  </head>\r\n  <body>\r\n    <div id=\"app\"></div>\r\n    <script type=\"module\" src=\"/src/main.ts\"></script>\r\n  </body>\r\n</html>\r\n`,\r\n    },\r\n    {\r\n        filename: 'package.json',\r\n        content: `{\r\n  \"name\": \"vite-vue-typescript-starter\",\r\n  \"private\": true,\r\n  \"version\": \"0.0.0\",\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"dev\": \"vite\",\r\n    \"build\": \"vue-tsc -b && vite build\",\r\n    \"preview\": \"vite preview\"\r\n  },\r\n  \"dependencies\": {\r\n    \"vue\": \"^3.5.10\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@vitejs/plugin-vue\": \"^5.1.4\",\r\n    \"typescript\": \"^5.5.3\",\r\n    \"vite\": \"^5.4.8\",\r\n    \"vue-tsc\": \"^2.1.6\",\r\n    \"tailwind-merge\": \"^2.5.2\",\r\n    \"tailwindcss\": \"3.3.3\",\r\n    \"tailwindcss-animate\": \"^1.0.7\"\r\n  }\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename: 'README.md',\r\n        content: `# Vue 3 + TypeScript + Vite\r\n\r\nThis template should help get you started developing with Vue 3 and TypeScript in Vite. The template uses Vue 3 \\`<script setup>\\` SFCs, check out the [script setup docs](https://v3.vuejs.org/api/sfc-script-setup.html#sfc-script-setup) to learn more.\r\n\r\nLearn more about the recommended Project Setup and IDE Support in the [Vue Docs TypeScript Guide](https://vuejs.org/guide/typescript/overview.html#project-setup).\r\n`,\r\n    },\r\n    {\r\n        filename: 'tsconfig.app.json',\r\n        content: `{\r\n  \"compilerOptions\": {\r\n    \"target\": \"ES2020\",\r\n    \"useDefineForClassFields\": true,\r\n    \"module\": \"ESNext\",\r\n    \"lib\": [\"ES2020\", \"DOM\", \"DOM.Iterable\"],\r\n    \"skipLibCheck\": true,\r\n\r\n    /* Bundler mode */\r\n    \"moduleResolution\": \"bundler\",\r\n    \"allowImportingTsExtensions\": true,\r\n    \"isolatedModules\": true,\r\n    \"moduleDetection\": \"force\",\r\n    \"noEmit\": true,\r\n    \"jsx\": \"preserve\",\r\n\r\n    /* Linting */\r\n    \"strict\": true,\r\n    \"noUnusedLocals\": true,\r\n    \"noUnusedParameters\": true,\r\n    \"noFallthroughCasesInSwitch\": true\r\n  },\r\n  \"include\": [\"src/**/*.ts\", \"src/**/*.tsx\", \"src/**/*.vue\"]\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename: 'tsconfig.json',\r\n        content: `{\r\n  \"files\": [],\r\n  \"references\": [\r\n    { \"path\": \"./tsconfig.app.json\" },\r\n    { \"path\": \"./tsconfig.node.json\" }\r\n  ]\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename: 'tsconfig.node.json',\r\n        content: `{\r\n  \"compilerOptions\": {\r\n    \"target\": \"ES2022\",\r\n    \"lib\": [\"ES2023\"],\r\n    \"module\": \"ESNext\",\r\n    \"skipLibCheck\": true,\r\n\r\n    /* Bundler mode */\r\n    \"moduleResolution\": \"bundler\",\r\n    \"allowImportingTsExtensions\": true,\r\n    \"isolatedModules\": true,\r\n    \"moduleDetection\": \"force\",\r\n    \"noEmit\": true,\r\n\r\n    /* Linting */\r\n    \"strict\": true,\r\n    \"noUnusedLocals\": true,\r\n    \"noUnusedParameters\": true,\r\n    \"noFallthroughCasesInSwitch\": true\r\n  },\r\n  \"include\": [\"vite.config.ts\"]\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename: 'vite.config.ts',\r\n        content: `import { defineConfig } from 'vite'\r\nimport vue from '@vitejs/plugin-vue'\r\n\r\n// https://vitejs.dev/config/\r\nexport default defineConfig({\r\n  plugins: [vue()],\r\n})\r\n`,\r\n    },\r\n];\r\n\r\nexport const fileContentsForVueProject = [\r\n  {\r\n    filename: '.gitignore',\r\n    content: `# Logs\r\nlogs\r\n*.log\r\nnpm-debug.log*\r\nyarn-debug.log*\r\nyarn-error.log*\r\npnpm-debug.log*\r\nlerna-debug.log*\r\n\r\nnode_modules\r\ndist\r\ndist-ssr\r\n*.local\r\n\r\n# Editor directories and files\r\n.vscode/*\r\n!.vscode/extensions.json\r\n.idea\r\n.DS_Store\r\n*.suo\r\n*.ntvs*\r\n*.njsproj\r\n*.sln\r\n*.sw?\r\n`,\r\n  },\r\n  {\r\n    filename: 'index.html',\r\n    content: `<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <link rel=\"icon\" type=\"image/svg+xml\" href=\"/vite.svg\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <title>Vite + Vue + TS</title>\r\n  </head>\r\n  <body>\r\n    <div id=\"app\"></div>\r\n    <script type=\"module\" src=\"/src/main.ts\"></script>\r\n  </body>\r\n</html>\r\n`,\r\n  },\r\n  {\r\n    filename: 'package.json',\r\n    content: `{\r\n  \"name\": \"vite-vue-typescript-starter\",\r\n  \"private\": true,\r\n  \"version\": \"0.0.0\",\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"dev\": \"vite\",\r\n    \"build\": \"vue-tsc -b && vite build\",\r\n    \"preview\": \"vite preview\"\r\n  },\r\n  \"dependencies\": {\r\n    \"vue\": \"^3.5.10\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@vitejs/plugin-vue\": \"^5.1.4\",\r\n    \"typescript\": \"^5.5.3\",\r\n    \"vite\": \"^5.4.8\",\r\n    \"vue-tsc\": \"^2.1.6\",\r\n    \"tailwind-merge\": \"^2.5.2\",\r\n    \"tailwindcss\": \"3.3.3\",\r\n    \"tailwindcss-animate\": \"^1.0.7\"\r\n  }\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: 'README.md',\r\n    content: `# Vue 3 + TypeScript + Vite\r\n\r\nThis template should help get you started developing with Vue 3 and TypeScript in Vite. The template uses Vue 3 \\`<script setup>\\` SFCs, check out the [script setup docs](https://v3.vuejs.org/api/sfc-script-setup.html#sfc-script-setup) to learn more.\r\n\r\nLearn more about the recommended Project Setup and IDE Support in the [Vue Docs TypeScript Guide](https://vuejs.org/guide/typescript/overview.html#project-setup).\r\n`,\r\n  },\r\n  {\r\n    filename: 'tsconfig.app.json',\r\n    content: `{\r\n  \"compilerOptions\": {\r\n    \"target\": \"ES2020\",\r\n    \"useDefineForClassFields\": true,\r\n    \"module\": \"ESNext\",\r\n    \"lib\": [\"ES2020\", \"DOM\", \"DOM.Iterable\"],\r\n    \"skipLibCheck\": true,\r\n\r\n    /* Bundler mode */\r\n    \"moduleResolution\": \"bundler\",\r\n    \"allowImportingTsExtensions\": true,\r\n    \"isolatedModules\": true,\r\n    \"moduleDetection\": \"force\",\r\n    \"noEmit\": true,\r\n    \"jsx\": \"preserve\",\r\n\r\n    /* Linting */\r\n    \"strict\": true,\r\n    \"noUnusedLocals\": true,\r\n    \"noUnusedParameters\": true,\r\n    \"noFallthroughCasesInSwitch\": true\r\n  },\r\n  \"include\": [\"src/**/*.ts\", \"src/**/*.tsx\", \"src/**/*.vue\"]\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: 'tsconfig.json',\r\n    content: `{\r\n  \"files\": [],\r\n  \"references\": [\r\n    { \"path\": \"./tsconfig.app.json\" },\r\n    { \"path\": \"./tsconfig.node.json\" }\r\n  ]\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: 'tsconfig.node.json',\r\n    content: `{\r\n  \"compilerOptions\": {\r\n    \"target\": \"ES2022\",\r\n    \"lib\": [\"ES2023\"],\r\n    \"module\": \"ESNext\",\r\n    \"skipLibCheck\": true,\r\n\r\n    /* Bundler mode */\r\n    \"moduleResolution\": \"bundler\",\r\n    \"allowImportingTsExtensions\": true,\r\n    \"isolatedModules\": true,\r\n    \"moduleDetection\": \"force\",\r\n    \"noEmit\": true,\r\n\r\n    /* Linting */\r\n    \"strict\": true,\r\n    \"noUnusedLocals\": true,\r\n    \"noUnusedParameters\": true,\r\n    \"noFallthroughCasesInSwitch\": true\r\n  },\r\n  \"include\": [\"vite.config.ts\"]\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: 'vite.config.ts',\r\n    content: `import { defineConfig } from 'vite'\r\nimport vue from '@vitejs/plugin-vue'\r\n\r\n// https://vitejs.dev/config/\r\nexport default defineConfig({\r\n  plugins: [vue()],\r\n  server: {\r\n    open: true, // This will open the browser automatically\r\n  },\r\n})\r\n`,\r\n  },\r\n  {\r\n    filename: \"src\",\r\n    contents: [\r\n      {\r\n        filename: \"style.css\",\r\n        content: `:root {\r\n  font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;\r\n  line-height: 1.5;\r\n  font-weight: 400;\r\n\r\n  color-scheme: light dark;\r\n  color: rgba(255, 255, 255, 0.87);\r\n  background-color: #242424;\r\n\r\n  font-synthesis: none;\r\n  text-rendering: optimizeLegibility;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\na {\r\n  font-weight: 500;\r\n  color: #646cff;\r\n  text-decoration: inherit;\r\n}\r\na:hover {\r\n  color: #535bf2;\r\n}\r\n\r\nbody {\r\n  margin: 0;\r\n  display: flex;\r\n  place-items: center;\r\n  min-width: 320px;\r\n  min-height: 100vh;\r\n}\r\n\r\nh1 {\r\n  font-size: 3.2em;\r\n  line-height: 1.1;\r\n}\r\n\r\nbutton {\r\n  border-radius: 8px;\r\n  border: 1px solid transparent;\r\n  padding: 0.6em 1.2em;\r\n  font-size: 1em;\r\n  font-weight: 500;\r\n  font-family: inherit;\r\n  background-color: #1a1a1a;\r\n  cursor: pointer;\r\n  transition: border-color 0.25s;\r\n}\r\nbutton:hover {\r\n  border-color: #646cff;\r\n}\r\nbutton:focus,\r\nbutton:focus-visible {\r\n  outline: 4px auto -webkit-focus-ring-color;\r\n}\r\n\r\n.card {\r\n  padding: 2em;\r\n}\r\n\r\n#app {\r\n  max-width: 1280px;\r\n  margin: 0 auto;\r\n  padding: 2rem;\r\n  text-align: center;\r\n}\r\n\r\n@media (prefers-color-scheme: light) {\r\n  :root {\r\n    color: #213547;\r\n    background-color: #ffffff;\r\n  }\r\n  a:hover {\r\n    color: #747bff;\r\n  }\r\n  button {\r\n    background-color: #f9f9f9;\r\n  }\r\n\r\n`,\r\n      },\r\n      {\r\n        filename: \"main.ts\",\r\n        content: `import { createApp } from 'vue'\r\nimport './style.css'\r\nimport App from './App.vue'\r\n\r\ncreateApp(App).mount('#app')\r\n`,\r\n      },\r\n      {\r\n        filename: \"App.vue\",\r\n        content: `<script setup lang=\"ts\">\r\nimport HelloWorld from './components/HelloWorld.vue'\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <a href=\"https://vitejs.dev\" target=\"_blank\">\r\n      <img src=\"/vite.svg\" class=\"logo\" alt=\"Vite logo\" />\r\n    </a>\r\n    <a href=\"https://vuejs.org/\" target=\"_blank\">\r\n      <img src=\"./assets/vue.svg\" class=\"logo vue\" alt=\"Vue logo\" />\r\n    </a>\r\n  </div>\r\n  <HelloWorld msg=\"Vite + Vue\" />\r\n</template>\r\n\r\n<style scoped>\r\n.logo {\r\n  height: 6em;\r\n  padding: 1.5em;\r\n  will-change: filter;\r\n  transition: filter 300ms;\r\n}\r\n.logo:hover {\r\n  filter: drop-shadow(0 0 2em #646cffaa);\r\n}\r\n.logo.vue:hover {\r\n  filter: drop-shadow(0 0 2em #42b883aa);\r\n}\r\n</style>\r\n`,\r\n      },\r\n      {\r\n        filename: \"vite-env.d.ts\",\r\n        content: `/// <reference types=\"vite/client\" />\r\n`,\r\n      },\r\n\r\n      {\r\n        filename: \"components\",\r\n        contents: [\r\n          {\r\n            filename: \"HelloWorld.vue\",\r\n            content: `<script setup lang=\"ts\">\r\nimport { ref } from 'vue'\r\n\r\ndefineProps<{ msg: string }>()\r\n\r\nconst count = ref(0)\r\n</script>\r\n\r\n<template>\r\n  <h1>{{ msg }}</h1>\r\n\r\n  <div class=\"card\">\r\n    <button type=\"button\" @click=\"count++\">count is {{ count }}</button>\r\n    <p>\r\n      Edit\r\n      <code>components/HelloWorld.vue</code> to test HMR\r\n    </p>\r\n  </div>\r\n\r\n  <p>\r\n    Check out\r\n    <a href=\"https://vuejs.org/guide/quick-start.html#local\" target=\"_blank\"\r\n      >create-vue</a\r\n    >, the official Vue + Vite starter\r\n  </p>\r\n  <p>\r\n    Learn more about IDE Support for Vue in the\r\n    <a\r\n      href=\"https://vuejs.org/guide/scaling-up/tooling.html#ide-support\"\r\n      target=\"_blank\"\r\n      >Vue Docs Scaling up Guide</a\r\n    >.\r\n  </p>\r\n  <p class=\"read-the-docs\">Click on the Vite and Vue logos to learn more</p>\r\n</template>\r\n\r\n<style scoped>\r\n.read-the-docs {\r\n  color: #888;\r\n}\r\n</style>\r\n`,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        filename: \"assets\",\r\n        contents: [\r\n          {\r\n            filename: \"vue.svg\",\r\n            content: `<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" aria-hidden=\"true\" role=\"img\" class=\"iconify iconify--logos\" width=\"37.07\" height=\"36\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 256 198\"><path fill=\"#41B883\" d=\"M204.8 0H256L128 220.8L0 0h97.92L128 51.2L157.44 0h47.36Z\"></path><path fill=\"#41B883\" d=\"m0 0l128 220.8L256 0h-51.2L128 132.48L50.56 0H0Z\"></path><path fill=\"#35495E\" d=\"M50.56 0L128 133.12L204.8 0h-47.36L128 51.2L97.92 0H50.56Z\"></path></svg>`, // Replace this with actual image content if required\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    filename: \"public\",\r\n    contents: [\r\n      {\r\n        filename: \"vite.svg\",\r\n        content: `<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" aria-hidden=\"true\" role=\"img\" class=\"iconify iconify--logos\" width=\"31.88\" height=\"32\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 256 257\"><defs><linearGradient id=\"IconifyId1813088fe1fbc01fb466\" x1=\"-.828%\" x2=\"57.636%\" y1=\"7.652%\" y2=\"78.411%\"><stop offset=\"0%\" stop-color=\"#41D1FF\"></stop><stop offset=\"100%\" stop-color=\"#BD34FE\"></stop></linearGradient><linearGradient id=\"IconifyId1813088fe1fbc01fb467\" x1=\"43.376%\" x2=\"50.316%\" y1=\"2.242%\" y2=\"89.03%\"><stop offset=\"0%\" stop-color=\"#FFEA83\"></stop><stop offset=\"8.333%\" stop-color=\"#FFDD35\"></stop><stop offset=\"100%\" stop-color=\"#FFA800\"></stop></linearGradient></defs><path fill=\"url(#IconifyId1813088fe1fbc01fb466)\" d=\"M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z\"></path><path fill=\"url(#IconifyId1813088fe1fbc01fb467)\" d=\"M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z\"></path></svg>`, // Replace this with actual favicon content if required\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nexport default fileContentsForVue;","const fileContentsForTypeScript = [\r\n\r\n    {\r\n        filename : '.gitignore',\r\n        content : `# Logs\r\nlogs\r\n*.log\r\nnpm-debug.log*\r\nyarn-debug.log*\r\nyarn-error.log*\r\npnpm-debug.log*\r\nlerna-debug.log*\r\n\r\nnode_modules\r\ndist\r\ndist-ssr\r\n*.local\r\n\r\n# Editor directories and files\r\n.vscode/*\r\n!.vscode/extensions.json\r\n.idea\r\n.DS_Store\r\n*.suo\r\n*.ntvs*\r\n*.njsproj\r\n*.sln\r\n*.sw?\r\n`,\r\n    },\r\n    {\r\n        filename : 'index.html',\r\n        content : `<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <link rel=\"icon\" type=\"image/svg+xml\" href=\"/vite.svg\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <title>Vite + TS</title>\r\n  </head>\r\n  <body>\r\n    <div id=\"app\"></div>\r\n    <script type=\"module\" src=\"/src/main.ts\"></script>\r\n  </body>\r\n</html>\r\n`,\r\n    },\r\n    {\r\n        filename : 'package.json',\r\n        content : `{\r\n  \"name\": \"vite-typescript-starter\",\r\n  \"private\": true,\r\n  \"version\": \"0.0.0\",\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"dev\": \"vite\",\r\n    \"build\": \"tsc && vite build\",\r\n    \"preview\": \"vite preview\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"typescript\": \"^5.5.3\",\r\n    \"vite\": \"^5.4.8\"\r\n  }\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'tsconfig.json',\r\n        content : `{\r\n  \"compilerOptions\": {\r\n    \"target\": \"ES2020\",\r\n    \"useDefineForClassFields\": true,\r\n    \"module\": \"ESNext\",\r\n    \"lib\": [\"ES2020\", \"DOM\", \"DOM.Iterable\"],\r\n    \"skipLibCheck\": true,\r\n\r\n    /* Bundler mode */\r\n    \"moduleResolution\": \"bundler\",\r\n    \"allowImportingTsExtensions\": true,\r\n    \"isolatedModules\": true,\r\n    \"moduleDetection\": \"force\",\r\n    \"noEmit\": true,\r\n\r\n    /* Linting */\r\n    \"strict\": true,\r\n    \"noUnusedLocals\": true,\r\n    \"noUnusedParameters\": true,\r\n    \"noFallthroughCasesInSwitch\": true\r\n  },\r\n  \"include\": [\"src\"]\r\n}\r\n`,\r\n    },\r\n\r\n];\r\n\r\nexport default fileContentsForTypeScript;\r\n\r\nexport const fileContentsForTypeScriptProject = [\r\n\r\n  {\r\n      filename : '.gitignore',\r\n      content : `# Logs\r\nlogs\r\n*.log\r\nnpm-debug.log*\r\nyarn-debug.log*\r\nyarn-error.log*\r\npnpm-debug.log*\r\nlerna-debug.log*\r\n\r\nnode_modules\r\ndist\r\ndist-ssr\r\n*.local\r\n\r\n# Editor directories and files\r\n.vscode/*\r\n!.vscode/extensions.json\r\n.idea\r\n.DS_Store\r\n*.suo\r\n*.ntvs*\r\n*.njsproj\r\n*.sln\r\n*.sw?\r\n`,\r\n  },\r\n  {\r\n      filename : 'index.html',\r\n      content : `<!doctype html>\r\n<html lang=\"en\">\r\n<head>\r\n  <meta charset=\"UTF-8\" />\r\n  <link rel=\"icon\" type=\"image/svg+xml\" href=\"/vite.svg\" />\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n  <title>Vite + TS</title>\r\n</head>\r\n<body>\r\n  <div id=\"app\"></div>\r\n  <script type=\"module\" src=\"/src/main.ts\"></script>\r\n</body>\r\n</html>\r\n`,\r\n  },\r\n  {\r\n      filename : 'package.json',\r\n      content : `{\r\n\"name\": \"vite-typescript-starter\",\r\n\"private\": true,\r\n\"version\": \"0.0.0\",\r\n\"type\": \"module\",\r\n\"scripts\": {\r\n  \"dev\": \"vite\",\r\n  \"build\": \"tsc && vite build\",\r\n  \"preview\": \"vite preview\"\r\n},\r\n\"devDependencies\": {\r\n  \"typescript\": \"^5.5.3\",\r\n  \"vite\": \"^5.4.8\"\r\n}\r\n}\r\n`,\r\n  },\r\n  {\r\n      filename : 'tsconfig.json',\r\n      content : `{\r\n\"compilerOptions\": {\r\n  \"target\": \"ES2020\",\r\n  \"useDefineForClassFields\": true,\r\n  \"module\": \"ESNext\",\r\n  \"lib\": [\"ES2020\", \"DOM\", \"DOM.Iterable\"],\r\n  \"skipLibCheck\": true,\r\n\r\n  /* Bundler mode */\r\n  \"moduleResolution\": \"bundler\",\r\n  \"allowImportingTsExtensions\": true,\r\n  \"isolatedModules\": true,\r\n  \"moduleDetection\": \"force\",\r\n  \"noEmit\": true,\r\n\r\n  /* Linting */\r\n  \"strict\": true,\r\n  \"noUnusedLocals\": true,\r\n  \"noUnusedParameters\": true,\r\n  \"noFallthroughCasesInSwitch\": true\r\n},\r\n\"include\": [\"src\"]\r\n}\r\n`,\r\n  },\r\n  {\r\n      filename : 'public',\r\n      contents : [\r\n        {\r\n          filename : 'vite.svg',\r\n          content : `<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" aria-hidden=\"true\" role=\"img\" class=\"iconify iconify--logos\" width=\"31.88\" height=\"32\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 256 257\"><defs><linearGradient id=\"IconifyId1813088fe1fbc01fb466\" x1=\"-.828%\" x2=\"57.636%\" y1=\"7.652%\" y2=\"78.411%\"><stop offset=\"0%\" stop-color=\"#41D1FF\"></stop><stop offset=\"100%\" stop-color=\"#BD34FE\"></stop></linearGradient><linearGradient id=\"IconifyId1813088fe1fbc01fb467\" x1=\"43.376%\" x2=\"50.316%\" y1=\"2.242%\" y2=\"89.03%\"><stop offset=\"0%\" stop-color=\"#FFEA83\"></stop><stop offset=\"8.333%\" stop-color=\"#FFDD35\"></stop><stop offset=\"100%\" stop-color=\"#FFA800\"></stop></linearGradient></defs><path fill=\"url(#IconifyId1813088fe1fbc01fb466)\" d=\"M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z\"></path><path fill=\"url(#IconifyId1813088fe1fbc01fb467)\" d=\"M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z\"></path></svg>`\r\n      }\r\n      ]\r\n  },\r\n  {\r\n    filename : 'src',\r\n    contents : [\r\n      {\r\n        filename : 'counter.ts',\r\n        content : `export function setupCounter(element: HTMLButtonElement) {\r\n  let counter = 0\r\n  const setCounter = (count: number) => {\r\n    counter = count\r\n    element.innerHTML = \\`count is \\${counter}\\`\r\n  }\r\n  element.addEventListener('click', () => setCounter(counter + 1))\r\n  setCounter(0)\r\n}\r\n`\r\n      },\r\n      {\r\n        filename : 'main.ts',\r\n        content : `import './style.css'\r\nimport typescriptLogo from './typescript.svg'\r\nimport viteLogo from '/vite.svg'\r\nimport { setupCounter } from './counter.ts'\r\n\r\ndocument.querySelector<HTMLDivElement>('#app')!.innerHTML = \\`\r\n  <div>\r\n    <a href=\"https://vitejs.dev\" target=\"_blank\">\r\n      <img src=\"\\${viteLogo}\" class=\"logo\" alt=\"Vite logo\" />\r\n    </a>\r\n    <a href=\"https://www.typescriptlang.org/\" target=\"_blank\">\r\n      <img src=\"\\${typescriptLogo}\" class=\"logo vanilla\" alt=\"TypeScript logo\" />\r\n    </a>\r\n    <h1>Vite + TypeScript</h1>\r\n    <div class=\"card\">\r\n      <button id=\"counter\" type=\"button\"></button>\r\n    </div>\r\n    <p class=\"read-the-docs\">\r\n      Click on the Vite and TypeScript logos to learn more\r\n    </p>\r\n  </div>\r\n\\`\r\n\r\nsetupCounter(document.querySelector<HTMLButtonElement>('#counter')!)\r\n`\r\n      },\r\n      {\r\n        filename : 'style.css',\r\n        content : `:root {\r\n  font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;\r\n  line-height: 1.5;\r\n  font-weight: 400;\r\n\r\n  color-scheme: light dark;\r\n  color: rgba(255, 255, 255, 0.87);\r\n  background-color: #242424;\r\n\r\n  font-synthesis: none;\r\n  text-rendering: optimizeLegibility;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\na {\r\n  font-weight: 500;\r\n  color: #646cff;\r\n  text-decoration: inherit;\r\n}\r\na:hover {\r\n  color: #535bf2;\r\n}\r\n\r\nbody {\r\n  margin: 0;\r\n  display: flex;\r\n  place-items: center;\r\n  min-width: 320px;\r\n  min-height: 100vh;\r\n}\r\n\r\nh1 {\r\n  font-size: 3.2em;\r\n  line-height: 1.1;\r\n}\r\n\r\n#app {\r\n  max-width: 1280px;\r\n  margin: 0 auto;\r\n  padding: 2rem;\r\n  text-align: center;\r\n}\r\n\r\n.logo {\r\n  height: 6em;\r\n  padding: 1.5em;\r\n  will-change: filter;\r\n  transition: filter 300ms;\r\n}\r\n.logo:hover {\r\n  filter: drop-shadow(0 0 2em #646cffaa);\r\n}\r\n.logo.vanilla:hover {\r\n  filter: drop-shadow(0 0 2em #3178c6aa);\r\n}\r\n\r\n.card {\r\n  padding: 2em;\r\n}\r\n\r\n.read-the-docs {\r\n  color: #888;\r\n}\r\n\r\nbutton {\r\n  border-radius: 8px;\r\n  border: 1px solid transparent;\r\n  padding: 0.6em 1.2em;\r\n  font-size: 1em;\r\n  font-weight: 500;\r\n  font-family: inherit;\r\n  background-color: #1a1a1a;\r\n  cursor: pointer;\r\n  transition: border-color 0.25s;\r\n}\r\nbutton:hover {\r\n  border-color: #646cff;\r\n}\r\nbutton:focus,\r\nbutton:focus-visible {\r\n  outline: 4px auto -webkit-focus-ring-color;\r\n}\r\n\r\n@media (prefers-color-scheme: light) {\r\n  :root {\r\n    color: #213547;\r\n    background-color: #ffffff;\r\n  }\r\n  a:hover {\r\n    color: #747bff;\r\n  }\r\n  button {\r\n    background-color: #f9f9f9;\r\n  }\r\n}\r\n`\r\n      },\r\n      {\r\n        filename : 'typescript.svg',\r\n        content : `<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" aria-hidden=\"true\" role=\"img\" class=\"iconify iconify--logos\" width=\"32\" height=\"32\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 256 256\"><path fill=\"#007ACC\" d=\"M0 128v128h256V0H0z\"></path><path fill=\"#FFF\" d=\"m56.612 128.85l-.081 10.483h33.32v94.68h23.568v-94.68h33.321v-10.28c0-5.69-.122-10.444-.284-10.566c-.122-.162-20.4-.244-44.983-.203l-44.74.122l-.121 10.443Zm149.955-10.742c6.501 1.625 11.459 4.51 16.01 9.224c2.357 2.52 5.851 7.111 6.136 8.208c.08.325-11.053 7.802-17.798 11.988c-.244.162-1.22-.894-2.317-2.52c-3.291-4.795-6.745-6.867-12.028-7.233c-7.76-.528-12.759 3.535-12.718 10.321c0 1.992.284 3.17 1.097 4.795c1.707 3.536 4.876 5.649 14.832 9.956c18.326 7.883 26.168 13.084 31.045 20.48c5.445 8.249 6.664 21.415 2.966 31.208c-4.063 10.646-14.14 17.879-28.323 20.276c-4.388.772-14.79.65-19.504-.203c-10.28-1.828-20.033-6.908-26.047-13.572c-2.357-2.6-6.949-9.387-6.664-9.874c.122-.163 1.178-.813 2.356-1.504c1.138-.65 5.446-3.129 9.509-5.485l7.355-4.267l1.544 2.276c2.154 3.29 6.867 7.801 9.712 9.305c8.167 4.307 19.383 3.698 24.909-1.26c2.357-2.153 3.332-4.388 3.332-7.68c0-2.966-.366-4.266-1.91-6.501c-1.99-2.845-6.054-5.242-17.595-10.24c-13.206-5.69-18.895-9.224-24.096-14.832c-3.007-3.25-5.852-8.452-7.03-12.8c-.975-3.617-1.22-12.678-.447-16.335c2.723-12.76 12.353-21.659 26.25-24.3c4.51-.853 14.994-.528 19.424.569Z\"></path></svg>`\r\n      },\r\n      {\r\n        filename : 'vite-env.d.ts',\r\n        content : `/// <reference types=\"vite/client\" />\r\n`\r\n      },\r\n    ]\r\n}\r\n\r\n];\r\n","const fileContentsForAngular = [\r\n\r\n    {\r\n        filename : '.gitignore',\r\n        content : `.angular\r\ndist\r\nnode_modules\r\n`,\r\n    },\r\n    {\r\n        filename : 'angular.json',\r\n        content : `{\r\n  \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\r\n  \"cli\": {\r\n    \"analytics\": \"1e1de97b-a744-405a-8b5a-0397bb3d01ce\"\r\n  },\r\n  \"newProjectRoot\": \"projects\",\r\n  \"projects\": {\r\n    \"demo\": {\r\n      \"architect\": {\r\n        \"build\": {\r\n          \"builder\": \"@angular-devkit/build-angular:application\",\r\n          \"configurations\": {\r\n            \"development\": {\r\n              \"extractLicenses\": false,\r\n              \"namedChunks\": true,\r\n              \"optimization\": false,\r\n              \"sourceMap\": true\r\n            },\r\n            \"production\": {\r\n              \"aot\": true,\r\n              \"extractLicenses\": true,\r\n              \"namedChunks\": false,\r\n              \"optimization\": true,\r\n              \"outputHashing\": \"all\",\r\n              \"sourceMap\": false\r\n            }\r\n          },\r\n          \"options\": {\r\n            \"assets\": [],\r\n            \"index\": \"src/index.html\",\r\n            \"browser\": \"src/main.ts\",\r\n            \"outputPath\": \"dist/demo\",\r\n            \"polyfills\": [\"zone.js\"],\r\n            \"scripts\": [],\r\n            \"styles\": [\"src/global_styles.css\"],\r\n            \"tsConfig\": \"tsconfig.app.json\"\r\n          }\r\n        },\r\n        \"serve\": {\r\n          \"builder\": \"@angular-devkit/build-angular:dev-server\",\r\n          \"configurations\": {\r\n            \"development\": {\r\n              \"buildTarget\": \"demo:build:development\"\r\n            },\r\n            \"production\": {\r\n              \"buildTarget\": \"demo:build:production\"\r\n            }\r\n          },\r\n          \"defaultConfiguration\": \"development\"\r\n        }\r\n      },\r\n      \"prefix\": \"app\",\r\n      \"projectType\": \"application\",\r\n      \"root\": \"\",\r\n      \"schematics\": {},\r\n      \"sourceRoot\": \"src\"\r\n    }\r\n  },\r\n  \"version\": 1\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'package.json',\r\n        content : `{\r\n  \"name\": \"angular-starter\",\r\n  \"private\": true,\r\n  \"scripts\": {\r\n    \"ng\": \"ng\",\r\n    \"start\": \"ng serve\",\r\n    \"build\": \"ng build\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@angular/animations\": \"^18.1.0\",\r\n    \"@angular/common\": \"^18.1.0\",\r\n    \"@angular/compiler\": \"^18.1.0\",\r\n    \"@angular/core\": \"^18.1.0\",\r\n    \"@angular/forms\": \"^18.1.0\",\r\n    \"@angular/platform-browser\": \"^18.1.0\",\r\n    \"@angular/platform-browser-dynamic\": \"^19.0.5\",\r\n    \"@angular/router\": \"^18.1.0\",\r\n    \"rxjs\": \"^7.8.1\",\r\n    \"tslib\": \"^2.5.0\",\r\n    \"zone.js\": \"~0.14.0\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@angular-devkit/build-angular\": \"^18.1.0\",\r\n    \"@angular/cli\": \"^18.1.0\",\r\n    \"@angular/compiler-cli\": \"^18.1.0\",\r\n    \"typescript\": \"~5.5.0\"\r\n  }\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'tsconfig.app.json',\r\n        content : `/* To learn more about this file see: https://angular.io/config/tsconfig. */\r\n{\r\n  \"extends\": \"./tsconfig.json\",\r\n  \"compilerOptions\": {\r\n    \"outDir\": \"./out-tsc/app\",\r\n    \"types\": []\r\n  },\r\n  \"files\": [\"src/main.ts\"],\r\n  \"include\": [\"src/**/*.d.ts\"]\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'tsconfig.json',\r\n        content : `/* To learn more about this file see: https://angular.io/config/tsconfig. */\r\n{\r\n  \"compileOnSave\": false,\r\n  \"compilerOptions\": {\r\n    \"outDir\": \"./dist/out-tsc\",\r\n    \"forceConsistentCasingInFileNames\": true,\r\n    \"strict\": true,\r\n    \"noImplicitOverride\": true,\r\n    \"noPropertyAccessFromIndexSignature\": true,\r\n    \"noImplicitReturns\": true,\r\n    \"noFallthroughCasesInSwitch\": true,\r\n    \"esModuleInterop\": true,\r\n    \"sourceMap\": true,\r\n    \"declaration\": false,\r\n    \"downlevelIteration\": true,\r\n    \"experimentalDecorators\": true,\r\n    \"moduleResolution\": \"node\",\r\n    \"importHelpers\": true,\r\n    \"target\": \"ES2022\",\r\n    \"module\": \"ES2022\",\r\n    \"useDefineForClassFields\": false,\r\n    \"lib\": [\"ES2022\", \"dom\"]\r\n  },\r\n  \"angularCompilerOptions\": {\r\n    \"enableI18nLegacyMessageIdFormat\": false,\r\n    \"strictInjectionParameters\": true,\r\n    \"strictInputAccessModifiers\": true,\r\n    \"strictTemplates\": true\r\n  }\r\n}\r\n`,\r\n    },\r\n\r\n];\r\nexport const fileContentsForAngularProject = [\r\n    {\r\n        filename : '.gitignore',\r\n        content : `.angular\r\ndist\r\nnode_modules\r\n`,\r\n    },\r\n    {\r\n        filename : 'angular.json',\r\n        content : `{\r\n  \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\r\n  \"cli\": {\r\n    \"analytics\": \"1e1de97b-a744-405a-8b5a-0397bb3d01ce\"\r\n  },\r\n  \"newProjectRoot\": \"projects\",\r\n  \"projects\": {\r\n    \"demo\": {\r\n      \"architect\": {\r\n        \"build\": {\r\n          \"builder\": \"@angular-devkit/build-angular:application\",\r\n          \"configurations\": {\r\n            \"development\": {\r\n              \"extractLicenses\": false,\r\n              \"namedChunks\": true,\r\n              \"optimization\": false,\r\n              \"sourceMap\": true\r\n            },\r\n            \"production\": {\r\n              \"aot\": true,\r\n              \"extractLicenses\": true,\r\n              \"namedChunks\": false,\r\n              \"optimization\": true,\r\n              \"outputHashing\": \"all\",\r\n              \"sourceMap\": false\r\n            }\r\n          },\r\n          \"options\": {\r\n            \"assets\": [],\r\n            \"index\": \"src/index.html\",\r\n            \"browser\": \"src/main.ts\",\r\n            \"outputPath\": \"dist/demo\",\r\n            \"polyfills\": [\"zone.js\"],\r\n            \"scripts\": [],\r\n            \"styles\": [\"src/global_styles.css\"],\r\n            \"tsConfig\": \"tsconfig.app.json\"\r\n          }\r\n        },\r\n        \"serve\": {\r\n          \"builder\": \"@angular-devkit/build-angular:dev-server\",\r\n          \"configurations\": {\r\n            \"development\": {\r\n              \"buildTarget\": \"demo:build:development\"\r\n            },\r\n            \"production\": {\r\n              \"buildTarget\": \"demo:build:production\"\r\n            }\r\n          },\r\n          \"defaultConfiguration\": \"development\"\r\n        }\r\n      },\r\n      \"prefix\": \"app\",\r\n      \"projectType\": \"application\",\r\n      \"root\": \"\",\r\n      \"schematics\": {},\r\n      \"sourceRoot\": \"src\"\r\n    }\r\n  },\r\n  \"version\": 1\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'package.json',\r\n        content : `{\r\n  \"name\": \"angular-starter\",\r\n  \"private\": true,\r\n  \"scripts\": {\r\n    \"ng\": \"ng\",\r\n    \"start\": \"ng serve\",\r\n    \"build\": \"ng build\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@angular/animations\": \"^18.1.0\",\r\n    \"@angular/common\": \"^18.1.0\",\r\n    \"@angular/compiler\": \"^18.1.0\",\r\n    \"@angular/core\": \"^18.1.0\",\r\n    \"@angular/forms\": \"^18.1.0\",\r\n    \"@angular/platform-browser\": \"^18.1.0\",\r\n    \"@angular/platform-browser-dynamic\": \"^19.0.5\",\r\n    \"@angular/router\": \"^18.1.0\",\r\n    \"rxjs\": \"^7.8.1\",\r\n    \"tslib\": \"^2.5.0\",\r\n    \"zone.js\": \"~0.14.0\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@angular-devkit/build-angular\": \"^18.1.0\",\r\n    \"@angular/cli\": \"^18.1.0\",\r\n    \"@angular/compiler-cli\": \"^18.1.0\",\r\n    \"typescript\": \"~5.5.0\"\r\n  }\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'tsconfig.app.json',\r\n        content : `/* To learn more about this file see: https://angular.io/config/tsconfig. */\r\n{\r\n  \"extends\": \"./tsconfig.json\",\r\n  \"compilerOptions\": {\r\n    \"outDir\": \"./out-tsc/app\",\r\n    \"types\": []\r\n  },\r\n  \"files\": [\"src/main.ts\"],\r\n  \"include\": [\"src/**/*.d.ts\"]\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'tsconfig.json',\r\n        content : `/* To learn more about this file see: https://angular.io/config/tsconfig. */\r\n{\r\n  \"compileOnSave\": false,\r\n  \"compilerOptions\": {\r\n    \"outDir\": \"./dist/out-tsc\",\r\n    \"forceConsistentCasingInFileNames\": true,\r\n    \"strict\": true,\r\n    \"noImplicitOverride\": true,\r\n    \"noPropertyAccessFromIndexSignature\": true,\r\n    \"noImplicitReturns\": true,\r\n    \"noFallthroughCasesInSwitch\": true,\r\n    \"esModuleInterop\": true,\r\n    \"sourceMap\": true,\r\n    \"declaration\": false,\r\n    \"downlevelIteration\": true,\r\n    \"experimentalDecorators\": true,\r\n    \"moduleResolution\": \"node\",\r\n    \"importHelpers\": true,\r\n    \"target\": \"ES2022\",\r\n    \"module\": \"ES2022\",\r\n    \"useDefineForClassFields\": false,\r\n    \"lib\": [\"ES2022\", \"dom\"]\r\n  },\r\n  \"angularCompilerOptions\": {\r\n    \"enableI18nLegacyMessageIdFormat\": false,\r\n    \"strictInjectionParameters\": true,\r\n    \"strictInputAccessModifiers\": true,\r\n    \"strictTemplates\": true\r\n  }\r\n}\r\n`,\r\n    },\r\n  {\r\n    filename: \"src\",\r\n    contents: [\r\n      {\r\n        filename: \"main.ts\",\r\n        content: `import { Component } from '@angular/core';\r\nimport { bootstrapApplication } from '@angular/platform-browser';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  standalone: true,\r\n  template: \\`\r\n    <h1>Hello from {{ name }}!</h1>\r\n    <a target=\"_blank\" href=\"https://angular.dev/overview\">\r\n      Learn more about Angular\r\n    </a>\r\n  \\`,\r\n})\r\nexport class App {\r\n  name = 'Angular';\r\n}\r\n\r\nbootstrapApplication(App);\r\n`\r\n      },\r\n      {\r\n        filename: \"index.html\",\r\n        content: `<!DOCTYPE html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <title>My app</title>\r\n    <meta charset=\"UTF-8\" />\r\n    <base href=\"/\">\r\n  </head>\r\n  <body>\r\n    <app-root>Loading...</app-root>\r\n  </body>\r\n</html>\r\n`\r\n      },\r\n      {\r\n        filename: \"global_styles.css\",\r\n        content: `/* Add application styles & imports to this file! */\r\n`\r\n      },\r\n    ]\r\n  }\r\n\r\n];\r\n\r\nexport default fileContentsForAngular;","\r\nconst fileContentsForSvelteKit = [\r\n\r\n    {\r\n        filename: '.gitignore',\r\n        content: `node_modules\r\n\r\n# Output\r\n.output\r\n.vercel\r\n/.svelte-kit\r\n/build\r\n\r\n# OS\r\n.DS_Store\r\nThumbs.db\r\n\r\n# Env\r\n.env\r\n.env.*\r\n!.env.example\r\n!.env.test\r\n\r\n# Vite\r\nvite.config.js.timestamp-*\r\nvite.config.ts.timestamp-*\r\n`,\r\n    },\r\n    {\r\n        filename: 'jsconfig.json',\r\n\t\tcontent: `{\r\n  \"compilerOptions\": {\r\n    \"moduleResolution\": \"bundler\",\r\n    \"target\": \"ESNext\",\r\n    \"module\": \"ESNext\",\r\n    \"verbatimModuleSyntax\": true,\r\n    \"isolatedModules\": true,\r\n    \"resolveJsonModule\": true,\r\n    \"sourceMap\": true,\r\n    \"esModuleInterop\": true,\r\n    \"skipLibCheck\": true,\r\n    \"checkJs\": true\r\n  },\r\n  \"include\": [\"src/**/*.d.ts\", \"src/**/*.js\", \"src/**/*.svelte\"]\r\n}\r\n\r\n`,\r\n    },\r\n    {\r\n        filename: 'package.json',\r\n\t\tcontent: `{\r\n  \"name\": \"vite-svelte-starter\",\r\n  \"private\": true,\r\n  \"version\": \"0.0.0\",\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"dev\": \"vite\",\r\n    \"build\": \"vite build\",\r\n    \"preview\": \"vite preview\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@sveltejs/vite-plugin-svelte\": \"^3.1.2\",\r\n    \"svelte\": \"^4.2.19\",\r\n    \"vite\": \"^5.4.2\"\r\n  }\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename: 'README.md',\r\n        content: `# create-svelte\r\n\r\nEverything you need to build a Svelte project, powered by [\\`create-svelte\\`](https://github.com/sveltejs/kit/tree/main/packages/create-svelte).\r\n\r\n## Creating a project\r\n\r\nIf you're seeing this, you've probably already done this step. Congrats!\r\n\r\n\\`\\`\\`bash\r\n# create a new project in the current directory\r\nnpm create svelte@latest\r\n\r\n# create a new project in my-app\r\nnpm create svelte@latest my-app\r\n\\`\\`\\`\r\n\r\n## Developing\r\n\r\nOnce you've created a project and installed dependencies with \\`npm install\\` (or \\`pnpm install\\` or \\`yarn\\`), start a development server:\r\n\r\n\\`\\`\\`bash\r\nnpm run dev\r\n\r\n# or start the server and open the app in a new browser tab\r\nnpm run dev -- --open\r\n\\`\\`\\`\r\n\r\n## Building\r\n\r\nTo create a production version of your app:\r\n\r\n\\`\\`\\`bash\r\nnpm run build\r\n\\`\\`\\`\r\n\r\nYou can preview the production build with \\`npm run preview\\`.\r\n\r\n> To deploy your app, you may need to install an [adapter](https://kit.svelte.dev/docs/adapters) for your target environment.\r\n`,\r\n    },\r\n    {\r\n        filename: 'svelte.config.js',\r\n\t\tcontent: `import { vitePreprocess } from '@sveltejs/vite-plugin-svelte'\r\n\r\nexport default {\r\n  // Consult https://svelte.dev/docs#compile-time-svelte-preprocess\r\n  // for more information about preprocessors\r\n  preprocess: vitePreprocess(),\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename: 'vite.config.js',\r\n\t\tcontent: `import { defineConfig } from 'vite'\r\nimport { svelte } from '@sveltejs/vite-plugin-svelte'\r\n\r\n// https://vitejs.dev/config/\r\nexport default defineConfig({\r\n  plugins: [svelte()],\r\n})\r\n`,\r\n    },\r\n    {\r\n        filename: 'index.html',\r\n\t\tcontent: `<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <link rel=\"icon\" type=\"image/svg+xml\" href=\"/vite.svg\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <title>Vite + Svelte</title>\r\n  </head>\r\n  <body>\r\n    <div id=\"app\"></div>\r\n    <script type=\"module\" src=\"/src/main.js\"></script>\r\n  </body>\r\n</html>\r\n`,\r\n    },\r\n\r\n];\r\nexport const fileContentsForSvelteProject = [\r\n\r\n    {\r\n        filename: '.gitignore',\r\n        content: `node_modules\r\n\r\n# Output\r\n.output\r\n.vercel\r\n/.svelte-kit\r\n/build\r\n\r\n# OS\r\n.DS_Store\r\nThumbs.db\r\n\r\n# Env\r\n.env\r\n.env.*\r\n!.env.example\r\n!.env.test\r\n\r\n# Vite\r\nvite.config.js.timestamp-*\r\nvite.config.ts.timestamp-*\r\n`,\r\n    },\r\n    {\r\n        filename: 'jsconfig.json',\r\n\t\tcontent: `{\r\n  \"compilerOptions\": {\r\n    \"moduleResolution\": \"bundler\",\r\n    \"target\": \"ESNext\",\r\n    \"module\": \"ESNext\",\r\n    \"verbatimModuleSyntax\": true,\r\n    \"isolatedModules\": true,\r\n    \"resolveJsonModule\": true,\r\n    \"sourceMap\": true,\r\n    \"esModuleInterop\": true,\r\n    \"skipLibCheck\": true,\r\n    \"checkJs\": true\r\n  },\r\n  \"include\": [\"src/**/*.d.ts\", \"src/**/*.js\", \"src/**/*.svelte\"]\r\n}\r\n\r\n`,\r\n    },\r\n    {\r\n        filename: 'package.json',\r\n\t\tcontent: `{\r\n  \"name\": \"vite-svelte-starter\",\r\n  \"private\": true,\r\n  \"version\": \"0.0.0\",\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"dev\": \"vite\",\r\n    \"build\": \"vite build\",\r\n    \"preview\": \"vite preview\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@sveltejs/vite-plugin-svelte\": \"^3.1.2\",\r\n    \"svelte\": \"^4.2.19\",\r\n    \"vite\": \"^5.4.2\"\r\n  }\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename: 'README.md',\r\n        content: `# create-svelte\r\n\r\nEverything you need to build a Svelte project, powered by [\\`create-svelte\\`](https://github.com/sveltejs/kit/tree/main/packages/create-svelte).\r\n\r\n## Creating a project\r\n\r\nIf you're seeing this, you've probably already done this step. Congrats!\r\n\r\n\\`\\`\\`bash\r\n# create a new project in the current directory\r\nnpm create svelte@latest\r\n\r\n# create a new project in my-app\r\nnpm create svelte@latest my-app\r\n\\`\\`\\`\r\n\r\n## Developing\r\n\r\nOnce you've created a project and installed dependencies with \\`npm install\\` (or \\`pnpm install\\` or \\`yarn\\`), start a development server:\r\n\r\n\\`\\`\\`bash\r\nnpm run dev\r\n\r\n# or start the server and open the app in a new browser tab\r\nnpm run dev -- --open\r\n\\`\\`\\`\r\n\r\n## Building\r\n\r\nTo create a production version of your app:\r\n\r\n\\`\\`\\`bash\r\nnpm run build\r\n\\`\\`\\`\r\n\r\nYou can preview the production build with \\`npm run preview\\`.\r\n\r\n> To deploy your app, you may need to install an [adapter](https://kit.svelte.dev/docs/adapters) for your target environment.\r\n`,\r\n    },\r\n    {\r\n        filename: 'svelte.config.js',\r\n\t\tcontent: `import { vitePreprocess } from '@sveltejs/vite-plugin-svelte'\r\n\r\nexport default {\r\n  // Consult https://svelte.dev/docs#compile-time-svelte-preprocess\r\n  // for more information about preprocessors\r\n  preprocess: vitePreprocess(),\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename: 'vite.config.js',\r\n\t\tcontent: `import { defineConfig } from 'vite'\r\nimport { svelte } from '@sveltejs/vite-plugin-svelte'\r\n\r\n// https://vitejs.dev/config/\r\nexport default defineConfig({\r\n  plugins: [svelte()],\r\n})\r\n`,\r\n    },\r\n    {\r\n        filename: 'index.html',\r\n\t\tcontent: `<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <link rel=\"icon\" type=\"image/svg+xml\" href=\"/vite.svg\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <title>Vite + Svelte</title>\r\n  </head>\r\n  <body>\r\n    <div id=\"app\"></div>\r\n    <script type=\"module\" src=\"/src/main.js\"></script>\r\n  </body>\r\n</html>\r\n`,\r\n    },\r\n  {\r\n    filename: \"src\",\r\n    contents: [\r\n      {\r\n        filename: \"app.css\",\r\n        content: `@import '@fontsource/fira-mono';\r\n\r\n:root {\r\n\t--font-body: Arial, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu,\r\n\t\tCantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\r\n\t--font-mono: 'Fira Mono', monospace;\r\n\t--color-bg-0: rgb(202, 216, 228);\r\n\t--color-bg-1: hsl(209, 36%, 86%);\r\n\t--color-bg-2: hsl(224, 44%, 95%);\r\n\t--color-theme-1: #ff3e00;\r\n\t--color-theme-2: #4075a6;\r\n\t--color-text: rgba(0, 0, 0, 0.7);\r\n\t--column-width: 42rem;\r\n\t--column-margin-top: 4rem;\r\n\tfont-family: var(--font-body);\r\n\tcolor: var(--color-text);\r\n}\r\n\r\nbody {\r\n\tmin-height: 100vh;\r\n\tmargin: 0;\r\n\tbackground-attachment: fixed;\r\n\tbackground-color: var(--color-bg-1);\r\n\tbackground-size: 100vw 100vh;\r\n\tbackground-image: radial-gradient(\r\n\t\t\t50% 50% at 50% 50%,\r\n\t\t\trgba(255, 255, 255, 0.75) 0%,\r\n\t\t\trgba(255, 255, 255, 0) 100%\r\n\t\t),\r\n\t\tlinear-gradient(180deg, var(--color-bg-0) 0%, var(--color-bg-1) 15%, var(--color-bg-2) 50%);\r\n}\r\n\r\nh1,\r\nh2,\r\np {\r\n\tfont-weight: 400;\r\n}\r\n\r\np {\r\n\tline-height: 1.5;\r\n}\r\n\r\na {\r\n\tcolor: var(--color-theme-1);\r\n\ttext-decoration: none;\r\n}\r\n\r\na:hover {\r\n\ttext-decoration: underline;\r\n}\r\n\r\nh1 {\r\n\tfont-size: 2rem;\r\n\ttext-align: center;\r\n}\r\n\r\nh2 {\r\n\tfont-size: 1rem;\r\n}\r\n\r\npre {\r\n\tfont-size: 16px;\r\n\tfont-family: var(--font-mono);\r\n\tbackground-color: rgba(255, 255, 255, 0.45);\r\n\tborder-radius: 3px;\r\n\tbox-shadow: 2px 2px 6px rgb(255 255 255 / 25%);\r\n\tpadding: 0.5em;\r\n\toverflow-x: auto;\r\n\tcolor: var(--color-text);\r\n}\r\n\r\n.text-column {\r\n\tdisplay: flex;\r\n\tmax-width: 48rem;\r\n\tflex: 0.6;\r\n\tflex-direction: column;\r\n\tjustify-content: center;\r\n\tmargin: 0 auto;\r\n}\r\n\r\ninput,\r\nbutton {\r\n\tfont-size: inherit;\r\n\tfont-family: inherit;\r\n}\r\n\r\nbutton:focus:not(:focus-visible) {\r\n\toutline: none;\r\n}\r\n\r\n@media (min-width: 720px) {\r\n\th1 {\r\n\t\tfont-size: 2.4rem;\r\n\t}\r\n}\r\n\r\n.visually-hidden {\r\n\tborder: 0;\r\n\tclip: rect(0 0 0 0);\r\n\theight: auto;\r\n\tmargin: 0;\r\n\toverflow: hidden;\r\n\tpadding: 0;\r\n\tposition: absolute;\r\n\twidth: 1px;\r\n\twhite-space: nowrap;\r\n}\r\n`\r\n      },\r\n      {\r\n        filename: \"app.d.ts\",\r\n        content:`// See https://kit.svelte.dev/docs/types#app\r\n// for information about these interfaces\r\ndeclare global {\r\n\tnamespace App {\r\n\t\t// interface Error {}\r\n\t\t// interface Locals {}\r\n\t\t// interface PageData {}\r\n\t\t// interface PageState {}\r\n\t\t// interface Platform {}\r\n\t}\r\n}\r\n\r\nexport {};\r\n`\r\n      },\r\n      {\r\n        filename: \"app.html\",\r\n        content: `<!doctype html>\r\n<html lang=\"en\">\r\n\t<head>\r\n\t\t<meta charset=\"utf-8\" />\r\n\t\t<link rel=\"icon\" href=\"%sveltekit.assets%/favicon.png\" />\r\n\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n\t\t%sveltekit.head%\r\n\t</head>\r\n\t<body data-sveltekit-preload-data=\"hover\">\r\n\t\t<div style=\"display: contents\">%sveltekit.body%</div>\r\n\t</body>\r\n</html>\r\n`\r\n      },\r\n      {\r\n        filename: \"lib\",\r\n        contents: [\r\n          {\r\n            filename: \"images\",\r\n            contents: [\r\n              {\r\n                filename: \"github.svg\",\r\n                content: `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-3 -3 30 30\">\r\n\t<path\r\n\t\tfill-rule=\"evenodd\"\r\n\t\tclip-rule=\"evenodd\"\r\n\t\td=\"M12 2C6.47715 2 2 6.47715 2 12C2 17.5229 6.47715 22 12 22C17.5229 22 22 17.5229 22 12C22 6.47715 17.5229 2 12 2ZM0 12C0 5.3726 5.3726 0 12 0C18.6274 0 24 5.3726 24 12C24 18.6274 18.6274 24 12 24C5.3726 24 0 18.6274 0 12Z\"\r\n\t\tfill=\"rgba(0,0,0,0.7)\"\r\n\t\tstroke=\"none\"\r\n\t/>\r\n\t<path\r\n\t\tfill-rule=\"evenodd\"\r\n\t\tclip-rule=\"evenodd\"\r\n\t\td=\"M9.59162 22.7357C9.49492 22.6109 9.49492 21.4986 9.59162 19.399C8.55572 19.4347 7.90122 19.3628 7.62812 19.1833C7.21852 18.9139 6.80842 18.0833 6.44457 17.4979C6.08072 16.9125 5.27312 16.8199 4.94702 16.6891C4.62091 16.5582 4.53905 16.0247 5.84562 16.4282C7.15222 16.8316 7.21592 17.9303 7.62812 18.1872C8.04032 18.4441 9.02572 18.3317 9.47242 18.1259C9.91907 17.9201 9.88622 17.1538 9.96587 16.8503C10.0666 16.5669 9.71162 16.5041 9.70382 16.5018C9.26777 16.5018 6.97697 16.0036 6.34772 13.7852C5.71852 11.5669 6.52907 10.117 6.96147 9.49369C7.24972 9.07814 7.22422 8.19254 6.88497 6.83679C8.11677 6.67939 9.06732 7.06709 9.73672 7.99999C9.73737 8.00534 10.6143 7.47854 12.0001 7.47854C13.386 7.47854 13.8777 7.90764 14.2571 7.99999C14.6365 8.09234 14.94 6.36699 17.2834 6.83679C16.7942 7.79839 16.3844 8.99999 16.6972 9.49369C17.0099 9.98739 18.2372 11.5573 17.4833 13.7852C16.9807 15.2706 15.9927 16.1761 14.5192 16.5018C14.3502 16.5557 14.2658 16.6427 14.2658 16.7627C14.2658 16.9427 14.4942 16.9624 14.8233 17.8058C15.0426 18.368 15.0585 19.9739 14.8708 22.6234C14.3953 22.7445 14.0254 22.8257 13.7611 22.8673C13.2924 22.9409 12.7835 22.9822 12.2834 22.9982C11.7834 23.0141 11.6098 23.0123 10.9185 22.948C10.4577 22.9051 10.0154 22.8343 9.59162 22.7357Z\"\r\n\t\tfill=\"rgba(0,0,0,0.7)\"\r\n\t\tstroke=\"none\"\r\n\t/>\r\n</svg>`\r\n              },\r\n              {\r\n                filename: \"svelte-logo.svg\",\r\n                content: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"107\" height=\"128\" viewBox=\"0 0 107 128\"><title>svelte-logo</title><path d=\"M94.1566,22.8189c-10.4-14.8851-30.94-19.2971-45.7914-9.8348L22.2825,29.6078A29.9234,29.9234,0,0,0,8.7639,49.6506a31.5136,31.5136,0,0,0,3.1076,20.2318A30.0061,30.0061,0,0,0,7.3953,81.0653a31.8886,31.8886,0,0,0,5.4473,24.1157c10.4022,14.8865,30.9423,19.2966,45.7914,9.8348L84.7167,98.3921A29.9177,29.9177,0,0,0,98.2353,78.3493,31.5263,31.5263,0,0,0,95.13,58.117a30,30,0,0,0,4.4743-11.1824,31.88,31.88,0,0,0-5.4473-24.1157\" style=\"fill:#ff3e00\"/><path d=\"M45.8171,106.5815A20.7182,20.7182,0,0,1,23.58,98.3389a19.1739,19.1739,0,0,1-3.2766-14.5025,18.1886,18.1886,0,0,1,.6233-2.4357l.4912-1.4978,1.3363.9815a33.6443,33.6443,0,0,0,10.203,5.0978l.9694.2941-.0893.9675a5.8474,5.8474,0,0,0,1.052,3.8781,6.2389,6.2389,0,0,0,6.6952,2.485,5.7449,5.7449,0,0,0,1.6021-.7041L69.27,76.281a5.4306,5.4306,0,0,0,2.4506-3.631,5.7948,5.7948,0,0,0-.9875-4.3712,6.2436,6.2436,0,0,0-6.6978-2.4864,5.7427,5.7427,0,0,0-1.6.7036l-9.9532,6.3449a19.0329,19.0329,0,0,1-5.2965,2.3259,20.7181,20.7181,0,0,1-22.2368-8.2427,19.1725,19.1725,0,0,1-3.2766-14.5024,17.9885,17.9885,0,0,1,8.13-12.0513L55.8833,23.7472a19.0038,19.0038,0,0,1,5.3-2.3287A20.7182,20.7182,0,0,1,83.42,29.6611a19.1739,19.1739,0,0,1,3.2766,14.5025,18.4,18.4,0,0,1-.6233,2.4357l-.4912,1.4978-1.3356-.98a33.6175,33.6175,0,0,0-10.2037-5.1l-.9694-.2942.0893-.9675a5.8588,5.8588,0,0,0-1.052-3.878,6.2389,6.2389,0,0,0-6.6952-2.485,5.7449,5.7449,0,0,0-1.6021.7041L37.73,51.719a5.4218,5.4218,0,0,0-2.4487,3.63,5.7862,5.7862,0,0,0,.9856,4.3717,6.2437,6.2437,0,0,0,6.6978,2.4864,5.7652,5.7652,0,0,0,1.602-.7041l9.9519-6.3425a18.978,18.978,0,0,1,5.2959-2.3278,20.7181,20.7181,0,0,1,22.2368,8.2427,19.1725,19.1725,0,0,1,3.2766,14.5024,17.9977,17.9977,0,0,1-8.13,12.0532L51.1167,104.2528a19.0038,19.0038,0,0,1-5.3,2.3287\" style=\"fill:#fff\"/></svg>`\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        filename: \"routes\",\r\n        contents: [\r\n          {\r\n            filename: \"Header.svelte\",\r\n            content: `<script>\r\n\timport { page } from '$app/stores';\r\n\timport logo from '$lib/images/svelte-logo.svg';\r\n\timport github from '$lib/images/github.svg';\r\n</script>\r\n\r\n<header>\r\n\t<div class=\"corner\">\r\n\t\t<a href=\"https://kit.svelte.dev\">\r\n\t\t\t<img src={logo} alt=\"SvelteKit\" />\r\n\t\t</a>\r\n\t</div>\r\n\r\n\t<nav>\r\n\t\t<svg viewBox=\"0 0 2 3\" aria-hidden=\"true\">\r\n\t\t\t<path d=\"M0,0 L1,2 C1.5,3 1.5,3 2,3 L2,0 Z\" />\r\n\t\t</svg>\r\n\t\t<ul>\r\n\t\t\t<li aria-current={$page.url.pathname === '/' ? 'page' : undefined}>\r\n\t\t\t\t<a href=\"/\">Home</a>\r\n\t\t\t</li>\r\n\t\t\t<li aria-current={$page.url.pathname === '/about' ? 'page' : undefined}>\r\n\t\t\t\t<a href=\"/about\">About</a>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t\t<svg viewBox=\"0 0 2 3\" aria-hidden=\"true\">\r\n\t\t\t<path d=\"M0,0 L0,3 C0.5,3 0.5,3 1,2 L2,0 Z\" />\r\n\t\t</svg>\r\n\t</nav>\r\n\r\n\t<div class=\"corner\">\r\n\t\t<a href=\"https://github.com/sveltejs/kit\">\r\n\t\t\t<img src={github} alt=\"GitHub\" />\r\n\t\t</a>\r\n\t</div>\r\n</header>\r\n\r\n<style>\r\n\theader {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.corner {\r\n\t\twidth: 3em;\r\n\t\theight: 3em;\r\n\t}\r\n\r\n\t.corner a {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.corner img {\r\n\t\twidth: 2em;\r\n\t\theight: 2em;\r\n\t\tobject-fit: contain;\r\n\t}\r\n\r\n\tnav {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\t--background: rgba(255, 255, 255, 0.7);\r\n\t}\r\n\r\n\tsvg {\r\n\t\twidth: 2em;\r\n\t\theight: 3em;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\tpath {\r\n\t\tfill: var(--background);\r\n\t}\r\n\r\n\tul {\r\n\t\tposition: relative;\r\n\t\tpadding: 0;\r\n\t\tmargin: 0;\r\n\t\theight: 3em;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tlist-style: none;\r\n\t\tbackground: var(--background);\r\n\t\tbackground-size: contain;\r\n\t}\r\n\r\n\tli {\r\n\t\tposition: relative;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\tli[aria-current='page']::before {\r\n\t\t--size: 6px;\r\n\t\tcontent: '';\r\n\t\twidth: 0;\r\n\t\theight: 0;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: calc(50% - var(--size));\r\n\t\tborder: var(--size) solid transparent;\r\n\t\tborder-top: var(--size) solid var(--color-theme-1);\r\n\t}\r\n\r\n\tnav a {\r\n\t\tdisplay: flex;\r\n\t\theight: 100%;\r\n\t\talign-items: center;\r\n\t\tpadding: 0 0.5rem;\r\n\t\tcolor: var(--color-text);\r\n\t\tfont-weight: 700;\r\n\t\tfont-size: 0.8rem;\r\n\t\ttext-transform: uppercase;\r\n\t\tletter-spacing: 0.1em;\r\n\t\ttext-decoration: none;\r\n\t\ttransition: color 0.2s linear;\r\n\t}\r\n\r\n\ta:hover {\r\n\t\tcolor: var(--color-theme-1);\r\n\t}\r\n</style>\r\n`\r\n          },\r\n          {\r\n            filename: \"Counter.svelte\",\r\n            content: `<script>\r\n\timport { spring } from 'svelte/motion';\r\n\r\n\tlet count = 0;\r\n\r\n\tconst displayed_count = spring();\r\n\t$: displayed_count.set(count);\r\n\t$: offset = modulo($displayed_count, 1);\r\n\r\n\t/**\r\n\t * @param {number} n\r\n\t * @param {number} m\r\n\t */\r\n\tfunction modulo(n, m) {\r\n\t\t// handle negative numbers\r\n\t\treturn ((n % m) + m) % m;\r\n\t}\r\n</script>\r\n\r\n<div class=\"counter\">\r\n\t<button on:click={() => (count -= 1)} aria-label=\"Decrease the counter by one\">\r\n\t\t<svg aria-hidden=\"true\" viewBox=\"0 0 1 1\">\r\n\t\t\t<path d=\"M0,0.5 L1,0.5\" />\r\n\t\t</svg>\r\n\t</button>\r\n\r\n\t<div class=\"counter-viewport\">\r\n\t\t<div class=\"counter-digits\" style=\"transform: translate(0, {100 * offset}%)\">\r\n\t\t\t<strong class=\"hidden\" aria-hidden=\"true\">{Math.floor($displayed_count + 1)}</strong>\r\n\t\t\t<strong>{Math.floor($displayed_count)}</strong>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<button on:click={() => (count += 1)} aria-label=\"Increase the counter by one\">\r\n\t\t<svg aria-hidden=\"true\" viewBox=\"0 0 1 1\">\r\n\t\t\t<path d=\"M0,0.5 L1,0.5 M0.5,0 L0.5,1\" />\r\n\t\t</svg>\r\n\t</button>\r\n</div>\r\n\r\n<style>\r\n\t.counter {\r\n\t\tdisplay: flex;\r\n\t\tborder-top: 1px solid rgba(0, 0, 0, 0.1);\r\n\t\tborder-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n\t\tmargin: 1rem 0;\r\n\t}\r\n\r\n\t.counter button {\r\n\t\twidth: 2em;\r\n\t\tpadding: 0;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tborder: 0;\r\n\t\tbackground-color: transparent;\r\n\t\ttouch-action: manipulation;\r\n\t\tfont-size: 2rem;\r\n\t}\r\n\r\n\t.counter button:hover {\r\n\t\tbackground-color: var(--color-bg-1);\r\n\t}\r\n\r\n\tsvg {\r\n\t\twidth: 25%;\r\n\t\theight: 25%;\r\n\t}\r\n\r\n\tpath {\r\n\t\tvector-effect: non-scaling-stroke;\r\n\t\tstroke-width: 2px;\r\n\t\tstroke: #444;\r\n\t}\r\n\r\n\t.counter-viewport {\r\n\t\twidth: 8em;\r\n\t\theight: 4em;\r\n\t\toverflow: hidden;\r\n\t\ttext-align: center;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.counter-viewport strong {\r\n\t\tposition: absolute;\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: var(--color-theme-1);\r\n\t\tfont-size: 4rem;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.counter-digits {\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.hidden {\r\n\t\ttop: -100%;\r\n\t\tuser-select: none;\r\n\t}\r\n</style>\r\n`\r\n          },\r\n          {\r\n            filename: \"+page.svelte\",\r\n            content:`<script>\r\n\timport Counter from './Counter.svelte';\r\n\timport welcome from '$lib/images/svelte-welcome.webp';\r\n\timport welcome_fallback from '$lib/images/svelte-welcome.png';\r\n</script>\r\n\r\n<svelte:head>\r\n\t<title>Home</title>\r\n\t<meta name=\"description\" content=\"Svelte demo app\" />\r\n</svelte:head>\r\n\r\n<section>\r\n\t<h1>\r\n\t\t<span class=\"welcome\">\r\n\t\t\t<picture>\r\n\t\t\t\t<source srcset={welcome} type=\"image/webp\" />\r\n\t\t\t\t<img src={welcome_fallback} alt=\"Welcome\" />\r\n\t\t\t</picture>\r\n\t\t</span>\r\n\r\n\t\tto your new<br />SvelteKit app\r\n\t</h1>\r\n\r\n\t<h2>\r\n\t\ttry editing <strong>src/routes/+page.svelte</strong>\r\n\t</h2>\r\n\r\n\t<Counter />\r\n</section>\r\n\r\n<style>\r\n\tsection {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tflex: 0.6;\r\n\t}\r\n\r\n\th1 {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.welcome {\r\n\t\tdisplay: block;\r\n\t\tposition: relative;\r\n\t\twidth: 100%;\r\n\t\theight: 0;\r\n\t\tpadding: 0 0 calc(100% * 495 / 2048) 0;\r\n\t}\r\n\r\n\t.welcome img {\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\ttop: 0;\r\n\t\tdisplay: block;\r\n\t}\r\n</style>\r\n`\r\n          },\r\n          {\r\n            filename: \"+page.js\",\r\n            content:`// since there's no dynamic data here, we can prerender\r\n// it so that it gets served as a static asset in production\r\nexport const prerender = true;\r\n`\r\n          },\r\n          {\r\n            filename: \"+layout.svelte\",\r\n            content:`<script>\r\n\timport Header from './Header.svelte';\r\n\timport '../app.css';\r\n</script>\r\n\r\n<div class=\"app\">\r\n\t<Header />\r\n\r\n\t<main>\r\n\t\t<slot />\r\n\t</main>\r\n\r\n\t<footer>\r\n\t\t<p>visit <a href=\"https://kit.svelte.dev\">kit.svelte.dev</a> to learn SvelteKit</p>\r\n\t</footer>\r\n</div>\r\n\r\n<style>\r\n\t.app {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmin-height: 100vh;\r\n\t}\r\n\r\n\tmain {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tpadding: 1rem;\r\n\t\twidth: 100%;\r\n\t\tmax-width: 64rem;\r\n\t\tmargin: 0 auto;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\tfooter {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tpadding: 12px;\r\n\t}\r\n\r\n\tfooter a {\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t@media (min-width: 480px) {\r\n\t\tfooter {\r\n\t\t\tpadding: 12px 0;\r\n\t\t}\r\n\t}\r\n</style>\r\n`\r\n          },\r\n          {\r\n            filename: \"about\",\r\n            contents: [\r\n              {\r\n                filename: \"+page.svelte\",\r\n                content:`<svelte:head>\r\n\t<title>About</title>\r\n\t<meta name=\"description\" content=\"About this app\" />\r\n</svelte:head>\r\n\r\n<div class=\"text-column\">\r\n\t<h1>About this app</h1>\r\n\r\n\t<p>\r\n\t\tThis is a <a href=\"https://kit.svelte.dev\">SvelteKit</a> app. You can make your own by typing the\r\n\t\tfollowing into your command line and following the prompts:\r\n\t</p>\r\n\r\n\t<pre>npm create svelte@latest</pre>\r\n\r\n\t<p>\r\n\t\tThe page you're looking at is purely static HTML, with no client-side interactivity needed.\r\n\t\tBecause of that, we don't need to load any JavaScript. Try viewing the page's source, or opening\r\n\t\tthe devtools network panel and reloading.\r\n\t</p>\r\n</div>\r\n`\r\n              },\r\n              {\r\n                filename: \"+page.js\",\r\n                content:`import { dev } from '$app/environment';\r\n\r\n// we don't need any JS on this page, though we'll load\r\n// it in dev so that we get hot module replacement\r\nexport const csr = dev;\r\n\r\n// since there's no dynamic data here, we can prerender\r\n// it so that it gets served as a static asset in production\r\nexport const prerender = true;\r\n`\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n    }\r\n];\r\n\r\nexport default fileContentsForSvelteKit;","const fileContentsForRemix = [\r\n\r\n    {\r\n        filename : '.eslintrc.cjs',\r\n        content : `/**\r\n * This is intended to be a basic starting point for linting in your app.\r\n * It relies on recommended configs out of the box for simplicity, but you can\r\n * and should modify this configuration to best suit your team's needs.\r\n */\r\n\r\n/** @type {import('eslint').Linter.Config} */\r\nmodule.exports = {\r\n  root: true,\r\n  parserOptions: {\r\n    ecmaVersion: \"latest\",\r\n    sourceType: \"module\",\r\n    ecmaFeatures: {\r\n      jsx: true,\r\n    },\r\n  },\r\n  env: {\r\n    browser: true,\r\n    commonjs: true,\r\n    es6: true,\r\n  },\r\n  ignorePatterns: [\"!**/.server\", \"!**/.client\"],\r\n\r\n  // Base config\r\n  extends: [\"eslint:recommended\"],\r\n\r\n  overrides: [\r\n    // React\r\n    {\r\n      files: [\"**/*.{js,jsx,ts,tsx}\"],\r\n      plugins: [\"react\", \"jsx-a11y\"],\r\n      extends: [\r\n        \"plugin:react/recommended\",\r\n        \"plugin:react/jsx-runtime\",\r\n        \"plugin:react-hooks/recommended\",\r\n        \"plugin:jsx-a11y/recommended\",\r\n      ],\r\n      settings: {\r\n        react: {\r\n          version: \"detect\",\r\n        },\r\n        formComponents: [\"Form\"],\r\n        linkComponents: [\r\n          { name: \"Link\", linkAttribute: \"to\" },\r\n          { name: \"NavLink\", linkAttribute: \"to\" },\r\n        ],\r\n        \"import/resolver\": {\r\n          typescript: {},\r\n        },\r\n      },\r\n    },\r\n\r\n    // Typescript\r\n    {\r\n      files: [\"**/*.{ts,tsx}\"],\r\n      plugins: [\"@typescript-eslint\", \"import\"],\r\n      parser: \"@typescript-eslint/parser\",\r\n      settings: {\r\n        \"import/internal-regex\": \"^~/\",\r\n        \"import/resolver\": {\r\n          node: {\r\n            extensions: [\".ts\", \".tsx\"],\r\n          },\r\n          typescript: {\r\n            alwaysTryTypes: true,\r\n          },\r\n        },\r\n      },\r\n      extends: [\r\n        \"plugin:@typescript-eslint/recommended\",\r\n        \"plugin:import/recommended\",\r\n        \"plugin:import/typescript\",\r\n      ],\r\n    },\r\n\r\n    // Node\r\n    {\r\n      files: [\".eslintrc.cjs\"],\r\n      env: {\r\n        node: true,\r\n      },\r\n    },\r\n  ],\r\n};\r\n`,\r\n    },\r\n    {\r\n        filename : '.gitignore',\r\n        content : `node_modules\r\n\r\n/.cache\r\n/build\r\n.env\r\n`,\r\n    },\r\n    {\r\n        filename : 'package.json',\r\n        content : `{\r\n  \"private\": true,\r\n  \"sideEffects\": false,\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"build\": \"remix vite:build\",\r\n    \"dev\": \"remix vite:dev\",\r\n    \"lint\": \"eslint --ignore-path .gitignore --cache --cache-location ./node_modules/.cache/eslint .\",\r\n    \"start\": \"remix-serve ./build/server/index.js\",\r\n    \"typecheck\": \"tsc\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@remix-run/node\": \"*\",\r\n    \"@remix-run/react\": \"*\",\r\n    \"@remix-run/serve\": \"*\",\r\n    \"isbot\": \"^4.1.0\",\r\n    \"react\": \"^18.2.0\",\r\n    \"react-dom\": \"^18.2.0\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@remix-run/dev\": \"*\",\r\n    \"@types/react\": \"^18.2.20\",\r\n    \"@types/react-dom\": \"^18.2.7\",\r\n    \"@typescript-eslint/eslint-plugin\": \"^6.7.4\",\r\n    \"@typescript-eslint/parser\": \"^6.7.4\",\r\n    \"autoprefixer\": \"^10.4.19\",\r\n    \"eslint\": \"^8.38.0\",\r\n    \"eslint-import-resolver-typescript\": \"^3.6.1\",\r\n    \"eslint-plugin-import\": \"^2.28.1\",\r\n    \"eslint-plugin-jsx-a11y\": \"^6.7.1\",\r\n    \"eslint-plugin-react\": \"^7.33.2\",\r\n    \"eslint-plugin-react-hooks\": \"^4.6.0\",\r\n    \"postcss\": \"^8.4.38\",\r\n    \"tailwindcss\": \"^3.4.4\",\r\n    \"typescript\": \"^5.1.6\",\r\n    \"vite\": \"^5.1.0\",\r\n    \"vite-tsconfig-paths\": \"^4.2.1\"\r\n  },\r\n  \"engines\": {\r\n    \"node\": \">=20.0.0\"\r\n  }\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'postcss.config.js',\r\n        content : `export default {\r\n  plugins: {\r\n    tailwindcss: {},\r\n    autoprefixer: {},\r\n  },\r\n};\r\n`,\r\n    },\r\n    {\r\n        filename : 'README.md',\r\n        content : `# Welcome to Remix!\r\n\r\n- 📖 [Remix docs](https://remix.run/docs)\r\n\r\n## Development\r\n\r\nRun the dev server:\r\n\r\n\\`\\`\\`shellscript\r\nnpm run dev\r\n\\`\\`\\`\r\n\r\n## Deployment\r\n\r\nFirst, build your app for production:\r\n\r\n\\`\\`\\`sh\r\nnpm run build\r\n\\`\\`\\`\r\n\r\nThen run the app in production mode:\r\n\r\n\\`\\`\\`sh\r\nnpm start\r\n\\`\\`\\`\r\n\r\nNow you'll need to pick a host to deploy it to.\r\n\r\n### DIY\r\n\r\nIf you're familiar with deploying Node applications, the built-in Remix app server is production-ready.\r\n\r\nMake sure to deploy the output of \\`npm run build\\`\r\n\r\n- \\`build/server\\`\r\n- \\`build/client\\`\r\n\r\n## Styling\r\n\r\nThis template comes with [Tailwind CSS](https://tailwindcss.com/) already configured for a simple default starting experience. You can use whatever css framework you prefer. See the [Vite docs on css](https://vitejs.dev/guide/features.html#css) for more information.\r\n`,\r\n    },\r\n    {\r\n        filename : 'tailwind.config.ts',\r\n        content : `import type { Config } from \"tailwindcss\";\r\n\r\nexport default {\r\n  content: [\"./app/**/{**,.client,.server}/**/*.{js,jsx,ts,tsx}\"],\r\n  theme: {\r\n    extend: {\r\n      fontFamily: {\r\n        sans: [\r\n          '\"Inter\"',\r\n          \"ui-sans-serif\",\r\n          \"system-ui\",\r\n          \"sans-serif\",\r\n          '\"Apple Color Emoji\"',\r\n          '\"Segoe UI Emoji\"',\r\n          '\"Segoe UI Symbol\"',\r\n          '\"Noto Color Emoji\"',\r\n        ],\r\n      },\r\n    },\r\n  },\r\n  plugins: [],\r\n} satisfies Config;\r\n`,\r\n    },\r\n    {\r\n        filename : 'tsconfig.json',\r\n        content : `{\r\n  \"include\": [\r\n    \"**/*.ts\",\r\n    \"**/*.tsx\",\r\n    \"**/.server/**/*.ts\",\r\n    \"**/.server/**/*.tsx\",\r\n    \"**/.client/**/*.ts\",\r\n    \"**/.client/**/*.tsx\"\r\n  ],\r\n  \"compilerOptions\": {\r\n    \"lib\": [\"DOM\", \"DOM.Iterable\", \"ES2022\"],\r\n    \"types\": [\"@remix-run/node\", \"vite/client\"],\r\n    \"isolatedModules\": true,\r\n    \"esModuleInterop\": true,\r\n    \"jsx\": \"react-jsx\",\r\n    \"module\": \"ESNext\",\r\n    \"moduleResolution\": \"Bundler\",\r\n    \"resolveJsonModule\": true,\r\n    \"target\": \"ES2022\",\r\n    \"strict\": true,\r\n    \"allowJs\": true,\r\n    \"skipLibCheck\": true,\r\n    \"forceConsistentCasingInFileNames\": true,\r\n    \"baseUrl\": \".\",\r\n    \"paths\": {\r\n      \"~/*\": [\"./app/*\"]\r\n    },\r\n\r\n    // Vite takes care of building everything, not tsc.\r\n    \"noEmit\": true\r\n  }\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'vite.config.ts',\r\n        content : `import { vitePlugin as remix } from \"@remix-run/dev\";\r\nimport { defineConfig } from \"vite\";\r\nimport tsconfigPaths from \"vite-tsconfig-paths\";\r\n\r\nexport default defineConfig({\r\n  plugins: [\r\n    remix({\r\n      future: {\r\n        v3_fetcherPersist: true,\r\n        v3_relativeSplatPath: true,\r\n        v3_throwAbortReason: true,\r\n      },\r\n    }),\r\n    tsconfigPaths(),\r\n  ],\r\n    server: {\r\n    open: true, // This will open the browser automatically\r\n  },\r\n});\r\n`,\r\n    },\r\n\r\n];\r\nexport const fileContentsForRemixProject = [\r\n\r\n    {\r\n        filename : '.eslintrc.cjs',\r\n        content : `/**\r\n * This is intended to be a basic starting point for linting in your app.\r\n * It relies on recommended configs out of the box for simplicity, but you can\r\n * and should modify this configuration to best suit your team's needs.\r\n */\r\n\r\n/** @type {import('eslint').Linter.Config} */\r\nmodule.exports = {\r\n  root: true,\r\n  parserOptions: {\r\n    ecmaVersion: \"latest\",\r\n    sourceType: \"module\",\r\n    ecmaFeatures: {\r\n      jsx: true,\r\n    },\r\n  },\r\n  env: {\r\n    browser: true,\r\n    commonjs: true,\r\n    es6: true,\r\n  },\r\n  ignorePatterns: [\"!**/.server\", \"!**/.client\"],\r\n\r\n  // Base config\r\n  extends: [\"eslint:recommended\"],\r\n\r\n  overrides: [\r\n    // React\r\n    {\r\n      files: [\"**/*.{js,jsx,ts,tsx}\"],\r\n      plugins: [\"react\", \"jsx-a11y\"],\r\n      extends: [\r\n        \"plugin:react/recommended\",\r\n        \"plugin:react/jsx-runtime\",\r\n        \"plugin:react-hooks/recommended\",\r\n        \"plugin:jsx-a11y/recommended\",\r\n      ],\r\n      settings: {\r\n        react: {\r\n          version: \"detect\",\r\n        },\r\n        formComponents: [\"Form\"],\r\n        linkComponents: [\r\n          { name: \"Link\", linkAttribute: \"to\" },\r\n          { name: \"NavLink\", linkAttribute: \"to\" },\r\n        ],\r\n        \"import/resolver\": {\r\n          typescript: {},\r\n        },\r\n      },\r\n    },\r\n\r\n    // Typescript\r\n    {\r\n      files: [\"**/*.{ts,tsx}\"],\r\n      plugins: [\"@typescript-eslint\", \"import\"],\r\n      parser: \"@typescript-eslint/parser\",\r\n      settings: {\r\n        \"import/internal-regex\": \"^~/\",\r\n        \"import/resolver\": {\r\n          node: {\r\n            extensions: [\".ts\", \".tsx\"],\r\n          },\r\n          typescript: {\r\n            alwaysTryTypes: true,\r\n          },\r\n        },\r\n      },\r\n      extends: [\r\n        \"plugin:@typescript-eslint/recommended\",\r\n        \"plugin:import/recommended\",\r\n        \"plugin:import/typescript\",\r\n      ],\r\n    },\r\n\r\n    // Node\r\n    {\r\n      files: [\".eslintrc.cjs\"],\r\n      env: {\r\n        node: true,\r\n      },\r\n    },\r\n  ],\r\n};\r\n`,\r\n    },\r\n    {\r\n        filename : '.gitignore',\r\n        content : `node_modules\r\n\r\n/.cache\r\n/build\r\n.env\r\n`,\r\n    },\r\n    {\r\n        filename : 'package.json',\r\n        content : `{\r\n  \"private\": true,\r\n  \"sideEffects\": false,\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"build\": \"remix vite:build\",\r\n    \"dev\": \"remix vite:dev\",\r\n    \"lint\": \"eslint --ignore-path .gitignore --cache --cache-location ./node_modules/.cache/eslint .\",\r\n    \"start\": \"remix-serve ./build/server/index.js\",\r\n    \"typecheck\": \"tsc\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@remix-run/node\": \"*\",\r\n    \"@remix-run/react\": \"*\",\r\n    \"@remix-run/serve\": \"*\",\r\n    \"isbot\": \"^4.1.0\",\r\n    \"react\": \"^18.2.0\",\r\n    \"react-dom\": \"^18.2.0\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@remix-run/dev\": \"*\",\r\n    \"@types/react\": \"^18.2.20\",\r\n    \"@types/react-dom\": \"^18.2.7\",\r\n    \"@typescript-eslint/eslint-plugin\": \"^6.7.4\",\r\n    \"@typescript-eslint/parser\": \"^6.7.4\",\r\n    \"autoprefixer\": \"^10.4.19\",\r\n    \"eslint\": \"^8.38.0\",\r\n    \"eslint-import-resolver-typescript\": \"^3.6.1\",\r\n    \"eslint-plugin-import\": \"^2.28.1\",\r\n    \"eslint-plugin-jsx-a11y\": \"^6.7.1\",\r\n    \"eslint-plugin-react\": \"^7.33.2\",\r\n    \"eslint-plugin-react-hooks\": \"^4.6.0\",\r\n    \"postcss\": \"^8.4.38\",\r\n    \"tailwindcss\": \"^3.4.4\",\r\n    \"typescript\": \"^5.1.6\",\r\n    \"vite\": \"^5.1.0\",\r\n    \"vite-tsconfig-paths\": \"^4.2.1\"\r\n  },\r\n  \"engines\": {\r\n    \"node\": \">=20.0.0\"\r\n  }\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'postcss.config.js',\r\n        content : `export default {\r\n  plugins: {\r\n    tailwindcss: {},\r\n    autoprefixer: {},\r\n  },\r\n};\r\n`,\r\n    },\r\n    {\r\n        filename : 'README.md',\r\n        content : `# Welcome to Remix!\r\n\r\n- 📖 [Remix docs](https://remix.run/docs)\r\n\r\n## Development\r\n\r\nRun the dev server:\r\n\r\n\\`\\`\\`shellscript\r\nnpm run dev\r\n\\`\\`\\`\r\n\r\n## Deployment\r\n\r\nFirst, build your app for production:\r\n\r\n\\`\\`\\`sh\r\nnpm run build\r\n\\`\\`\\`\r\n\r\nThen run the app in production mode:\r\n\r\n\\`\\`\\`sh\r\nnpm start\r\n\\`\\`\\`\r\n\r\nNow you'll need to pick a host to deploy it to.\r\n\r\n### DIY\r\n\r\nIf you're familiar with deploying Node applications, the built-in Remix app server is production-ready.\r\n\r\nMake sure to deploy the output of \\`npm run build\\`\r\n\r\n- \\`build/server\\`\r\n- \\`build/client\\`\r\n\r\n## Styling\r\n\r\nThis template comes with [Tailwind CSS](https://tailwindcss.com/) already configured for a simple default starting experience. You can use whatever css framework you prefer. See the [Vite docs on css](https://vitejs.dev/guide/features.html#css) for more information.\r\n`,\r\n    },\r\n    {\r\n        filename : 'tailwind.config.ts',\r\n        content : `import type { Config } from \"tailwindcss\";\r\n\r\nexport default {\r\n  content: [\"./app/**/{**,.client,.server}/**/*.{js,jsx,ts,tsx}\"],\r\n  theme: {\r\n    extend: {\r\n      fontFamily: {\r\n        sans: [\r\n          '\"Inter\"',\r\n          \"ui-sans-serif\",\r\n          \"system-ui\",\r\n          \"sans-serif\",\r\n          '\"Apple Color Emoji\"',\r\n          '\"Segoe UI Emoji\"',\r\n          '\"Segoe UI Symbol\"',\r\n          '\"Noto Color Emoji\"',\r\n        ],\r\n      },\r\n    },\r\n  },\r\n  plugins: [],\r\n} satisfies Config;\r\n`,\r\n    },\r\n    {\r\n        filename : 'tsconfig.json',\r\n        content : `{\r\n  \"include\": [\r\n    \"**/*.ts\",\r\n    \"**/*.tsx\",\r\n    \"**/.server/**/*.ts\",\r\n    \"**/.server/**/*.tsx\",\r\n    \"**/.client/**/*.ts\",\r\n    \"**/.client/**/*.tsx\"\r\n  ],\r\n  \"compilerOptions\": {\r\n    \"lib\": [\"DOM\", \"DOM.Iterable\", \"ES2022\"],\r\n    \"types\": [\"@remix-run/node\", \"vite/client\"],\r\n    \"isolatedModules\": true,\r\n    \"esModuleInterop\": true,\r\n    \"jsx\": \"react-jsx\",\r\n    \"module\": \"ESNext\",\r\n    \"moduleResolution\": \"Bundler\",\r\n    \"resolveJsonModule\": true,\r\n    \"target\": \"ES2022\",\r\n    \"strict\": true,\r\n    \"allowJs\": true,\r\n    \"skipLibCheck\": true,\r\n    \"forceConsistentCasingInFileNames\": true,\r\n    \"baseUrl\": \".\",\r\n    \"paths\": {\r\n      \"~/*\": [\"./app/*\"]\r\n    },\r\n\r\n    // Vite takes care of building everything, not tsc.\r\n    \"noEmit\": true\r\n  }\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'vite.config.ts',\r\n        content : `import { vitePlugin as remix } from \"@remix-run/dev\";\r\nimport { defineConfig } from \"vite\";\r\nimport tsconfigPaths from \"vite-tsconfig-paths\";\r\n\r\nexport default defineConfig({\r\n  plugins: [\r\n    remix({\r\n      future: {\r\n        v3_fetcherPersist: true,\r\n        v3_relativeSplatPath: true,\r\n        v3_throwAbortReason: true,\r\n      },\r\n    }),\r\n    tsconfigPaths(),\r\n  ],\r\n});\r\n`,\r\n    },\r\n   {\r\n     filename: \"app\",\r\n     contents: [\r\n       {\r\n         filename: \"tailwind.css\",\r\n         content:`@tailwind base;\r\n@tailwind components;\r\n@tailwind utilities;\r\n\r\nhtml,\r\nbody {\r\n  @apply bg-white dark:bg-gray-950;\r\n\r\n  @media (prefers-color-scheme: dark) {\r\n    color-scheme: dark;\r\n  }\r\n}\r\n`\r\n       },\r\n       {\r\n         filename: \"root.tsx\",\r\n         content:`import {\r\n  Links,\r\n  Meta,\r\n  Outlet,\r\n  Scripts,\r\n  ScrollRestoration,\r\n} from \"@remix-run/react\";\r\nimport type { LinksFunction } from \"@remix-run/node\";\r\n\r\nimport \"./tailwind.css\";\r\n\r\nexport const links: LinksFunction = () => [\r\n  { rel: \"preconnect\", href: \"https://fonts.googleapis.com\" },\r\n  {\r\n    rel: \"preconnect\",\r\n    href: \"https://fonts.gstatic.com\",\r\n    crossOrigin: \"anonymous\",\r\n  },\r\n  {\r\n    rel: \"stylesheet\",\r\n    href: \"https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap\",\r\n  },\r\n];\r\n\r\nexport function Layout({ children }: { children: React.ReactNode }) {\r\n  return (\r\n    <html lang=\"en\">\r\n      <head>\r\n        <meta charSet=\"utf-8\" />\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n        <Meta />\r\n        <Links />\r\n      </head>\r\n      <body>\r\n        {children}\r\n        <ScrollRestoration />\r\n        <Scripts />\r\n      </body>\r\n    </html>\r\n  );\r\n}\r\n\r\nexport default function App() {\r\n  return <Outlet />;\r\n}\r\n`\r\n       },\r\n       {\r\n         filename: \"entry.server.tsx\",\r\n         content: `\r\n/**\r\n * By default, Remix will handle generating the HTTP Response for you.\r\n * You are free to delete this file if you'd like to, but if you ever want it revealed again, you can run \\`npx remix reveal\\` ✨\r\n * For more information, see https://remix.run/file-conventions/entry.server\r\n */\r\n\r\nimport { PassThrough } from \"node:stream\";\r\n\r\nimport type { AppLoadContext, EntryContext } from \"@remix-run/node\";\r\nimport { createReadableStreamFromReadable } from \"@remix-run/node\";\r\nimport { RemixServer } from \"@remix-run/react\";\r\nimport { isbot } from \"isbot\";\r\nimport { renderToPipeableStream } from \"react-dom/server\";\r\n\r\nconst ABORT_DELAY = 5_000;\r\n\r\nexport default function handleRequest(\r\n  request: Request,\r\n  responseStatusCode: number,\r\n  responseHeaders: Headers,\r\n  remixContext: EntryContext,\r\n  // This is ignored so we can keep it in the template for visibility.  Feel\r\n  // free to delete this parameter in your app if you're not using it!\r\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n  loadContext: AppLoadContext\r\n) {\r\n  return isbot(request.headers.get(\"user-agent\") || \"\")\r\n    ? handleBotRequest(\r\n        request,\r\n        responseStatusCode,\r\n        responseHeaders,\r\n        remixContext\r\n      )\r\n    : handleBrowserRequest(\r\n        request,\r\n        responseStatusCode,\r\n        responseHeaders,\r\n        remixContext\r\n      );\r\n}\r\n\r\nfunction handleBotRequest(\r\n  request: Request,\r\n  responseStatusCode: number,\r\n  responseHeaders: Headers,\r\n  remixContext: EntryContext\r\n) {\r\n  return new Promise((resolve, reject) => {\r\n    let shellRendered = false;\r\n    const { pipe, abort } = renderToPipeableStream(\r\n      <RemixServer\r\n        context={remixContext}\r\n        url={request.url}\r\n        abortDelay={ABORT_DELAY}\r\n      />,\r\n      {\r\n        onAllReady() {\r\n          shellRendered = true;\r\n          const body = new PassThrough();\r\n          const stream = createReadableStreamFromReadable(body);\r\n\r\n          responseHeaders.set(\"Content-Type\", \"text/html\");\r\n\r\n          resolve(\r\n            new Response(stream, {\r\n              headers: responseHeaders,\r\n              status: responseStatusCode,\r\n            })\r\n          );\r\n\r\n          pipe(body);\r\n        },\r\n        onShellError(error: unknown) {\r\n          reject(error);\r\n        },\r\n        onError(error: unknown) {\r\n          responseStatusCode = 500;\r\n          // Log streaming rendering errors from inside the shell.  Don't log\r\n          // errors encountered during initial shell rendering since they'll\r\n          // reject and get logged in handleDocumentRequest.\r\n          if (shellRendered) {\r\n            console.error(error);\r\n          }\r\n        },\r\n      }\r\n    );\r\n\r\n    setTimeout(abort, ABORT_DELAY);\r\n  });\r\n}\r\n\r\nfunction handleBrowserRequest(\r\n  request: Request,\r\n  responseStatusCode: number,\r\n  responseHeaders: Headers,\r\n  remixContext: EntryContext\r\n) {\r\n  return new Promise((resolve, reject) => {\r\n    let shellRendered = false;\r\n    const { pipe, abort } = renderToPipeableStream(\r\n      <RemixServer\r\n        context={remixContext}\r\n        url={request.url}\r\n        abortDelay={ABORT_DELAY}\r\n      />,\r\n      {\r\n        onShellReady() {\r\n          shellRendered = true;\r\n          const body = new PassThrough();\r\n          const stream = createReadableStreamFromReadable(body);\r\n\r\n          responseHeaders.set(\"Content-Type\", \"text/html\");\r\n\r\n          resolve(\r\n            new Response(stream, {\r\n              headers: responseHeaders,\r\n              status: responseStatusCode,\r\n            })\r\n          );\r\n\r\n          pipe(body);\r\n        },\r\n        onShellError(error: unknown) {\r\n          reject(error);\r\n        },\r\n        onError(error: unknown) {\r\n          responseStatusCode = 500;\r\n          // Log streaming rendering errors from inside the shell.  Don't log\r\n          // errors encountered during initial shell rendering since they'll\r\n          // reject and get logged in handleDocumentRequest.\r\n          if (shellRendered) {\r\n            console.error(error);\r\n          }\r\n        },\r\n      }\r\n    );\r\n\r\n    setTimeout(abort, ABORT_DELAY);\r\n  });\r\n}\r\n  `\r\n       },\r\n       {\r\n         filename: \"entry.client.tsx\",\r\n         content:`import { RemixBrowser } from \"@remix-run/react\";\r\nimport { startTransition, StrictMode } from \"react\";\r\nimport { hydrateRoot } from \"react-dom/client\";\r\n\r\nstartTransition(() => {\r\n  hydrateRoot(\r\n    document,\r\n    <StrictMode>\r\n      <RemixBrowser />\r\n    </StrictMode>\r\n  );\r\n});\r\n`\r\n       },\r\n       {\r\n         filename: \"routes\",\r\n         contents: [\r\n           {\r\n             filename: \"_index.tsx\",\r\n             content:`import type { MetaFunction } from \"@remix-run/node\";\r\n\r\nexport const meta: MetaFunction = () => {\r\n  return [\r\n    { title: \"New Remix App\" },\r\n    { name: \"description\", content: \"Welcome to Remix!\" },\r\n  ];\r\n};\r\n\r\nexport default function Index() {\r\n  return (\r\n    <div className=\"flex h-screen items-center justify-center\">\r\n      <div className=\"flex flex-col items-center gap-16\">\r\n        <header className=\"flex flex-col items-center gap-9\">\r\n          <h1 className=\"leading text-2xl font-bold text-gray-800 dark:text-gray-100\">\r\n            Welcome to <span className=\"sr-only\">Remix</span>\r\n          </h1>\r\n          <div className=\"h-[144px] w-[434px]\">\r\n            <img\r\n              src=\"/logo-light.png\"\r\n              alt=\"Remix\"\r\n              className=\"block w-full dark:hidden\"\r\n            />\r\n            <img\r\n              src=\"/logo-dark.png\"\r\n              alt=\"Remix\"\r\n              className=\"hidden w-full dark:block\"\r\n            />\r\n          </div>\r\n        </header>\r\n        <nav className=\"flex flex-col items-center justify-center gap-4 rounded-3xl border border-gray-200 p-6 dark:border-gray-700\">\r\n          <p className=\"leading-6 text-gray-700 dark:text-gray-200\">\r\n            What&apos;s next?\r\n          </p>\r\n          <ul>\r\n            {resources.map(({ href, text, icon }) => (\r\n              <li key={href}>\r\n                <a\r\n                  className=\"group flex items-center gap-3 self-stretch p-3 leading-normal text-blue-700 hover:underline dark:text-blue-500\"\r\n                  href={href}\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                >\r\n                  {icon}\r\n                  {text}\r\n                </a>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </nav>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst resources = [\r\n  {\r\n    href: \"https://remix.run/start/quickstart\",\r\n    text: \"Quick Start (5 min)\",\r\n    icon: (\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"24\"\r\n        height=\"20\"\r\n        viewBox=\"0 0 20 20\"\r\n        fill=\"none\"\r\n        className=\"stroke-gray-600 group-hover:stroke-current dark:stroke-gray-300\"\r\n      >\r\n        <path\r\n          d=\"M8.51851 12.0741L7.92592 18L15.6296 9.7037L11.4815 7.33333L12.0741 2L4.37036 10.2963L8.51851 12.0741Z\"\r\n          strokeWidth=\"1.5\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n      </svg>\r\n    ),\r\n  },\r\n  {\r\n    href: \"https://remix.run/start/tutorial\",\r\n    text: \"Tutorial (30 min)\",\r\n    icon: (\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"24\"\r\n        height=\"20\"\r\n        viewBox=\"0 0 20 20\"\r\n        fill=\"none\"\r\n        className=\"stroke-gray-600 group-hover:stroke-current dark:stroke-gray-300\"\r\n      >\r\n        <path\r\n          d=\"M4.561 12.749L3.15503 14.1549M3.00811 8.99944H1.01978M3.15503 3.84489L4.561 5.2508M8.3107 1.70923L8.3107 3.69749M13.4655 3.84489L12.0595 5.2508M18.1868 17.0974L16.635 18.6491C16.4636 18.8205 16.1858 18.8205 16.0144 18.6491L13.568 16.2028C13.383 16.0178 13.0784 16.0347 12.915 16.239L11.2697 18.2956C11.047 18.5739 10.6029 18.4847 10.505 18.142L7.85215 8.85711C7.75756 8.52603 8.06365 8.21994 8.39472 8.31453L17.6796 10.9673C18.0223 11.0653 18.1115 11.5094 17.8332 11.7321L15.7766 13.3773C15.5723 13.5408 15.5554 13.8454 15.7404 14.0304L18.1868 16.4767C18.3582 16.6481 18.3582 16.926 18.1868 17.0974Z\"\r\n          strokeWidth=\"1.5\"\r\n          strokeLinecap=\"round\"\r\n          strokeLinejoin=\"round\"\r\n        />\r\n      </svg>\r\n    ),\r\n  },\r\n  {\r\n    href: \"https://remix.run/docs\",\r\n    text: \"Remix Docs\",\r\n    icon: (\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"24\"\r\n        height=\"20\"\r\n        viewBox=\"0 0 20 20\"\r\n        fill=\"none\"\r\n        className=\"stroke-gray-600 group-hover:stroke-current dark:stroke-gray-300\"\r\n      >\r\n        <path\r\n          d=\"M9.99981 10.0751V9.99992M17.4688 17.4688C15.889 19.0485 11.2645 16.9853 7.13958 12.8604C3.01467 8.73546 0.951405 4.11091 2.53116 2.53116C4.11091 0.951405 8.73546 3.01467 12.8604 7.13958C16.9853 11.2645 19.0485 15.889 17.4688 17.4688ZM2.53132 17.4688C0.951566 15.8891 3.01483 11.2645 7.13974 7.13963C11.2647 3.01471 15.8892 0.951453 17.469 2.53121C19.0487 4.11096 16.9854 8.73551 12.8605 12.8604C8.73562 16.9853 4.11107 19.0486 2.53132 17.4688Z\"\r\n          strokeWidth=\"1.5\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n      </svg>\r\n    ),\r\n  },\r\n  {\r\n    href: \"https://rmx.as/discord\",\r\n    text: \"Join Discord\",\r\n    icon: (\r\n      <svg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        width=\"24\"\r\n        height=\"20\"\r\n        viewBox=\"0 0 24 20\"\r\n        fill=\"none\"\r\n        className=\"stroke-gray-600 group-hover:stroke-current dark:stroke-gray-300\"\r\n      >\r\n        <path\r\n          d=\"M15.0686 1.25995L14.5477 1.17423L14.2913 1.63578C14.1754 1.84439 14.0545 2.08275 13.9422 2.31963C12.6461 2.16488 11.3406 2.16505 10.0445 2.32014C9.92822 2.08178 9.80478 1.84975 9.67412 1.62413L9.41449 1.17584L8.90333 1.25995C7.33547 1.51794 5.80717 1.99419 4.37748 2.66939L4.19 2.75793L4.07461 2.93019C1.23864 7.16437 0.46302 11.3053 0.838165 15.3924L0.868838 15.7266L1.13844 15.9264C2.81818 17.1714 4.68053 18.1233 6.68582 18.719L7.18892 18.8684L7.50166 18.4469C7.96179 17.8268 8.36504 17.1824 8.709 16.4944L8.71099 16.4904C10.8645 17.0471 13.128 17.0485 15.2821 16.4947C15.6261 17.1826 16.0293 17.8269 16.4892 18.4469L16.805 18.8725L17.3116 18.717C19.3056 18.105 21.1876 17.1751 22.8559 15.9238L23.1224 15.724L23.1528 15.3923C23.5873 10.6524 22.3579 6.53306 19.8947 2.90714L19.7759 2.73227L19.5833 2.64518C18.1437 1.99439 16.6386 1.51826 15.0686 1.25995ZM16.6074 10.7755L16.6074 10.7756C16.5934 11.6409 16.0212 12.1444 15.4783 12.1444C14.9297 12.1444 14.3493 11.6173 14.3493 10.7877C14.3493 9.94885 14.9378 9.41192 15.4783 9.41192C16.0471 9.41192 16.6209 9.93851 16.6074 10.7755ZM8.49373 12.1444C7.94513 12.1444 7.36471 11.6173 7.36471 10.7877C7.36471 9.94885 7.95323 9.41192 8.49373 9.41192C9.06038 9.41192 9.63892 9.93712 9.6417 10.7815C9.62517 11.6239 9.05462 12.1444 8.49373 12.1444Z\"\r\n          strokeWidth=\"1.5\"\r\n        />\r\n      </svg>\r\n    ),\r\n  },\r\n];\r\n`\r\n           }\r\n         ]\r\n       }\r\n\r\n     ]\r\n  },\r\n  {\r\n    filename: \"public\",\r\n    contents: [\r\n      {\r\n        filename: \"favicon.ico\",\r\n        content:\"\",\r\n      },\r\n      {\r\n        filename: \"logo-dark.svg\",\r\n        content:`<svg width=\"819\" height=\"269\" viewBox=\"0 0 819 269\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g filter=\"url(#filter0_dd_3_93)\">\r\n<path d=\"M583.592 97.7797V228H630.538V97.7797H583.592ZM583.302 85.5167H630.828V44.0565H583.302V85.5167Z\" fill=\"#FFF7FF\"/>\r\n</g>\r\n<g filter=\"url(#filter1_dd_3_93)\">\r\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M193.744 183.947C195.387 205.214 195.387 215.183 195.387 226.065H146.558C146.558 223.694 146.6 221.526 146.642 219.327C146.774 212.492 146.912 205.365 145.813 190.971C144.361 169.899 135.356 165.216 118.798 165.216H104.128H42V126.876H121.122C142.037 126.876 152.494 120.464 152.494 103.489C152.494 88.5626 142.037 79.5172 121.122 79.5172H42V42H129.836C177.186 42 200.716 64.5359 200.716 100.535C200.716 127.461 184.158 145.021 161.79 147.948C180.672 151.753 191.71 162.582 193.744 183.947Z\" fill=\"#E8F2FF\"/>\r\n<path d=\"M42 226.064V197.483H93.6297C102.254 197.483 104.126 203.928 104.126 207.772V226.064H42Z\" fill=\"#E8F2FF\"/>\r\n</g>\r\n<g filter=\"url(#filter2_dd_3_93)\">\r\n<path d=\"M782.943 97.5244H734.548L712.523 128.474L691.079 97.5244H639.206L685.862 161.467L635.148 227.745H683.544L709.336 192.416L735.127 227.745H787L735.996 159.423L782.943 97.5244Z\" fill=\"#FFF0F1\"/>\r\n</g>\r\n<g filter=\"url(#filter3_dd_3_93)\">\r\n<path d=\"M478.111 119.105C472.605 103.922 460.723 93.4114 437.83 93.4114C418.414 93.4114 404.504 102.171 397.549 116.477V96.9151H350.602V227.135H397.549V163.193C397.549 143.631 403.055 130.784 418.414 130.784C432.614 130.784 436.091 140.127 436.091 157.938V227.135H483.038V163.193C483.038 143.631 488.254 130.784 503.903 130.784C518.102 130.784 521.29 140.127 521.29 157.938V227.135H568.237V145.383C568.237 118.229 557.804 93.4114 522.16 93.4114C500.425 93.4114 485.066 104.506 478.111 119.105Z\" fill=\"#FFFAEA\"/>\r\n</g>\r\n<g filter=\"url(#filter4_dd_3_93)\">\r\n<path d=\"M301.716 176.598C297.369 186.818 289.255 191.197 276.504 191.197C262.304 191.197 250.712 183.606 249.553 167.547H340.258V154.408C340.258 119.08 317.365 89.2982 274.185 89.2982C233.904 89.2982 203.766 118.788 203.766 159.956C203.766 201.416 233.325 226.526 274.765 226.526C308.961 226.526 332.724 209.883 339.389 180.102L301.716 176.598ZM250.133 144.773C251.871 132.51 258.537 123.167 273.606 123.167C287.516 123.167 295.05 133.094 295.63 144.773H250.133Z\" fill=\"#F1FFF0\"/>\r\n</g>\r\n<defs>\r\n<filter id=\"filter0_dd_3_93\" x=\"555.302\" y=\"16.0565\" width=\"103.526\" height=\"239.944\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"14\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.847059 0 0 0 0 0.231373 0 0 0 0 0.823529 0 0 0 1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow_3_93\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"14\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.847059 0 0 0 0 0.231373 0 0 0 0 0.823529 0 0 0 1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow_3_93\" result=\"effect2_dropShadow_3_93\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow_3_93\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter1_dd_3_93\" x=\"0\" y=\"0\" width=\"242.715\" height=\"268.065\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"21\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.223529 0 0 0 0 0.572549 0 0 0 0 1 0 0 0 1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow_3_93\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"14\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.223529 0 0 0 0 0.572549 0 0 0 0 1 0 0 0 0.9 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow_3_93\" result=\"effect2_dropShadow_3_93\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow_3_93\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter2_dd_3_93\" x=\"603.148\" y=\"65.5244\" width=\"215.852\" height=\"194.22\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"14\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.960784 0 0 0 0 0.2 0 0 0 0 0.258824 0 0 0 1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow_3_93\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"16\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.960784 0 0 0 0 0.2 0 0 0 0 0.258824 0 0 0 1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow_3_93\" result=\"effect2_dropShadow_3_93\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow_3_93\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter3_dd_3_93\" x=\"322.602\" y=\"65.4114\" width=\"273.635\" height=\"189.724\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"14\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.996078 0 0 0 0 0.8 0 0 0 0 0.105882 0 0 0 1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow_3_93\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"14\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.996078 0 0 0 0 0.8 0 0 0 0 0.105882 0 0 0 1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow_3_93\" result=\"effect2_dropShadow_3_93\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow_3_93\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter4_dd_3_93\" x=\"175.766\" y=\"61.2982\" width=\"192.493\" height=\"193.228\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"14\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.419608 0 0 0 0 0.85098 0 0 0 0 0.407843 0 0 0 1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow_3_93\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"14\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.419608 0 0 0 0 0.85098 0 0 0 0 0.407843 0 0 0 1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow_3_93\" result=\"effect2_dropShadow_3_93\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow_3_93\" result=\"shape\"/>\r\n</filter>\r\n</defs>\r\n</svg>\r\n`\r\n      },\r\n      {\r\n        filename: \"logo-light.svg\",\r\n        content:`<svg width=\"819\" height=\"269\" viewBox=\"0 0 819 269\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<g filter=\"url(#filter0_dd_3_93)\">\r\n<path d=\"M583.592 97.7797V228H630.538V97.7797H583.592ZM583.302 85.5167H630.828V44.0565H583.302V85.5167Z\" fill=\"#FFF7FF\"/>\r\n</g>\r\n<g filter=\"url(#filter1_dd_3_93)\">\r\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M193.744 183.947C195.387 205.214 195.387 215.183 195.387 226.065H146.558C146.558 223.694 146.6 221.526 146.642 219.327C146.774 212.492 146.912 205.365 145.813 190.971C144.361 169.899 135.356 165.216 118.798 165.216H104.128H42V126.876H121.122C142.037 126.876 152.494 120.464 152.494 103.489C152.494 88.5626 142.037 79.5172 121.122 79.5172H42V42H129.836C177.186 42 200.716 64.5359 200.716 100.535C200.716 127.461 184.158 145.021 161.79 147.948C180.672 151.753 191.71 162.582 193.744 183.947Z\" fill=\"#E8F2FF\"/>\r\n<path d=\"M42 226.064V197.483H93.6297C102.254 197.483 104.126 203.928 104.126 207.772V226.064H42Z\" fill=\"#E8F2FF\"/>\r\n</g>\r\n<g filter=\"url(#filter2_dd_3_93)\">\r\n<path d=\"M782.943 97.5244H734.548L712.523 128.474L691.079 97.5244H639.206L685.862 161.467L635.148 227.745H683.544L709.336 192.416L735.127 227.745H787L735.996 159.423L782.943 97.5244Z\" fill=\"#FFF0F1\"/>\r\n</g>\r\n<g filter=\"url(#filter3_dd_3_93)\">\r\n<path d=\"M478.111 119.105C472.605 103.922 460.723 93.4114 437.83 93.4114C418.414 93.4114 404.504 102.171 397.549 116.477V96.9151H350.602V227.135H397.549V163.193C397.549 143.631 403.055 130.784 418.414 130.784C432.614 130.784 436.091 140.127 436.091 157.938V227.135H483.038V163.193C483.038 143.631 488.254 130.784 503.903 130.784C518.102 130.784 521.29 140.127 521.29 157.938V227.135H568.237V145.383C568.237 118.229 557.804 93.4114 522.16 93.4114C500.425 93.4114 485.066 104.506 478.111 119.105Z\" fill=\"#FFFAEA\"/>\r\n</g>\r\n<g filter=\"url(#filter4_dd_3_93)\">\r\n<path d=\"M301.716 176.598C297.369 186.818 289.255 191.197 276.504 191.197C262.304 191.197 250.712 183.606 249.553 167.547H340.258V154.408C340.258 119.08 317.365 89.2982 274.185 89.2982C233.904 89.2982 203.766 118.788 203.766 159.956C203.766 201.416 233.325 226.526 274.765 226.526C308.961 226.526 332.724 209.883 339.389 180.102L301.716 176.598ZM250.133 144.773C251.871 132.51 258.537 123.167 273.606 123.167C287.516 123.167 295.05 133.094 295.63 144.773H250.133Z\" fill=\"#F1FFF0\"/>\r\n</g>\r\n<defs>\r\n<filter id=\"filter0_dd_3_93\" x=\"555.302\" y=\"16.0565\" width=\"103.526\" height=\"239.944\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"14\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.847059 0 0 0 0 0.231373 0 0 0 0 0.823529 0 0 0 1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow_3_93\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"14\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.847059 0 0 0 0 0.231373 0 0 0 0 0.823529 0 0 0 1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow_3_93\" result=\"effect2_dropShadow_3_93\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow_3_93\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter1_dd_3_93\" x=\"0\" y=\"0\" width=\"242.715\" height=\"268.065\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"21\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.223529 0 0 0 0 0.572549 0 0 0 0 1 0 0 0 1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow_3_93\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"14\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.223529 0 0 0 0 0.572549 0 0 0 0 1 0 0 0 0.9 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow_3_93\" result=\"effect2_dropShadow_3_93\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow_3_93\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter2_dd_3_93\" x=\"603.148\" y=\"65.5244\" width=\"215.852\" height=\"194.22\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"14\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.960784 0 0 0 0 0.2 0 0 0 0 0.258824 0 0 0 1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow_3_93\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"16\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.960784 0 0 0 0 0.2 0 0 0 0 0.258824 0 0 0 1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow_3_93\" result=\"effect2_dropShadow_3_93\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow_3_93\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter3_dd_3_93\" x=\"322.602\" y=\"65.4114\" width=\"273.635\" height=\"189.724\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"14\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.996078 0 0 0 0 0.8 0 0 0 0 0.105882 0 0 0 1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow_3_93\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"14\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.996078 0 0 0 0 0.8 0 0 0 0 0.105882 0 0 0 1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow_3_93\" result=\"effect2_dropShadow_3_93\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow_3_93\" result=\"shape\"/>\r\n</filter>\r\n<filter id=\"filter4_dd_3_93\" x=\"175.766\" y=\"61.2982\" width=\"192.493\" height=\"193.228\" filterUnits=\"userSpaceOnUse\" color-interpolation-filters=\"sRGB\">\r\n<feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"14\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.419608 0 0 0 0 0.85098 0 0 0 0 0.407843 0 0 0 1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow_3_93\"/>\r\n<feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\"/>\r\n<feOffset/>\r\n<feGaussianBlur stdDeviation=\"14\"/>\r\n<feComposite in2=\"hardAlpha\" operator=\"out\"/>\r\n<feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.419608 0 0 0 0 0.85098 0 0 0 0 0.407843 0 0 0 1 0\"/>\r\n<feBlend mode=\"normal\" in2=\"effect1_dropShadow_3_93\" result=\"effect2_dropShadow_3_93\"/>\r\n<feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow_3_93\" result=\"shape\"/>\r\n</filter>\r\n</defs>\r\n</svg>\r\n`\r\n      }\r\n    ]\r\n   }\r\n];\r\n\r\nexport default fileContentsForRemix;","const fileContentsForAstro = [\r\n    {\r\n    filename : '.gitignore',\r\n    content: `# build output\r\ndist/\r\n\r\n# generated types\r\n.astro/\r\n\r\n# dependencies\r\nnode_modules/\r\n\r\n# logs\r\nnpm-debug.log*\r\nyarn-debug.log*\r\nyarn-error.log*\r\npnpm-debug.log*\r\n\r\n# environment variables\r\n.env\r\n.env.production\r\n\r\n# macOS-specific files\r\n.DS_Store\r\n\r\n# jetbrains setting folder\r\n.idea/\r\n`,\r\n    },\r\n    {\r\n    filename : 'astro.config.mjs',\r\n    content: `import { defineConfig } from 'astro/config';\r\n\r\n// https://astro.build/config\r\nexport default defineConfig({});\r\n`,\r\n    },\r\n    {\r\n    filename : 'package.json',\r\n    content: `{\r\n  \"name\": \"@example/basics\",\r\n  \"type\": \"module\",\r\n  \"version\": \"0.0.1\",\r\n  \"private\": true,\r\n  \"scripts\": {\r\n    \"dev\": \"astro dev\",\r\n    \"start\": \"astro dev\",\r\n    \"build\": \"astro build\",\r\n    \"preview\": \"astro preview\",\r\n    \"astro\": \"astro\"\r\n  },\r\n  \"dependencies\": {\r\n    \"astro\": \"^4.15.11\"\r\n  }\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename: 'README.md',\r\n        content: `# Astro Starter Kit: Basics\r\n      \r\n      \\`\\`\\`sh\r\n      npm create astro@latest -- --template basics\r\n      \\`\\`\\`\r\n      \r\n      [![Open in StackBlitz](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](https://stackblitz.com/github/withastro/astro/tree/latest/examples/basics)\r\n      [![Open with CodeSandbox](https://assets.codesandbox.io/github/button-edit-lime.svg)](https://codesandbox.io/p/sandbox/github/withastro/astro/tree/latest/examples/basics)\r\n      [![Open in GitHub Codespaces](https://github.com/codespaces/badge.svg)](https://codespaces.new/withastro/astro?devcontainer_path=.devcontainer/basics/devcontainer.json)\r\n      \r\n      > 🧑‍🚀 **Seasoned astronaut?** Delete this file. Have fun!\r\n      \r\n      ![just-the-basics](https://github.com/withastro/astro/assets/2244813/a0a5533c-a856-4198-8470-2d67b1d7c554)\r\n      \r\n      ## 🚀 Project Structure\r\n      \r\n      Inside of your Astro project, you'll see the following folders and files:\r\n      \r\n      \\`\\`\\`text\r\n      /\r\n      ├── public/\r\n      │   └── favicon.svg\r\n      ├── src/\r\n      │   ├── components/\r\n      │   │   └── Card.astro\r\n      │   ├── layouts/\r\n      │   │   └── Layout.astro\r\n      │   └── pages/\r\n      │       └── index.astro\r\n      └── package.json\r\n      \\`\\`\\`\r\n      \r\n      Astro looks for \\`.astro\\` or \\`.md\\` files in the \\`src/pages/\\` directory. Each page is exposed as a route based on its file name.\r\n      \r\n      There's nothing special about \\`src/components/\\`, but that's where we like to put any Astro/React/Vue/Svelte/Preact components.\r\n      \r\n      Any static assets, like images, can be placed in the \\`public/\\` directory.\r\n      \r\n      ## 🧞 Commands\r\n      \r\n      All commands are run from the root of the project, from a terminal:\r\n      \r\n      | Command                   | Action                                           |\r\n      | :------------------------ | :----------------------------------------------- |\r\n      | \\`npm install\\`             | Installs dependencies                            |\r\n      | \\`npm run dev\\`             | Starts local dev server at \\`localhost:4321\\`      |\r\n      | \\`npm run build\\`           | Build your production site to \\`./dist/\\`          |\r\n      | \\`npm run preview\\`         | Preview your build locally, before deploying     |\r\n      | \\`npm run astro ...\\`       | Run CLI commands like \\`astro add\\`, \\`astro check\\` |\r\n      | \\`npm run astro -- --help\\` | Get help using the Astro CLI                     |\r\n      \r\n      ## 👀 Want to learn more?\r\n      \r\n      Feel free to check [our documentation](https://docs.astro.build) or jump into our [Discord server](https://astro.build/chat).\r\n      `,\r\n      },      \r\n    {\r\n    filename : 'tsconfig.json',\r\n    content: `{\r\n  \"extends\": \"astro/tsconfigs/base\"\r\n}\r\n`,\r\n    },\r\n\r\n];\r\n\r\nexport const fileContentsForAstroProject = [\r\n  {\r\n    filename: '.gitignore',\r\n    content: `# build output\r\ndist/\r\n\r\n# generated types\r\n.astro/\r\n\r\n# dependencies\r\nnode_modules/\r\n\r\n# logs\r\nnpm-debug.log*\r\nyarn-debug.log*\r\nyarn-error.log*\r\npnpm-debug.log*\r\n\r\n# environment variables\r\n.env\r\n.env.production\r\n\r\n# macOS-specific files\r\n.DS_Store\r\n\r\n# jetbrains setting folder\r\n.idea/\r\n`,\r\n  },\r\n  {\r\n    filename: 'astro.config.mjs',\r\n    content: `import { defineConfig } from 'astro/config';\r\n\r\n// https://astro.build/config\r\nexport default defineConfig({});\r\n`,\r\n  },\r\n  {\r\n    filename: 'package.json',\r\n    content: `{\r\n  \"name\": \"@example/basics\",\r\n  \"type\": \"module\",\r\n  \"version\": \"0.0.1\",\r\n  \"private\": true,\r\n  \"scripts\": {\r\n    \"dev\": \"astro dev\",\r\n    \"start\": \"astro dev\",\r\n    \"build\": \"astro build\",\r\n    \"preview\": \"astro preview\",\r\n    \"astro\": \"astro\"\r\n  },\r\n  \"dependencies\": {\r\n    \"astro\": \"^4.15.11\"\r\n  }\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: 'README.md',\r\n    content: `# Astro Starter Kit: Basics\r\n      \r\n      \\`\\`\\`sh\r\n      npm create astro@latest -- --template basics\r\n      \\`\\`\\`\r\n      \r\n      [![Open in StackBlitz](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](https://stackblitz.com/github/withastro/astro/tree/latest/examples/basics)\r\n      [![Open with CodeSandbox](https://assets.codesandbox.io/github/button-edit-lime.svg)](https://codesandbox.io/p/sandbox/github/withastro/astro/tree/latest/examples/basics)\r\n      [![Open in GitHub Codespaces](https://github.com/codespaces/badge.svg)](https://codespaces.new/withastro/astro?devcontainer_path=.devcontainer/basics/devcontainer.json)\r\n      \r\n      > 🧑‍🚀 **Seasoned astronaut?** Delete this file. Have fun!\r\n      \r\n      ![just-the-basics](https://github.com/withastro/astro/assets/2244813/a0a5533c-a856-4198-8470-2d67b1d7c554)\r\n      \r\n      ## 🚀 Project Structure\r\n      \r\n      Inside of your Astro project, you'll see the following folders and files:\r\n      \r\n      \\`\\`\\`text\r\n      /\r\n      ├── public/\r\n      │   └── favicon.svg\r\n      ├── src/\r\n      │   ├── components/\r\n      │   │   └── Card.astro\r\n      │   ├── layouts/\r\n      │   │   └── Layout.astro\r\n      │   └── pages/\r\n      │       └── index.astro\r\n      └── package.json\r\n      \\`\\`\\`\r\n      \r\n      Astro looks for \\`.astro\\` or \\`.md\\` files in the \\`src/pages/\\` directory. Each page is exposed as a route based on its file name.\r\n      \r\n      There's nothing special about \\`src/components/\\`, but that's where we like to put any Astro/React/Vue/Svelte/Preact components.\r\n      \r\n      Any static assets, like images, can be placed in the \\`public/\\` directory.\r\n      \r\n      ## 🧞 Commands\r\n      \r\n      All commands are run from the root of the project, from a terminal:\r\n      \r\n      | Command                   | Action                                           |\r\n      | :------------------------ | :----------------------------------------------- |\r\n      | \\`npm install\\`             | Installs dependencies                            |\r\n      | \\`npm run dev\\`             | Starts local dev server at \\`localhost:4321\\`      |\r\n      | \\`npm run build\\`           | Build your production site to \\`./dist/\\`          |\r\n      | \\`npm run preview\\`         | Preview your build locally, before deploying     |\r\n      | \\`npm run astro ...\\`       | Run CLI commands like \\`astro add\\`, \\`astro check\\` |\r\n      | \\`npm run astro -- --help\\` | Get help using the Astro CLI                     |\r\n      \r\n      ## 👀 Want to learn more?\r\n      \r\n      Feel free to check [our documentation](https://docs.astro.build) or jump into our [Discord server](https://astro.build/chat).\r\n      `,\r\n  },\r\n  {\r\n    filename: 'tsconfig.json',\r\n    content: `{\r\n  \"extends\": \"astro/tsconfigs/base\"\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: \"public\",\r\n    contents: [\r\n      {\r\n        filename: \"favicon.svg\",\r\n        content: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 128 128\">\r\n    <path d=\"M50.4 78.5a75.1 75.1 0 0 0-28.5 6.9l24.2-65.7c.7-2 1.9-3.2 3.4-3.2h29c1.5 0 2.7 1.2 3.4 3.2l24.2 65.7s-11.6-7-28.5-7L67 45.5c-.4-1.7-1.6-2.8-2.9-2.8-1.3 0-2.5 1.1-2.9 2.7L50.4 78.5Zm-1.1 28.2Zm-4.2-20.2c-2 6.6-.6 15.8 4.2 20.2a17.5 17.5 0 0 1 .2-.7 5.5 5.5 0 0 1 5.7-4.5c2.8.1 4.3 1.5 4.7 4.7.2 1.1.2 2.3.2 3.5v.4c0 2.7.7 5.2 2.2 7.4a13 13 0 0 0 5.7 4.9v-.3l-.2-.3c-1.8-5.6-.5-9.5 4.4-12.8l1.5-1a73 73 0 0 0 3.2-2.2 16 16 0 0 0 6.8-11.4c.3-2 .1-4-.6-6l-.8.6-1.6 1a37 37 0 0 1-22.4 2.7c-5-.7-9.7-2-13.2-6.2Z\" />\r\n    <style>\r\n        path { fill: #000; }\r\n        @media (prefers-color-scheme: dark) {\r\n            path { fill: #FFF; }\r\n        }\r\n    </style>\r\n</svg>\r\n`\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    filename: \"src\",\r\n    contents: [\r\n      {\r\n        filename: \"components\",\r\n        contents: [\r\n          {\r\n            filename: \"Card.astro\",\r\n            content: `---\r\ninterface Props {\r\n\ttitle: string;\r\n\tbody: string;\r\n\thref: string;\r\n}\r\n\r\nconst { href, title, body } = Astro.props;\r\n---\r\n\r\n<li class=\"link-card\">\r\n\t<a href={href}>\r\n\t\t<h2>\r\n\t\t\t{title}\r\n\t\t\t<span>&rarr;</span>\r\n\t\t</h2>\r\n\t\t<p>\r\n\t\t\t{body}\r\n\t\t</p>\r\n\t</a>\r\n</li>\r\n<style>\r\n\t.link-card {\r\n\t\tlist-style: none;\r\n\t\tdisplay: flex;\r\n\t\tpadding: 1px;\r\n\t\tbackground-color: #23262d;\r\n\t\tbackground-image: none;\r\n\t\tbackground-size: 400%;\r\n\t\tborder-radius: 7px;\r\n\t\tbackground-position: 100%;\r\n\t\ttransition: background-position 0.6s cubic-bezier(0.22, 1, 0.36, 1);\r\n\t\tbox-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.1);\r\n\t}\r\n\t.link-card > a {\r\n\t\twidth: 100%;\r\n\t\ttext-decoration: none;\r\n\t\tline-height: 1.4;\r\n\t\tpadding: calc(1.5rem - 1px);\r\n\t\tborder-radius: 8px;\r\n\t\tcolor: white;\r\n\t\tbackground-color: #23262d;\r\n\t\topacity: 0.8;\r\n\t}\r\n\th2 {\r\n\t\tmargin: 0;\r\n\t\tfont-size: 1.25rem;\r\n\t\ttransition: color 0.6s cubic-bezier(0.22, 1, 0.36, 1);\r\n\t}\r\n\tp {\r\n\t\tmargin-top: 0.5rem;\r\n\t\tmargin-bottom: 0;\r\n\t}\r\n\t.link-card:is(:hover, :focus-within) {\r\n\t\tbackground-position: 0;\r\n\t\tbackground-image: var(--accent-gradient);\r\n\t}\r\n\t.link-card:is(:hover, :focus-within) h2 {\r\n\t\tcolor: rgb(var(--accent-light));\r\n\t}\r\n</style>\r\n`\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        filename: \"layouts\",\r\n        contents: [\r\n          {\r\n            filename: \"Layout.astro\",\r\n            content: `---\r\ninterface Props {\r\n\ttitle: string;\r\n}\r\n\r\nconst { title } = Astro.props;\r\n---\r\n\r\n<!doctype html>\r\n<html lang=\"en\">\r\n\t<head>\r\n\t\t<meta charset=\"UTF-8\" />\r\n\t\t<meta name=\"description\" content=\"Astro description\" />\r\n\t\t<meta name=\"viewport\" content=\"width=device-width\" />\r\n\t\t<link rel=\"icon\" type=\"image/svg+xml\" href=\"/favicon.svg\" />\r\n\t\t<meta name=\"generator\" content={Astro.generator} />\r\n\t\t<title>{title}</title>\r\n\t</head>\r\n\t<body>\r\n\t\t<slot />\r\n\t</body>\r\n</html>\r\n<style is:global>\r\n\t:root {\r\n\t\t--accent: 136, 58, 234;\r\n\t\t--accent-light: 224, 204, 250;\r\n\t\t--accent-dark: 49, 10, 101;\r\n\t\t--accent-gradient: linear-gradient(\r\n\t\t\t45deg,\r\n\t\t\trgb(var(--accent)),\r\n\t\t\trgb(var(--accent-light)) 30%,\r\n\t\t\twhite 60%\r\n\t\t);\r\n\t}\r\n\thtml {\r\n\t\tfont-family: system-ui, sans-serif;\r\n\t\tbackground: #13151a;\r\n\t}\r\n\tcode {\r\n\t\tfont-family:\r\n\t\t\tMenlo,\r\n\t\t\tMonaco,\r\n\t\t\tLucida Console,\r\n\t\t\tLiberation Mono,\r\n\t\t\tDejaVu Sans Mono,\r\n\t\t\tBitstream Vera Sans Mono,\r\n\t\t\tCourier New,\r\n\t\t\tmonospace;\r\n\t}\r\n</style>\r\n`\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        filename: \"pages\",\r\n        contents: [\r\n          {\r\n            filename: \"index.astro\",\r\n            content: `---\r\nimport Layout from '../layouts/Layout.astro';\r\nimport Card from '../components/Card.astro';\r\n---\r\n\r\n<Layout title=\"Welcome to Astro.\">\r\n\t<main>\r\n\t\t<svg\r\n\t\t\tclass=\"astro-a\"\r\n\t\t\twidth=\"495\"\r\n\t\t\theight=\"623\"\r\n\t\t\tviewBox=\"0 0 495 623\"\r\n\t\t\tfill=\"none\"\r\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\taria-hidden=\"true\"\r\n\t\t>\r\n\t\t\t<path\r\n\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\td=\"M167.19 364.254C83.4786 364.254 0 404.819 0 404.819C0 404.819 141.781 19.4876 142.087 18.7291C146.434 7.33701 153.027 0 162.289 0H332.441C341.703 0 348.574 7.33701 352.643 18.7291C352.92 19.5022 494.716 404.819 494.716 404.819C494.716 404.819 426.67 364.254 327.525 364.254L264.41 169.408C262.047 159.985 255.147 153.581 247.358 153.581C239.569 153.581 232.669 159.985 230.306 169.408L167.19 364.254ZM160.869 530.172C160.877 530.18 160.885 530.187 160.894 530.195L160.867 530.181C160.868 530.178 160.868 530.175 160.869 530.172ZM136.218 411.348C124.476 450.467 132.698 504.458 160.869 530.172C160.997 529.696 161.125 529.242 161.248 528.804C161.502 527.907 161.737 527.073 161.917 526.233C165.446 509.895 178.754 499.52 195.577 500.01C211.969 500.487 220.67 508.765 223.202 527.254C224.141 534.12 224.23 541.131 224.319 548.105C224.328 548.834 224.337 549.563 224.347 550.291C224.563 566.098 228.657 580.707 237.264 593.914C245.413 606.426 256.108 615.943 270.749 622.478C270.593 621.952 270.463 621.508 270.35 621.126C270.045 620.086 269.872 619.499 269.685 618.911C258.909 585.935 266.668 563.266 295.344 543.933C298.254 541.971 301.187 540.041 304.12 538.112C310.591 533.854 317.059 529.599 323.279 525.007C345.88 508.329 360.09 486.327 363.431 457.844C364.805 446.148 363.781 434.657 359.848 423.275C358.176 424.287 356.587 425.295 355.042 426.275C351.744 428.366 348.647 430.33 345.382 431.934C303.466 452.507 259.152 455.053 214.03 448.245C184.802 443.834 156.584 436.019 136.218 411.348Z\"\r\n\t\t\t\tfill=\"url(#paint0_linear_1805_24383)\"></path>\r\n\t\t\t<defs>\r\n\t\t\t\t<linearGradient\r\n\t\t\t\t\tid=\"paint0_linear_1805_24383\"\r\n\t\t\t\t\tx1=\"247.358\"\r\n\t\t\t\t\ty1=\"0\"\r\n\t\t\t\t\tx2=\"247.358\"\r\n\t\t\t\t\ty2=\"622.479\"\r\n\t\t\t\t\tgradientUnits=\"userSpaceOnUse\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<stop stop-opacity=\"0.9\"></stop>\r\n\t\t\t\t\t<stop offset=\"1\" stop-opacity=\"0.2\"></stop>\r\n\t\t\t\t</linearGradient>\r\n\t\t\t</defs>\r\n\t\t</svg>\r\n\t\t<h1>Welcome to <span class=\"text-gradient\">Astro</span></h1>\r\n\t\t<p class=\"instructions\">\r\n\t\t\tTo get started, open the directory <code>src/pages</code> in your project.<br />\r\n\t\t\t<strong>Code Challenge:</strong> Tweak the \"Welcome to Astro\" message above.\r\n\t\t</p>\r\n\t\t<ul role=\"list\" class=\"link-card-grid\">\r\n\t\t\t<Card\r\n\t\t\t\thref=\"https://docs.astro.build/\"\r\n\t\t\t\ttitle=\"Documentation\"\r\n\t\t\t\tbody=\"Learn how Astro works and explore the official API docs.\"\r\n\t\t\t/>\r\n\t\t\t<Card\r\n\t\t\t\thref=\"https://astro.build/integrations/\"\r\n\t\t\t\ttitle=\"Integrations\"\r\n\t\t\t\tbody=\"Supercharge your project with new frameworks and libraries.\"\r\n\t\t\t/>\r\n\t\t\t<Card\r\n\t\t\t\thref=\"https://astro.build/themes/\"\r\n\t\t\t\ttitle=\"Themes\"\r\n\t\t\t\tbody=\"Explore a galaxy of community-built starter themes.\"\r\n\t\t\t/>\r\n\t\t\t<Card\r\n\t\t\t\thref=\"https://astro.build/chat/\"\r\n\t\t\t\ttitle=\"Community\"\r\n\t\t\t\tbody=\"Come say hi to our amazing Discord community. ❤️\"\r\n\t\t\t/>\r\n\t\t</ul>\r\n\t</main>\r\n</Layout>\r\n\r\n<style>\r\n\tmain {\r\n\t\tmargin: auto;\r\n\t\tpadding: 1rem;\r\n\t\twidth: 800px;\r\n\t\tmax-width: calc(100% - 2rem);\r\n\t\tcolor: white;\r\n\t\tfont-size: 20px;\r\n\t\tline-height: 1.6;\r\n\t}\r\n\t.astro-a {\r\n\t\tposition: absolute;\r\n\t\ttop: -32px;\r\n\t\tleft: 50%;\r\n\t\ttransform: translatex(-50%);\r\n\t\twidth: 220px;\r\n\t\theight: auto;\r\n\t\tz-index: -1;\r\n\t}\r\n\th1 {\r\n\t\tfont-size: 4rem;\r\n\t\tfont-weight: 700;\r\n\t\tline-height: 1;\r\n\t\ttext-align: center;\r\n\t\tmargin-bottom: 1em;\r\n\t}\r\n\t.text-gradient {\r\n\t\tbackground-image: var(--accent-gradient);\r\n\t\t-webkit-background-clip: text;\r\n\t\t-webkit-text-fill-color: transparent;\r\n\t\tbackground-size: 400%;\r\n\t\tbackground-position: 0%;\r\n\t}\r\n\t.instructions {\r\n\t\tmargin-bottom: 2rem;\r\n\t\tborder: 1px solid rgba(var(--accent-light), 25%);\r\n\t\tbackground: linear-gradient(rgba(var(--accent-dark), 66%), rgba(var(--accent-dark), 33%));\r\n\t\tpadding: 1.5rem;\r\n\t\tborder-radius: 8px;\r\n\t}\r\n\t.instructions code {\r\n\t\tfont-size: 0.8em;\r\n\t\tfont-weight: bold;\r\n\t\tbackground: rgba(var(--accent-light), 12%);\r\n\t\tcolor: rgb(var(--accent-light));\r\n\t\tborder-radius: 4px;\r\n\t\tpadding: 0.3em 0.4em;\r\n\t}\r\n\t.instructions strong {\r\n\t\tcolor: rgb(var(--accent-light));\r\n\t}\r\n\t.link-card-grid {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: repeat(auto-fit, minmax(24ch, 1fr));\r\n\t\tgap: 2rem;\r\n\t\tpadding: 0;\r\n\t}\r\n</style>\r\n`\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        filename: \"env.d.ts\",\r\n        content:`/// <reference path=\"../.astro/types.d.ts\" />`\r\n      }\r\n    ]\r\n  },\r\n];\r\n// export const fileContentsForAstroProject1 = [\r\n//   {\r\n//     filename: '.gitignore',\r\n//     content: `# build output\r\n// dist/\r\n\r\n// # generated types\r\n// .astro/\r\n\r\n// # dependencies\r\n// node_modules/\r\n\r\n// # logs\r\n// npm-debug.log*\r\n// yarn-debug.log*\r\n// yarn-error.log*\r\n// pnpm-debug.log*\r\n\r\n// # environment variables\r\n// .env\r\n// .env.production\r\n\r\n// # macOS-specific files\r\n// .DS_Store\r\n\r\n// # jetbrains setting folder\r\n// .idea/\r\n// `,\r\n//   },\r\n//   {\r\n//     filename: 'astro.config.mjs',\r\n//     content: `import { defineConfig } from 'astro/config';\r\n\r\n// // https://astro.build/config\r\n// export default defineConfig({});\r\n// `,\r\n//   },\r\n//   {\r\n//     filename: 'package.json',\r\n// \t  content: `{\r\n//   \"name\": \"astroSetup\",\r\n//   \"type\": \"module\",\r\n//   \"version\": \"0.0.1\",\r\n//   \"scripts\": {\r\n//     \"dev\": \"astro dev\",\r\n//     \"build\": \"astro build\",\r\n//     \"preview\": \"astro preview\",\r\n//     \"astro\": \"astro\"\r\n//   },\r\n//   \"dependencies\": {\r\n//     \"astro\": \"^5.1.7\"\r\n//   }\r\n// }\r\n// `,\r\n//   },\r\n//   {\r\n//     filename: 'README.md',\r\n//     content: `# Astro Starter Kit: Basics\r\n      \r\n//       \\`\\`\\`sh\r\n//       npm create astro@latest -- --template basics\r\n//       \\`\\`\\`\r\n      \r\n//       [![Open in StackBlitz](https://developer.stackblitz.com/img/open_in_stackblitz.svg)](https://stackblitz.com/github/withastro/astro/tree/latest/examples/basics)\r\n//       [![Open with CodeSandbox](https://assets.codesandbox.io/github/button-edit-lime.svg)](https://codesandbox.io/p/sandbox/github/withastro/astro/tree/latest/examples/basics)\r\n//       [![Open in GitHub Codespaces](https://github.com/codespaces/badge.svg)](https://codespaces.new/withastro/astro?devcontainer_path=.devcontainer/basics/devcontainer.json)\r\n      \r\n//       > 🧑‍🚀 **Seasoned astronaut?** Delete this file. Have fun!\r\n      \r\n//       ![just-the-basics](https://github.com/withastro/astro/assets/2244813/a0a5533c-a856-4198-8470-2d67b1d7c554)\r\n      \r\n//       ## 🚀 Project Structure\r\n      \r\n//       Inside of your Astro project, you'll see the following folders and files:\r\n      \r\n//       \\`\\`\\`text\r\n//       /\r\n//       ├── public/\r\n//       │   └── favicon.svg\r\n//       ├── src/\r\n//       │   ├── components/\r\n//       │   │   └── Card.astro\r\n//       │   ├── layouts/\r\n//       │   │   └── Layout.astro\r\n//       │   └── pages/\r\n//       │       └── index.astro\r\n//       └── package.json\r\n//       \\`\\`\\`\r\n      \r\n//       Astro looks for \\`.astro\\` or \\`.md\\` files in the \\`src/pages/\\` directory. Each page is exposed as a route based on its file name.\r\n      \r\n//       There's nothing special about \\`src/components/\\`, but that's where we like to put any Astro/React/Vue/Svelte/Preact components.\r\n      \r\n//       Any static assets, like images, can be placed in the \\`public/\\` directory.\r\n      \r\n//       ## 🧞 Commands\r\n      \r\n//       All commands are run from the root of the project, from a terminal:\r\n      \r\n//       | Command                   | Action                                           |\r\n//       | :------------------------ | :----------------------------------------------- |\r\n//       | \\`npm install\\`             | Installs dependencies                            |\r\n//       | \\`npm run dev\\`             | Starts local dev server at \\`localhost:4321\\`      |\r\n//       | \\`npm run build\\`           | Build your production site to \\`./dist/\\`          |\r\n//       | \\`npm run preview\\`         | Preview your build locally, before deploying     |\r\n//       | \\`npm run astro ...\\`       | Run CLI commands like \\`astro add\\`, \\`astro check\\` |\r\n//       | \\`npm run astro -- --help\\` | Get help using the Astro CLI                     |\r\n      \r\n//       ## 👀 Want to learn more?\r\n      \r\n//       Feel free to check [our documentation](https://docs.astro.build) or jump into our [Discord server](https://astro.build/chat).\r\n//       `,\r\n//   },\r\n//   {\r\n//     filename: 'tsconfig.json',\r\n// \t  content: `{\r\n//   \"extends\": \"astro/tsconfigs/strict\",\r\n//   \"include\": [\".astro/types.d.ts\", \"**/*\"],\r\n//   \"exclude\": [\"dist\"]\r\n// }\r\n// `,\r\n//   },\r\n//   {\r\n//     filename: \"public\",\r\n//     contents: [\r\n//       {\r\n//         filename: \"favicon.svg\",\r\n//         content: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 128 128\">\r\n//     <path d=\"M50.4 78.5a75.1 75.1 0 0 0-28.5 6.9l24.2-65.7c.7-2 1.9-3.2 3.4-3.2h29c1.5 0 2.7 1.2 3.4 3.2l24.2 65.7s-11.6-7-28.5-7L67 45.5c-.4-1.7-1.6-2.8-2.9-2.8-1.3 0-2.5 1.1-2.9 2.7L50.4 78.5Zm-1.1 28.2Zm-4.2-20.2c-2 6.6-.6 15.8 4.2 20.2a17.5 17.5 0 0 1 .2-.7 5.5 5.5 0 0 1 5.7-4.5c2.8.1 4.3 1.5 4.7 4.7.2 1.1.2 2.3.2 3.5v.4c0 2.7.7 5.2 2.2 7.4a13 13 0 0 0 5.7 4.9v-.3l-.2-.3c-1.8-5.6-.5-9.5 4.4-12.8l1.5-1a73 73 0 0 0 3.2-2.2 16 16 0 0 0 6.8-11.4c.3-2 .1-4-.6-6l-.8.6-1.6 1a37 37 0 0 1-22.4 2.7c-5-.7-9.7-2-13.2-6.2Z\" />\r\n//     <style>\r\n//         path { fill: #000; }\r\n//         @media (prefers-color-scheme: dark) {\r\n//             path { fill: #FFF; }\r\n//         }\r\n//     </style>\r\n// </svg>\r\n// `\r\n//       },\r\n//     ],\r\n//   },\r\n//   {\r\n//     filename: \"src\",\r\n//     contents: [\r\n//       {\r\n//         filename: \"components\",\r\n//         contents: [\r\n//           {\r\n//             filename: \"Card.astro\",\r\n//             content: `---\r\n// interface Props {\r\n// \ttitle: string;\r\n// \tbody: string;\r\n// \thref: string;\r\n// }\r\n\r\n// const { href, title, body } = Astro.props;\r\n// ---\r\n\r\n// <li class=\"link-card\">\r\n// \t<a href={href}>\r\n// \t\t<h2>\r\n// \t\t\t{title}\r\n// \t\t\t<span>&rarr;</span>\r\n// \t\t</h2>\r\n// \t\t<p>\r\n// \t\t\t{body}\r\n// \t\t</p>\r\n// \t</a>\r\n// </li>\r\n// <style>\r\n// \t.link-card {\r\n// \t\tlist-style: none;\r\n// \t\tdisplay: flex;\r\n// \t\tpadding: 1px;\r\n// \t\tbackground-color: #23262d;\r\n// \t\tbackground-image: none;\r\n// \t\tbackground-size: 400%;\r\n// \t\tborder-radius: 7px;\r\n// \t\tbackground-position: 100%;\r\n// \t\ttransition: background-position 0.6s cubic-bezier(0.22, 1, 0.36, 1);\r\n// \t\tbox-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.1);\r\n// \t}\r\n// \t.link-card > a {\r\n// \t\twidth: 100%;\r\n// \t\ttext-decoration: none;\r\n// \t\tline-height: 1.4;\r\n// \t\tpadding: calc(1.5rem - 1px);\r\n// \t\tborder-radius: 8px;\r\n// \t\tcolor: white;\r\n// \t\tbackground-color: #23262d;\r\n// \t\topacity: 0.8;\r\n// \t}\r\n// \th2 {\r\n// \t\tmargin: 0;\r\n// \t\tfont-size: 1.25rem;\r\n// \t\ttransition: color 0.6s cubic-bezier(0.22, 1, 0.36, 1);\r\n// \t}\r\n// \tp {\r\n// \t\tmargin-top: 0.5rem;\r\n// \t\tmargin-bottom: 0;\r\n// \t}\r\n// \t.link-card:is(:hover, :focus-within) {\r\n// \t\tbackground-position: 0;\r\n// \t\tbackground-image: var(--accent-gradient);\r\n// \t}\r\n// \t.link-card:is(:hover, :focus-within) h2 {\r\n// \t\tcolor: rgb(var(--accent-light));\r\n// \t}\r\n// </style>\r\n// `\r\n//           }\r\n//         ]\r\n//       },\r\n//       {\r\n//         filename: \"layouts\",\r\n//         contents: [\r\n//           {\r\n//             filename: \"Layout.astro\",\r\n//             content: `---\r\n// interface Props {\r\n// \ttitle: string;\r\n// }\r\n\r\n// const { title } = Astro.props;\r\n// ---\r\n\r\n// <!doctype html>\r\n// <html lang=\"en\">\r\n// \t<head>\r\n// \t\t<meta charset=\"UTF-8\" />\r\n// \t\t<meta name=\"description\" content=\"Astro description\" />\r\n// \t\t<meta name=\"viewport\" content=\"width=device-width\" />\r\n// \t\t<link rel=\"icon\" type=\"image/svg+xml\" href=\"/favicon.svg\" />\r\n// \t\t<meta name=\"generator\" content={Astro.generator} />\r\n// \t\t<title>{title}</title>\r\n// \t</head>\r\n// \t<body>\r\n// \t\t<slot />\r\n// \t</body>\r\n// </html>\r\n// <style is:global>\r\n// \t:root {\r\n// \t\t--accent: 136, 58, 234;\r\n// \t\t--accent-light: 224, 204, 250;\r\n// \t\t--accent-dark: 49, 10, 101;\r\n// \t\t--accent-gradient: linear-gradient(\r\n// \t\t\t45deg,\r\n// \t\t\trgb(var(--accent)),\r\n// \t\t\trgb(var(--accent-light)) 30%,\r\n// \t\t\twhite 60%\r\n// \t\t);\r\n// \t}\r\n// \thtml {\r\n// \t\tfont-family: system-ui, sans-serif;\r\n// \t\tbackground: #13151a;\r\n// \t}\r\n// \tcode {\r\n// \t\tfont-family:\r\n// \t\t\tMenlo,\r\n// \t\t\tMonaco,\r\n// \t\t\tLucida Console,\r\n// \t\t\tLiberation Mono,\r\n// \t\t\tDejaVu Sans Mono,\r\n// \t\t\tBitstream Vera Sans Mono,\r\n// \t\t\tCourier New,\r\n// \t\t\tmonospace;\r\n// \t}\r\n// </style>\r\n// `\r\n//           }\r\n//         ]\r\n//       },\r\n//       {\r\n//         filename: \"pages\",\r\n//         contents: [\r\n//           {\r\n//             filename: \"index.astro\",\r\n//             content: `---\r\n// import Layout from '../layouts/Layout.astro';\r\n// import Card from '../components/Card.astro';\r\n// ---\r\n\r\n// <Layout title=\"Welcome to Astro.\">\r\n// \t<main>\r\n// \t\t<svg\r\n// \t\t\tclass=\"astro-a\"\r\n// \t\t\twidth=\"495\"\r\n// \t\t\theight=\"623\"\r\n// \t\t\tviewBox=\"0 0 495 623\"\r\n// \t\t\tfill=\"none\"\r\n// \t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n// \t\t\taria-hidden=\"true\"\r\n// \t\t>\r\n// \t\t\t<path\r\n// \t\t\t\tfill-rule=\"evenodd\"\r\n// \t\t\t\tclip-rule=\"evenodd\"\r\n// \t\t\t\td=\"M167.19 364.254C83.4786 364.254 0 404.819 0 404.819C0 404.819 141.781 19.4876 142.087 18.7291C146.434 7.33701 153.027 0 162.289 0H332.441C341.703 0 348.574 7.33701 352.643 18.7291C352.92 19.5022 494.716 404.819 494.716 404.819C494.716 404.819 426.67 364.254 327.525 364.254L264.41 169.408C262.047 159.985 255.147 153.581 247.358 153.581C239.569 153.581 232.669 159.985 230.306 169.408L167.19 364.254ZM160.869 530.172C160.877 530.18 160.885 530.187 160.894 530.195L160.867 530.181C160.868 530.178 160.868 530.175 160.869 530.172ZM136.218 411.348C124.476 450.467 132.698 504.458 160.869 530.172C160.997 529.696 161.125 529.242 161.248 528.804C161.502 527.907 161.737 527.073 161.917 526.233C165.446 509.895 178.754 499.52 195.577 500.01C211.969 500.487 220.67 508.765 223.202 527.254C224.141 534.12 224.23 541.131 224.319 548.105C224.328 548.834 224.337 549.563 224.347 550.291C224.563 566.098 228.657 580.707 237.264 593.914C245.413 606.426 256.108 615.943 270.749 622.478C270.593 621.952 270.463 621.508 270.35 621.126C270.045 620.086 269.872 619.499 269.685 618.911C258.909 585.935 266.668 563.266 295.344 543.933C298.254 541.971 301.187 540.041 304.12 538.112C310.591 533.854 317.059 529.599 323.279 525.007C345.88 508.329 360.09 486.327 363.431 457.844C364.805 446.148 363.781 434.657 359.848 423.275C358.176 424.287 356.587 425.295 355.042 426.275C351.744 428.366 348.647 430.33 345.382 431.934C303.466 452.507 259.152 455.053 214.03 448.245C184.802 443.834 156.584 436.019 136.218 411.348Z\"\r\n// \t\t\t\tfill=\"url(#paint0_linear_1805_24383)\"></path>\r\n// \t\t\t<defs>\r\n// \t\t\t\t<linearGradient\r\n// \t\t\t\t\tid=\"paint0_linear_1805_24383\"\r\n// \t\t\t\t\tx1=\"247.358\"\r\n// \t\t\t\t\ty1=\"0\"\r\n// \t\t\t\t\tx2=\"247.358\"\r\n// \t\t\t\t\ty2=\"622.479\"\r\n// \t\t\t\t\tgradientUnits=\"userSpaceOnUse\"\r\n// \t\t\t\t>\r\n// \t\t\t\t\t<stop stop-opacity=\"0.9\"></stop>\r\n// \t\t\t\t\t<stop offset=\"1\" stop-opacity=\"0.2\"></stop>\r\n// \t\t\t\t</linearGradient>\r\n// \t\t\t</defs>\r\n// \t\t</svg>\r\n// \t\t<h1>Welcome to <span class=\"text-gradient\">Astro</span></h1>\r\n// \t\t<p class=\"instructions\">\r\n// \t\t\tTo get started, open the directory <code>src/pages</code> in your project.<br />\r\n// \t\t\t<strong>Code Challenge:</strong> Tweak the \"Welcome to Astro\" message above.\r\n// \t\t</p>\r\n// \t\t<ul role=\"list\" class=\"link-card-grid\">\r\n// \t\t\t<Card\r\n// \t\t\t\thref=\"https://docs.astro.build/\"\r\n// \t\t\t\ttitle=\"Documentation\"\r\n// \t\t\t\tbody=\"Learn how Astro works and explore the official API docs.\"\r\n// \t\t\t/>\r\n// \t\t\t<Card\r\n// \t\t\t\thref=\"https://astro.build/integrations/\"\r\n// \t\t\t\ttitle=\"Integrations\"\r\n// \t\t\t\tbody=\"Supercharge your project with new frameworks and libraries.\"\r\n// \t\t\t/>\r\n// \t\t\t<Card\r\n// \t\t\t\thref=\"https://astro.build/themes/\"\r\n// \t\t\t\ttitle=\"Themes\"\r\n// \t\t\t\tbody=\"Explore a galaxy of community-built starter themes.\"\r\n// \t\t\t/>\r\n// \t\t\t<Card\r\n// \t\t\t\thref=\"https://astro.build/chat/\"\r\n// \t\t\t\ttitle=\"Community\"\r\n// \t\t\t\tbody=\"Come say hi to our amazing Discord community. ❤️\"\r\n// \t\t\t/>\r\n// \t\t</ul>\r\n// \t</main>\r\n// </Layout>\r\n\r\n// <style>\r\n// \tmain {\r\n// \t\tmargin: auto;\r\n// \t\tpadding: 1rem;\r\n// \t\twidth: 800px;\r\n// \t\tmax-width: calc(100% - 2rem);\r\n// \t\tcolor: white;\r\n// \t\tfont-size: 20px;\r\n// \t\tline-height: 1.6;\r\n// \t}\r\n// \t.astro-a {\r\n// \t\tposition: absolute;\r\n// \t\ttop: -32px;\r\n// \t\tleft: 50%;\r\n// \t\ttransform: translatex(-50%);\r\n// \t\twidth: 220px;\r\n// \t\theight: auto;\r\n// \t\tz-index: -1;\r\n// \t}\r\n// \th1 {\r\n// \t\tfont-size: 4rem;\r\n// \t\tfont-weight: 700;\r\n// \t\tline-height: 1;\r\n// \t\ttext-align: center;\r\n// \t\tmargin-bottom: 1em;\r\n// \t}\r\n// \t.text-gradient {\r\n// \t\tbackground-image: var(--accent-gradient);\r\n// \t\t-webkit-background-clip: text;\r\n// \t\t-webkit-text-fill-color: transparent;\r\n// \t\tbackground-size: 400%;\r\n// \t\tbackground-position: 0%;\r\n// \t}\r\n// \t.instructions {\r\n// \t\tmargin-bottom: 2rem;\r\n// \t\tborder: 1px solid rgba(var(--accent-light), 25%);\r\n// \t\tbackground: linear-gradient(rgba(var(--accent-dark), 66%), rgba(var(--accent-dark), 33%));\r\n// \t\tpadding: 1.5rem;\r\n// \t\tborder-radius: 8px;\r\n// \t}\r\n// \t.instructions code {\r\n// \t\tfont-size: 0.8em;\r\n// \t\tfont-weight: bold;\r\n// \t\tbackground: rgba(var(--accent-light), 12%);\r\n// \t\tcolor: rgb(var(--accent-light));\r\n// \t\tborder-radius: 4px;\r\n// \t\tpadding: 0.3em 0.4em;\r\n// \t}\r\n// \t.instructions strong {\r\n// \t\tcolor: rgb(var(--accent-light));\r\n// \t}\r\n// \t.link-card-grid {\r\n// \t\tdisplay: grid;\r\n// \t\tgrid-template-columns: repeat(auto-fit, minmax(24ch, 1fr));\r\n// \t\tgap: 2rem;\r\n// \t\tpadding: 0;\r\n// \t}\r\n// </style>\r\n// `\r\n//           }\r\n//         ]\r\n//       },\r\n//     //   {\r\n//     //     filename: \"env.d.ts\",\r\n//     //     contents:`/// <reference path=\"../.astro/types.d.ts\" />`\r\n//     //   }\r\n//     ]\r\n//   },\r\n// ];\r\nexport default fileContentsForAstro;","const fileContentsForNuxt = [\r\n\r\n    {\r\n        filename : '.gitignore',\r\n        content: `node_modules\r\n*.log*\r\n.nuxt\r\n.nitro\r\n.cache\r\n.output\r\n.data\r\n.env\r\ndist`,\r\n    },\r\n    {\r\n        filename : 'app.vue',\r\n      content: `<template>\r\n  <NuxtLayout>\r\n    <NuxtPage />\r\n  </NuxtLayout>\r\n</template>\r\n`,\r\n    },\r\n    {\r\n        filename : 'nuxt.config.ts',\r\n        content: `// https://nuxt.com/docs/api/configuration/nuxt-config\r\nexport default defineNuxtConfig({\r\n  compatibilityDate: '2024-04-03',\r\n  devtools: { enabled: false }\r\n})\r\n`,\r\n    },\r\n    {\r\n        filename : 'package.json',\r\n      content: `{\r\n  \"name\": \"nuxt-app\",\r\n  \"private\": true,\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"build\": \"nuxt build\",\r\n    \"dev\": \"nuxt dev --hostname 0.0.0.0\",\r\n    \"generate\": \"nuxt generate\",\r\n    \"preview\": \"nuxt preview\",\r\n    \"postinstall\": \"nuxt prepare\"\r\n  },\r\n  \"dependencies\": {\r\n    \"nuxt\": \"^3.13.2\"\r\n  }\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'README.md',\r\n        content: `\r\n# Nuxt 3 Minimal Starter\r\n\r\nLook at the [Nuxt 3 documentation](https://nuxt.com/docs/getting-started/introduction) to learn more.\r\n\r\n## Setup\r\n\r\nMake sure to install the dependencies:\r\n\r\n\\`\\`\\`bash\r\n# yarn\r\nyarn install\r\n\r\n# npm\r\nnpm install\r\n\r\n# pnpm\r\npnpm install\r\n\\`\\`\\`\r\n\r\n## Development Server\r\n\r\nStart the development server on http://localhost:3000\r\n\r\n\\`\\`\\`bash\r\nnpm run dev\r\n\\`\\`\\`\r\n\r\n## Production\r\n\r\nBuild the application for production:\r\n\r\n\\`\\`\\`bash\r\nnpm run build\r\n\\`\\`\\`\r\n\r\nLocally preview production build:\r\n\r\n\\`\\`\\`bash\r\nnpm run preview\r\n\\`\\`\\`\r\n\r\nCheck out the [deployment documentation](https://nuxt.com/docs/getting-started/deployment) for more information.\r\n`,\r\n    },\r\n    {\r\n        filename : 'tsconfig.json',\r\n        content: `{\r\n  // https://v3.nuxtjs.org/concepts/typescript\r\n  \"extends\": \"./.nuxt/tsconfig.json\"\r\n}\r\n`,\r\n    },\r\n\r\n];\r\nexport const fileContentsForNuxtProject = [\r\n\r\n    {\r\n        filename : '.gitignore',\r\n        content: `node_modules\r\n*.log*\r\n.nuxt\r\n.nitro\r\n.cache\r\n.output\r\n.data\r\n.env\r\ndist`,\r\n    },\r\n    {\r\n        filename : 'app.vue',\r\n      content: `<template>\r\n  <NuxtLayout>\r\n    <NuxtPage />\r\n  </NuxtLayout>\r\n</template>\r\n`,\r\n    },\r\n    {\r\n        filename : 'nuxt.config.ts',\r\n        content: `// https://nuxt.com/docs/api/configuration/nuxt-config\r\nexport default defineNuxtConfig({\r\n  compatibilityDate: '2024-04-03',\r\n  devtools: { enabled: false }\r\n})\r\n`,\r\n    },\r\n    {\r\n        filename : 'package.json',\r\n      content: `{\r\n  \"name\": \"nuxt-app\",\r\n  \"private\": true,\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"build\": \"nuxt build\",\r\n    \"dev\": \"nuxt dev --hostname 0.0.0.0\",\r\n    \"generate\": \"nuxt generate\",\r\n    \"preview\": \"nuxt preview\",\r\n    \"postinstall\": \"nuxt prepare\"\r\n  },\r\n  \"dependencies\": {\r\n    \"nuxt\": \"^3.13.2\"\r\n  }\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'README.md',\r\n        content: `\r\n# Nuxt 3 Minimal Starter\r\n\r\nLook at the [Nuxt 3 documentation](https://nuxt.com/docs/getting-started/introduction) to learn more.\r\n\r\n## Setup\r\n\r\nMake sure to install the dependencies:\r\n\r\n\\`\\`\\`bash\r\n# yarn\r\nyarn install\r\n\r\n# npm\r\nnpm install\r\n\r\n# pnpm\r\npnpm install\r\n\\`\\`\\`\r\n\r\n## Development Server\r\n\r\nStart the development server on http://localhost:3000\r\n\r\n\\`\\`\\`bash\r\nnpm run dev\r\n\\`\\`\\`\r\n\r\n## Production\r\n\r\nBuild the application for production:\r\n\r\n\\`\\`\\`bash\r\nnpm run build\r\n\\`\\`\\`\r\n\r\nLocally preview production build:\r\n\r\n\\`\\`\\`bash\r\nnpm run preview\r\n\\`\\`\\`\r\n\r\nCheck out the [deployment documentation](https://nuxt.com/docs/getting-started/deployment) for more information.\r\n`,\r\n    },\r\n    {\r\n        filename : 'tsconfig.json',\r\n        content: `{\r\n  // https://v3.nuxtjs.org/concepts/typescript\r\n  \"extends\": \"./.nuxt/tsconfig.json\"\r\n}\r\n`,\r\n    },\r\n  {\r\n    filename: \"server\",\r\n    contents: [\r\n      {\r\n        filename: \"tsconfig.json\",\r\n        content:`{\r\n  \"extends\": \"../.nuxt/tsconfig.server.json\"\r\n}\r\n`\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    filename: \"public\",\r\n    contents: [\r\n      {\r\n        filename: \"favicon.ico\",\r\n        content:`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\">\r\n  <path d=\"M8.85406 12.5002H14.0586C14.2236 12.5002 14.3861 12.4562 14.5296 12.3732C14.6728 12.2893 14.7916 12.1693 14.8741 12.0252C14.957 11.8806 15.0006 11.7168 15.0006 11.5502C15.0006 11.3835 14.957 11.2197 14.8741 11.0752L11.3781 4.96816C11.2968 4.8234 11.1784 4.7029 11.0351 4.61904C10.8919 4.53517 10.7288 4.49097 10.5628 4.49097C10.3968 4.49097 10.2338 4.53517 10.0905 4.61904C9.94722 4.7029 9.82885 4.8234 9.74757 4.96816L8.85357 6.53066L7.10656 3.47516C7.02521 3.33042 6.90679 3.20993 6.76347 3.12609C6.62016 3.04224 6.45711 2.99805 6.29106 2.99805C6.12502 2.99805 5.96197 3.04224 5.81866 3.12609C5.67534 3.20993 5.55692 3.33042 5.47556 3.47516L1.12556 11.0752C1.00077 11.2933 0.966999 11.5519 1.03158 11.7948C1.09617 12.0377 1.2539 12.2453 1.47056 12.3727C1.61356 12.4562 1.77556 12.5002 1.94106 12.5002H5.20807C6.50256 12.5002 7.45706 11.9267 8.11356 10.8077L9.70856 8.02166L10.5626 6.53066L13.1261 11.0092H9.70856L8.85406 12.5002ZM5.15507 11.0077L2.87506 11.0072L6.29307 5.03616L7.99806 8.02116L6.85656 10.0172C6.42006 10.7432 5.92457 11.0077 5.15507 11.0077Z\" fill=\"#00DC82\"/>\r\n</svg>`\r\n      },\r\n      {\r\n        filename: \"robots.txt\",\r\n        content: ``\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\nexport default fileContentsForNuxt;","const fileContentsForQwik = [\r\n  {\r\n    filename: \".eslintignore\",\r\n    content: `**/*.log\r\n**/.DS_Store\r\n*.\r\n.vscode/settings.json\r\n.history\r\n.yarn\r\nbazel-*\r\nbazel-bin\r\nbazel-out\r\nbazel-qwik\r\nbazel-testlogs\r\ndist\r\ndist-dev\r\nlib\r\nlib-types\r\netc\r\nexternal\r\nnode_modules\r\ntemp\r\ntsc-out\r\ntsdoc-metadata.json\r\ntarget\r\noutput\r\nrollup.config.js\r\nbuild\r\n.cache\r\n.vscode\r\n.rollup.cache\r\ndist\r\ntsconfig.tsbuildinfo\r\nvite.config.ts\r\n*.spec.tsx\r\n*.spec.ts\r\n.netlify\r\npnpm-lock.yaml\r\npackage-lock.json\r\nyarn.lock\r\nserver\r\n`,\r\n  },\r\n  {\r\n    filename: \".eslintrc.cjs\",\r\n    content: `module.exports = {\r\n  root: true,\r\n  env: {\r\n    browser: true,\r\n    es2021: true,\r\n    node: true,\r\n  },\r\n  extends: [\r\n    'eslint:recommended',\r\n    'plugin:@typescript-eslint/recommended',\r\n    'plugin:qwik/recommended',\r\n  ],\r\n  parser: '@typescript-eslint/parser',\r\n  parserOptions: {\r\n    tsconfigRootDir: __dirname,\r\n    project: ['./tsconfig.json'],\r\n    ecmaVersion: 2021,\r\n    sourceType: 'module',\r\n    ecmaFeatures: {\r\n      jsx: true,\r\n    },\r\n  },\r\n  plugins: ['@typescript-eslint'],\r\n  rules: {\r\n    '@typescript-eslint/no-explicit-any': 'off',\r\n    '@typescript-eslint/explicit-module-boundary-types': 'off',\r\n    '@typescript-eslint/no-inferrable-types': 'off',\r\n    '@typescript-eslint/no-non-null-assertion': 'off',\r\n    '@typescript-eslint/no-empty-interface': 'off',\r\n    '@typescript-eslint/no-namespace': 'off',\r\n    '@typescript-eslint/no-empty-function': 'off',\r\n    '@typescript-eslint/no-this-alias': 'off',\r\n    '@typescript-eslint/ban-types': 'off',\r\n    '@typescript-eslint/ban-ts-comment': 'off',\r\n    'prefer-spread': 'off',\r\n    'no-case-declarations': 'off',\r\n    'no-console': 'off',\r\n    '@typescript-eslint/no-unused-vars': ['error'],\r\n    '@typescript-eslint/consistent-type-imports': 'warn',\r\n    '@typescript-eslint/no-unnecessary-condition': 'warn',\r\n  },\r\n};\r\n`,\r\n  },\r\n  {\r\n    filename: \".gitignore\",\r\n    content: `# Build\r\n/dist\r\n/lib\r\n/lib-types\r\n/server\r\n\r\n# Development\r\nnode_modules\r\n*.local\r\n\r\n# Cache\r\n.cache\r\n.mf\r\n.rollup.cache\r\ntsconfig.tsbuildinfo\r\n\r\n# Logs\r\nlogs\r\n*.log\r\nnpm-debug.log*\r\nyarn-debug.log*\r\nyarn-error.log*\r\npnpm-debug.log*\r\nlerna-debug.log*\r\n\r\n# Editor\r\n.vscode/*\r\n!.vscode/launch.json\r\n!.vscode/*.code-snippets\r\n\r\n.idea\r\n.DS_Store\r\n*.suo\r\n*.ntvs*\r\n*.njsproj\r\n*.sln\r\n*.sw?\r\n\r\n# Yarn\r\n.yarn/*\r\n!.yarn/releases\r\n`,\r\n  },\r\n  {\r\n    filename: \".prettierignore\",\r\n    content: `**/*.log\r\n**/.DS_Store\r\n*.\r\n.vscode/settings.json\r\n.history\r\n.yarn\r\nbazel-*\r\nbazel-bin\r\nbazel-out\r\nbazel-qwik\r\nbazel-testlogs\r\ndist\r\ndist-dev\r\nlib\r\nlib-types\r\netc\r\nexternal\r\nnode_modules\r\ntemp\r\ntsc-out\r\ntsdoc-metadata.json\r\ntarget\r\noutput\r\nrollup.config.js\r\nbuild\r\n.cache\r\n.vscode\r\n.rollup.cache\r\ntsconfig.tsbuildinfo\r\nvite.config.ts\r\n*.spec.tsx\r\n*.spec.ts\r\n.netlify\r\npnpm-lock.yaml\r\npackage-lock.json\r\nyarn.lock\r\nserver\r\n`,\r\n  },\r\n  {\r\n    filename: \"LICENSE\",\r\n    content: `MIT License\r\n\r\nCopyright (c) 2024 Qwik Dev\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the \"Software\"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in all\r\ncopies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\nSOFTWARE.\r\n`,\r\n  },\r\n  {\r\n    filename: \"package.json\",\r\n    content: `{\r\n  \"name\": \"my-qwik-basic-starter\",\r\n  \"description\": \"Demo app with sample routes\",\r\n  \"engines\": {\r\n    \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\"\r\n  },\r\n  \"engines-annotation\": \"Mostly required by sharp which needs a Node-API v9 compatible runtime\",\r\n  \"private\": true,\r\n  \"trustedDependencies\": [\r\n    \"sharp\"\r\n  ],\r\n  \"trustedDependencies-annotation\": \"Needed for bun to allow running install scripts\",\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"build\": \"qwik build\",\r\n    \"build.client\": \"vite build\",\r\n    \"build.preview\": \"vite build --ssr src/entry.preview.tsx\",\r\n    \"build.server\": \"vite build -c adapters/static/vite.config.ts\",\r\n    \"build.types\": \"tsc --incremental --noEmit\",\r\n    \"deploy\": \"echo 'Run \\\\\\\"npm run qwik add\\\\\\\" to install a server adapter'\",\r\n    \"dev\": \"vite --mode ssr\",\r\n    \"dev.debug\": \"node --inspect-brk ./node_modules/vite/bin/vite.js --mode ssr --force\",\r\n    \"fmt\": \"prettier --write .\",\r\n    \"fmt.check\": \"prettier --check .\",\r\n    \"lint\": \"eslint 'src/**/*.ts*'\",\r\n    \"preview\": \"qwik build preview && vite preview --open\",\r\n    \"start\": \"vite --open --mode ssr\",\r\n    \"qwik\": \"qwik\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@builder.io/qwik\": \"^1.7.3\",\r\n    \"@builder.io/qwik-city\": \"^1.7.3\",\r\n    \"@types/eslint\": \"^8.56.10\",\r\n    \"@types/node\": \"^20.12.7\",\r\n    \"@typescript-eslint/eslint-plugin\": \"^7.7.1\",\r\n    \"@typescript-eslint/parser\": \"^7.7.1\",\r\n    \"eslint\": \"^8.57.0\",\r\n    \"eslint-plugin-qwik\": \"^1.7.3\",\r\n    \"prettier\": \"^3.2.5\",\r\n    \"typescript\": \"5.4.5\",\r\n    \"undici\": \"*\",\r\n    \"vite\": \"^5.2.10\",\r\n    \"vite-tsconfig-paths\": \"^4.2.1\"\r\n  }\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: \"qwik.env.d.ts\",\r\n    content: `// This file can be used to add references for global types like \\`vite/client\\`.\r\n\r\n// Add global \\`vite/client\\` types. For more info, see: https://vitejs.dev/guide/features#client-types\r\n/// <reference types=\"vite/client\" />\r\n`,\r\n  },\r\n  {\r\n    filename: \"README.md\",\r\n    content: `# Qwik Starter For Stackblitz ⚡️ (qwik.new)\r\n\r\n- [Qwik Docs](https://qwik.dev/)\r\n- [Discord](https://qwik.dev/chat)\r\n- [Qwik GitHub](https://github.com/QwikDev/qwik)\r\n- [@QwikDev](https://twitter.com/QwikDev)\r\n- [Vite](https://vitejs.dev/)\r\n\r\n---\r\n\r\n## Project Structure\r\n\r\nThis project is using Qwik with [QwikCity](https://qwik.dev/qwikcity/overview/). QwikCity is just an extra set of tools on top of Qwik to make it easier to build a full site, including directory-based routing, layouts, and more.\r\n\r\nInside your project, you'll see the following directory structure:\r\n\r\n\\`\\`\\`\r\n├── public/\r\n│   └── ...\r\n└── src/\r\n    ├── components/\r\n    │   └── ...\r\n    └── routes/\r\n        └── ...\r\n\\`\\`\\`\r\n\r\n- \\`src/routes\\`: Provides the directory-based routing, which can include a hierarchy of \\`layout.tsx\\` layout files, and an \\`index.tsx\\` file as the page. Additionally, \\`index.ts\\` files are endpoints. Please see the [routing docs](https://qwik.dev/qwikcity/routing/overview/) for more info.\r\n\r\n- \\`src/components\\`: Recommended directory for components.\r\n\r\n- \\`public\\`: Any static assets, like images, can be placed in the public directory. Please see the [Vite public directory](https://vitejs.dev/guide/assets.html#the-public-directory) for more info.\r\n\r\n## Add Integrations and deployment\r\n\r\nUse the \\`pnpm qwik add\\` command to add additional integrations. Some examples of integrations includes: Cloudflare, Netlify or Express Server, and the [Static Site Generator (SSG)](https://qwik.dev/qwikcity/guides/static-site-generation/).\r\n\r\n\\`\\`\\`shell\r\npnpm qwik add # or \\`pnpm qwik add\\`\r\n\\`\\`\\`\r\n\r\n## Development\r\n\r\nDevelopment mode uses [Vite's development server](https://vitejs.dev/). The \\`dev\\` command will server-side render (SSR) the output during development.\r\n\r\n\\`\\`\\`shell\r\nnpm start # or \\`pnpm start\\`\r\n\\`\\`\\`\r\n\r\n> Note: during dev mode, Vite may request a significant number of \\`.js\\` files. This does not represent a Qwik production build.\r\n\r\n## Preview\r\n\r\nThe preview command will create a production build of the client modules, a production build of \\`src/entry.preview.tsx\\`, and run a local server. The preview server is only for convenience to preview a production build locally and should not be used as a production server.\r\n\r\n\\`\\`\\`shell\r\npnpm preview # or \\`pnpm preview\\`\r\n\\`\\`\\`\r\n\r\n## Production\r\n\r\nThe production build will generate client and server modules by running both client and server build commands. The build command will use Typescript to run a type check on the source code.\r\n\r\n\\`\\`\\`shell\r\npnpm build # or \\`pnpm build\\`\r\n\\`\\`\\`\r\n\r\n## Static Site Generator (Node.js)\r\n\r\n\\`\\`\\`shell\r\nnpm run build.server\r\n\\`\\`\\`\r\n`,\r\n  },\r\n  {\r\n    filename: \"tsconfig.json\",\r\n    content: `{\r\n  \"compilerOptions\": {\r\n    \"allowJs\": true,\r\n    \"target\": \"ES2017\",\r\n    \"module\": \"ES2022\",\r\n    \"lib\": [\"es2022\", \"DOM\", \"WebWorker\", \"DOM.Iterable\"],\r\n    \"jsx\": \"react-jsx\",\r\n    \"jsxImportSource\": \"@builder.io/qwik\",\r\n    \"strict\": true,\r\n    \"forceConsistentCasingInFileNames\": true,\r\n    \"resolveJsonModule\": true,\r\n    \"moduleResolution\": \"Bundler\",\r\n    \"esModuleInterop\": true,\r\n    \"skipLibCheck\": true,\r\n    \"incremental\": true,\r\n    \"isolatedModules\": true,\r\n    \"outDir\": \"tmp\",\r\n    \"noEmit\": true,\r\n    \"paths\": {\r\n      \"~/*\": [\"./src/*\"]\r\n    }\r\n  },\r\n  \"files\": [\"./.eslintrc.cjs\"],\r\n  \"include\": [\"src\", \"./*.d.ts\", \"./*.config.ts\"]\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: \"vite.config.ts\",\r\n    content: `\r\n/**\r\n * This is the base config for vite.\r\n * When building, the adapter config is used which loads this file and extends it.\r\n */\r\nimport { defineConfig, type UserConfig } from 'vite';\r\nimport { qwikVite } from '@builder.io/qwik/optimizer';\r\nimport { qwikCity } from '@builder.io/qwik-city/vite';\r\nimport tsconfigPaths from 'vite-tsconfig-paths';\r\nimport pkg from './package.json';\r\n\r\ntype PkgDep = Record<string, string>;\r\nconst { dependencies = {}, devDependencies = {} } = pkg as any as {\r\n  dependencies: PkgDep;\r\n  devDependencies: PkgDep;\r\n  [key: string]: unknown;\r\n};\r\nerrorOnDuplicatesPkgDeps(devDependencies, dependencies);\r\n\r\n/**\r\n * Note that Vite normally starts from \\`index.html\\` but the qwikCity plugin makes start at \\`src/entry.ssr.tsx\\` instead.\r\n */\r\nexport default defineConfig(({ command, mode }): UserConfig => {\r\n  return {\r\n    plugins: [qwikCity(), qwikVite(), tsconfigPaths()],\r\n    // This tells Vite which dependencies to pre-build in dev mode.\r\n    optimizeDeps: {\r\n      // Put problematic deps that break bundling here, mostly those with binaries.\r\n      // For example ['better-sqlite3'] if you use that in server functions.\r\n      exclude: [],\r\n    },\r\n\r\n    /**\r\n     * This is an advanced setting. It improves the bundling of your server code. To use it, make sure you understand when your consumed packages are dependencies or dev dependencies. (otherwise things will break in production)\r\n     */\r\n    // ssr:\r\n    //   command === \"build\" && mode === \"production\"\r\n    //     ? {\r\n    //         // All dev dependencies should be bundled in the server build\r\n    //         noExternal: Object.keys(devDependencies),\r\n    //         // Anything marked as a dependency will not be bundled\r\n    //         // These should only be production binary deps (including deps of deps), CLI deps, and their module graph\r\n    //         // If a dep-of-dep needs to be external, add it here\r\n    //         // For example, if something uses \\`bcrypt\\` but you don't have it as a dep, you can write\r\n    //         // external: [...Object.keys(dependencies), 'bcrypt']\r\n    //         external: Object.keys(dependencies),\r\n    //       }\r\n    //     : undefined,\r\n\r\n    server: {\r\n      headers: {\r\n        // Don't cache the server response in dev mode\r\n        'Cache-Control': 'public, max-age=0',\r\n      },\r\n    },\r\n    preview: {\r\n      headers: {\r\n        // Do cache the server response in preview (non-adapter production build)\r\n        'Cache-Control': 'public, max-age=600',\r\n      },\r\n    },\r\n  };\r\n});\r\n\r\n// *** utils ***\r\n\r\n/**\r\n * Function to identify duplicate dependencies and throw an error\r\n * @param {Object} devDependencies - List of development dependencies\r\n * @param {Object} dependencies - List of production dependencies\r\n */\r\nfunction errorOnDuplicatesPkgDeps(\r\n  devDependencies: PkgDep,\r\n  dependencies: PkgDep\r\n) {\r\n  let msg = '';\r\n  // Create an array 'duplicateDeps' by filtering devDependencies.\r\n  // If a dependency also exists in dependencies, it is considered a duplicate.\r\n  const duplicateDeps = Object.keys(devDependencies).filter(\r\n    (dep) => dependencies[dep]\r\n  );\r\n\r\n  // include any known qwik packages\r\n  const qwikPkg = Object.keys(dependencies).filter((value) =>\r\n    /qwik/i.test(value)\r\n  );\r\n\r\n  // any errors for missing \"qwik-city-plan\"\r\n  // [PLUGIN_ERROR]: Invalid module \"@qwik-city-plan\" is not a valid package\r\n  msg = \\`Move qwik packages \\${qwikPkg.join(', ')} to devDependencies\\`;\r\n\r\n  if (qwikPkg.length > 0) {\r\n    throw new Error(msg);\r\n  }\r\n\r\n  // Format the error message with the duplicates list.\r\n  // The \\`join\\` function is used to represent the elements of the 'duplicateDeps' array as a comma-separated string.\r\n  msg = \\`\r\n    Warning: The dependency \"\\${duplicateDeps.join(\r\n      ', '\r\n    )}\" is listed in both \"devDependencies\" and \"dependencies\".\r\n    Please move the duplicated dependencies to \"devDependencies\" only and remove it from \"dependencies\"\r\n  \\`;\r\n\r\n  // Throw an error with the constructed message.\r\n  if (duplicateDeps.length > 0) {\r\n    throw new Error(msg);\r\n  }\r\n}\r\n`,\r\n  },\r\n];\r\n\r\nexport const fileContentsForQwikProject = [\r\n  {\r\n    filename: \".eslintignore\",\r\n    content: `**/*.log\r\n**/.DS_Store\r\n*.\r\n.vscode/settings.json\r\n.history\r\n.yarn\r\nbazel-*\r\nbazel-bin\r\nbazel-out\r\nbazel-qwik\r\nbazel-testlogs\r\ndist\r\ndist-dev\r\nlib\r\nlib-types\r\netc\r\nexternal\r\nnode_modules\r\ntemp\r\ntsc-out\r\ntsdoc-metadata.json\r\ntarget\r\noutput\r\nrollup.config.js\r\nbuild\r\n.cache\r\n.vscode\r\n.rollup.cache\r\ndist\r\ntsconfig.tsbuildinfo\r\nvite.config.ts\r\n*.spec.tsx\r\n*.spec.ts\r\n.netlify\r\npnpm-lock.yaml\r\npackage-lock.json\r\nyarn.lock\r\nserver\r\n`,\r\n  },\r\n  {\r\n    filename: \".eslintrc.cjs\",\r\n    content: `module.exports = {\r\n  root: true,\r\n  env: {\r\n    browser: true,\r\n    es2021: true,\r\n    node: true,\r\n  },\r\n  extends: [\r\n    'eslint:recommended',\r\n    'plugin:@typescript-eslint/recommended',\r\n    'plugin:qwik/recommended',\r\n  ],\r\n  parser: '@typescript-eslint/parser',\r\n  parserOptions: {\r\n    tsconfigRootDir: __dirname,\r\n    project: ['./tsconfig.json'],\r\n    ecmaVersion: 2021,\r\n    sourceType: 'module',\r\n    ecmaFeatures: {\r\n      jsx: true,\r\n    },\r\n  },\r\n  plugins: ['@typescript-eslint'],\r\n  rules: {\r\n    '@typescript-eslint/no-explicit-any': 'off',\r\n    '@typescript-eslint/explicit-module-boundary-types': 'off',\r\n    '@typescript-eslint/no-inferrable-types': 'off',\r\n    '@typescript-eslint/no-non-null-assertion': 'off',\r\n    '@typescript-eslint/no-empty-interface': 'off',\r\n    '@typescript-eslint/no-namespace': 'off',\r\n    '@typescript-eslint/no-empty-function': 'off',\r\n    '@typescript-eslint/no-this-alias': 'off',\r\n    '@typescript-eslint/ban-types': 'off',\r\n    '@typescript-eslint/ban-ts-comment': 'off',\r\n    'prefer-spread': 'off',\r\n    'no-case-declarations': 'off',\r\n    'no-console': 'off',\r\n    '@typescript-eslint/no-unused-vars': ['error'],\r\n    '@typescript-eslint/consistent-type-imports': 'warn',\r\n    '@typescript-eslint/no-unnecessary-condition': 'warn',\r\n  },\r\n};\r\n`,\r\n  },\r\n  {\r\n    filename: \".gitignore\",\r\n    content: `# Build\r\n/dist\r\n/lib\r\n/lib-types\r\n/server\r\n\r\n# Development\r\nnode_modules\r\n*.local\r\n\r\n# Cache\r\n.cache\r\n.mf\r\n.rollup.cache\r\ntsconfig.tsbuildinfo\r\n\r\n# Logs\r\nlogs\r\n*.log\r\nnpm-debug.log*\r\nyarn-debug.log*\r\nyarn-error.log*\r\npnpm-debug.log*\r\nlerna-debug.log*\r\n\r\n# Editor\r\n.vscode/*\r\n!.vscode/launch.json\r\n!.vscode/*.code-snippets\r\n\r\n.idea\r\n.DS_Store\r\n*.suo\r\n*.ntvs*\r\n*.njsproj\r\n*.sln\r\n*.sw?\r\n\r\n# Yarn\r\n.yarn/*\r\n!.yarn/releases\r\n`,\r\n  },\r\n  {\r\n    filename: \".prettierignore\",\r\n    content: `**/*.log\r\n**/.DS_Store\r\n*.\r\n.vscode/settings.json\r\n.history\r\n.yarn\r\nbazel-*\r\nbazel-bin\r\nbazel-out\r\nbazel-qwik\r\nbazel-testlogs\r\ndist\r\ndist-dev\r\nlib\r\nlib-types\r\netc\r\nexternal\r\nnode_modules\r\ntemp\r\ntsc-out\r\ntsdoc-metadata.json\r\ntarget\r\noutput\r\nrollup.config.js\r\nbuild\r\n.cache\r\n.vscode\r\n.rollup.cache\r\ntsconfig.tsbuildinfo\r\nvite.config.ts\r\n*.spec.tsx\r\n*.spec.ts\r\n.netlify\r\npnpm-lock.yaml\r\npackage-lock.json\r\nyarn.lock\r\nserver\r\n`,\r\n  },\r\n  {\r\n    filename: \"LICENSE\",\r\n    content: `MIT License\r\n\r\nCopyright (c) 2024 Qwik Dev\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the \"Software\"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in all\r\ncopies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\nSOFTWARE.\r\n`,\r\n  },\r\n  {\r\n    filename: \"package.json\",\r\n    content: `{\r\n  \"name\": \"my-qwik-basic-starter\",\r\n  \"description\": \"Demo app with sample routes\",\r\n  \"engines\": {\r\n    \"node\": \"^18.17.0 || ^20.3.0 || >=21.0.0\"\r\n  },\r\n  \"engines-annotation\": \"Mostly required by sharp which needs a Node-API v9 compatible runtime\",\r\n  \"private\": true,\r\n  \"trustedDependencies\": [\r\n    \"sharp\"\r\n  ],\r\n  \"trustedDependencies-annotation\": \"Needed for bun to allow running install scripts\",\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"build\": \"qwik build\",\r\n    \"build.client\": \"vite build\",\r\n    \"build.preview\": \"vite build --ssr src/entry.preview.tsx\",\r\n    \"build.server\": \"vite build -c adapters/static/vite.config.ts\",\r\n    \"build.types\": \"tsc --incremental --noEmit\",\r\n    \"deploy\": \"echo 'Run \\\\\\\"npm run qwik add\\\\\\\" to install a server adapter'\",\r\n    \"dev\": \"vite --mode ssr\",\r\n    \"dev.debug\": \"node --inspect-brk ./node_modules/vite/bin/vite.js --mode ssr --force\",\r\n    \"fmt\": \"prettier --write .\",\r\n    \"fmt.check\": \"prettier --check .\",\r\n    \"lint\": \"eslint 'src/**/*.ts*'\",\r\n    \"preview\": \"qwik build preview && vite preview --open\",\r\n    \"start\": \"vite --open --mode ssr\",\r\n    \"qwik\": \"qwik\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@builder.io/qwik\": \"^1.7.3\",\r\n    \"@builder.io/qwik-city\": \"^1.7.3\",\r\n    \"@types/eslint\": \"^8.56.10\",\r\n    \"@types/node\": \"^20.12.7\",\r\n    \"@typescript-eslint/eslint-plugin\": \"^7.7.1\",\r\n    \"@typescript-eslint/parser\": \"^7.7.1\",\r\n    \"eslint\": \"^8.57.0\",\r\n    \"eslint-plugin-qwik\": \"^1.7.3\",\r\n    \"prettier\": \"^3.2.5\",\r\n    \"typescript\": \"5.4.5\",\r\n    \"undici\": \"*\",\r\n    \"vite\": \"^5.2.10\",\r\n    \"vite-tsconfig-paths\": \"^4.2.1\"\r\n  }\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: \"qwik.env.d.ts\",\r\n    content: `// This file can be used to add references for global types like \\`vite/client\\`.\r\n\r\n// Add global \\`vite/client\\` types. For more info, see: https://vitejs.dev/guide/features#client-types\r\n/// <reference types=\"vite/client\" />\r\n`,\r\n  },\r\n  {\r\n    filename: \"README.md\",\r\n    content: `# Qwik Starter For Stackblitz ⚡️ (qwik.new)\r\n\r\n- [Qwik Docs](https://qwik.dev/)\r\n- [Discord](https://qwik.dev/chat)\r\n- [Qwik GitHub](https://github.com/QwikDev/qwik)\r\n- [@QwikDev](https://twitter.com/QwikDev)\r\n- [Vite](https://vitejs.dev/)\r\n\r\n---\r\n\r\n## Project Structure\r\n\r\nThis project is using Qwik with [QwikCity](https://qwik.dev/qwikcity/overview/). QwikCity is just an extra set of tools on top of Qwik to make it easier to build a full site, including directory-based routing, layouts, and more.\r\n\r\nInside your project, you'll see the following directory structure:\r\n\r\n\\`\\`\\`\r\n├── public/\r\n│   └── ...\r\n└── src/\r\n    ├── components/\r\n    │   └── ...\r\n    └── routes/\r\n        └── ...\r\n\\`\\`\\`\r\n\r\n- \\`src/routes\\`: Provides the directory-based routing, which can include a hierarchy of \\`layout.tsx\\` layout files, and an \\`index.tsx\\` file as the page. Additionally, \\`index.ts\\` files are endpoints. Please see the [routing docs](https://qwik.dev/qwikcity/routing/overview/) for more info.\r\n\r\n- \\`src/components\\`: Recommended directory for components.\r\n\r\n- \\`public\\`: Any static assets, like images, can be placed in the public directory. Please see the [Vite public directory](https://vitejs.dev/guide/assets.html#the-public-directory) for more info.\r\n\r\n## Add Integrations and deployment\r\n\r\nUse the \\`pnpm qwik add\\` command to add additional integrations. Some examples of integrations includes: Cloudflare, Netlify or Express Server, and the [Static Site Generator (SSG)](https://qwik.dev/qwikcity/guides/static-site-generation/).\r\n\r\n\\`\\`\\`shell\r\npnpm qwik add # or \\`pnpm qwik add\\`\r\n\\`\\`\\`\r\n\r\n## Development\r\n\r\nDevelopment mode uses [Vite's development server](https://vitejs.dev/). The \\`dev\\` command will server-side render (SSR) the output during development.\r\n\r\n\\`\\`\\`shell\r\nnpm start # or \\`pnpm start\\`\r\n\\`\\`\\`\r\n\r\n> Note: during dev mode, Vite may request a significant number of \\`.js\\` files. This does not represent a Qwik production build.\r\n\r\n## Preview\r\n\r\nThe preview command will create a production build of the client modules, a production build of \\`src/entry.preview.tsx\\`, and run a local server. The preview server is only for convenience to preview a production build locally and should not be used as a production server.\r\n\r\n\\`\\`\\`shell\r\npnpm preview # or \\`pnpm preview\\`\r\n\\`\\`\\`\r\n\r\n## Production\r\n\r\nThe production build will generate client and server modules by running both client and server build commands. The build command will use Typescript to run a type check on the source code.\r\n\r\n\\`\\`\\`shell\r\npnpm build # or \\`pnpm build\\`\r\n\\`\\`\\`\r\n\r\n## Static Site Generator (Node.js)\r\n\r\n\\`\\`\\`shell\r\nnpm run build.server\r\n\\`\\`\\`\r\n`,\r\n  },\r\n  {\r\n    filename: \"tsconfig.json\",\r\n    content: `{\r\n  \"compilerOptions\": {\r\n    \"allowJs\": true,\r\n    \"target\": \"ES2017\",\r\n    \"module\": \"ES2022\",\r\n    \"lib\": [\"es2022\", \"DOM\", \"WebWorker\", \"DOM.Iterable\"],\r\n    \"jsx\": \"react-jsx\",\r\n    \"jsxImportSource\": \"@builder.io/qwik\",\r\n    \"strict\": true,\r\n    \"forceConsistentCasingInFileNames\": true,\r\n    \"resolveJsonModule\": true,\r\n    \"moduleResolution\": \"Bundler\",\r\n    \"esModuleInterop\": true,\r\n    \"skipLibCheck\": true,\r\n    \"incremental\": true,\r\n    \"isolatedModules\": true,\r\n    \"outDir\": \"tmp\",\r\n    \"noEmit\": true,\r\n    \"paths\": {\r\n      \"~/*\": [\"./src/*\"]\r\n    }\r\n  },\r\n  \"files\": [\"./.eslintrc.cjs\"],\r\n  \"include\": [\"src\", \"./*.d.ts\", \"./*.config.ts\"]\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: \"vite.config.ts\",\r\n    content: `\r\n/**\r\n * This is the base config for vite.\r\n * When building, the adapter config is used which loads this file and extends it.\r\n */\r\nimport { defineConfig, type UserConfig } from 'vite';\r\nimport { qwikVite } from '@builder.io/qwik/optimizer';\r\nimport { qwikCity } from '@builder.io/qwik-city/vite';\r\nimport tsconfigPaths from 'vite-tsconfig-paths';\r\nimport pkg from './package.json';\r\n\r\ntype PkgDep = Record<string, string>;\r\nconst { dependencies = {}, devDependencies = {} } = pkg as any as {\r\n  dependencies: PkgDep;\r\n  devDependencies: PkgDep;\r\n  [key: string]: unknown;\r\n};\r\nerrorOnDuplicatesPkgDeps(devDependencies, dependencies);\r\n\r\n/**\r\n * Note that Vite normally starts from \\`index.html\\` but the qwikCity plugin makes start at \\`src/entry.ssr.tsx\\` instead.\r\n */\r\nexport default defineConfig(({ command, mode }): UserConfig => {\r\n  return {\r\n    plugins: [qwikCity(), qwikVite(), tsconfigPaths()],\r\n    // This tells Vite which dependencies to pre-build in dev mode.\r\n    optimizeDeps: {\r\n      // Put problematic deps that break bundling here, mostly those with binaries.\r\n      // For example ['better-sqlite3'] if you use that in server functions.\r\n      exclude: [],\r\n    },\r\n\r\n    /**\r\n     * This is an advanced setting. It improves the bundling of your server code. To use it, make sure you understand when your consumed packages are dependencies or dev dependencies. (otherwise things will break in production)\r\n     */\r\n    // ssr:\r\n    //   command === \"build\" && mode === \"production\"\r\n    //     ? {\r\n    //         // All dev dependencies should be bundled in the server build\r\n    //         noExternal: Object.keys(devDependencies),\r\n    //         // Anything marked as a dependency will not be bundled\r\n    //         // These should only be production binary deps (including deps of deps), CLI deps, and their module graph\r\n    //         // If a dep-of-dep needs to be external, add it here\r\n    //         // For example, if something uses \\`bcrypt\\` but you don't have it as a dep, you can write\r\n    //         // external: [...Object.keys(dependencies), 'bcrypt']\r\n    //         external: Object.keys(dependencies),\r\n    //       }\r\n    //     : undefined,\r\n\r\n    server: {\r\n      headers: {\r\n        // Don't cache the server response in dev mode\r\n        'Cache-Control': 'public, max-age=0',\r\n      },\r\n    },\r\n    preview: {\r\n      headers: {\r\n        // Do cache the server response in preview (non-adapter production build)\r\n        'Cache-Control': 'public, max-age=600',\r\n      },\r\n    },\r\n  };\r\n});\r\n\r\n// *** utils ***\r\n\r\n/**\r\n * Function to identify duplicate dependencies and throw an error\r\n * @param {Object} devDependencies - List of development dependencies\r\n * @param {Object} dependencies - List of production dependencies\r\n */\r\nfunction errorOnDuplicatesPkgDeps(\r\n  devDependencies: PkgDep,\r\n  dependencies: PkgDep\r\n) {\r\n  let msg = '';\r\n  // Create an array 'duplicateDeps' by filtering devDependencies.\r\n  // If a dependency also exists in dependencies, it is considered a duplicate.\r\n  const duplicateDeps = Object.keys(devDependencies).filter(\r\n    (dep) => dependencies[dep]\r\n  );\r\n\r\n  // include any known qwik packages\r\n  const qwikPkg = Object.keys(dependencies).filter((value) =>\r\n    /qwik/i.test(value)\r\n  );\r\n\r\n  // any errors for missing \"qwik-city-plan\"\r\n  // [PLUGIN_ERROR]: Invalid module \"@qwik-city-plan\" is not a valid package\r\n  msg = \\`Move qwik packages \\${qwikPkg.join(', ')} to devDependencies\\`;\r\n\r\n  if (qwikPkg.length > 0) {\r\n    throw new Error(msg);\r\n  }\r\n\r\n  // Format the error message with the duplicates list.\r\n  // The \\`join\\` function is used to represent the elements of the 'duplicateDeps' array as a comma-separated string.\r\n  msg = \\`\r\n    Warning: The dependency \"\\${duplicateDeps.join(\r\n      ', '\r\n    )}\" is listed in both \"devDependencies\" and \"dependencies\".\r\n    Please move the duplicated dependencies to \"devDependencies\" only and remove it from \"dependencies\"\r\n  \\`;\r\n\r\n  // Throw an error with the constructed message.\r\n  if (duplicateDeps.length > 0) {\r\n    throw new Error(msg);\r\n  }\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: \"adapters\",\r\n    contents: [\r\n      {\r\n        filename: \"static\",\r\n        contents: [\r\n          {\r\n            filename: \"vite.config.ts\",\r\n            content: `import { staticAdapter } from '@builder.io/qwik-city/adapters/static/vite';\r\nimport { extendConfig } from '@builder.io/qwik-city/vite';\r\nimport baseConfig from '../../vite.config';\r\n\r\nexport default extendConfig(baseConfig, () => {\r\n  return {\r\n    build: {\r\n      ssr: true,\r\n      rollupOptions: {\r\n        input: ['@qwik-city-plan'],\r\n      },\r\n    },\r\n    plugins: [\r\n      staticAdapter({\r\n        origin: process.env.BOLT_DEPLOY_URL || 'https://yoursite.qwik.dev',\r\n      }),\r\n    ],\r\n  };\r\n});\r\n`\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    filename: \"src\",\r\n    contents: [\r\n      {\r\n        filename: \"entry.preview.tsx\",\r\n        content: `/*\r\n * WHAT IS THIS FILE?\r\n *\r\n * It's the bundle entry point for \\`npm run preview\\`.\r\n * That is, serving your app built in production mode.\r\n *\r\n * Feel free to modify this file, but don't remove it!\r\n *\r\n * Learn more about Vite's preview command:\r\n * - https://vitejs.dev/config/preview-options.html#preview-options\r\n *\r\n */\r\nimport { createQwikCity } from '@builder.io/qwik-city/middleware/node';\r\nimport qwikCityPlan from '@qwik-city-plan';\r\n// make sure qwikCityPlan is imported before entry\r\nimport render from './entry.ssr';\r\n\r\n/**\r\n * The default export is the QwikCity adapter used by Vite preview.\r\n */\r\nexport default createQwikCity({ render, qwikCityPlan });\r\n`\r\n      },\r\n      {\r\n        filename: \"entry.ssr.tsx\",\r\n        content: `import {\r\n  renderToStream,\r\n  type RenderToStreamOptions,\r\n} from '@builder.io/qwik/server';\r\nimport { manifest } from '@qwik-client-manifest';\r\nimport Root from './root';\r\n\r\nexport default function (opts: RenderToStreamOptions) {\r\n  return renderToStream(<Root />, {\r\n    manifest,\r\n    ...opts,\r\n    // Use container attributes to set attributes on the html tag.\r\n    containerAttributes: {\r\n      lang: 'en-us',\r\n      ...opts.containerAttributes,\r\n    },\r\n    serverData: {\r\n      ...opts.serverData,\r\n    },\r\n  });\r\n}\r\n`\r\n      },\r\n      \r\n      {\r\n        filename: \"root.tsx\",\r\n        content: `import { component$ } from '@builder.io/qwik';\r\nimport { isDev } from '@builder.io/qwik/build';\r\nimport {\r\n  QwikCityProvider,\r\n  RouterOutlet,\r\n  ServiceWorkerRegister,\r\n} from '@builder.io/qwik-city';\r\nimport { RouterHead } from './components/router-head/router-head';\r\n \r\n\r\nexport default component$(() => {\r\n  /**\r\n   * The root of a QwikCity site always start with the <QwikCityProvider> component,\r\n   * immediately followed by the document's <head> and <body>.\r\n   *\r\n   * Don't remove the \\`<head>\\` and \\`<body>\\` elements.\r\n   */\r\n\r\n  return (\r\n    <QwikCityProvider>\r\n      <head>\r\n        <meta charset=\"utf-8\" />\r\n        {!isDev && (\r\n          <link\r\n            rel=\"manifest\"\r\n            href={\\`\\${import.meta.env.BASE_URL}manifest.json\\`}\r\n          />\r\n        )}\r\n        <RouterHead />\r\n        {!isDev && <ServiceWorkerRegister />}\r\n      </head>\r\n      <body lang=\"en\">\r\n        <RouterOutlet />\r\n      </body>\r\n    </QwikCityProvider>\r\n  );\r\n});\r\n`\r\n      },\r\n      {\r\n        filename: \"entry.dev.tsx\",\r\n        content: `import { render, type RenderOptions } from '@builder.io/qwik';\r\nimport Root from './root';\r\n\r\nexport default function (opts: RenderOptions) {\r\n  return render(document, <Root />, opts);\r\n}\r\n`\r\n      },\r\n      {\r\n        filename: \"routes\",\r\n        contents: [\r\n          {\r\n            filename: \"index.tsx\",\r\n            content:`import { component$ } from \"@builder.io/qwik\";\r\nimport type { DocumentHead } from \"@builder.io/qwik-city\";\r\n\r\nexport default component$(() => {\r\n  return (\r\n    <>\r\n      <h1>Hi 👋</h1>\r\n      <div>\r\n        Can't wait to see what you build with qwik!\r\n        <br />\r\n        Happy coding.\r\n      </div>\r\n    </>\r\n  );\r\n});\r\n\r\nexport const head: DocumentHead = {\r\n  title: \"Welcome to Qwik\",\r\n  meta: [\r\n    {\r\n      name: \"description\",\r\n      content: \"Qwik site description\",\r\n    },\r\n  ],\r\n};\r\n`\r\n          },\r\n          {\r\n            filename: \"layout.tsx\",\r\n            content:`import { component$, Slot } from \"@builder.io/qwik\";\r\nimport type { RequestHandler } from \"@builder.io/qwik-city\";\r\n\r\nexport const onGet: RequestHandler = async ({ cacheControl }) => {\r\n  // Control caching for this request for best performance and to reduce hosting costs:\r\n  // https://qwik.dev/docs/caching/\r\n  cacheControl({\r\n    // Always serve a cached response by default, up to a week stale\r\n    staleWhileRevalidate: 60 * 60 * 24 * 7,\r\n    // Max once every 5 seconds, revalidate on the server to get a fresh version of this page\r\n    maxAge: 5,\r\n  });\r\n};\r\n\r\nexport default component$(() => {\r\n  return <Slot />;\r\n});\r\n`\r\n          },\r\n          {\r\n            filename: \"service-worker.ts\",\r\n            content:`import { setupServiceWorker } from \"@builder.io/qwik-city/service-worker\";\r\n\r\nsetupServiceWorker();\r\n\r\naddEventListener(\"install\", () => self.skipWaiting());\r\n\r\naddEventListener(\"activate\", () => self.clients.claim());\r\n\r\ndeclare const self: ServiceWorkerGlobalScope;`\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        filename: \"components\",\r\n        contents: [\r\n          {\r\n            filename: \"router-head\",\r\n            contents: [\r\n              {\r\n                filename: \"router-head.tsx\",\r\n                content: `import { component$ } from \"@builder.io/qwik\";\r\nimport { useDocumentHead, useLocation } from \"@builder.io/qwik-city\";\r\n\r\nexport const RouterHead = component$(() => {\r\n  const head = useDocumentHead();\r\n  const loc = useLocation();\r\n\r\n  return (\r\n    <>\r\n      <title>{head.title}</title>\r\n\r\n      <link rel=\"canonical\" href={loc.url.href} />\r\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n      <link rel=\"icon\" type=\"image/svg+xml\" href=\"/favicon.svg\" />\r\n\r\n      {head.meta.map((m) => (\r\n        <meta key={m.key} {...m} />\r\n      ))}\r\n\r\n      {head.links.map((l) => (\r\n        <link key={l.key} {...l} />\r\n      ))}\r\n\r\n      {head.styles.map((s) => (\r\n        <style\r\n          key={s.key}\r\n          {...s.props}\r\n          {...(s.props?.dangerouslySetInnerHTML\r\n            ? {}\r\n            : { dangerouslySetInnerHTML: s.style })}\r\n        />\r\n      ))}\r\n\r\n      {head.scripts.map((s) => (\r\n        <script\r\n          key={s.key}\r\n          {...s.props}\r\n          {...(s.props?.dangerouslySetInnerHTML\r\n            ? {}\r\n            : { dangerouslySetInnerHTML: s.script })}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n});\r\n`\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n     \r\n\r\n    ]\r\n  },\r\n  {\r\n    filename: \"public\",\r\n    contents: [\r\n      {\r\n        filename: \"favicon.svg\",\r\n        content: `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 500 500\"><g clip-path=\"url(#a)\"><circle cx=\"250\" cy=\"250\" r=\"250\" fill=\"#fff\"/><path fill=\"#18B6F6\" d=\"m367.87 418.45-61.17-61.18-.94.13v-.67L175.7 227.53l32.05-31.13L188.9 87.73 99.56 199.09c-15.22 15.42-18.03 40.51-7.08 59.03l55.83 93.11a46.82 46.82 0 0 0 40.73 22.81l27.65-.27 151.18 44.68Z\"/><path fill=\"#AC7EF4\" d=\"m401.25 196.94-12.29-22.81-6.41-11.67-2.54-4.56-.26.26-33.66-58.63a47.07 47.07 0 0 0-41.27-23.75l-29.51.8-88.01.28a47.07 47.07 0 0 0-40.33 23.34L93.4 207l95.76-119.54L314.7 226.19l-22.3 22.67 13.35 108.54.13-.26v.26h-.26l.26.27 10.42 10.2 50.62 49.78c2.13 2 5.6-.4 4.13-2.96l-31.25-61.85 54.5-101.3 1.73-2c.67-.81 1.33-1.62 1.87-2.42a46.8 46.8 0 0 0 3.34-50.18Z\"/><path fill=\"#fff\" d=\"M315.1 225.65 189.18 87.6l17.9 108.14L175 227l130.5 130.27-11.75-108.14 21.37-23.48Z\"/></g><defs><clipPath id=\"a\"><path fill=\"#fff\" d=\"M0 0h500v500H0z\"/></clipPath></defs></svg>`\r\n      },\r\n      {\r\n        filename: \"manifest.json\",\r\n        content: `{\r\n  \"$schema\": \"https://json.schemastore.org/web-manifest-combined.json\",\r\n  \"name\": \"qwik-project-name\",\r\n  \"short_name\": \"Welcome to Qwik\",\r\n  \"start_url\": \".\",\r\n  \"display\": \"standalone\",\r\n  \"background_color\": \"#fff\",\r\n  \"description\": \"A Qwik project app.\"\r\n}\r\n`\r\n      },\r\n      {\r\n        filename: \"robots.txt\",\r\n        content: \"\"\r\n      }\r\n    ]\r\n  }\r\n];\r\nexport default fileContentsForQwik;\r\n","const fileContentsForNativeScript = [\r\n\r\n    {\r\n        filename : '.gitignore',\r\n        content: `# NativeScript\r\nhooks/\r\nnode_modules/\r\nplatforms/\r\n\r\n# Logs\r\nlogs\r\n*.log\r\nnpm-debug.log*\r\nyarn-debug.log*\r\nyarn-error.log*\r\n\r\n# General\r\n.DS_Store\r\n.AppleDouble\r\n.LSOverride\r\n.idea\r\n.cloud\r\n.project\r\ntmp/\r\ntypings/\r\n\r\n# Visual Studio Code\r\n.vscode/*\r\n!.vscode/settings.json\r\n!.vscode/tasks.json\r\n!.vscode/launch.json\r\n!.vscode/extensions.json\r\n`,\r\n    },\r\n    {\r\n        filename : 'nativescript.config.ts',\r\n        content: `import { NativeScriptConfig } from '@nativescript/core';\r\n\r\nexport default {\r\n  id: 'org.nativescript.app',\r\n  appPath: 'app',\r\n  appResourcesPath: 'App_Resources',\r\n  android: {\r\n    v8Flags: '--expose_gc',\r\n    markingMode: 'none'\r\n  }\r\n} as NativeScriptConfig;\r\n`,\r\n    },\r\n    {\r\n        filename : 'package.json',\r\n        content: `{\r\n  \"name\": \"samplejs\",\r\n  \"main\": \"app/app.js\",\r\n  \"version\": \"1.0.0\",\r\n  \"private\": true,\r\n  \"scripts\": {\r\n    \"start\": \"setup-nativescript-stackblitz && ns preview\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@nativescript/core\": \"~8.8.0\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@nativescript/preview-cli\": \"^1.0.14\",\r\n    \"@nativescript/stackblitz\": \"^0.0.8\",\r\n    \"@nativescript/tailwind\": \"^2.1.0\",\r\n    \"@nativescript/webpack\": \"~5.0.0\",\r\n    \"tailwindcss\": \"~3.4.0\"\r\n  }\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'tailwind.config.js',\r\n        content: `/** @type {import('tailwindcss').Config} */\r\nmodule.exports = {\r\n  content: [\r\n    './app/**/*.{css,xml,html,vue,svelte,ts,tsx}'\r\n  ],\r\n  // use the .ns-dark class to control dark mode (applied by NativeScript) - since 'media' (default) is not supported.\r\n  darkMode: ['class', '.ns-dark'],\r\n  theme: {\r\n    extend: {},\r\n  },\r\n  plugins: [],\r\n  corePlugins: {\r\n    preflight: false // disables browser-specific resets\r\n  }\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'webpack.config.js',\r\n        content: `const webpack = require('@nativescript/webpack');\r\n\r\nmodule.exports = (env) => {\r\n  webpack.init(env);\r\n\r\n  // Learn how to customize:\r\n  // https://docs.nativescript.org/webpack\r\n\r\n  return webpack.resolveConfig();\r\n};\r\n`,\r\n    },\r\n\r\n];\r\n\r\nexport const fileContentsForNativeScriptProject = [\r\n\r\n    {\r\n        filename : '.gitignore',\r\n        content: `# NativeScript\r\nhooks/\r\nnode_modules/\r\nplatforms/\r\n\r\n# Logs\r\nlogs\r\n*.log\r\nnpm-debug.log*\r\nyarn-debug.log*\r\nyarn-error.log*\r\n\r\n# General\r\n.DS_Store\r\n.AppleDouble\r\n.LSOverride\r\n.idea\r\n.cloud\r\n.project\r\ntmp/\r\ntypings/\r\n\r\n# Visual Studio Code\r\n.vscode/*\r\n!.vscode/settings.json\r\n!.vscode/tasks.json\r\n!.vscode/launch.json\r\n!.vscode/extensions.json\r\n`,\r\n    },\r\n    {\r\n        filename : 'nativescript.config.ts',\r\n        content: `import { NativeScriptConfig } from '@nativescript/core';\r\n\r\nexport default {\r\n  id: 'org.nativescript.app',\r\n  appPath: 'app',\r\n  appResourcesPath: 'App_Resources',\r\n  android: {\r\n    v8Flags: '--expose_gc',\r\n    markingMode: 'none'\r\n  }\r\n} as NativeScriptConfig;\r\n`,\r\n    },\r\n    {\r\n        filename : 'package.json',\r\n        content: `{\r\n  \"name\": \"samplejs\",\r\n  \"main\": \"app/app.js\",\r\n  \"version\": \"1.0.0\",\r\n  \"private\": true,\r\n  \"scripts\": {\r\n    \"start\": \"setup-nativescript-stackblitz && ns preview\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@nativescript/core\": \"~8.8.0\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@nativescript/preview-cli\": \"^1.0.14\",\r\n    \"@nativescript/stackblitz\": \"^0.0.8\",\r\n    \"@nativescript/tailwind\": \"^2.1.0\",\r\n    \"@nativescript/webpack\": \"~5.0.0\",\r\n    \"tailwindcss\": \"~3.4.0\"\r\n  }\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'tailwind.config.js',\r\n        content: `/** @type {import('tailwindcss').Config} */\r\nmodule.exports = {\r\n  content: [\r\n    './app/**/*.{css,xml,html,vue,svelte,ts,tsx}'\r\n  ],\r\n  // use the .ns-dark class to control dark mode (applied by NativeScript) - since 'media' (default) is not supported.\r\n  darkMode: ['class', '.ns-dark'],\r\n  theme: {\r\n    extend: {},\r\n  },\r\n  plugins: [],\r\n  corePlugins: {\r\n    preflight: false // disables browser-specific resets\r\n  }\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'webpack.config.js',\r\n        content: `const webpack = require('@nativescript/webpack');\r\n\r\nmodule.exports = (env) => {\r\n  webpack.init(env);\r\n\r\n  // Learn how to customize:\r\n  // https://docs.nativescript.org/webpack\r\n\r\n  return webpack.resolveConfig();\r\n};\r\n`,\r\n    },\r\n  {\r\n    filename: \"app\",\r\n    contents: [\r\n      {\r\n        filename: \"app-root.xml\",\r\n        content:`<Frame defaultPage=\"main-page\">\r\n</Frame>\r\n`\r\n      },\r\n      {\r\n        filename: \"app.css\",\r\n        content: `@tailwind base;\r\n@tailwind components;\r\n@tailwind utilities;\r\n`\r\n      },\r\n      {\r\n        filename: \"app.js\",\r\n        content: `import { Application } from '@nativescript/core';\r\n\r\nApplication.run({ moduleName: 'app-root' });\r\n`\r\n      },\r\n      {\r\n        filename: \"main-page.js\",\r\n        content: `import { createViewModel } from './main-view-model';\r\n\r\nexport function onNavigatingTo(args) {\r\n  const page = args.object;\r\n  page.bindingContext = createViewModel();\r\n}\r\n`\r\n      },\r\n      {\r\n        filename: \"main-page.xml\",\r\n        content: `<Page xmlns=\"http://schemas.nativescript.org/tns.xsd\" navigatingTo=\"onNavigatingTo\">\r\n    <ActionBar title=\"My App\" icon=\"\" />\r\n    <StackLayout class=\"p-4\">\r\n        <Label text=\"Please tap me\" class=\"text-3xl text-center\" />\r\n        <Button text=\"TAP\" tap=\"{{ onTap }}\" class=\"-primary\" />\r\n        <Label text=\"{{ message }}\" class=\"text-lg text-center text-gray-400\" textWrap=\"true\" />\r\n    </StackLayout>\r\n</Page>\r\n`\r\n      },\r\n      {\r\n        filename: \"main-view-model.js\",\r\n        content: `import { Observable } from '@nativescript/core';\r\n\r\nfunction getMessage(counter) {\r\n  if (counter <= 0) {\r\n    return 'Hoorraaay! You unlocked the NativeScript clicker achievement!';\r\n  } else {\r\n    return \\`\\${counter} taps left\\`;\r\n  }\r\n}\r\n\r\nexport function createViewModel() {\r\n  const viewModel = new Observable();\r\n  viewModel.counter = 42;\r\n  viewModel.message = getMessage(viewModel.counter);\r\n\r\n  viewModel.onTap = () => {\r\n    viewModel.counter--;\r\n    viewModel.set('message', getMessage(viewModel.counter));\r\n\r\n    // log the message to the console\r\n    console.log(getMessage(viewModel.counter));\r\n  };\r\n\r\n  return viewModel;\r\n}\r\n`\r\n      },\r\n    ]\r\n    }\r\n];\r\n\r\nexport default fileContentsForNativeScript;","const fileContentsForSd = [\r\n  {\r\n    filename: \".gitignore\",\r\n    content: `dist\r\nnode_modules\r\n`,\r\n  },\r\n  {\r\n    filename: \"package.json\",\r\n    content: `{\r\n  \"name\": \"slidev_project\",\r\n  \"private\": true,\r\n  \"scripts\": {\r\n    \"build\": \"slidev build\",\r\n    \"dev\": \"slidev --open\",\r\n    \"export\": \"slidev export\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@slidev/cli\": \"0.42.5\",\r\n    \"@slidev/theme-default\": \"^0.21.2\",\r\n    \"@slidev/theme-seriph\": \"^0.21.3\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"playwright-chromium\": \"^1.39.0\"\r\n  }\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: \"README.md\",\r\n    content: `# Welcome to [Slidev](https://github.com/slidevjs/slidev)!\r\n\r\n[Edit on StackBlitz ⚡️](https://sli.dev/new)\r\n\r\nTo start the slide show:\r\n\r\n- \\`npm install\\`\r\n- \\`npm run dev\\`\r\n- visit http://localhost:3030\r\n\r\nEdit the [slides.md](./slides.md) to see the changes.\r\n\r\nLearn more about Slidev on [documentations](https://sli.dev/).`,\r\n  },\r\n];\r\n\r\nexport const check = {\r\n  hello: \"hii\",\r\n};\r\n\r\nexport default fileContentsForSd;\r\n\r\nexport const fileContentsForSlidevProject = [\r\n  {\r\n    filename: \".gitignore\",\r\n    content: `dist\r\nnode_modules\r\n`,\r\n  },\r\n  {\r\n    filename: \"package.json\",\r\n    content: `{\r\n  \"name\": \"slidev_project\",\r\n  \"private\": true,\r\n  \"scripts\": {\r\n    \"build\": \"slidev build\",\r\n    \"dev\": \"slidev --open\",\r\n    \"export\": \"slidev export\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@slidev/cli\": \"0.42.5\",\r\n    \"@slidev/theme-default\": \"^0.21.2\",\r\n    \"@slidev/theme-seriph\": \"^0.21.3\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"playwright-chromium\": \"^1.39.0\"\r\n  }\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: \"README.md\",\r\n    content: `# Welcome to [Slidev](https://github.com/slidevjs/slidev)!\r\n\r\n[Edit on StackBlitz ⚡️](https://sli.dev/new)\r\n\r\nTo start the slide show:\r\n\r\n- \\`npm install\\`\r\n- \\`npm run dev\\`\r\n- visit http://localhost:3030\r\n\r\nEdit the [slides.md](./slides.md) to see the changes.\r\n\r\nLearn more about Slidev on [documentations](https://sli.dev/).`,\r\n  },\r\n  {\r\n    filename: \"slides.md\",\r\n    content: `---\r\n# try also 'default' to start simple\r\ntheme: seriph\r\n# random image from a curated Unsplash collection by Anthony\r\n# like them? see https://unsplash.com/collections/94734566/slidev\r\nbackground: https://source.unsplash.com/collection/94734566/1920x1080\r\n# apply any windi css classes to the current slide\r\nclass: 'text-center'\r\n# https://sli.dev/custom/highlighters.html\r\nhighlighter: shiki\r\n# show line numbers in code blocks\r\nlineNumbers: false\r\n# some information about the slides, markdown enabled\r\ninfo: |\r\n  ## Slidev Starter Template\r\n  Presentation slides for developers.\r\n\r\n  Learn more at [Sli.dev](https://sli.dev)\r\n# persist drawings in exports and build\r\ndrawings:\r\n  persist: false\r\n# use UnoCSS (experimental)\r\ncss: unocss\r\nwakeLock: \"build\"\r\n---\r\n\r\n# Welcome to Slidev\r\n\r\nPresentation slides for developers\r\n\r\n<div class=\"pt-12\">\r\n  <span @click=\"\\$slidev.nav.next\" class=\"px-2 py-1 rounded cursor-pointer\" hover=\"bg-white bg-opacity-10\">\r\n    Press Space for next page <carbon:arrow-right class=\"inline\"/>\r\n  </span>\r\n</div>\r\n\r\n<div class=\"abs-br m-6 flex gap-2\">\r\n  <button @click=\"\\$slidev.nav.openInEditor()\" title=\"Open in Editor\" class=\"text-xl icon-btn opacity-50 !border-none !hover:text-white\">\r\n    <carbon:edit />\r\n  </button>\r\n  <a href=\"https://github.com/slidevjs/slidev\" target=\"_blank\" alt=\"GitHub\"\r\n    class=\"text-xl icon-btn opacity-50 !border-none !hover:text-white\">\r\n    <carbon-logo-github />\r\n  </a>\r\n</div>\r\n\r\n<!--\r\nThe last comment block of each slide will be treated as slide notes. It will be visible and editable in Presenter Mode along with the slide. [Read more in the docs](https://sli.dev/guide/syntax.html#notes)\r\n-->\r\n\r\n---\r\n\r\n# What is Slidev?\r\n\r\nSlidev is a slides maker and presenter designed for developers, consist of the following features\r\n\r\n- 📝 **Text-based** - focus on the content with Markdown, and then style them later\r\n- 🎨 **Themable** - theme can be shared and used with npm packages\r\n- 🧑‍💻 **Developer Friendly** - code highlighting, live coding with autocompletion\r\n- 🤹 **Interactive** - embedding Vue components to enhance your expressions\r\n- 🎥 **Recording** - built-in recording and camera view\r\n- 📤 **Portable** - export into PDF, PNGs, or even a hostable SPA\r\n- 🛠 **Hackable** - anything possible on a webpage\r\n\r\n<br>\r\n<br>\r\n\r\nRead more about [Why Slidev?](https://sli.dev/guide/why)\r\n\r\n<style>\r\nh1 {\r\n  background-color: #2B90B6;\r\n  background-image: linear-gradient(45deg, #4EC5D4 10%, #146b8c 20%);\r\n  background-size: 100%;\r\n  -webkit-background-clip: text;\r\n  -moz-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  -moz-text-fill-color: transparent;\r\n}\r\n</style>\r\n\r\n---\r\n\r\n# Navigation\r\n\r\nHover on the bottom-left corner to see the navigation's controls panel, [learn more](https://sli.dev/guide/navigation.html)\r\n\r\n### Keyboard Shortcuts\r\n\r\n|     |     |\r\n| --- | --- |\r\n| <kbd>right</kbd> / <kbd>space</kbd>| next animation or slide |\r\n| <kbd>left</kbd>  / <kbd>shift</kbd><kbd>space</kbd> | previous animation or slide |\r\n| <kbd>up</kbd> | previous slide |\r\n| <kbd>down</kbd> | next slide |\r\n\r\n<!-- https://sli.dev/guide/animations.html#click-animations -->\r\n<img\r\n  v-click\r\n  class=\"absolute -bottom-9 -left-7 w-80 opacity-50\"\r\n  src=\"https://sli.dev/assets/arrow-bottom-left.svg\"\r\n/>\r\n<p v-after class=\"absolute bottom-23 left-45 opacity-30 transform -rotate-10\">Here!</p>\r\n\r\n---\r\nlayout: image-right\r\nimage: https://source.unsplash.com/collection/94734566/1920x1080\r\n---\r\n\r\n# Code\r\n\r\nUse code snippets and get the highlighting directly![^1]\r\n\r\n\\`\\`\\`ts {all|2|1-6|9|all}\r\ninterface User {\r\n  id: number\r\n  firstName: string\r\n  lastName: string\r\n  role: string\r\n}\r\n\r\nfunction updateUser(id: number, update: User) {\r\n  const user = getUser(id)\r\n  const newUser = { ...user, ...update }\r\n  saveUser(id, newUser)\r\n}\r\n\\`\\`\\`\r\n\r\n<arrow v-click=\"3\" x1=\"400\" y1=\"420\" x2=\"230\" y2=\"330\" color=\"#564\" width=\"3\" arrowSize=\"1\" />\r\n\r\n[^1]: [Learn More](https://sli.dev/guide/syntax.html#line-highlighting)\r\n\r\n<style>\r\n.footnotes-sep {\r\n  @apply mt-20 opacity-10;\r\n}\r\n.footnotes {\r\n  @apply text-sm opacity-75;\r\n}\r\n.footnote-backref {\r\n  display: none;\r\n}\r\n</style>\r\n...\r\n`,\r\n  },\r\n  {\r\n    filename: \"components\",\r\n    contents: [\r\n      {\r\n        filename: \"Counter.vue\",\r\n        content: `<script setup lang=\"ts\">\r\nimport { ref } from 'vue'\r\n\r\nconst props = defineProps({\r\n  count: {\r\n    default: 0,\r\n  },\r\n})\r\n\r\nconst counter = ref(props.count)\r\n</script>\r\n\r\n<template>\r\n  <div flex=\"~\" w=\"min\" border=\"~ gray-400 opacity-50 rounded-md\">\r\n    <button\r\n      border=\"r gray-400 opacity-50\"\r\n      p=\"2\"\r\n      font=\"mono\"\r\n      outline=\"!none\"\r\n      hover:bg=\"gray-400 opacity-20\"\r\n      @click=\"counter -= 1\"\r\n    >\r\n      -\r\n    </button>\r\n    <span m=\"auto\" p=\"2\">{{ counter }}</span>\r\n    <button\r\n      border=\"l gray-400 opacity-50\"\r\n      p=\"2\"\r\n      font=\"mono\"\r\n      outline=\"!none\"\r\n      hover:bg=\"gray-400 opacity-20\"\r\n      @click=\"counter += 1\"\r\n    >\r\n      +\r\n    </button>\r\n  </div>\r\n</template>\r\n`,\r\n      },\r\n    ],\r\n  },\r\n];","const fileContentsForRemotion = [\r\n\r\n    {\r\n        filename : '.eslintrc',\r\n        content : `{\r\n  \"extends\": \"@remotion\"\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : '.gitignore',\r\n        content : `node_modules\r\ndist\r\n.DS_Store\r\n.env\r\n\r\n# Ignore the output video from Git but not videos you import into src/.\r\nout\r\n`,\r\n    },\r\n    {\r\n        filename : '.prettierrc',\r\n        content : `{\r\n  \"useTabs\": false,\r\n  \"bracketSpacing\": true,\r\n  \"tabWidth\": 2\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'package.json',\r\n        content : `{\r\n  \"name\": \"template-helloworld\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"My Remotion video\",\r\n  \"scripts\": {\r\n    \"start\": \"remotion studio\",\r\n    \"build\": \"remotion render HelloWorld out/video.mp4\",\r\n    \"upgrade\": \"remotion upgrade\",\r\n    \"test\": \"eslint src --ext ts,tsx,js,jsx && tsc\"\r\n  },\r\n  \"repository\": {},\r\n  \"license\": \"UNLICENSED\",\r\n  \"dependencies\": {\r\n    \"@remotion/cli\": \"^4.0.0\",\r\n    \"@remotion/zod-types\": \"^4.0.0\",\r\n    \"react\": \"18.3.1\",\r\n    \"react-dom\": \"18.3.1\",\r\n    \"remotion\": \"^4.0.0\",\r\n    \"zod\": \"3.22.3\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"@remotion/eslint-config\": \"^4.0.0\",\r\n    \"@types/react\": \"18.3.1\",\r\n    \"@types/web\": \"0.0.166\",\r\n    \"eslint\": \"8.56.0\",\r\n    \"prettier\": \"3.3.3\",\r\n    \"typescript\": \"5.6.2\"\r\n  },\r\n  \"private\": true\r\n}\r\n`,\r\n    },\r\n    {\r\n        filename : 'README.md',\r\n        content : ``,\r\n    },\r\n    {\r\n        filename : 'remotion.config.js',\r\n        content : `// See all configuration options: https://remotion.dev/docs/config\r\n// Each option also is available as a CLI flag: https://remotion.dev/docs/cli\r\n\r\n// Note: When using the Node.JS APIs, the config file doesn't apply. Instead, pass options directly to the APIs\r\n\r\nimport { Config } from \"@remotion/cli/config\";\r\n\r\nConfig.setVideoImageFormat(\"jpeg\");\r\nConfig.setOverwriteOutput(true);\r\n`,\r\n    },\r\n    {\r\n        filename : 'tsconfig.json',\r\n        content : `{\r\n  \"compilerOptions\": {\r\n    \"target\": \"ES2018\",\r\n    \"module\": \"commonjs\",\r\n    \"jsx\": \"react-jsx\",\r\n    \"outDir\": \"./dist\",\r\n    \"strict\": true,\r\n    \"noEmit\": true,\r\n    \"lib\": [\"es2015\"],\r\n    \"esModuleInterop\": true,\r\n    \"skipLibCheck\": true,\r\n    \"forceConsistentCasingInFileNames\": true,\r\n    \"noUnusedLocals\": true\r\n  },\r\n  \"exclude\": [\"remotion.config.ts\"]\r\n}\r\n`,\r\n    },\r\n\r\n];\r\n\r\nexport default fileContentsForRemotion;\r\n\r\nexport const fileContentsForRemotionProject = [\r\n\r\n  {\r\n      filename : '.eslintrc',\r\n      content : `{\r\n\"extends\": \"@remotion\"\r\n}\r\n`,\r\n  },\r\n  {\r\n      filename : '.gitignore',\r\n      content : `node_modules\r\ndist\r\n.DS_Store\r\n.env\r\n\r\n# Ignore the output video from Git but not videos you import into src/.\r\nout\r\n`,\r\n  },\r\n  {\r\n      filename : '.prettierrc',\r\n      content : `{\r\n\"useTabs\": false,\r\n\"bracketSpacing\": true,\r\n\"tabWidth\": 2\r\n}\r\n`,\r\n  },\r\n  {\r\n      filename : 'package.json',\r\n      content : `{\r\n\"name\": \"template-helloworld\",\r\n\"version\": \"1.0.0\",\r\n\"description\": \"My Remotion video\",\r\n\"scripts\": {\r\n  \"start\": \"remotion studio\",\r\n  \"build\": \"remotion render HelloWorld out/video.mp4\",\r\n  \"upgrade\": \"remotion upgrade\",\r\n  \"test\": \"eslint src --ext ts,tsx,js,jsx && tsc\"\r\n},\r\n\"repository\": {},\r\n\"license\": \"UNLICENSED\",\r\n\"dependencies\": {\r\n  \"@remotion/cli\": \"^4.0.0\",\r\n  \"@remotion/zod-types\": \"^4.0.0\",\r\n  \"react\": \"18.3.1\",\r\n  \"react-dom\": \"18.3.1\",\r\n  \"remotion\": \"^4.0.0\",\r\n  \"zod\": \"3.22.3\"\r\n},\r\n\"devDependencies\": {\r\n  \"@remotion/eslint-config\": \"^4.0.0\",\r\n  \"@types/react\": \"18.3.1\",\r\n  \"@types/web\": \"0.0.166\",\r\n  \"eslint\": \"8.56.0\",\r\n  \"prettier\": \"3.3.3\",\r\n  \"typescript\": \"5.6.2\"\r\n},\r\n\"private\": true\r\n}\r\n`,\r\n  },\r\n  {\r\n      filename : 'README.md',\r\n      content : ``,\r\n  },\r\n  {\r\n      filename : 'remotion.config.js',\r\n      content : `// See all configuration options: https://remotion.dev/docs/config\r\n// Each option also is available as a CLI flag: https://remotion.dev/docs/cli\r\n\r\n// Note: When using the Node.JS APIs, the config file doesn't apply. Instead, pass options directly to the APIs\r\n\r\nimport { Config } from \"@remotion/cli/config\";\r\n\r\nConfig.setVideoImageFormat(\"jpeg\");\r\nConfig.setOverwriteOutput(true);\r\n`,\r\n  },\r\n  {\r\n      filename : 'tsconfig.json',\r\n      content : `{\r\n\"compilerOptions\": {\r\n  \"target\": \"ES2018\",\r\n  \"module\": \"commonjs\",\r\n  \"jsx\": \"react-jsx\",\r\n  \"outDir\": \"./dist\",\r\n  \"strict\": true,\r\n  \"noEmit\": true,\r\n  \"lib\": [\"es2015\"],\r\n  \"esModuleInterop\": true,\r\n  \"skipLibCheck\": true,\r\n  \"forceConsistentCasingInFileNames\": true,\r\n  \"noUnusedLocals\": true\r\n},\r\n\"exclude\": [\"remotion.config.ts\"]\r\n}\r\n`,\r\n  },\r\n  {\r\n      filename : 'src',\r\n      contents : [\r\n          {\r\n              filename : 'HelloWorld',\r\n              contents : [\r\n                {\r\n                  filename : 'Arc.tsx',\r\n                  content : `import { useState } from \"react\";\r\nimport { random, useVideoConfig } from \"remotion\";\r\n\r\nconst getCircumferenceOfArc = (rx: number, ry: number) => {\r\nreturn Math.PI * 2 * Math.sqrt((rx * rx + ry * ry) / 2);\r\n};\r\n\r\nconst rx = 135;\r\nconst ry = 300;\r\nconst cx = 960;\r\nconst cy = 540;\r\nconst arcLength = getCircumferenceOfArc(rx, ry);\r\nconst strokeWidth = 30;\r\n\r\nexport const Arc: React.FC<{\r\nprogress: number;\r\nrotation: number;\r\nrotateProgress: number;\r\ncolor1: string;\r\ncolor2: string;\r\n}> = ({ progress, rotation, rotateProgress, color1, color2 }) => {\r\nconst { width, height } = useVideoConfig();\r\n\r\n// Each svg Id must be unique to not conflict with each other\r\nconst [gradientId] = useState(() => String(random(null)));\r\n\r\nreturn (\r\n  <svg\r\n    viewBox={\\`0 0 \\${width} \\${height}\\`}\r\n    style={{\r\n      position: \"absolute\",\r\n      transform: \\`rotate(\\${rotation * rotateProgress}deg)\\`,\r\n    }}\r\n  >\r\n    <defs>\r\n      <linearGradient id={gradientId} x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\r\n        <stop offset=\"0%\" stopColor={color1} />\r\n        <stop offset=\"100%\" stopColor={color2} />\r\n      </linearGradient>\r\n    </defs>\r\n    <ellipse\r\n      cx={cx}\r\n      cy={cy}\r\n      rx={rx}\r\n      ry={ry}\r\n      fill=\"none\"\r\n      stroke={\\`url(#\\${gradientId})\\`}\r\n      strokeDasharray={arcLength}\r\n      strokeDashoffset={arcLength - arcLength * progress}\r\n      strokeLinecap=\"round\"\r\n      strokeWidth={strokeWidth}\r\n    />\r\n  </svg>\r\n);\r\n};\r\n`,\r\n                },\r\n                {\r\n                  filename : 'Atom.tsx',\r\n                  content : `import { useState } from \"react\";\r\nimport { random, useVideoConfig } from \"remotion\";\r\n\r\nexport const Atom: React.FC<{\r\nscale: number;\r\ncolor1: string;\r\ncolor2: string;\r\n}> = ({ scale, color1, color2 }) => {\r\nconst config = useVideoConfig();\r\n\r\n// Each SVG ID must be unique to not conflict with each other\r\nconst [gradientId] = useState(() => String(random(null)));\r\n\r\nreturn (\r\n  <svg\r\n    viewBox={\\`0 0 \\${config.width} \\${config.height}\\`}\r\n    style={{\r\n      position: \"absolute\",\r\n      transform: \\`scale(\\${scale})\\`,\r\n    }}\r\n  >\r\n    <defs>\r\n      <linearGradient id={gradientId} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n        <stop offset=\"0%\" stopColor={color1} />\r\n        <stop offset=\"100%\" stopColor={color2} />\r\n      </linearGradient>\r\n    </defs>\r\n    <circle\r\n      r={70}\r\n      cx={config.width / 2}\r\n      cy={config.height / 2}\r\n      fill={\\`url(#\\${gradientId})\\`}\r\n    />\r\n  </svg>\r\n);\r\n};\r\n`,\r\n                },\r\n                {\r\n                  filename : 'constants.ts',\r\n                  content : `// Change any of these to update your video live.\r\n\r\nexport const COLOR_1 = \"#86A8E7\";\r\n\r\nexport const FONT_FAMILY = \"SF Pro Text, Helvetica, Arial, sans-serif\";\r\n`,\r\n                },\r\n                {\r\n                  filename : 'Logo.tsx',\r\n                  content : `import {\r\nAbsoluteFill,\r\ninterpolate,\r\nspring,\r\nuseCurrentFrame,\r\nuseVideoConfig,\r\n} from \"remotion\";\r\nimport { Arc } from \"./Arc\";\r\nimport { Atom } from \"./Atom\";\r\nimport { z } from \"zod\";\r\nimport { zColor } from \"@remotion/zod-types\";\r\n\r\nexport const myCompSchema2 = z.object({\r\nlogoColor1: zColor(),\r\nlogoColor2: zColor(),\r\n});\r\n\r\nexport const Logo: React.FC<z.infer<typeof myCompSchema2>> = ({\r\nlogoColor1: color1,\r\nlogoColor2: color2,\r\n}) => {\r\nconst videoConfig = useVideoConfig();\r\nconst frame = useCurrentFrame();\r\n\r\nconst development = spring({\r\n  config: {\r\n    damping: 100,\r\n    mass: 0.5,\r\n  },\r\n  fps: videoConfig.fps,\r\n  frame,\r\n});\r\n\r\nconst rotationDevelopment = spring({\r\n  config: {\r\n    damping: 100,\r\n    mass: 0.5,\r\n  },\r\n  fps: videoConfig.fps,\r\n  frame,\r\n});\r\n\r\nconst scale = spring({\r\n  frame,\r\n  config: {\r\n    mass: 0.5,\r\n  },\r\n  fps: videoConfig.fps,\r\n});\r\n\r\nconst logoRotation = interpolate(\r\n  frame,\r\n  [0, videoConfig.durationInFrames],\r\n  [0, 360],\r\n);\r\n\r\nreturn (\r\n  <AbsoluteFill\r\n    style={{\r\n      transform: \\`scale(\\${scale}) rotate(\\${logoRotation}deg)\\`,\r\n    }}\r\n  >\r\n    <Arc\r\n      rotateProgress={rotationDevelopment}\r\n      progress={development}\r\n      rotation={30}\r\n      color1={color1}\r\n      color2={color2}\r\n    />\r\n    <Arc\r\n      rotateProgress={rotationDevelopment}\r\n      rotation={90}\r\n      progress={development}\r\n      color1={color1}\r\n      color2={color2}\r\n    />\r\n    <Arc\r\n      rotateProgress={rotationDevelopment}\r\n      rotation={-30}\r\n      progress={development}\r\n      color1={color1}\r\n      color2={color2}\r\n    />\r\n    <Atom scale={rotationDevelopment} color1={color1} color2={color2} />\r\n  </AbsoluteFill>\r\n);\r\n};\r\n`,\r\n                },\r\n                {\r\n                  filename : 'Subtitle.tsx',\r\n                  content : `import React from \"react\";\r\nimport { interpolate, useCurrentFrame } from \"remotion\";\r\nimport { COLOR_1, FONT_FAMILY } from \"./constants\";\r\n\r\nconst subtitle: React.CSSProperties = {\r\nfontFamily: FONT_FAMILY,\r\nfontSize: 40,\r\ntextAlign: \"center\",\r\nposition: \"absolute\",\r\nbottom: 140,\r\nwidth: \"100%\",\r\n};\r\n\r\nconst codeStyle: React.CSSProperties = {\r\ncolor: COLOR_1,\r\n};\r\n\r\nexport const Subtitle: React.FC = () => {\r\nconst frame = useCurrentFrame();\r\nconst opacity = interpolate(frame, [0, 30], [0, 1]);\r\nreturn (\r\n  <div style={{ ...subtitle, opacity }}>\r\n    Edit <code style={codeStyle}>src/Root.tsx</code> and save to reload.\r\n  </div>\r\n);\r\n};\r\n`,\r\n                },\r\n                {\r\n                  filename : 'Title.tsx',\r\n                  content : `import React from \"react\";\r\nimport { spring, useCurrentFrame, useVideoConfig } from \"remotion\";\r\nimport { FONT_FAMILY } from \"./constants\";\r\n\r\nconst title: React.CSSProperties = {\r\nfontFamily: FONT_FAMILY,\r\nfontWeight: \"bold\",\r\nfontSize: 100,\r\ntextAlign: \"center\",\r\nposition: \"absolute\",\r\nbottom: 160,\r\nwidth: \"100%\",\r\n};\r\n\r\nconst word: React.CSSProperties = {\r\nmarginLeft: 10,\r\nmarginRight: 10,\r\ndisplay: \"inline-block\",\r\n};\r\n\r\nexport const Title: React.FC<{\r\ntitleText: string;\r\ntitleColor: string;\r\n}> = ({ titleText, titleColor }) => {\r\nconst videoConfig = useVideoConfig();\r\nconst frame = useCurrentFrame();\r\n\r\nconst words = titleText.split(\" \");\r\n\r\nreturn (\r\n  <h1 style={title}>\r\n    {words.map((t, i) => {\r\n      const delay = i * 5;\r\n\r\n      const scale = spring({\r\n        fps: videoConfig.fps,\r\n        frame: frame - delay,\r\n        config: {\r\n          damping: 200,\r\n        },\r\n      });\r\n\r\n      return (\r\n        <span\r\n          key={t}\r\n          style={{\r\n            ...word,\r\n            color: titleColor,\r\n            transform: \\`scale(\\${scale})\\`,\r\n          }}\r\n        >\r\n          {t}\r\n        </span>\r\n      );\r\n    })}\r\n  </h1>\r\n);\r\n};\r\n`,\r\n                },\r\n              ],\r\n          },\r\n          {\r\n              filename : 'HelloWorld.tsx',\r\n              content : `import { spring } from \"remotion\";\r\nimport {\r\nAbsoluteFill,\r\ninterpolate,\r\nSequence,\r\nuseCurrentFrame,\r\nuseVideoConfig,\r\n} from \"remotion\";\r\nimport { Logo } from \"./HelloWorld/Logo\";\r\nimport { Subtitle } from \"./HelloWorld/Subtitle\";\r\nimport { Title } from \"./HelloWorld/Title\";\r\nimport { z } from \"zod\";\r\nimport { zColor } from \"@remotion/zod-types\";\r\n\r\nexport const myCompSchema = z.object({\r\ntitleText: z.string(),\r\ntitleColor: zColor(),\r\nlogoColor1: zColor(),\r\nlogoColor2: zColor(),\r\n});\r\n\r\nexport const HelloWorld: React.FC<z.infer<typeof myCompSchema>> = ({\r\ntitleText: propOne,\r\ntitleColor: propTwo,\r\nlogoColor1,\r\nlogoColor2,\r\n}) => {\r\nconst frame = useCurrentFrame();\r\nconst { durationInFrames, fps } = useVideoConfig();\r\n\r\n// Animate from 0 to 1 after 25 frames\r\nconst logoTranslationProgress = spring({\r\n  frame: frame - 25,\r\n  fps,\r\n  config: {\r\n    damping: 100,\r\n  },\r\n});\r\n\r\n// Move the logo up by 150 pixels once the transition starts\r\nconst logoTranslation = interpolate(\r\n  logoTranslationProgress,\r\n  [0, 1],\r\n  [0, -150],\r\n);\r\n\r\n// Fade out the animation at the end\r\nconst opacity = interpolate(\r\n  frame,\r\n  [durationInFrames - 25, durationInFrames - 15],\r\n  [1, 0],\r\n  {\r\n    extrapolateLeft: \"clamp\",\r\n    extrapolateRight: \"clamp\",\r\n  },\r\n);\r\n\r\n// A <AbsoluteFill> is just a absolutely positioned <div>!\r\nreturn (\r\n  <AbsoluteFill style={{ backgroundColor: \"white\" }}>\r\n    <AbsoluteFill style={{ opacity }}>\r\n      <AbsoluteFill style={{ transform: \\`translateY(\\${logoTranslation}px)\\` }}>\r\n        <Logo logoColor1={logoColor1} logoColor2={logoColor2} />\r\n      </AbsoluteFill>\r\n      {/* Sequences can shift the time for its children! */}\r\n      <Sequence from={35}>\r\n        <Title titleText={propOne} titleColor={propTwo} />\r\n      </Sequence>\r\n      {/* The subtitle will only enter on the 75th frame. */}\r\n      <Sequence from={75}>\r\n        <Subtitle />\r\n      </Sequence>\r\n    </AbsoluteFill>\r\n  </AbsoluteFill>\r\n);\r\n};\r\n`,\r\n          },\r\n          {\r\n              filename : 'index.ts',\r\n              content : `// This is your entry file! Refer to it when you render:\r\n// npx remotion render <entry-file> HelloWorld out/video.mp4\r\n\r\nimport { registerRoot } from \"remotion\";\r\nimport { RemotionRoot } from \"./Root\";\r\n\r\nregisterRoot(RemotionRoot);\r\n`,\r\n          },\r\n          {\r\n              filename : 'Root.tsx',\r\n              content : `import { Composition } from \"remotion\";\r\nimport { HelloWorld, myCompSchema } from \"./HelloWorld\";\r\nimport { Logo, myCompSchema2 } from \"./HelloWorld/Logo\";\r\n\r\n// Each <Composition> is an entry in the sidebar!\r\n\r\nexport const RemotionRoot: React.FC = () => {\r\nreturn (\r\n  <>\r\n    <Composition\r\n      // You can take the \"id\" to render a video:\r\n      // npx remotion render src/index.ts <id> out/video.mp4\r\n      id=\"HelloWorld\"\r\n      component={HelloWorld}\r\n      durationInFrames={150}\r\n      fps={30}\r\n      width={1920}\r\n      height={1080}\r\n      // You can override these props for each render:\r\n      // https://www.remotion.dev/docs/parametrized-rendering\r\n      schema={myCompSchema}\r\n      defaultProps={{\r\n        titleText: \"Welcome to Remotion\",\r\n        titleColor: \"#000000\",\r\n        logoColor1: \"#91EAE4\",\r\n        logoColor2: \"#86A8E7\",\r\n      }}\r\n    />\r\n\r\n    {/* Mount any React component to make it show up in the sidebar and work on it individually! */}\r\n    <Composition\r\n      id=\"OnlyLogo\"\r\n      component={Logo}\r\n      durationInFrames={150}\r\n      fps={30}\r\n      width={1920}\r\n      height={1080}\r\n      schema={myCompSchema2}\r\n      defaultProps={{\r\n        logoColor1: \"#91dAE2\" as const,\r\n        logoColor2: \"#86A8E7\" as const,\r\n      }}\r\n    />\r\n  </>\r\n);\r\n};\r\n`,\r\n          },\r\n      ],\r\n  }\r\n\r\n];","const fileContentsForVite = [\r\n    {\r\n        filename: '.gitignore',\r\n        content: `# Logs\r\nlogs\r\n*.log\r\nnpm-debug.log*\r\nyarn-debug.log*\r\nyarn-error.log*\r\npnpm-debug.log*\r\nlerna-debug.log*\r\n\r\nnode_modules\r\ndist\r\ndist-ssr\r\n*.local\r\n\r\n# Editor directories and files\r\n.vscode/*\r\n!.vscode/extensions.json\r\n.idea\r\n.DS_Store\r\n*.suo\r\n*.ntvs*\r\n*.njsproj\r\n*.sln\r\n*.sw?\r\n`,\r\n    },\r\n    {\r\n        filename: 'index.html',\r\n        content: `<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <link rel=\"icon\" type=\"image/svg+xml\" href=\"/vite.svg\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <title>Vite App</title>\r\n  </head>\r\n  <body>\r\n    <div id=\"app\"></div>\r\n    <script type=\"module\" src=\"./src/main.js\"></script>\r\n  </body>\r\n</html>\r\n`,\r\n    },\r\n    {\r\n        filename: 'package.json',\r\n        content: `{\r\n  \"name\": \"vite-starter\",\r\n  \"private\": true,\r\n  \"version\": \"0.0.0\",\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"dev\": \"vite\",\r\n    \"build\": \"vite build\",\r\n    \"preview\": \"vite preview\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"vite\": \"^5.4.8\"\r\n  }\r\n}\r\n`,\r\n    }\r\n];\r\n\r\nexport default fileContentsForVite;\r\n\r\nexport const fileContentsForViteProject = [\r\n  {\r\n    filename: '.gitignore',\r\n    content: `# Logs\r\nlogs\r\n*.log\r\nnpm-debug.log*\r\nyarn-debug.log*\r\nyarn-error.log*\r\npnpm-debug.log*\r\nlerna-debug.log*\r\n\r\nnode_modules\r\ndist\r\ndist-ssr\r\n*.local\r\n\r\n# Editor directories and files\r\n.vscode/*\r\n!.vscode/extensions.json\r\n.idea\r\n.DS_Store\r\n*.suo\r\n*.ntvs*\r\n*.njsproj\r\n*.sln\r\n*.sw?\r\n`,\r\n  },\r\n  {\r\n    filename: 'index.html',\r\n    content: `<!doctype html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <link rel=\"icon\" type=\"image/svg+xml\" href=\"/vite.svg\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <title>Vite App</title>\r\n  </head>\r\n  <body>\r\n    <div id=\"app\"></div>\r\n    <script type=\"module\" src=\"./src/main.js\"></script>\r\n  </body>\r\n</html>\r\n`,\r\n  },\r\n  {\r\n    filename: 'package.json',\r\n    content: `{\r\n  \"name\": \"vite-starter\",\r\n  \"private\": true,\r\n  \"version\": \"0.0.0\",\r\n  \"type\": \"module\",\r\n  \"scripts\": {\r\n    \"dev\": \"vite\",\r\n    \"build\": \"vite build\",\r\n    \"preview\": \"vite preview\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"vite\": \"^5.4.8\"\r\n  }\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: 'public',\r\n    contents:[\r\n      {\r\n        filename: 'vite.svg',\r\n      content: `<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" aria-hidden=\"true\" role=\"img\" class=\"iconify iconify--logos\" width=\"31.88\" height=\"32\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 256 257\"><defs><linearGradient id=\"IconifyId1813088fe1fbc01fb466\" x1=\"-.828%\" x2=\"57.636%\" y1=\"7.652%\" y2=\"78.411%\"><stop offset=\"0%\" stop-color=\"#41D1FF\"></stop><stop offset=\"100%\" stop-color=\"#BD34FE\"></stop></linearGradient><linearGradient id=\"IconifyId1813088fe1fbc01fb467\" x1=\"43.376%\" x2=\"50.316%\" y1=\"2.242%\" y2=\"89.03%\"><stop offset=\"0%\" stop-color=\"#FFEA83\"></stop><stop offset=\"8.333%\" stop-color=\"#FFDD35\"></stop><stop offset=\"100%\" stop-color=\"#FFA800\"></stop></linearGradient></defs><path fill=\"url(#IconifyId1813088fe1fbc01fb466)\" d=\"M255.153 37.938L134.897 252.976c-2.483 4.44-8.862 4.466-11.382.048L.875 37.958c-2.746-4.814 1.371-10.646 6.827-9.67l120.385 21.517a6.537 6.537 0 0 0 2.322-.004l117.867-21.483c5.438-.991 9.574 4.796 6.877 9.62Z\"></path><path fill=\"url(#IconifyId1813088fe1fbc01fb467)\" d=\"M185.432.063L96.44 17.501a3.268 3.268 0 0 0-2.634 3.014l-5.474 92.456a3.268 3.268 0 0 0 3.997 3.378l24.777-5.718c2.318-.535 4.413 1.507 3.936 3.838l-7.361 36.047c-.495 2.426 1.782 4.5 4.151 3.78l15.304-4.649c2.372-.72 4.652 1.36 4.15 3.788l-11.698 56.621c-.732 3.542 3.979 5.473 5.943 2.437l1.313-2.028l72.516-144.72c1.215-2.423-.88-5.186-3.54-4.672l-25.505 4.922c-2.396.462-4.435-1.77-3.759-4.114l16.646-57.705c.677-2.35-1.37-4.583-3.769-4.113Z\"></path></svg>`\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    filename: 'javascript.svg',\r\n    content: `<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" aria-hidden=\"true\" role=\"img\" class=\"iconify iconify--logos\" width=\"32\" height=\"32\" preserveAspectRatio=\"xMidYMid meet\" viewBox=\"0 0 256 256\"><path fill=\"#F7DF1E\" d=\"M0 0h256v256H0V0Z\"></path><path d=\"m67.312 213.932l19.59-11.856c3.78 6.701 7.218 12.371 15.465 12.371c7.905 0 12.89-3.092 12.89-15.12v-81.798h24.057v82.138c0 24.917-14.606 36.259-35.916 36.259c-19.245 0-30.416-9.967-36.087-21.996m85.07-2.576l19.588-11.341c5.157 8.421 11.859 14.607 23.715 14.607c9.969 0 16.325-4.984 16.325-11.858c0-8.248-6.53-11.17-17.528-15.98l-6.013-2.58c-17.357-7.387-28.87-16.667-28.87-36.257c0-18.044 13.747-31.792 35.228-31.792c15.294 0 26.292 5.328 34.196 19.247l-18.732 12.03c-4.125-7.389-8.591-10.31-15.465-10.31c-7.046 0-11.514 4.468-11.514 10.31c0 7.217 4.468 10.14 14.778 14.608l6.014 2.577c20.45 8.765 31.963 17.7 31.963 37.804c0 21.654-17.012 33.51-39.867 33.51c-22.339 0-36.774-10.654-43.819-24.574\"></path></svg>`\r\n  },\r\n  {\r\n    filename: 'src',\r\n    contents:[\r\n      {\r\n        filename: 'main.js',\r\n        content: `import './style.css'\r\nimport javascriptLogo from '../javascript.svg'\r\nimport viteLogo from '../public/vite.svg'\r\nimport { setupCounter } from './counter.js'\r\n\r\ndocument.querySelector('#app').innerHTML = \\`\r\n  <div>\r\n    <a href=\"https://vitejs.dev\" target=\"_blank\">\r\n      <img src=\"\\${viteLogo}\" class=\"logo\" alt=\"Vite logo\" />\r\n    </a>\r\n    <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript\" target=\"_blank\">\r\n      <img src=\"\\${javascriptLogo}\" class=\"logo vanilla\" alt=\"JavaScript logo\" />\r\n    </a>\r\n    <h1>Hello Vite!</h1>\r\n    <div class=\"card\">\r\n      <button id=\"counter\" type=\"button\"></button>\r\n    </div>\r\n    <p class=\"read-the-docs\">\r\n      Click on the Vite logo to learn more\r\n    </p>\r\n  </div>\r\n\\`\r\n\r\nsetupCounter(document.querySelector('#counter'))\r\n`,\r\n      },\r\n      {\r\n        filename: 'counter.js',\r\n        content: `export function setupCounter(element) {\r\n  let counter = 0\r\n  const setCounter = (count) => {\r\n    counter = count\r\n    element.innerHTML = \\`count is \\${counter}\\`\r\n  }\r\n  element.addEventListener('click', () => setCounter(counter + 1))\r\n  setCounter(0)\r\n}\r\n`\r\n      },\r\n      {\r\n        filename: 'style.css',\r\n        content: `:root {\r\n  font-family: Inter, system-ui, Avenir, Helvetica, Arial, sans-serif;\r\n  line-height: 1.5;\r\n  font-weight: 400;\r\n\r\n  color-scheme: light dark;\r\n  color: rgba(255, 255, 255, 0.87);\r\n  background-color: #242424;\r\n\r\n  font-synthesis: none;\r\n  text-rendering: optimizeLegibility;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\na {\r\n  font-weight: 500;\r\n  color: #646cff;\r\n  text-decoration: inherit;\r\n}\r\na:hover {\r\n  color: #535bf2;\r\n}\r\n\r\nbody {\r\n  margin: 0;\r\n  display: flex;\r\n  place-items: center;\r\n  min-width: 320px;\r\n  min-height: 100vh;\r\n}\r\n\r\nh1 {\r\n  font-size: 3.2em;\r\n  line-height: 1.1;\r\n}\r\n\r\n#app {\r\n  max-width: 1280px;\r\n  margin: 0 auto;\r\n  padding: 2rem;\r\n  text-align: center;\r\n}\r\n\r\n.logo {\r\n  height: 6em;\r\n  padding: 1.5em;\r\n  will-change: filter;\r\n  transition: filter 300ms;\r\n}\r\n.logo:hover {\r\n  filter: drop-shadow(0 0 2em #646cffaa);\r\n}\r\n.logo.vanilla:hover {\r\n  filter: drop-shadow(0 0 2em #f7df1eaa);\r\n}\r\n\r\n.card {\r\n  padding: 2em;\r\n}\r\n\r\n.read-the-docs {\r\n  color: #888;\r\n}\r\n\r\nbutton {\r\n  border-radius: 8px;\r\n  border: 1px solid transparent;\r\n  padding: 0.6em 1.2em;\r\n  font-size: 1em;\r\n  font-weight: 500;\r\n  font-family: inherit;\r\n  background-color: #1a1a1a;\r\n  cursor: pointer;\r\n  transition: border-color 0.25s;\r\n}\r\nbutton:hover {\r\n  border-color: #646cff;\r\n}\r\nbutton:focus,\r\nbutton:focus-visible {\r\n  outline: 4px auto -webkit-focus-ring-color;\r\n}\r\n\r\n@media (prefers-color-scheme: light) {\r\n  :root {\r\n    color: #213547;\r\n    background-color: #ffffff;\r\n  }\r\n  a:hover {\r\n    color: #747bff;\r\n  }\r\n  button {\r\n    background-color: #f9f9f9;\r\n  }\r\n}\r\n`\r\n      }\r\n    ] \r\n  }\r\n  \r\n];\r\n","export const fileContentsForExpressProject = [\r\n  {\r\n    filename: \".gitignore\",\r\n    content: `node_modules\r\n.env\r\n`,\r\n  },\r\n  {\r\n    filename: \".env\",\r\n    content: `PORT=3000`,\r\n  },\r\n  {\r\n    filename: \"package.json\",\r\n    content: `{\r\n  \"name\": \"express-backend-starter\",\r\n  \"version\": \"1.0.0\",\r\n  \"main\": \"index.js\",\r\n  \"scripts\": {\r\n  \"start\": \"node src/server.js\",\r\n  \"dev\": \"nodemon src/server.js\"\r\n},\r\n  \"keywords\": [],\r\n  \"author\": \"\",\r\n  \"license\": \"ISC\",\r\n  \"description\": \"\",\r\n  \"dependencies\": {\r\n    \"dotenv\": \"^16.4.7\",\r\n    \"express\": \"^4.21.2\",\r\n    \"morgan\": \"^1.10.0\"\r\n  },\r\n  \"devDependencies\": {\r\n    \"nodemon\": \"^3.1.9\"\r\n  }\r\n}\r\n`,\r\n  },\r\n  {\r\n    filename: \"README.md\",\r\n    content: `# Vue 3 + TypeScript + Vite\r\n\r\nThis template should help get you started developing with Vue 3 and TypeScript in Vite. The template uses Vue 3 \\`<script setup>\\` SFCs, check out the [script setup docs](https://v3.vuejs.org/api/sfc-script-setup.html#sfc-script-setup) to learn more.\r\n\r\nLearn more about the recommended Project Setup and IDE Support in the [Vue Docs TypeScript Guide](https://vuejs.org/guide/typescript/overview.html#project-setup).\r\n`,\r\n  },\r\n  {\r\n    filename: \"src\",\r\n    contents: [\r\n      {\r\n        filename: \"server.js\",\r\n        content: `\r\nconst app = require(\"./app\");\r\n\r\nconst PORT = process.env.PORT || 3000;\r\n\r\napp.listen(PORT, () => {\r\n  console.log(\\`Server is running on http://localhost:\\${PORT}\\`);\r\n});\r\n`,\r\n      },\r\n      {\r\n        filename: \"app.js\",\r\n        content: `require(\"dotenv\").config();\r\nconst express = require(\"express\");\r\nconst morgan = require(\"morgan\");\r\nconst routes = require(\"./routes\");\r\n\r\nconst app = express();\r\n\r\n// Middleware\r\napp.use(express.json());\r\napp.use(morgan(\"dev\"));\r\n\r\n// Routes\r\napp.use(\"/api\", routes);\r\n\r\nmodule.exports = app;\r\n`,\r\n      },\r\n\r\n      {\r\n        filename: \"routes\",\r\n        contents: [\r\n          {\r\n            filename: \"index.js\",\r\n            content: `const express = require(\"express\");\r\nconst router = express.Router();\r\nconst exampleController = require(\"../controllers/exampleController\");\r\n\r\nrouter.get(\"/hello\", exampleController.sayHello);\r\n\r\nmodule.exports = router;\r\n`,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        filename: \"middlewares\",\r\n        contents: [\r\n          {\r\n            filename: \"logger.js\",\r\n            content: `\r\n            module.exports = (req, res, next) => {\r\n            console.log(\\`\\${req.method} \\${req.url}\\`);\r\n            next();\r\n            };\r\n            `,\r\n          },\r\n        ],\r\n      },\r\n      {\r\n        filename: \"controllers\",\r\n        contents: [\r\n          {\r\n            filename: \"exampleController.js\",\r\n            content: `\r\n            exports.sayHello = (req, res) => {\r\n            res.status(200).json({ message: \"Hello, World!\" });\r\n            };\r\n            `,\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nexport default fileContentsForExpressProject;\r\n","export const fileContentsForNodeProject = [\r\n    {\r\n      filename: \".gitignore\",\r\n      content: `node_modules\r\n  .env\r\n  `,\r\n    },\r\n    {\r\n      filename: \".env\",\r\n      content: `PORT=3000`,\r\n    },\r\n    {\r\n      filename: \"package.json\",\r\n      content: `{\r\n    \"name\": \"nodejs-backend-starter\",\r\n    \"version\": \"1.0.0\",\r\n    \"main\": \"src/server.js\",\r\n    \"scripts\": {\r\n      \"start\": \"node src/server.js\",\r\n      \"dev\": \"nodemon src/server.js\"\r\n    },\r\n    \"keywords\": [],\r\n    \"author\": \"\",\r\n    \"license\": \"ISC\",\r\n    \"description\": \"\",\r\n    \"dependencies\": {},\r\n    \"devDependencies\": {\r\n      \"nodemon\": \"^3.1.9\"\r\n    }\r\n  }\r\n  `,\r\n    },\r\n    {\r\n      filename: \"README.md\",\r\n      content: `# Node.js Backend Starter\r\n  \r\n  This is a simple Node.js template for building backend applications without any frameworks like Express.\r\n  \r\n  ## Features\r\n  - Lightweight\r\n  - Example route included\r\n  - Environment variable support\r\n  \r\n  ## Getting Started\r\n  \r\n  ### Installation\r\n  1. Clone the repository:\r\n     \\`\\`\\`\r\n     git clone <repository-url>\r\n     cd nodejs-backend-starter\r\n     \\`\\`\\`\r\n  \r\n  2. Install dependencies:\r\n     \\`\\`\\`\r\n     npm install\r\n     \\`\\`\\`\r\n  \r\n  ### Running the Server\r\n  - Development mode:\r\n    \\`\\`\\`\r\n    npm run dev\r\n    \\`\\`\\`\r\n  \r\n  - Production mode:\r\n    \\`\\`\\`\r\n    npm start\r\n    \\`\\`\\`\r\n  \r\n  ## API Endpoints\r\n  - **GET** \\`/example\\`: Returns a simple JSON response.\r\n  `,\r\n    },\r\n    {\r\n      filename: \"src\",\r\n      contents: [\r\n        {\r\n          filename: \"server.js\",\r\n          content: `const http = require(\"http\");\r\n  const routes = require(\"./routes\");\r\n  \r\n  const PORT = process.env.PORT || 3000;\r\n  \r\n  const server = http.createServer((req, res) => {\r\n    routes.handleRequest(req, res);\r\n  });\r\n  \r\n  server.listen(PORT, () => {\r\n    console.log(\\`Server running at http://localhost:\\${PORT}/\\`);\r\n  });\r\n  `,\r\n        },\r\n        {\r\n          filename: \"routes.js\",\r\n          content: `const exampleController = require(\"./controllers/exampleController\");\r\n  \r\n  const handleRequest = (req, res) => {\r\n    if (req.url === \"/example\" && req.method === \"GET\") {\r\n      return exampleController.sayHello(req, res);\r\n    }\r\n    res.statusCode = 404;\r\n    res.end(\"Not Found\");\r\n  };\r\n  \r\n  module.exports = { handleRequest };\r\n  `,\r\n        },\r\n        {\r\n          filename: \"controllers\",\r\n          contents: [\r\n            {\r\n              filename: \"exampleController.js\",\r\n              content: `exports.sayHello = (req, res) => {\r\n    res.statusCode = 200;\r\n    res.setHeader(\"Content-Type\", \"application/json\");\r\n    res.end(JSON.stringify({ message: \"Hello, World!\" }));\r\n  };\r\n  `,\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n  \r\n  export default fileContentsForNodeProject;\r\n  ","const fileContentsForFastAPIProject = [\r\n    {\r\n      filename: \".gitignore\",\r\n      content: `env/\r\n  __pycache__/\r\n  *.pyc\r\n  *.pyo\r\n  *.pyd\r\n  .Python\r\n  .env\r\n  `,\r\n    },\r\n    {\r\n      filename: \".env\",\r\n      content: `APP_NAME=FastAPI Starter\r\n  DEBUG=True\r\n  `,\r\n    },\r\n    {\r\n      filename: \"requirements.txt\",\r\n      content: `fastapi==0.100.0\r\n  uvicorn==0.22.0\r\n  python-dotenv==1.0.0\r\n  `,\r\n    },\r\n    {\r\n      filename: \"README.md\",\r\n      content: `# FastAPI Starter Template\r\n  \r\n  A simple template for FastAPI projects.\r\n  \r\n  ## Setup\r\n  \r\n  1. Create a virtual environment:\r\n     \\`\\`\\`bash\r\n     python -m venv env\r\n     source env/bin/activate\r\n     \\`\\`\\`\r\n  \r\n  2. Install dependencies:\r\n     \\`\\`\\`bash\r\n     pip install -r requirements.txt\r\n     \\`\\`\\`\r\n  \r\n  3. Run the server:\r\n     \\`\\`\\`bash\r\n     uvicorn app.main:app --reload\r\n     \\`\\`\\`\r\n  `,\r\n    },\r\n    {\r\n      filename: \"app\",\r\n      contents: [\r\n        {\r\n          filename: \"main.py\",\r\n          content: `from fastapi import FastAPI\r\n\r\nfrom app.api.v1.endpoints import example\r\n\r\napp = FastAPI()\r\n\r\n# Include routers\r\napp.include_router(example.router, prefix=\"/api/v1\", tags=[\"Example\"])\r\n\r\n@app.get(\"/\")\r\ndef read_root():\r\n    return {\"message\": \"Welcome to FastAPI Starter!\"}`,\r\n        },\r\n        {\r\n          filename: \"api\",\r\n          contents: [\r\n            {\r\n              filename: \"__init__.py\",\r\n              content: \"\",\r\n            },\r\n            {\r\n              filename: \"v1\",\r\n              contents: [\r\n                {\r\n                  filename: \"__init__.py\",\r\n                  content: \"\",\r\n                },\r\n                {\r\n                  filename: \"endpoints\",\r\n                  contents: [\r\n                    {\r\n                      filename: \"example.py\",\r\n                      content: `from fastapi import APIRouter\r\n\r\nrouter = APIRouter()\r\n\r\n@router.get(\"/hello\")\r\ndef say_hello():\r\n    return {\"message\": \"Hello, World!\"}`,\r\n                    },\r\n                  ],\r\n                },\r\n              ],\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          filename: \"core\",\r\n          contents: [\r\n            {\r\n              filename: \"__init__.py\",\r\n              content: \"\",\r\n            },\r\n            {\r\n              filename: \"config.py\",\r\n              content: `from pydantic import BaseSettings\r\n  \r\nclass Settings(BaseSettings):\r\n  app_name: str = \"FastAPI Starter\"\r\n  debug: bool = True\r\n  \r\nclass Config:\r\n  env_file = \".env\"\r\n  \r\nsettings = Settings()\r\n  `,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          filename: \"models\",\r\n          contents: [\r\n            {\r\n              filename: \"__init__.py\",\r\n              content: \"# Define Pydantic models here in future if needed.\",\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n  \r\n  export default fileContentsForFastAPIProject;\r\n  ","//@ts-ignore\r\n/* eslint-disable */\r\n// @ts-nocheck\r\nconst fs = require(\"fs\");\r\nimport axios from \"axios\";\r\n//@ts-ignore\r\n// import {encoding_for_model } from \"tiktoken\";\r\nimport * as path from \"path\";\r\n//@ts-ignore\r\nimport * as vscode from \"vscode\";\r\nimport { getNonce, getDate, getUniqueId } from \"./CommonServices\";\r\n// import { saveFile, runTestsFile } from \"./FileOperations\";\r\nimport { CMD_SIGNIN, VERCEL_TOKEN, BASE_URL } from \"./Constants\";\r\nimport { runTestsFile } from \"./FileOperations\";\r\nimport { getAllFilesRecursively, getSemanticSearchResponse, saveFile, findRootDir } from \"./util\";\r\n\r\n//@ts-ignore\r\nimport * as diff from \"diff\";\r\nimport { encrypt } from \"./EncryptDecrypt\";\r\nimport { getRecentBuildHistories, getRecentChatHistories } from \"./extension\";\r\nimport {\r\n  deleteFiles,\r\n  getRelevantFilesContent,\r\n  parseAndCreateFiles,\r\n  removeRedDecoratedLines,\r\n  retrieveCode,\r\n  revertChangesOrDelete,\r\n  saveBuildFile\r\n} from \"./parseAndCreateFiles\";\r\nimport {\r\n  getFileContextSuggestions,\r\n  getFileContent,\r\n  getNearByFiles,\r\n  getRecursiveNearByFiles,\r\n} from \"./FileContextProvider\";\r\nimport { AUTH_TOKEN } from \"./Constants\";\r\nimport { getUserProfile, updateAccountUsage } from \"./CommonServices\";\r\nimport { StorageService, getStoreKey } from \"./StorageService\";\r\nimport { execSync } from 'child_process';\r\nimport { processCodeBlocks } from \"./CodeBlockProvider\";\r\nimport { create_fs_buildsetup, create_fs_startupProject } from \"./file_setup\"\r\n// Add this interface near the top of the file\r\ninterface ChatMessage {\r\n  input: string;\r\n  output: string;\r\n  timestamp: string;\r\n}\r\n\r\ninterface SessionData {\r\n  sessionId: string;\r\n  chatHistory: ChatMessage[];\r\n  title: string;\r\n}\r\n\r\nimport { createSingleFile } from \"./parseAndCreateFiles\";\r\nimport { log } from \"console\";\r\n// import { extractAllGoImports } from \"./Parsing_agents\";\r\nimport { extractAllGoImports, extractGoPackage } from \"./helper_agents\";\r\n//@ts-ignore\r\nexport function openWebview(context, payload: any) {\r\n  // const editor = vscode.window.activeTextEditor;\r\n  // let selectedText = \"\";\r\n  // let fileName = \"\"\r\n  // if (editor) {\r\n  // // Get the selected text\r\n  //  selectedText = editor.document.getText(editor.selection) ;\r\n  //  const absoluteFilePath = editor.document.uri.fsPath;\r\n  //  fileName = path.basename(absoluteFilePath);\r\n\r\n  //  if(!selectedText){\r\n  //     vscode.window.showErrorMessage(\"Please select some code to generate tests\")\r\n  //     return;\r\n  //  }\r\n\r\n  // } else {\r\n  // vscode.window.showErrorMessage('No active text editor found.');\r\n  // }\r\n\r\n  // openPanel()\r\n  const commandType = payload.commandType;\r\n  //@ts-ignore\r\n  ReactPanel.createOrShow(context, payload, commandType);\r\n}\r\nasync function addTabBeforeNewline(inputString) {\r\n  console.log(\"Original Input String:\", inputString);\r\n\r\n  const mainBlockPattern = /unittest\\.main\\(\\)/;\r\n  const mainPattern = /if __name__ == '__main__':/;\r\n\r\n  // Remove unnecessary blocks\r\n  inputString = inputString.replace(mainBlockPattern, \"\");\r\n  console.log(\"After Removing unittest.main():\", inputString);\r\n\r\n  inputString = inputString.replace(mainPattern, \"\");\r\n  console.log(\"After Removing if __name__ == '__main__':\", inputString);\r\n\r\n  const lines = inputString?.split(\"\\n\");\r\n  console.log(\"Lines Array:\", lines);\r\n\r\n  let insideClass = false;\r\n\r\n  // Add tab character before each line that should be indented\r\n  for (let i = 0; i < lines.length; i++) {\r\n    console.log(`Processing Line ${i}:`, lines[i]);\r\n\r\n    // If we are at the class definition line, don't add extra tabs\r\n    if (lines[i].startsWith(\"class \")) {\r\n      insideClass = true;\r\n      console.log(\"Inside Class Definition\");\r\n      continue; // Skip indentation for class declaration\r\n    }\r\n\r\n    if (insideClass && lines[i].startsWith(\"def \")) {\r\n      // Only indent function definitions and further nested blocks\r\n      lines[i] = \"\\t\" + lines[i];\r\n      console.log(\"Indented Function Definition:\", lines[i]);\r\n    } else {\r\n      // For other lines, indent them as usual\r\n      lines[i] = \"\\t\" + lines[i];\r\n      console.log(\"Indented Line:\", lines[i]);\r\n    }\r\n  }\r\n\r\n  const result = lines.join(\"\\n\");\r\n  console.log(\"Final Result:\", result);\r\n\r\n  return result;\r\n}\r\n\r\nfunction addSpaceBeforeNewline(inputString) {\r\n  const mainBlockPattern = /unittest\\.main\\(\\)/g;\r\n  const mainPattern = /if __name__ == '__main__':/g;\r\n\r\n  // Remove specific patterns related to main blocks\r\n  inputString = inputString\r\n    .replace(mainBlockPattern, \"\")\r\n    .replace(mainPattern, \"\");\r\n\r\n  // Split the inputString by newline character '\\n'\r\n  const lines = inputString?.split(\"\\n\");\r\n\r\n  // Remove unnecessary empty lines\r\n  const filteredLines = lines.filter((line) => line.trim() !== \"\");\r\n\r\n  // Join the lines back together with newline characters '\\n'\r\n  const resultString = filteredLines.join(\"\\n\");\r\n\r\n  return resultString;\r\n}\r\n\r\n\r\n\r\nasync function detectProjectType(projectPath: string) {\r\n  console.log(\"Detecting project type...\");\r\n  // Detect framework based on project structure\r\n  const frameworkDetectors = [\r\n    {\r\n      name: 'React',\r\n      check: () => fs.existsSync(path.join(projectPath, 'package.json')) &&\r\n        fs.readFileSync(path.join(projectPath, 'package.json'), 'utf8').includes('react')\r\n    },\r\n    {\r\n      name: 'Vue',\r\n      check: () => fs.existsSync(path.join(projectPath, 'package.json')) &&\r\n        fs.readFileSync(path.join(projectPath, 'package.json'), 'utf8').includes('vue')\r\n    },\r\n    {\r\n      name: 'Next.js',\r\n      check: () => fs.existsSync(path.join(projectPath, 'package.json')) &&\r\n        fs.readFileSync(path.join(projectPath, 'package.json'), 'utf8').includes('next')\r\n    },\r\n\r\n    // Add more framework detectors\r\n  ];\r\n\r\n  return frameworkDetectors.find(framework => framework.check())?.name || 'React';\r\n}\r\n\r\n\r\nfunction extractProjectFolder(message: string): string {\r\n  console.log(\"Extracting project folder...\", message);\r\n  const cdMatch = message.match(/cd\\s+(\\w+[-\\w]*)/);\r\n  return cdMatch ? cdMatch[1] : '';\r\n}\r\n\r\nasync function prepareDeploymentPackage(projectFolder: string, panel: vscode.WebviewPanel) {\r\n  try {\r\n    console.log(\"Preparing deployment package...\", projectFolder);\r\n    panel.webview.postMessage({\r\n      type: \"buildStart\",\r\n      data: { timestamp: Date.now() }\r\n    });\r\n\r\n    const projectPath = projectFolder;\r\n    const frameworkType = await detectProjectType(projectPath);\r\n    console.log(\"Framework Type:\", frameworkType);\r\n\r\n    const buildCommands = {\r\n      'React': 'npm run build',\r\n      'Vue': 'npm run build',\r\n      'Next.js': 'npm run build && npm run export',\r\n      'static': 'echo \"No build step required\"'\r\n    };\r\n\r\n    console.log(\"Executing command\", buildCommands[frameworkType], \"path\", projectPath);\r\n\r\n    // Execute build command\r\n    execSync(buildCommands[frameworkType], { cwd: projectPath });\r\n\r\n    // Send message that build is complete\r\n    panel.webview.postMessage({\r\n      type: \"buildComplete\",\r\n      data: {\r\n        timestamp: Date.now(),\r\n        frameworkType: frameworkType\r\n      }\r\n    });\r\n\r\n\r\n    const buildDir = path.join(projectFolder, 'build');\r\n    const distDir = path.join(projectFolder, 'dist');\r\n    const outDir = path.join(projectFolder, 'out');\r\n\r\n    let buildPath;\r\n\r\n    if (fs.existsSync(buildDir)) {\r\n      buildPath = buildDir;\r\n    } else if (fs.existsSync(distDir)) {\r\n      buildPath = distDir;\r\n    }else if (fs.existsSync(outDir)) {\r\n      buildPath = outDir;\r\n    }\r\n    else {\r\n      let error = \"Build output folder not found. Please ensure the build process generates the correct folder (build, dist, or out).\"\r\n      console.log(\"deployErrorLog1\",error);\r\n      panel.webview.postMessage({\r\n        type: \"buildError\",\r\n        data: {\r\n          error: error,\r\n          timestamp: Date.now()\r\n        }\r\n      });\r\n      return null;\r\n    }\r\n    console.log(\"Build Path\", buildPath);\r\n\r\n    return buildPath;\r\n  } catch (error) {\r\n    console.log(\"deployErrorLog2\", error);\r\n    // Send build error message\r\n    panel.webview.postMessage({\r\n      type: \"buildError\",\r\n      data: {\r\n        error: error.message,\r\n        timestamp: Date.now()\r\n      }\r\n    });\r\n    throw error;\r\n  }\r\n}\r\n\r\nasync function getSiteUrl(projectName: string): Promise<string> {\r\n  const myHeaders = new Headers();\r\n  myHeaders.append(\"Authorization\", `Bearer ${VERCEL_TOKEN}`);\r\n  myHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n  const requestOptions = {\r\n    method: \"GET\",\r\n    headers: myHeaders,\r\n    redirect: \"follow\",\r\n  };\r\n\r\n  try {\r\n    const response = await fetch(\r\n      `https://api.vercel.com/v9/projects/${projectName}`,\r\n      requestOptions\r\n    );\r\n\r\n    if (!response.ok) {\r\n      console.error(`Failed to fetch site URL: ${response.statusText}`);\r\n      return `https://${projectName}.vercel.app`;\r\n    }\r\n\r\n    const result = await response.json(); // Parse as JSON\r\n    console.log(\"245 API Result:\", result);\r\n    console.log(\"246 API Result:\", result?.targets?.production);\r\n    const siteUrl = result?.targets?.production?.alias?.[0]; // Adjust based on API response structure\r\n    if (!siteUrl) {\r\n      return `https://${projectName}.vercel.app`;\r\n    }\r\n    return `https://${siteUrl}`;\r\n  } catch (error) {\r\n    console.error(\"Error fetching site URL:\", error);\r\n    return `https://${projectName}.vercel.app`;\r\n  }\r\n}\r\n \r\n\r\nasync function deployToVercel(projectPath: string, rootDir: string, panel: vscode.WebviewPanel) {\r\n  try {\r\n    console.log(\"Deploying to Vercel...\", projectPath, rootDir);\r\n\r\n    const projectFolder = rootDir.split('/').length == 1\r\n      ? rootDir.split('\\\\').pop()\r\n      : rootDir.split('/').pop();\r\n    \r\n    // Send message that deployment is starting\r\n    panel.webview.postMessage({\r\n      type: \"deployStart\",\r\n      data: {\r\n        projectFolder: projectFolder,\r\n        timestamp: Date.now()\r\n      }\r\n    });\r\n\r\n    const buildDir = await prepareDeploymentPackage(rootDir, panel);\r\n    console.log(\"Deployment package prepared successfully\", buildDir);\r\n\r\n    const projectName = `${projectFolder}-deployment`.toLowerCase().replace('_', '-');\r\n    const deployCommand = [\r\n      `npx vercel deploy ${buildDir} --prod`,\r\n      `--token=${VERCEL_TOKEN}`,\r\n      '--yes',\r\n      `--name=${projectName}`,\r\n    ].join(' ');\r\n\r\n    console.log(\"deployCommand\", deployCommand);\r\n\r\n    const deploymentOutput = execSync(deployCommand, {\r\n      cwd: projectPath,\r\n      encoding: 'utf8'\r\n    });\r\n\r\n    console.log(\"DEPLOYED SUCCESSFULLY\", deploymentOutput);\r\n\r\n    // Extract deployment URL\r\n    const deploymentUrl = deploymentOutput.match(/https:\\/\\/[^\\s]+/)?.[0];\r\n\r\n    // Send message that deployment is complete\r\n    panel.webview.postMessage({\r\n      type: \"deployComplete\",\r\n      data: {\r\n        deploymentUrl: deploymentUrl,\r\n        projectName: projectName,\r\n        timestamp: Date.now()\r\n      }\r\n    });\r\n\r\n    const siteUrl = await getSiteUrl(projectName);\r\n    console.log(\"siteUrl\", siteUrl);\r\n    return siteUrl;\r\n  } catch (error) {\r\n    console.log(\"deployErrorLog3\");\r\n\r\n    // Extract error message\r\n    const errorMessage = error.message || \"Unknown deployment error\";\r\n\r\n      // Check if error is due to EPERM which might indicate a running Next.js process\r\n    if (errorMessage.includes(\"EPERM\")) {\r\n      vscode.window.showErrorMessage(\r\n        \"Deployment failed: It looks like your Next.js app is still running in the terminal. Please stop the app and try again.\"\r\n      );\r\n    } else {\r\n      vscode.window.showErrorMessage(`Deployment failed: ${errorMessage}`);\r\n    }\r\n    console.error(errorMessage, \"deployErrorLog34\");\r\n\r\n    return errorMessage; // Return error message instead of null\r\n  }\r\n}\r\n\r\nasync function copyDeploymentUrlToClipboard(url: string) {\r\n  await vscode.env.clipboard.writeText(url);\r\n  vscode.window.showInformationMessage('Deployment URL copied to clipboard!');\r\n}\r\n\r\n// async function openUrlInBrowser(url: string) {\r\n//   await vscode.env.openExternal(vscode.Uri.parse(url));\r\n// }\r\n\r\n// Replace copyDeploymentUrlToClipboard with:\r\nasync function handleDeploymentSuccess(url: string) {\r\n  // await openUrlInBrowser(url);\r\n  // vscode.window.showInformationMessage('Deployment successful! Opening site...');\r\n  console.log(\"Updating deployment usage counter\", url,);\r\n  try {\r\n    const authToken = getStoreKey(AUTH_TOKEN);\r\n    const updatePayload = { \"deployments\": 1, \"deployURL\": url };\r\n    await updateAccountUsage(authToken, updatePayload);\r\n  }\r\n  catch (error) {\r\n    console.log(\"Error updating deployment count\", error)\r\n  }\r\n  await vscode.env.openExternal(vscode.Uri.parse(url));\r\n}\r\n\r\nasync function refreshSupabaseToken(panel: vscode.WebviewPanel): Promise<string | null> {\r\n  try {\r\n    const localConfig = vscode.workspace.getConfiguration();\r\n    const localStore = new StorageService(localConfig);\r\n    const supabaseRefreshToken = await localStore.getValue(\"gocodeo.supabaseRefreshToken\");\r\n    console.log(\"Trying supabase token refresh with refresh token\", supabaseRefreshToken);\r\n    const requestOptions = {\r\n      method: \"GET\"\r\n    };\r\n\r\n    const response = await fetch(`${BASE_URL}/api/v1/supabase-token-refresh?refresh_token=${supabaseRefreshToken}`, requestOptions);\r\n    console.log(\"supabase token refresh response\", response)\r\n    if (!response.ok) throw new Error(\"Failed to refresh token\");\r\n    const data = await response.json();\r\n    console.log(\"supabase refresh token result\", data)\r\n    if (data.access_token && data.refresh_token) {\r\n      console.log(\"Updating supabase access and refresh tokens\", data.access_token, data.refresh_token)\r\n      await localStore.setValue(\"gocodeo.supabaseAccessToken\", data.access_token);\r\n      await localStore.setValue(\"gocodeo.supabaseRefreshToken\", data.refresh_token);\r\n      panel.webview.postMessage({ command: \"supabaseTokenRefreshed\", data });\r\n      return data.access_token;\r\n    }\r\n    return \"\";\r\n  } catch (error) {\r\n    console.error(\"Error refreshing token:\", error);\r\n    return null;\r\n  }\r\n}\r\n\r\n\r\nasync function fetchSupabaseProjects(supabaseToken: string, panel: vscode.WebviewPanel) {\r\n  try {\r\n    console.log(\"Fetching supabase projects with token\", supabaseToken)\r\n    let headers = new Headers();\r\n    headers.append(\"Content-Type\", \"application/json\");\r\n    headers.append(\"Authorization\", `Bearer ${supabaseToken}`);\r\n    const raw = \"\";\r\n    let newToken = \"\";\r\n    let requestOptions = {\r\n      method: \"GET\",\r\n      headers: headers\r\n    };\r\n\r\n    let response = await fetch(\"https://api.supabase.com/v1/projects\", requestOptions);\r\n\r\n    // Token refresh logic\r\n    if (response.status === 401) {\r\n      console.log(\"Token expired, attempting to refresh token\");\r\n      newToken = await refreshSupabaseToken(panel);\r\n      console.log(\"Refreshed supabase token, retrying with token\", newToken);\r\n      if (newToken) {\r\n        console.log(\"Fetching supabase projects\")\r\n        requestOptions.headers.set(\"Authorization\", `Bearer ${newToken}`);\r\n\r\n        console.log(\"supabase project fetching response with new RequestOptions\", requestOptions)\r\n        response = await fetch(\"https://api.supabase.com/v1/projects\", requestOptions);\r\n        console.log(\"supabase project fetch response with new token\", response, \"newRequestOptions\", requestOptions)\r\n      } else {\r\n        throw new Error(\"Failed to refresh token\");\r\n      }\r\n    }\r\n    const supabaseProjects = await response.json();\r\n    console.log(\"supabase API response\", supabaseProjects)\r\n    if (!response.ok) throw new Error(\"Failed to fetch projects\");\r\n    return { projects: supabaseProjects, newToken: newToken };\r\n  } catch (error) {\r\n    console.error(\"Error fetching projects:\", error);\r\n    vscode.window.showErrorMessage(\"Failed to fetch Supabase projects.\");\r\n    return [];\r\n  }\r\n};\r\n\r\n\r\nasync function executeSupabaseSQL(sqlCommands, supabaseProjectID, supabaseProjectName, supabaseToken) {\r\n  let sqlResult = '';\r\n  try {\r\n    console.log(\"Executing Supabase SQL commands\", sqlCommands, \"\\nsupabase project ID\", supabaseProjectID, supabaseProjectName, supabaseToken);\r\n    const headers = new Headers();\r\n    headers.append(\"Content-Type\", \"application/json\");\r\n    headers.append(\"Authorization\", `Bearer ${supabaseToken}`);\r\n    const raw = JSON.stringify({ \"query\": sqlCommands });\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: headers,\r\n      body: raw,\r\n      redirect: \"follow\"\r\n    };\r\n    console.log(\"Supabase SQL Execution Request\", requestOptions);\r\n    const response = await fetch(`https://api.supabase.com/v1/projects/${supabaseProjectID}/database/query`, requestOptions);\r\n    sqlResult = await response.json();\r\n    console.log(\"Supabase SQL Execution Response\", sqlResult);\r\n\r\n    // if(sqlResult.message.replace(\" \", \"\").includes('ERROR:42710')) {\r\n    //   vscode.window.showInformationMessage(\"\\\"profiles\\\" already exists!\");\r\n    // } else {\r\n    //   vscode.window.showErrorMessage(\"Failed to execute Supabase SQL. Please try again.\");\r\n    // }\r\n    if (!response.ok) throw new Error(\"Failed to execute Supabase SQL\");\r\n    vscode.window.showInformationMessage(\"Supabase SQL successfully executed.\")\r\n    return sqlResult;\r\n  } catch (error) {\r\n    console.error(\"Error executing Supabase SQL:\", error);\r\n    console.error(\"executeSupabaseSQLDone ext 22 :\", sqlResult.message.includes('42710'), \"\\n \", sqlResult);\r\n    if (sqlResult.message && (sqlResult.message.includes('42710') || sqlResult.message.includes('already exists'))) {\r\n      // Extract the actual error message after ERROR: 42710:\r\n      const errorMessage = sqlResult.message.split('42710:')[1].trim();\r\n      const formattedMessage = `Supabase SQL execution skipped: ${errorMessage}.`;\r\n      vscode.window.showInformationMessage(formattedMessage);\r\n    } else {\r\n      const errorRegex = /ERROR:\\s+\\d+:\\s+(.*)/;\r\n      const match = sqlResult.message.match(errorRegex);\r\n      console.log(\"supabase sql error message regex match\", match)\r\n      if (match) {\r\n        const errorMessage = match[1].trim();\r\n        const formattedMessage = `Failed to Execute Supabase SQL: ${errorMessage}.`;\r\n        vscode.window.showErrorMessage(formattedMessage);\r\n      } else {\r\n        vscode.window.showErrorMessage(\"Failed to execute Supabase SQL. Please try running the commands on the SQL editor.\");\r\n      }\r\n    }\r\n\r\n    return [];\r\n  }\r\n\r\n\r\n}\r\n\r\nasync function handleDeploymentFailure() {\r\n  vscode.window.showErrorMessage('Deployment failed');\r\n}\r\n\r\n/**\r\n * Manages react webview panels\r\n */\r\nclass ReactPanel {\r\n  /**\r\n   * Track the currently panel. Only allow a single panel to exist at a time.\r\n   */\r\n  public static currentPanel: ReactPanel | undefined;\r\n\r\n  private static readonly viewType = \"react\";\r\n\r\n  private readonly _panel: vscode.WebviewPanel;\r\n  private readonly _extensionPath: string;\r\n  private _disposables: vscode.Disposable[] = [];\r\n\r\n  //@ts-ignore\r\n  public static createOrShow(context, payload: any, commandType: string) {\r\n    const column = vscode.window.activeTextEditor\r\n      ? vscode.window.activeTextEditor.viewColumn\r\n      : undefined;\r\n\r\n    // If we already have a panel, show it.\r\n    // Otherwise, create a new panel.\r\n    //@ts-ignore\r\n    ReactPanel.currentPanel = new ReactPanel(context, payload, commandType);\r\n\r\n    // if (ReactPanel.currentPanel) {\r\n    // \tReactPanel.currentPanel._panel.reveal(vscode.ViewColumn.Two);\r\n    // } else {\r\n    // \tReactPanel.currentPanel = new ReactPanel(extensionPath, token, framework);\r\n    // }\r\n  }\r\n  //@ts-ignore\r\n  private constructor(context, payload: any, commandType: string) {\r\n    const {\r\n      language,\r\n      code: selectedText,\r\n      component,\r\n      framework,\r\n      numberofTest,\r\n    } = payload;\r\n    this._extensionPath = context.extensionPath;\r\n    //@ts-ignore\r\n    this.extensionUri = context.extensionUri;\r\n    // Create and show a new webview panel\r\n    this._panel = vscode.window.createWebviewPanel(\r\n      ReactPanel.viewType,\r\n      \"GoCodeo\",\r\n      vscode.ViewColumn.Two,\r\n      {\r\n        // Enable javascript in the webview\r\n        enableScripts: true,\r\n        retainContextWhenHidden: true,\r\n        // And restric the webview to only loading content from our extension's `media` directory.\r\n        localResourceRoots: [\r\n          vscode.Uri.file(path.join(this._extensionPath, \"build\")),\r\n        ],\r\n      }\r\n    );\r\n    const editor = vscode.window.activeTextEditor;\r\n    const isNotebookCell = payload.isNotebookCell;\r\n    // console.log(\"IS THIS A NOTEBOOK?\", isNotebookCell);\r\n    if (editor && !isNotebookCell) {\r\n      console.log(\"Focusing on document\", editor.document);\r\n      vscode.window.showTextDocument(editor.document, {\r\n        viewColumn: editor.viewColumn,\r\n      });\r\n    }\r\n    //@ts-ignore\r\n    const absoluteFilePath = editor?.document?.uri?.fsPath;\r\n    const fileName = (absoluteFilePath ? path.basename(absoluteFilePath) : \"\");\r\n    const previousActiveEditor = vscode.window.activeTextEditor;\r\n    const previousVisibleEditors = vscode.window.visibleTextEditors;\r\n    let functionName = component;\r\n\r\n    const localConfig = vscode.workspace.getConfiguration();\r\n    const localStore = new StorageService(localConfig);\r\n    const globalStore = new StorageService(context.globalState, \"global\");\r\n    // Get the selected text\r\n    //@ts-ignore\r\n    // Use a regular expression to find the function name in the selected text\r\n    if (!functionName) {\r\n      if ([\"javascript\", \"typescript\"].includes(language)) {\r\n        //@ts-ignore\r\n        functionName = selectedText.match(/class\\s+(\\w+)/g)\r\n          ? selectedText.match(/class\\s+(\\w+)/g)[1]\r\n          : selectedText.match(/function\\s+([^\\s\\(]+)/)\r\n            ? selectedText.match(/function\\s+([^\\s\\(]+)/)[1]\r\n            : null;\r\n      } else if (language === \"python\") {\r\n        //@ts-ignore\r\n        functionName = selectedText.match(/class\\s+(\\w+)/g)\r\n          ? selectedText.match(/class\\s+(\\w+)/g)[1]\r\n          : selectedText.match(/def\\s+([^\\s\\(]+)/)\r\n            ? selectedText.match(/def\\s+([^\\s\\(]+)/)[1]\r\n            : null;\r\n      }\r\n    }\r\n    let fileObj = path.parse(fileName);\r\n    let testFileName = [fileObj.name];\r\n    let fileExt = fileObj.ext;\r\n    if (functionName) testFileName.push(functionName);\r\n    if (commandType === \"chat\") this._panel.title = `GoCodeo-Chat`;\r\n    else if (language == \"python\")\r\n      this._panel.title = `GoCodeo-test_${testFileName.join(\"_\")}${fileExt}`;\r\n    else this._panel.title = `GoCodeo-${testFileName.join(\".\")}.test${fileExt}`;\r\n    // Set the webview's initial html content\r\n    this._panel.webview.html = this._getHtmlForWebview(this._panel.webview);\r\n\r\n    this._panel.onDidDispose(() => {\r\n      this.dispose();\r\n      this._disposables;\r\n      //@ts-ignore\r\n      const foundEditor = previousVisibleEditors.find(\r\n        //@ts-ignore\r\n        (editor) =>\r\n          editor.document.uri.toString() ===\r\n          previousActiveEditor?.document.uri.toString()\r\n      );\r\n\r\n      if (foundEditor) {\r\n        vscode.window.showTextDocument(foundEditor.document, {\r\n          viewColumn: foundEditor.viewColumn,\r\n        });\r\n      }\r\n    });\r\n\r\n    console.log(`commandType: ${commandType}`);\r\n\r\n    let message2 =\r\n      commandType === \"generateTestsByClick\"\r\n        ? { type: \"generate\", data: payload }\r\n        : { type: \"chat\", data: payload };\r\n\r\n    console.log(\"postMessage : \", message2);\r\n    console.log(\"postMessage : \", payload);\r\n    this._panel.webview.postMessage(message2);\r\n\r\n    async function deleteFolder(rootDir) {\r\n      const folderUri = vscode.Uri.joinPath(\r\n        vscode.workspace.workspaceFolders[0].uri,\r\n        rootDir\r\n      );\r\n\r\n      try {\r\n        const folderPath = folderUri.fsPath;\r\n\r\n        // Close all open tabs that belong to the folder\r\n        const closeTabsInFolder = async () => {\r\n          const tabsToClose = [];\r\n          const unsavedTabs = [];\r\n\r\n          vscode.window.tabGroups.all.forEach((group) => {\r\n            group.tabs.forEach((tab) => {\r\n              if (\r\n                tab.input &&\r\n                tab.input.uri &&\r\n                tab.input.uri.fsPath.startsWith(folderPath)\r\n              ) {\r\n                if (tab.isDirty) {\r\n                  unsavedTabs.push(tab);\r\n                } else {\r\n                  tabsToClose.push(tab);\r\n                }\r\n              }\r\n            });\r\n          });\r\n\r\n          // Save all unsaved files automatically\r\n          for (const tab of unsavedTabs) {\r\n            const document = await vscode.workspace.openTextDocument(\r\n              tab.input.uri\r\n            );\r\n            await document.save();\r\n          }\r\n          for (const tab of tabsToClose) {\r\n            const document = await vscode.workspace.openTextDocument(\r\n              tab.input.uri\r\n            );\r\n            await document.save();\r\n          }\r\n\r\n          console.log(\"sxsxtabsToClose\", tabsToClose);\r\n          console.log(\"sxsxunsavedTabs\", unsavedTabs);\r\n\r\n          // Close all tabs\r\n          for (const tab of [...tabsToClose, ...unsavedTabs]) {\r\n            await vscode.window.tabGroups.close(tab);\r\n          }\r\n        };\r\n\r\n        await closeTabsInFolder(); // Wait for tabs to close\r\n\r\n        // Now delete the folder and its contents\r\n        await vscode.workspace.fs.delete(folderUri, {\r\n          recursive: true,\r\n          force: true,\r\n        });\r\n\r\n        console.log(`Deleted folder and all contents: ${rootDir}`);\r\n      } catch (error) {\r\n        console.error(`Error deleting folder: ${rootDir}`, error);\r\n        vscode.window.showErrorMessage(`Failed to delete folder: ${rootDir}`);\r\n      }\r\n    }\r\n\r\n    // console.log(`post payload2: ${payload}`);\r\n\r\n    async function splitAndResizeColumns() {\r\n      // Split the editor into two groups\r\n      await vscode.commands.executeCommand(\r\n        \"workbench.action.editorLayoutTwoColumns\"\r\n      );\r\n\r\n      // Move the WebView to column two\r\n      this._panel.reveal(vscode.ViewColumn.Two);\r\n\r\n      // Optionally focus the panel\r\n      vscode.commands.executeCommand(\"workbench.action.focusSecondEditorGroup\");\r\n    }\r\n\r\n    // Handle messages from the webview\r\n    //@ts-ignore\r\n    this._panel.webview.onDidReceiveMessage(\r\n      //@ts-ignore\r\n      async (message) => {\r\n        console.log(message, \"storing.parameter\");\r\n        const curDate = getDate();\r\n        //@ts-ignore\r\n        let fileDoc;\r\n        switch (message.command) {\r\n          case \"close\":\r\n            this._panel.dispose();\r\n            break;\r\n\r\n          case \"toggleScreenSize\":\r\n            await splitAndResizeColumns();\r\n            break;\r\n\r\n          case \"closeFile\":\r\n            try {\r\n              const filePath4 = message.parameter;\r\n              console.log(`Attempting to close file: ${filePath4}`);\r\n\r\n              const workspaceUri = vscode.workspace.workspaceFolders?.[0]?.uri;\r\n              if (!workspaceUri) {\r\n                throw new Error(\"No workspace is open.\");\r\n              }\r\n\r\n              const fileUri = vscode.Uri.joinPath(workspaceUri, filePath4);\r\n              console.log(\"File URI:\", fileUri);\r\n\r\n              const document = await vscode.workspace.openTextDocument(fileUri);\r\n              const editor = vscode.window.visibleTextEditors.find(\r\n                (e) => e.document.fileName === document.fileName\r\n              );\r\n              // console.log(\"Editor:\", editor);\r\n\r\n              // if (editor) {\r\n              await vscode.window.showTextDocument(document, {\r\n                viewColumn: editor.viewColumn,\r\n                preview: false,\r\n              });\r\n              await vscode.commands.executeCommand(\r\n                \"workbench.action.closeActiveEditor\"\r\n              );\r\n              console.log(`File closed: ${filePath4}`);\r\n\r\n              // Send success response\r\n              this._panel.webview.postMessage({\r\n                command: \"closeFileResponse\",\r\n                parameter: filePath4,\r\n                success: true,\r\n              });\r\n              // } else {\r\n              //   console.log(`File not open: ${filePath4}`);\r\n              //   this._panel.webview.postMessage({\r\n              //     command: \"closeFileResponse\",\r\n              //     parameter: filePath4,\r\n              //     success: false,\r\n              //   });\r\n              // }\r\n            } catch (error) {\r\n              console.error(`Error closing file ${message.parameter}:`, error);\r\n              this._panel.webview.postMessage({\r\n                command: \"closeFileResponse\",\r\n                parameter: message.parameter,\r\n                success: false,\r\n              });\r\n            }\r\n            break;\r\n          case \"confirmSubmit\":\r\n            // Display the confirmation popup using the VS Code API.\r\n            const selection = await vscode.window.showInformationMessage(\r\n              message.message,\r\n              { modal: true },\r\n              \"Yes\",\r\n              \"No\"\r\n            );\r\n            // Send the user's selection back to the webview.\r\n            this._panel.webview.postMessage({\r\n              command: \"confirmSubmitResponse\",\r\n              selection,\r\n            });\r\n            break;\r\n          //  case \"semanticOperation\": {\r\n          // // Get the payload from the message.\r\n          // const payload = message.parameter;\r\n          // let semantic_results = \"\";\r\n          // console.log(payload, \"payloaddd\");\r\n\r\n          // // Call the semantic search if history is available.\r\n          // if (payload.history.length !== 0) {\r\n          //   console.log(\"entered in the condition\");\r\n          //   semantic_results = await getSemanticSearchResponse(\r\n          //     payload.message,\r\n          //     payload.history,\r\n          //     payload.code,\r\n          //     payload.rootDirectory,\r\n          //     false,\r\n          //     \"\"\r\n          //   );\r\n          // }\r\n          // console.log(semantic_results, \"semantic_results\");\r\n\r\n          // // Array to hold our file objects with encrypted code.\r\n          // let fileDataArray: Array<{\r\n          //   encodedCode: string;\r\n          // }> = [];\r\n\r\n          // if (semantic_results) {\r\n          //   try {\r\n          //     console.log(\"---Before execution of getRelevantFilesContent\");\r\n          //     // Parse the semantic results (assuming it's a JSON string)\r\n          //     const semanticResultsObj = JSON.parse(semantic_results);\r\n          //     console.log(semanticResultsObj, \"semanticResultsObj\");\r\n\r\n          //     if (!semanticResultsObj.relevant_files || !Array.isArray(semanticResultsObj.relevant_files)) {\r\n          //       throw new Error(\"Invalid semanticResults object\");\r\n          //     }\r\n\r\n          //     // Loop through each file and get its encrypted content.\r\n          //     fileDataArray = await Promise.all(\r\n          //       semanticResultsObj.relevant_files.map(async (fileObj: { file_path: string }) => {\r\n          //         const filePath = path.join(payload.rootDirectory, fileObj.file_path);\r\n          //         try {\r\n          //           // Use your helper to read file content.\r\n          //           const content = await getFileContent(filePath);\r\n          //           console.log(semanticResultsObj, \"content_of_given_path\");\r\n\r\n          //           // Get authentication details.\r\n          //           const authToken = getStoreKey(AUTH_TOKEN);\r\n          //           if (!authToken) {\r\n          //             throw new Error(\"Authentication required\");\r\n          //           }\r\n          //           const authUser = await getUserProfile(authToken);\r\n\r\n          //           // Get workspace info.\r\n          //           const workspaceRoot = vscode.workspace.workspaceFolders?.[0]?.name || \"\";\r\n          //           const workspaceRootPath = vscode.workspace.workspaceFolders?.[0]?.uri.fsPath || \"\";\r\n\r\n          //           // Create a codeData object similar to your \"getFileContent\" command.\r\n          //           const codeData = {\r\n          //             imports: [],\r\n          //             main: {\r\n          //               file: filePath,\r\n          //               code: content,\r\n          //               workspaceName: workspaceRoot,\r\n          //               workspaceRootpath: workspaceRootPath,\r\n          //             },\r\n          //           };\r\n          //           console.log(codeData, \"codeData_of_given_path\");\r\n\r\n          //           // Encrypt the code data.\r\n          //           const encodedCode = encrypt(authUser.id, JSON.stringify(codeData));\r\n\r\n          //           return encodedCode;\r\n          //         } catch (error) {\r\n          //           console.error(`Error processing file ${filePath}:`, error);\r\n          //           // If a file fails, skip it by returning null.\r\n          //           return null;\r\n          //         }\r\n          //       })\r\n          //     );\r\n          //     // Remove any null entries (files that failed to process)\r\n          //     fileDataArray = fileDataArray.filter((file) => file !== null);\r\n          //     console.log(fileDataArray, \"Processed file data with encrypted code\");\r\n          //   } catch (e) {\r\n          //     console.error(\"Failed to process semantic results:\", semantic_results, e);\r\n          //   }\r\n          // } else {\r\n          //   console.error(\"Received empty semantic_results string.\");\r\n          // }\r\n\r\n          // // Send the processed file data back to the webview.\r\n          // // The flag is true if we got at least one file with content.\r\n          // this._panel.webview.postMessage({\r\n          //   command: \"allcurrentsourcecode\",\r\n          //   files: fileDataArray,\r\n          //   flagForResult: fileDataArray.length > 0,\r\n          // });\r\n          // break;\r\n          // } \r\n          case \"semanticOperation\": {\r\n            // Get the payload from the message.\r\n            const payload = message.parameter;\r\n            let semantic_results = \"\";\r\n            console.log(payload, \"payloaddd\");\r\n\r\n            // Call the semantic search if history is available.\r\n            if (payload.history.length !== 0) {\r\n              const recentHistory = payload.history.slice(-20);\r\n              console.log(recentHistory, \"entered in the condition\");\r\n              semantic_results = await getSemanticSearchResponse(\r\n                payload.message,\r\n                recentHistory,\r\n                payload.code,\r\n                payload.rootDirectory,\r\n                false,\r\n                \"\"\r\n              );\r\n            }\r\n            console.log(semantic_results, \"semantic_results\");\r\n\r\n            if (semantic_results) {\r\n              try {\r\n                // Remove markdown code fences if present.\r\n                if (semantic_results.startsWith(\"```json\")) {\r\n                  semantic_results = semantic_results.replace(/^```json\\s*/, \"\").replace(/\\s*```$/, \"\");\r\n                }\r\n                console.log(\"---Before execution of getRelevantFilesContent\");\r\n                // Parse the semantic results (assuming it's a JSON string)\r\n                const semanticResultsObj = JSON.parse(semantic_results);\r\n                console.log(semanticResultsObj, \"semanticResultsObj\");\r\n\r\n                if (\r\n                  !semanticResultsObj.relevant_files ||\r\n                  !Array.isArray(semanticResultsObj.relevant_files)\r\n                ) {\r\n                  throw new Error(\"Invalid semanticResults object\");\r\n                }\r\n\r\n                // Get authentication details once.\r\n                const authToken = getStoreKey(AUTH_TOKEN);\r\n                if (!authToken) {\r\n                  throw new Error(\"Authentication required\");\r\n                }\r\n                const authUser = await getUserProfile(authToken);\r\n\r\n                // Create a new array for the current code files.\r\n                const currentCodeFiles = await Promise.all(\r\n                  semanticResultsObj.relevant_files.map(\r\n                    async (fileObj: { file_path: string }) => {\r\n                      // const filePath = path.join(payload.rootDirectory, fileObj.file_path);4\r\n                      // Get the project directory name from rootDirectory\r\n                      const projectName = path.basename(payload.rootDirectory); // e.g., 'counter-app'\r\n\r\n                      // Remove any leading slashes or backslashes from file_path for consistency\r\n                      let adjusted_file_path = fileObj.file_path.replace(/^[\\/\\\\]+/, '');\r\n\r\n                      // Check if adjusted_file_path starts with projectName + path.sep (e.g., 'counter-app\\')\r\n                      const prefix = projectName + path.sep;\r\n                      if (adjusted_file_path.startsWith(prefix)) {\r\n                        // Remove the prefix to avoid duplication\r\n                        adjusted_file_path = adjusted_file_path.slice(prefix.length);\r\n                      }\r\n\r\n                      // Join the rootDirectory with the adjusted file_path\r\n                      const filePath = path.join(payload.rootDirectory, adjusted_file_path);\r\n                      console.log(filePath, \"filePath__123\");\r\n                      try {\r\n                        // Read the current file content.\r\n                        const content = await getFileContent(filePath);\r\n                        console.log(`Read content for ${filePath}`);\r\n                        return {\r\n                          code: content,\r\n                          file: filePath,\r\n                        };\r\n                      } catch (error) {\r\n                        console.error(`Error processing file ${filePath}:`, error);\r\n                        // If a file fails, skip it by returning null.\r\n                        return null;\r\n                      }\r\n                    }\r\n                  )\r\n                );\r\n                // Remove any null entries\r\n                semanticResultsObj.current_code_files = currentCodeFiles.filter(\r\n                  (file) => file !== null\r\n                );\r\n\r\n                console.log(semanticResultsObj, \"encodedSemanticResultsJSONFORMAT\");\r\n                // Encrypt the entire updated semanticResultsObj.\r\n                const encodedSemanticResults = encrypt(\r\n                  authUser.id,\r\n                  JSON.stringify(semanticResultsObj)\r\n                );\r\n                console.log(encodedSemanticResults, \"encodedSemanticResults\");\r\n\r\n                // Send the encrypted semanticResultsObj back to the webview.\r\n                // The flag is true if we got at least one file with content.\r\n                this._panel.webview.postMessage({\r\n                  command: \"allcurrentsourcecode\",\r\n                  files: encodedSemanticResults,\r\n                  flagForResult: semanticResultsObj.current_code_files.length > 0,\r\n                });\r\n              } catch (e) {\r\n                console.error(\"Failed to process semantic results:\", semantic_results, e);\r\n              }\r\n            } else {\r\n              console.error(\"Received empty semantic_results string.\");\r\n            }\r\n            break;\r\n          }\r\n\r\n          case \"revertChangesOrDelete\":\r\n            try {\r\n              const filePaths: string[] = message.parameters;\r\n              const rootDir: string = message.rootDirectory;\r\n              const deleteRoot = message?.deleteRoot || false;\r\n              console.log(`Reverting unsaved content for files: ${filePaths}`);\r\n              const deletee = message?.deletee || false;\r\n              if (deletee) {\r\n                console.log(\"Deleting files...\");\r\n                await deleteFiles(filePaths, rootDir, deleteRoot);\r\n              } else {\r\n                console.log(\"Reverting files...\");\r\n                await revertChangesOrDelete(filePaths, rootDir);\r\n                // await retrieveCode(filePaths, rootDir);\r\n              }\r\n\r\n            } catch (error) {\r\n              console.error(\"Error handling revert for multiple files:\", error);\r\n              vscode.window.showErrorMessage(\"Failed to revert files. Check logs for details.\");\r\n            }\r\n            break;\r\n\r\n          case \"saveBuildFile\":\r\n            try {\r\n              const filePath2 = message.parameter;\r\n              console.log(`[Save Build] Received request to save file: ${filePath2}`);\r\n              await saveBuildFile(filePath2);\r\n            } catch (error) {\r\n              console.error(\"[Save Build] Error in save build handler:\", error);\r\n              vscode.window.showErrorMessage(`Failed to save file: ${filePath2}`);\r\n            }\r\n            break;\r\n\r\n          case \"openFile\":\r\n            const filePath = message.filePath;\r\n\r\n            try {\r\n              // Open the file in the second column\r\n              const document = await vscode.workspace.openTextDocument(\r\n                filePath\r\n              );\r\n              await vscode.window.showTextDocument(document, {\r\n                viewColumn: vscode.ViewColumn.One,\r\n                preserveFocus: true,\r\n              });\r\n            } catch (error) {\r\n              vscode.window.showErrorMessage(\r\n                `Could not open file: ${filePath}`\r\n              );\r\n            }\r\n\r\n            break;\r\n\r\n          case \"chatTitle\":\r\n            console.log(\"post message conn established\", message.parameter);\r\n\r\n\r\n          // case \"storingBuildSession\":\r\n          //   console.log(\r\n          //     \"Post message connection established for build session\"\r\n          //   );\r\n          //   console.log(message.parameter, \"storingBuildSession.parameter\");\r\n\r\n          //   // Destructure the parameters from the message\r\n          //   const {\r\n          //     requestId: buildRequestIdTem,\r\n          //     chatTitle: buildChatTitle,\r\n          //     chatResponse: buildHistory,\r\n          //   } = message.parameter;\r\n          //   console.log(\r\n          //     \"Request received\",\r\n          //     buildRequestIdTem,\r\n          //     \"buildHistory:\",\r\n          //     buildHistory,\r\n          //     \"chatTitle:\",\r\n          //     buildChatTitle\r\n          //   );\r\n\r\n          //   let buildRequestId;\r\n\r\n          //   // Generate a new requestId if \"new_chat\"\r\n          //   if (buildRequestIdTem === \"new_chat\") {\r\n          //     const timestamp = new Date().getTime();\r\n          //     buildRequestId = `${getUniqueId()}_${timestamp}`;\r\n          //   } else {\r\n          //     buildRequestId = buildRequestIdTem;\r\n          //   }\r\n\r\n          //   // Determine the user data path for file storage\r\n          //   const buildUserDataPath =\r\n          //     process.platform === \"win32\"\r\n          //       ? process.env.APPDATA ||\r\n          //         path.join(process.env.USERPROFILE || \"\", \"AppData\", \"Roaming\")\r\n          //       : path.join(process.env.HOME || \"\", \".config\");\r\n\r\n          //   // Define the build session directory and session file paths\r\n          //   const buildSessionDir = path.join(\r\n          //     buildUserDataPath,\r\n          //     \"gocodeo\",\r\n          //     \"build_sessions\"\r\n          //   );\r\n          //   const buildSessionFile = path.join(\r\n          //     buildSessionDir,\r\n          //     `${buildRequestId}.json`\r\n          //   );\r\n\r\n          //   try {\r\n          //     console.log(\r\n          //       \"Request received: Initializing build session save process...\"\r\n          //     );\r\n\r\n          //     let buildSessionData = {\r\n          //       sessionId: buildRequestId,\r\n          //       buildHistory: [],\r\n          //       title: buildChatTitle || \"\",\r\n          //     };\r\n          //     console.log(\r\n          //       \"Request received: Default buildSessionData initialized:\",\r\n          //       buildSessionData\r\n          //     );\r\n\r\n          //     // If a session file exists, load the existing data\r\n          //     if (fs.existsSync(buildSessionFile)) {\r\n          //       console.log(\r\n          //         `Request received: Session file found: ${buildSessionFile}`\r\n          //       );\r\n          //       const fileContent = fs.readFileSync(buildSessionFile, \"utf8\");\r\n          //       buildSessionData = JSON.parse(fileContent);\r\n          //       console.log(\r\n          //         \"Request received: Existing build session data loaded:\",\r\n          //         buildSessionData\r\n          //       );\r\n          //     } else {\r\n          //       console.log(\r\n          //         `Request received: Session file not found: ${buildSessionFile}`\r\n          //       );\r\n          //     }\r\n\r\n          //     // Replace the existing buildHistory with the new one\r\n          //     buildSessionData.buildHistory = buildHistory;\r\n          //     console.log(\r\n          //       \"Request received: Updated buildHistory:\",\r\n          //       buildSessionData.buildHistory\r\n          //     );\r\n\r\n          //     // Update the session title if provided\r\n          //     if (buildChatTitle) {\r\n          //       buildSessionData.title = buildChatTitle;\r\n          //       console.log(\r\n          //         \"Request received: Updated session title:\",\r\n          //         buildSessionData.title\r\n          //       );\r\n          //     }\r\n\r\n          //     // Ensure the build sessions directory exists\r\n          //     if (!fs.existsSync(buildSessionDir)) {\r\n          //       console.log(\r\n          //         `Request received: Build session directory not found. Creating directory: ${buildSessionDir}`\r\n          //       );\r\n          //       fs.mkdirSync(buildSessionDir, { recursive: true });\r\n          //       console.log(\r\n          //         \"Request received: Build session directory created.\"\r\n          //       );\r\n          //     } else {\r\n          //       console.log(\r\n          //         `Request received: Build session directory exists: ${buildSessionDir}`\r\n          //       );\r\n          //     }\r\n\r\n          //     // Write the updated session data back to the file\r\n          //     fs.writeFileSync(\r\n          //       buildSessionFile,\r\n          //       JSON.stringify(buildSessionData, null, 2)\r\n          //     );\r\n          //     console.log(\r\n          //       `Request received: Build session saved to session file: ${buildSessionFile}`\r\n          //     );\r\n          //   } catch (err) {\r\n          //     console.error(\r\n          //       \"Request received: Error saving build session:\",\r\n          //       err\r\n          //     );\r\n          //   }\r\n          //   break;\r\n\r\n          // case \"storingchat\":\r\n          //   console.log(\"Post message connection established\");\r\n          //   console.log(message.parameter, \"storing.parameter\");\r\n\r\n          //   // Destructure the parameters from the message\r\n          //   const { requestId, chat, chatTitle, sessionIndex } =\r\n          //     message.parameter;\r\n          //   console.log(\r\n          //     \"Request received:\",\r\n          //     requestId,\r\n          //     \"chat\",\r\n          //     chat,\r\n          //     \"chatTitle:\",\r\n          //     chatTitle,\r\n          //     \"sessionIndex:\",\r\n          //     sessionIndex\r\n          //   );\r\n          //   if (!chat.answer) break;\r\n\r\n          //   // Determine the user data path for file storage\r\n          //   const userDataPath =\r\n          //     process.platform === \"win32\"\r\n          //       ? process.env.APPDATA ||\r\n          //         path.join(process.env.USERPROFILE || \"\", \"AppData\", \"Roaming\")\r\n          //       : path.join(process.env.HOME || \"\", \".config\");\r\n\r\n          //   // Define the session directory and session file paths\r\n          //   const sessionDir = path.join(userDataPath, \"gocodeo\", \"sessions\");\r\n          //   const sessionFile = path.join(sessionDir, `${requestId}.json`);\r\n\r\n          //   try {\r\n          //     console.log(\"Request received: Initializing session save process...\");\r\n\r\n          //     let sessionData = {\r\n          //       sessionId: requestId,\r\n          //       chatHistory: [[]],\r\n          //       title: \"\",\r\n          //     };\r\n          //     console.log(\"Request received: Default sessionData initialized:\", sessionData);\r\n\r\n          //     if (fs.existsSync(sessionFile)) {\r\n          //       console.log(`Request received: Session file found: ${sessionFile}`);\r\n          //       const fileContent = fs.readFileSync(sessionFile, \"utf8\");\r\n          //       console.log(\"Request received: Session file content:\", fileContent);\r\n          //       sessionData = JSON.parse(fileContent);\r\n          //       console.log(\"Request received: Parsed sessionData:\", sessionData);\r\n          //     } else {\r\n          //       console.log(`Request received: Session file not found: ${sessionFile}`);\r\n          //     }\r\n\r\n          //     if (sessionIndex !== undefined) {\r\n          //       console.log(`Request received: Session index provided: ${sessionIndex}`);\r\n          //       if (!sessionData.chatHistory[sessionIndex]) {\r\n          //         console.warn(\r\n          //           `Request received: Session index ${sessionIndex} does not exist. Creating a new session array.`\r\n          //         );\r\n          //         sessionData.chatHistory[sessionIndex] = [];\r\n          //       }\r\n          //       console.log(\r\n          //         `Request received: Current chatHistory at index ${sessionIndex}:`,\r\n          //         sessionData.chatHistory[sessionIndex]\r\n          //       );\r\n          //       sessionData.chatHistory[sessionIndex].push({\r\n          //         input: chat.question,\r\n          //         output: chat.answer,\r\n          //         timestamp: chat.timestamp,\r\n          //         context: chat.context,\r\n          //       });\r\n          //       console.log(\r\n          //         `Request received: Updated chatHistory at index ${sessionIndex}:`,\r\n          //         sessionData.chatHistory[sessionIndex]\r\n          //       );\r\n          //     } else {\r\n          //       console.log(\"Request received: No session index provided. Pushing new session entry.\");\r\n          //       sessionData.chatHistory.push([\r\n          //         {\r\n          //           input: chat.question,\r\n          //           output: chat.answer,\r\n          //           timestamp: chat.timestamp,\r\n          //           context: chat.context,\r\n          //         },\r\n          //       ]);\r\n          //       console.log(\r\n          //         \"Request received: Updated chatHistory after push:\",\r\n          //         sessionData.chatHistory\r\n          //       );\r\n          //     }\r\n\r\n          //     sessionData.title = chatTitle;\r\n          //     console.log(\"Request received: Updated session title:\", chatTitle);\r\n\r\n          //     if (!fs.existsSync(sessionDir)) {\r\n          //       console.log(`Request received: Session directory not found. Creating directory: ${sessionDir}`);\r\n          //       fs.mkdirSync(sessionDir, { recursive: true });\r\n          //       console.log(\"Request received: Session directory created.\");\r\n          //     } else {\r\n          //       console.log(`Request received: Session directory exists: ${sessionDir}`);\r\n          //     }\r\n\r\n          //     // Write updated session data back to the file\r\n          //     fs.writeFileSync(sessionFile, JSON.stringify(sessionData, null, 2));\r\n          //     console.log(`Request received: Chat saved to session file: ${sessionFile}`);\r\n          //   }\r\n          //    catch (err) {\r\n          //     console.error(\"Error saving chat:\", err);\r\n          //   }\r\n          //   break;\r\n\r\n          // case \"storingBuildSession\":\r\n          //     console.log(\"Post message connection established for build session\");\r\n          //     console.log(message.parameter, \"storingBuildSession.parameter\");\r\n\r\n          //     // Destructure the parameters from the message with distinct names\r\n          //     const { requestId: buildRequestId, chat: buildChat, chatTitle: buildChatTitle } = message.parameter;\r\n          //     console.log(\"Request received\", buildRequestId, \"chat\", buildChat, \"chatTitle:\", buildChatTitle);\r\n\r\n          //     if (!buildChat.answer) break;\r\n\r\n          //     // Determine the user data path for file storage\r\n          //     const buildUserDataPath = process.platform === \"win32\"\r\n          //         ? process.env.APPDATA || path.join(process.env.USERPROFILE || \"\", \"AppData\", \"Roaming\")\r\n          //         : path.join(process.env.HOME || \"\", \".config\");\r\n\r\n          //     // Define the build session directory and session file paths\r\n          //     const buildSessionDir = path.join(buildUserDataPath, \"gocodeo\", \"build_sessions\");\r\n          //     const buildSessionFile = path.join(buildSessionDir, `${buildRequestId}.json`);\r\n\r\n          //     try {\r\n          //         // Initialize session data with an array of objects for chatHistory\r\n          //         let buildSessionData = {\r\n          //             sessionId: buildRequestId,\r\n          //             buildHistory: [],\r\n          //             title: \"\",\r\n          //         };\r\n\r\n          //         // Read existing session file if it exists\r\n          //         if (fs.existsSync(buildSessionFile)) {\r\n          //             const fileContent = fs.readFileSync(buildSessionFile, \"utf8\");\r\n          //             buildSessionData = JSON.parse(fileContent);\r\n          //         }\r\n\r\n          //         // Push new chat object directly into buildHistory array\r\n          //         buildSessionData.buildHistory.push({\r\n          //             input: buildChat.question,\r\n          //             output: buildChat.answer,\r\n          //             timestamp: buildChat.timestamp,\r\n          //             context: buildChat.context,\r\n          //         });\r\n\r\n          //         // Update session title\r\n          //         buildSessionData.title = buildChatTitle;\r\n\r\n          //         // Ensure the build sessions directory exists\r\n          //         if (!fs.existsSync(buildSessionDir)) {\r\n          //             fs.mkdirSync(buildSessionDir, { recursive: true });\r\n          //         }\r\n\r\n          //         // Write updated session data back to the file\r\n          //         fs.writeFileSync(buildSessionFile, JSON.stringify(buildSessionData, null, 2));\r\n          //         console.log(`Chat saved to build session ${buildRequestId}`);\r\n          //     } catch (err) {\r\n          //         console.error(\"Error saving build session chat:\", err);\r\n          //     }\r\n          //     break;\r\n\r\n          case \"storingchat\":\r\n            console.log(\r\n              \"Request received: Post message connection established\"\r\n            );\r\n            console.log(message.parameter, \"storing.parameter\");\r\n\r\n            // Destructure the parameters from the message\r\n            const { requestId, chatHistory, chatTitle } = message.parameter;\r\n            console.log(\r\n              \"Request received:\",\r\n              requestId,\r\n              \"chatHistory:\",\r\n              chatHistory,\r\n              \"chatTitle:\",\r\n              chatTitle\r\n            );\r\n\r\n            // Determine the user data path for file storage\r\n            const userDataPath =\r\n              process.platform === \"win32\"\r\n                ? process.env.APPDATA ||\r\n                path.join(process.env.USERPROFILE || \"\", \"AppData\", \"Roaming\")\r\n                : path.join(process.env.HOME || \"\", \".config\");\r\n\r\n            // Define the session directory and session file paths\r\n            const sessionDir = path.join(userDataPath, \"gocodeo\", \"sessions\");\r\n            const sessionFile = path.join(sessionDir, `${requestId}.json`);\r\n\r\n            try {\r\n              console.log(\r\n                \"Request received: Initializing session save process...\"\r\n              );\r\n\r\n              let sessionData = {\r\n                sessionId: requestId,\r\n                chatHistory: [],\r\n                title: chatTitle || \"\",\r\n              };\r\n              console.log(\r\n                \"Request received: Default sessionData initialized:\",\r\n                sessionData\r\n              );\r\n\r\n              // If a session file exists, load the existing data\r\n              if (fs.existsSync(sessionFile)) {\r\n                console.log(\r\n                  `Request received: Session file found: ${sessionFile}`\r\n                );\r\n                const fileContent = fs.readFileSync(sessionFile, \"utf8\");\r\n                sessionData = JSON.parse(fileContent);\r\n                console.log(\r\n                  \"Request received: Existing session data loaded:\",\r\n                  sessionData\r\n                );\r\n              } else {\r\n                console.log(\r\n                  `Request received: Session file not found: ${sessionFile}`\r\n                );\r\n              }\r\n\r\n              // Replace the existing chatHistory with the new one\r\n              sessionData.chatHistory = chatHistory;\r\n              console.log(\r\n                \"Request received: Updated chatHistory:\",\r\n                sessionData.chatHistory\r\n              );\r\n\r\n              // Update the session title if provided\r\n              if (chatTitle) {\r\n                sessionData.title = chatTitle;\r\n                console.log(\r\n                  \"Request received: Updated session title:\",\r\n                  sessionData.title\r\n                );\r\n              }\r\n\r\n              // Ensure the session directory exists\r\n              if (!fs.existsSync(sessionDir)) {\r\n                console.log(\r\n                  `Request received: Session directory not found. Creating directory: ${sessionDir}`\r\n                );\r\n                fs.mkdirSync(sessionDir, { recursive: true });\r\n                console.log(\"Request received: Session directory created.\");\r\n              } else {\r\n                console.log(\r\n                  `Request received: Session directory exists: ${sessionDir}`\r\n                );\r\n              }\r\n\r\n              // Write the updated session data back to the file\r\n              fs.writeFileSync(\r\n                sessionFile,\r\n                JSON.stringify(sessionData, null, 2)\r\n              );\r\n              console.log(\r\n                `Request received: Chat saved to session file: ${sessionFile}`\r\n              );\r\n            } catch (err) {\r\n              console.error(\"Request received: Error saving chat:\", err);\r\n            }\r\n            break;\r\n\r\n\r\n          case \"storingBuildSession\":\r\n            console.log(\r\n              \"Post message connection established for build session\"\r\n            );\r\n            console.log(message.parameter, \"storingBuildSession.parameter\");\r\n\r\n            // Destructure the parameters from the message with distinct names\r\n            const {\r\n              requestId: buildRequestIdTem,\r\n              // chat: buildChat,\r\n              chatResponses: buildHistory,\r\n              chatTitle: buildChatTitle,\r\n              rootDirectory: rootDirectory,\r\n              supabaseProjectID,\r\n              supabaseProjectName,\r\n              supabaseToken,\r\n              serviceRoleKey,\r\n              supabaseAnonKey,\r\n              techStack,\r\n              isSupabaseAuthAdded,\r\n              isSupabaseDataPersisted\r\n            } = message.parameter;\r\n            console.log(\r\n              \"Request received\",\r\n              buildRequestIdTem,\r\n              \"chatResponse\",\r\n              buildHistory,\r\n              \"chatTitle:\",\r\n              buildChatTitle,\r\n              \"rootDirectory \", rootDirectory,\r\n              \"techStack\", techStack,\r\n              \"isSupabaseAuthAdded\", isSupabaseAuthAdded,\r\n              \"isSupabaseDataPersisted\", isSupabaseDataPersisted,\r\n            );\r\n\r\n            let buildRequestId;\r\n\r\n            if (buildRequestIdTem === \"new_chat\") {\r\n              const timestamp = new Date().getTime();\r\n              buildRequestId = `${getUniqueId()}_${timestamp}`;\r\n            } else {\r\n              buildRequestId = buildRequestIdTem;\r\n            }\r\n\r\n            // Determine the user data path for file storage\r\n            const buildUserDataPath =\r\n              process.platform === \"win32\"\r\n                ? process.env.APPDATA ||\r\n                path.join(process.env.USERPROFILE || \"\", \"AppData\", \"Roaming\")\r\n                : path.join(process.env.HOME || \"\", \".config\");\r\n\r\n            // Define the build session directory and session file paths\r\n            const buildSessionDir = path.join(\r\n              buildUserDataPath,\r\n              \"gocodeo\",\r\n              \"build_sessions\"\r\n            );\r\n            const buildSessionFile = path.join(\r\n              buildSessionDir,\r\n              `${buildRequestId}.json`\r\n            );\r\n\r\n            try {\r\n              let buildSessionData;\r\n\r\n              // Check if the session file already exists\r\n              if (fs.existsSync(buildSessionFile)) {\r\n                console.log(\r\n                  `Existing session file found for requestId: ${buildRequestId}`\r\n                );\r\n                // Read and parse the existing file\r\n                const fileContent = fs.readFileSync(buildSessionFile, \"utf8\");\r\n                buildSessionData = JSON.parse(fileContent);\r\n\r\n                // Append the new chat object to the buildHistory\r\n                // buildSessionData.buildHistory.push({\r\n                //   input: buildChat.question,\r\n                //   output: buildChat.answer,\r\n                //   timestamp: buildChat.timestamp,\r\n                //   context: buildChat.context,\r\n                // });\r\n                buildSessionData.buildHistory = buildHistory;\r\n                buildSessionData.supabaseProjectID = supabaseProjectID;\r\n                buildSessionData.supabaseProjectName = supabaseProjectName;\r\n                buildSessionData.supabaseToken = supabaseToken;\r\n                buildSessionData.serviceRoleKey = serviceRoleKey;\r\n                buildSessionData.supabaseAnonKey = supabaseAnonKey;\r\n                buildSessionData.techStack = techStack;\r\n                buildSessionData.isSupabaseAuthAdded = isSupabaseAuthAdded;\r\n                buildSessionData.isSupabaseDataPersisted = isSupabaseDataPersisted;\r\n\r\n              } else {\r\n                console.log(\r\n                  `No existing session file found. Creating a new session for requestId: ${buildRequestId}`\r\n                );\r\n\r\n                // Initialize session data for a new requestId\r\n                // buildSessionData = {\r\n                //   sessionId: buildRequestId,\r\n                //   buildHistory: [\r\n                //     {\r\n                //       input: buildChat.question,\r\n                //       output: buildChat.answer,\r\n                //       timestamp: buildChat.timestamp,\r\n                //       context: buildChat.context,\r\n                //     },\r\n                //   ],\r\n                //   title: buildChatTitle,\r\n                // };\r\n                buildSessionData = {\r\n                  sessionId: buildRequestId,\r\n                  buildHistory: buildHistory,\r\n                  title: buildChatTitle,\r\n                  rootDirectory: rootDirectory,\r\n                  supabaseProjectID,\r\n                  supabaseProjectName,\r\n                  supabaseToken,\r\n                  serviceRoleKey,\r\n                  supabaseAnonKey,\r\n                  techStack,\r\n                  isSupabaseAuthAdded,\r\n                  isSupabaseDataPersisted\r\n                };\r\n              }\r\n\r\n              // Ensure the build sessions directory exists\r\n              if (!fs.existsSync(buildSessionDir)) {\r\n                fs.mkdirSync(buildSessionDir, { recursive: true });\r\n              }\r\n\r\n              // Write the session data back to the file\r\n              fs.writeFileSync(\r\n                buildSessionFile,\r\n                JSON.stringify(buildSessionData, null, 2)\r\n              );\r\n              console.log(\r\n                `Chat saved successfully to build session: ${buildRequestId}`\r\n              );\r\n            } catch (err) {\r\n              console.error(\"Error handling build session chat:\", err);\r\n            }\r\n            break;\r\n\r\n          case \"getChatHistory\":\r\n            const history = getRecentChatHistories();\r\n            this._panel.webview.postMessage({ type: \"history\", data: history });\r\n\r\n          case \"getBuildHistory\":\r\n            const build_history = getRecentBuildHistories();\r\n            console.log(\"build_history : \", build_history);\r\n\r\n            this._panel.webview.postMessage({\r\n              type: \"build_history\",\r\n              data: build_history,\r\n            });\r\n          case \"alert\":\r\n            console.log(\"showError\", message);\r\n            vscode.window.showErrorMessage(message.text);\r\n            return;\r\n          case \"openSignIn\":\r\n            vscode.commands.executeCommand(CMD_SIGNIN, true);\r\n            return;\r\n          case \"createChatResponse\":\r\n            console.log(message.parameter, \"createChatResponse\");\r\n            if (\r\n              typeof message.parameter === \"string\" &&\r\n              message.parameter.includes(\"##\")\r\n            ) {\r\n              // This is a file path and content\r\n              const fileMatch = message.parameter.match(\r\n                /##\\s+([\\w\\-./]+)\\n```(\\w+)\\n([\\s\\S]*?)```/\r\n              );\r\n              if (fileMatch) {\r\n                const [_, filePath, language, content] = fileMatch;\r\n                console.log(\"languagelanguage :\", language, \" - \", filePath);\r\n\r\n                createSingleFile(filePath, content);\r\n              }\r\n            } else {\r\n              // This is a complete project structure\r\n              parseAndCreateFiles(message.parameter);\r\n            }\r\n            return;\r\n          case \"openSupabaseDashboard\":\r\n            console.log(\"openSupabaseDashboard\", message.parameter);\r\n            vscode.env.openExternal(vscode.Uri.parse(message.parameter));\r\n            break;\r\n          case \"openSupabaseSQLEditor\":\r\n            console.log(\"openSupabaseSQLEditor\", message.parameter);\r\n            vscode.env.openExternal(vscode.Uri.parse(message.parameter));\r\n            break;\r\n          case \"executeSupabaseSQL\":\r\n            let res = '';\r\n            try {\r\n              console.log(\"Executing Supabase SQL commands message.parameter\", message.parameter);\r\n\r\n              const {\r\n                supabaseProjectID,\r\n                supabaseProjectName,\r\n                supabaseToken,\r\n                commands\r\n              } = message.parameter || {};\r\n\r\n              if (commands) {\r\n                const cleanedCommands = commands\r\n                  .replace('```supabase-sql\\n', '')\r\n                  .replace('```', '');\r\n\r\n                console.log(\"cleanedCommands\", cleanedCommands, \"supabaseProjectID\", supabaseProjectID, \"supabaseProjectName\", supabaseProjectName, \"supabaseToken\", supabaseToken);\r\n\r\n                res = await executeSupabaseSQL(\r\n                  cleanedCommands,\r\n                  supabaseProjectID,\r\n                  supabaseProjectName,\r\n                  supabaseToken\r\n                );\r\n              }\r\n\r\n\r\n\r\n              // let sqlCommands = message.parameter?.commands;\r\n              // // remove ```supabase-sql\\n from commands\r\n              // sqlCommands = sqlCommands.replace('\\`\\`\\`supabase-sql\\n', '');\r\n              // sqlCommands = sqlCommands.replace('\\`\\`\\`', '');\r\n              // await executeSupabaseSQL(sqlCommands, message.parameter?.supabaseProjectID, message.parameter?.supabaseProjectName, message.parameter?.supabaseToken);\r\n            }\r\n            catch (err) {\r\n              res = res.message;\r\n              console.error(\"Error executing Supabase SQL commands:\", err);\r\n              // console.log(\"executeSupabaseSQLDone ext 221 :\",\r\n              //    res.includes('\\\"profiles\\\" already exists'), \"\\n \",\r\n              //      res,'\\n ',\r\n              //       res.replace(' ', ''));\r\n\r\n              // vscode.window.showErrorMessage(\"Failed to execute Supabase SQL. Please try again.\");\r\n\r\n            } finally {\r\n              console.log(\"executeSupabaseSQLDone ext\", res);\r\n              this._panel.webview.postMessage({ command: \"executeSupabaseSQLDone\" });\r\n            }\r\n            break;\r\n\r\n          case \"SupabaseConnect\":\r\n            try {\r\n              console.log(\"2901: supabaseConnect\", message.parameter, message.supabaseToken);\r\n              let supabaseAccessToken = message.supabaseToken;\r\n              if (!supabaseAccessToken) {\r\n                supabaseAccessToken = await localStore.getValue(\"gocodeo.supabaseAccessToken\");\r\n              }\r\n              console.log(\"2901: supabaseAccessToken from localStore\", supabaseAccessToken);\r\n              let projectsResponse = {};\r\n              if (supabaseAccessToken) {\r\n                console.log(\"2901: Already authorized via supabase\");\r\n              } else {\r\n                console.log(\"2901: Trying supabase connect login\");\r\n                supabaseAccessToken = await vscode.commands.executeCommand(\"gocodeo.supabaseLogin\");\r\n              }\r\n\r\n              console.log(\"2901: Got supabase access token after auth: \", supabaseAccessToken);\r\n              this._panel.webview.postMessage({\r\n                type: \"supabaseTokenSet\",\r\n                data: {\r\n                  token: supabaseAccessToken\r\n                },\r\n              });\r\n\r\n\r\n              try {\r\n                projectsResponse = await fetchSupabaseProjects(supabaseAccessToken, this._panel);\r\n                console.log(\"2901: project response from supabase\", projectsResponse);\r\n                const projects = projectsResponse?.projects;\r\n                if (projectsResponse?.newToken) {\r\n                  supabaseAccessToken = projectsResponse?.newToken\r\n                }\r\n                console.log(\"Got supabase projects\", projects);\r\n\r\n                const quickPickOptions = projects.map((project) => ({\r\n                  label: project.name,\r\n                  description: project.id,\r\n                }));\r\n\r\n                quickPickOptions.push({\r\n                  label: \"Create New Project on Supabase\",\r\n                  description: \"new-project\",\r\n                });\r\n\r\n                await vscode.window.showQuickPick(quickPickOptions, {\r\n                  placeHolder: \"Select a Supabase project or create a new one\",\r\n                }).then((selectedProject) => {\r\n                  if (!selectedProject) {\r\n                    vscode.window.showWarningMessage(\"No project selected.\");\r\n                    this._panel.webview.postMessage({\r\n                      command: \"supabaseProjectRejected\",\r\n                      data: null,\r\n                    });\r\n                    return;\r\n                  }\r\n\r\n                  if (selectedProject.description === \"new-project\") {\r\n                    console.log(\"Opening supabase dashboard to create new project\");\r\n                    this._panel.webview.postMessage({\r\n                      command: \"supabaseProjectRejected\",\r\n                      data: null,\r\n                    });\r\n                    vscode.env.openExternal(vscode.Uri.parse(\"https://supabase.com/dashboard/projects\"));\r\n                  } else {\r\n                    selectedProject = projects.find((project) => project.id === selectedProject.description);\r\n                    console.log(\"User selected supabase project\", selectedProject);\r\n                    this._panel.webview.postMessage({\r\n                      type: \"supabaseProjectSelected\",\r\n                      data: {\r\n                        token: supabaseAccessToken,\r\n                        project: selectedProject,\r\n                      },\r\n                    });\r\n                  }\r\n                });\r\n              } catch (error) {\r\n                if (error.response && error.response.status === 401) {\r\n                  console.log(\"401 Unauthorized: Supabase token is invalid or expired.\");\r\n                  vscode.window.showErrorMessage(\"Your Supabase session has expired. Please log in again.\");\r\n\r\n                  supabaseAccessToken = await vscode.commands.executeCommand(\"gocodeo.supabaseLogin\");\r\n\r\n                  if (supabaseAccessToken) {\r\n                    console.log(\"Re-authenticated successfully. Retrying...\");\r\n                    // Retry fetching the projects after re-authentication\r\n                    // const projects = await fetchSupabaseProjects(supabaseAccessToken, this._panel);\r\n\r\n                    projectsResponse = await fetchSupabaseProjects(supabaseAccessToken, this._panel);\r\n                    console.log(\"project response from supabase\", projectsResponse);\r\n                    const projects = projectsResponse?.projects;\r\n                    if (projectsResponse?.newToken) {\r\n                      supabaseAccessToken = projectsResponse?.newToken\r\n                    }\r\n\r\n                    console.log(\"Got supabase projects after re-authentication\", projects);\r\n\r\n                    const quickPickOptions = projects.map((project) => ({\r\n                      label: project.name,\r\n                      description: project.id,\r\n                    }));\r\n\r\n                    quickPickOptions.push({\r\n                      label: \"Create New Project on Supabase\",\r\n                      description: \"new-project\",\r\n                    });\r\n\r\n                    await vscode.window.showQuickPick(quickPickOptions, {\r\n                      placeHolder: \"Select a Supabase project or create a new one\",\r\n                    }).then((selectedProject) => {\r\n                      if (!selectedProject) {\r\n                        vscode.window.showWarningMessage(\"No project selected.\");\r\n                        this._panel.webview.postMessage({\r\n                          command: \"supabaseProjectRejected\",\r\n                          data: null,\r\n                        });\r\n                        return;\r\n                      }\r\n                      console.log(\"supabaseProjectRejected selectedProject\", selectedProject);\r\n\r\n                      if (selectedProject.description === \"new-project\") {\r\n                        console.log(\"Opening supabase dashboard to create new project\");\r\n                        this._panel.webview.postMessage({\r\n                          command: \"supabaseProjectRejected\",\r\n                          data: null,\r\n                        });\r\n                        vscode.env.openExternal(vscode.Uri.parse(\"https://supabase.com/dashboard/projects\"));\r\n                      } else {\r\n                        selectedProject = projects.find((project) => project.id === selectedProject.description);\r\n                        console.log(\"User selected supabase project\", selectedProject);\r\n                        this._panel.webview.postMessage({\r\n                          type: \"supabaseProjectSelected\",\r\n                          data: {\r\n                            token: supabaseAccessToken,\r\n                            project: selectedProject,\r\n                          },\r\n                        });\r\n                      }\r\n                    });\r\n\r\n                  } else {\r\n                    console.log(\"Re-authentication failed.\");\r\n                    vscode.window.showErrorMessage(\"Unable to re-authenticate with Supabase.\");\r\n                  }\r\n                } else {\r\n                  console.error(\"Error fetching Supabase projects\", error);\r\n                  vscode.window.showErrorMessage(\"Failed to fetch Supabase projects. Please try again.\");\r\n                }\r\n              }\r\n            } catch (error) {\r\n              console.log(\"Supabase connect failed\", error);\r\n              this._panel.webview.postMessage({\r\n                command: \"supabaseProjectRejected\",\r\n                data: null,\r\n              });\r\n              vscode.window.showErrorMessage(\"An error occurred while connecting to Supabase.\");\r\n            }\r\n\r\n            break;\r\n\r\n          case \"runDeploy\":\r\n            try {// const deploymentManager = new VercelDeploymentManager();\r\n              console.log(\"runDeploy with message parameter\", message.parameter);\r\n              const projectPath = vscode.workspace.workspaceFolders?.[0].uri.fsPath;\r\n              if (!projectPath) {\r\n                vscode.window.showErrorMessage('No project folder open');\r\n                return;\r\n              }\r\n              // await checkAndKillPortAndTerminal(3000);\r\n              const deploymentUrl = await deployToVercel(projectPath, message.parameter, this._panel);\r\n              console.log(\"Deployment URL\", deploymentUrl);\r\n\r\n              if (deploymentUrl && deploymentUrl.startsWith(\"http\")) {\r\n\r\n                this._panel.webview.postMessage({\r\n                  type: \"deploySuccess\",\r\n                  data: deploymentUrl\r\n                });\r\n                await handleDeploymentSuccess(deploymentUrl);\r\n              } else {\r\n                console.log(\"Error from 110\", deploymentUrl);\r\n\r\n                // Extract auth token\r\n                const authToken = getStoreKey(AUTH_TOKEN);\r\n\r\n                // Construct API payload\r\n                const payload = {\r\n                  code: \"\",\r\n                  language: \"\",\r\n                  component: \"\",\r\n                  requestId: \"\",\r\n                  user_input: deploymentUrl || \"Unknown deployment error\",\r\n                  history: [],\r\n                  model: \"gpt-4o-mini\",\r\n                  query_type: \"error_message\",\r\n                };\r\n\r\n                let errorMessage = deploymentUrl || \"Deployment failed\";\r\n\r\n                try {\r\n                  console.log(`Checking failure reason for deploymentUrl: ${BASE_URL}, payload: ${JSON.stringify(payload)}`)\r\n                  const response = await fetch(`${BASE_URL}/api/v1/codebase/error_message`, {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                      \"Content-Type\": \"application/json\",\r\n                      Authorization: `Bearer ${authToken}`,\r\n                    },\r\n                    body: JSON.stringify(payload),\r\n                  });\r\n\r\n                  const responseData = await response.json();\r\n                  console.log(\"Before res successfully\", responseData);\r\n                  if (response.ok) {\r\n                    errorMessage = responseData;\r\n                  }\r\n\r\n                  console.log(\"Error details posted successfully\", responseData);\r\n                } catch (apiError) {\r\n                  console.error(\"Failed to send error details to API\", apiError);\r\n                } finally {\r\n                  // Use the actual error message instead of a generic one\r\n                  this._panel.webview.postMessage({\r\n                    type: \"deployError\",\r\n                    data: errorMessage?.error || \"Something went wrong\"\r\n                  });\r\n\r\n                }\r\n                // await vscode.window.showErrorMessage(`Deployment failed: ${errorMessage.title}`);\r\n                // await handleDeploymentFailure();\r\n              }\r\n            }\r\n            catch (error) {\r\n              console.error(\"Failed to deploy:\", error);\r\n              await handleDeploymentFailure();\r\n              // TODO get error message\r\n              this._panel.webview.postMessage({\r\n                type: \"deployError\",\r\n                data: \"Something went wrong\"\r\n              })\r\n            }\r\n            break;\r\n          case \"deleteFile\":\r\n            try {\r\n              const workspaceUri = vscode.workspace.workspaceFolders?.[0]?.uri;\r\n              if (!workspaceUri) {\r\n                vscode.window.showErrorMessage(\"No workspace is open.\");\r\n                return;\r\n              }\r\n\r\n              // Build the file URI\r\n              const filePath = message.parameter;\r\n              const fileUri = vscode.Uri.joinPath(workspaceUri, filePath);\r\n              console.log(`Attempting to delete file: ${filePath}`);\r\n\r\n              // Close the file from the editor if it's open\r\n              const editorsToClose = vscode.window.visibleTextEditors.filter(\r\n                (editor) => editor.document.uri.fsPath === fileUri.fsPath\r\n              );\r\n\r\n              for (const editor of editorsToClose) {\r\n                const document = editor.document;\r\n\r\n                // Check if the document has unsaved changes\r\n                if (document.isDirty) {\r\n                  // Revert unsaved changes and close the editor\r\n                  await vscode.commands.executeCommand(\r\n                    \"workbench.action.revertAndCloseActiveEditor\"\r\n                  );\r\n                  console.log(\r\n                    `Reverted and closed unsaved file: ${document.uri.fsPath}`\r\n                  );\r\n                } else {\r\n                  // Close the editor directly\r\n                  await vscode.commands.executeCommand(\r\n                    \"workbench.action.closeActiveEditor\"\r\n                  );\r\n                  console.log(`Closed editor for file: ${document.uri.fsPath}`);\r\n                }\r\n              }\r\n\r\n              // Delete the file from the file system\r\n              await vscode.workspace.fs.delete(fileUri, {\r\n                recursive: false,\r\n                force: true,\r\n              });\r\n              console.log(`Deleted file: ${fileUri.fsPath}`);\r\n            } catch (error) {\r\n              console.error(`Error deleting file: ${message.parameter}`, error);\r\n              vscode.window.showErrorMessage(\r\n                `Failed to delete file: ${message.parameter}`\r\n              );\r\n            }\r\n            break;\r\n\r\n          case \"deleteFolder\":\r\n            const folderUri = vscode.Uri.joinPath(\r\n              vscode.workspace.workspaceFolders[0].uri,\r\n              message.parameter\r\n            );\r\n\r\n            try {\r\n              const folderPath = folderUri.fsPath;\r\n\r\n              // Close all open tabs that belong to the folder\r\n              const closeTabsInFolder = async () => {\r\n                const tabsToClose = [];\r\n                const unsavedTabs = [];\r\n\r\n                vscode.window.tabGroups.all.forEach((group) => {\r\n                  group.tabs.forEach((tab) => {\r\n                    if (\r\n                      tab.input &&\r\n                      tab.input.uri &&\r\n                      tab.input.uri.fsPath.startsWith(folderPath)\r\n                    ) {\r\n                      if (tab.isDirty) {\r\n                        unsavedTabs.push(tab);\r\n                      } else {\r\n                        tabsToClose.push(tab);\r\n                      }\r\n                    }\r\n                  });\r\n                });\r\n\r\n                // Save all unsaved files automatically\r\n                for (const tab of unsavedTabs) {\r\n                  const document = await vscode.workspace.openTextDocument(\r\n                    tab.input.uri\r\n                  );\r\n                  await document.save();\r\n                }\r\n                for (const tab of tabsToClose) {\r\n                  const document = await vscode.workspace.openTextDocument(\r\n                    tab.input.uri\r\n                  );\r\n                  await document.save();\r\n                }\r\n\r\n                console.log(\"sxsxtabsToClose\", tabsToClose);\r\n                console.log(\"sxsxunsavedTabs\", unsavedTabs);\r\n\r\n                await vscode.workspace.fs.delete(folderUri, {\r\n                  recursive: true,\r\n                  force: true,\r\n                });\r\n                // Close all tabs\r\n                for (const tab of [...tabsToClose, ...unsavedTabs]) {\r\n                  await vscode.window.tabGroups.close(tab);\r\n                }\r\n              };\r\n\r\n              await closeTabsInFolder(); // Wait for tabs to close\r\n\r\n              // Now delete the folder and its contents\r\n              // await vscode.workspace.fs.delete(folderUri, {\r\n              //   recursive: true,\r\n              //   force: true,\r\n              // });\r\n\r\n              console.log(\r\n                `Deleted folder and all contents: ${message.parameter}`\r\n              );\r\n            } catch (error) {\r\n              console.error(\r\n                `Error deleting folder: ${message.parameter}`,\r\n                error\r\n              );\r\n              vscode.window.showErrorMessage(\r\n                `Failed to delete folder: ${message.parameter}`\r\n              );\r\n            }\r\n            break;\r\n\r\n          case \"runTests\":\r\n            fileDoc = `# Date: ${curDate}\\n# Author: Generated by GoCodeo.\\n\\n\\n`;\r\n            console.log(message.parameter, \"message.parameterRunTests\");\r\n\r\n            if (language === \"python\") {\r\n              let testResults = [];\r\n\r\n              for (const [i, item] of message.parameter[0].entries()) {\r\n                let fileDoc = `# Date: ${curDate}\\n# Author: Generated by GoCodeo.\\n\\n\\n`;\r\n\r\n                // Add imports dynamically\r\n                if (message.parameter[1] && message.parameter[1].length > 0) {\r\n                  message.parameter[1].forEach((importLine) => {\r\n                    fileDoc += `${importLine}\\n`;\r\n                  });\r\n                  fileDoc += `\\n`; // Add a blank line after imports\r\n                }\r\n\r\n                // Indent the test case code properly\r\n                const indentedString = await addTabBeforeNewline(item.testCode);\r\n                fileDoc += `${indentedString}\\n\\n`; // Add test cases\r\n\r\n                // Run the generated test file and capture results\r\n                const testResult = await runTestsFile(\r\n                  absoluteFilePath,\r\n                  this._panel.title,\r\n                  fileDoc,\r\n                  language,\r\n                  message.parameter[3],\r\n                  item.testTitle,\r\n                  message.parameter[4],\r\n                  item.testName\r\n                );\r\n                // console.log(testResult, \"=============testResult====\");\r\n\r\n                // Capture test results incrementally\r\n                if (testResult && testResult.length > 0) {\r\n                  testResults[i] = testResult[0];\r\n                } else {\r\n                  testResults[i] = {\r\n                    testTitle: item.testTitle,\r\n                    uniqeTitle: item.testTitle,\r\n                    testResult: \"failed\",\r\n                    testFailureReason: \"\",\r\n                  };\r\n                }\r\n\r\n              }\r\n\r\n              console.log(testResults, \"Final testResults\");\r\n\r\n              // Send final results once all tests are done\r\n              this._panel.webview.postMessage({\r\n                type: \"run\",\r\n                data: testResults,\r\n                testData: message.parameter[0],\r\n                token: message.parameter[2],\r\n              });\r\n            } else if (language === \"javascript\" || language === \"typescript\") {\r\n              let testResults = [];\r\n              console.log(message.parameter, \"message.parameterRunTets\");\r\n\r\n              for (const [i, item] of message.parameter[0].entries()) {\r\n                let fileDoc = `// Date: ${curDate}\\n// Author: Generated by GoCodeo.\\n\\n\\n`;\r\n                // Check if the language is JavaScript and the framework is Mocha\r\n\r\n                // Add test case code\r\n                let indentedString = await addTabBeforeNewline(item.testCode);\r\n                if (message.parameter[3] === \"Mocha\") {\r\n                  indentedString = `const { expect, assert } = require(\"chai\");\\n\\n${indentedString}`;\r\n                }\r\n                fileDoc += `${indentedString}\\n`;\r\n\r\n                // Run the test file and capture the results\r\n                const testResult = await runTestsFile(\r\n                  absoluteFilePath,\r\n                  this._panel.title,\r\n                  fileDoc,\r\n                  language,\r\n                  message.parameter[3],\r\n                  item.testTitle,\r\n                  message.parameter[4],\r\n                  item.testName\r\n                );\r\n\r\n                // Handle results incrementally\r\n                if (testResult && testResult.length > 0) {\r\n                  testResults.push(testResult[0]);\r\n                } else {\r\n                  testResults.push({\r\n                    testTitle: item.testTitle,\r\n                    uniqeTitle: item.testTitle,\r\n                    testResult: \"failed\",\r\n                    testFailureReason: \"\",\r\n                  });\r\n                }\r\n              }\r\n\r\n              console.log(testResults, \"Final testResults\");\r\n\r\n              // Send final results once all tests are done\r\n              this._panel.webview.postMessage({\r\n                type: \"run\",\r\n                data: testResults,\r\n                testData: message.parameter[0],\r\n                token: message.parameter[2],\r\n              });\r\n            } else if (language === \"go\") {\r\n              let testResults = [];\r\n              console.log(message.parameter, \"message.parameterRunTets\");\r\n\r\n              for (const [i, item] of message.parameter[0].entries()) {\r\n                let fileDoc = `// Date: ${curDate}\\n// Author: Generated by GoCodeo.\\n\\n\\n`;\r\n                // Check if the language is JavaScript and the framework is Mocha\r\n\r\n                // Add test case code\r\n                let indentedString = await addTabBeforeNewline(item.testCode);\r\n                if (message.parameter[3] === \"Testify\") {\r\n                  // indentedString = `const { expect, assert } = require(\"chai\");\\n\\n${indentedString}`;\r\n                  const additionalImports = [\r\n                    'package main;',\r\n                    'import \"testing\";',\r\n                    'import \"github.com/stretchr/testify/assert\";'\r\n                  ];\r\n                  // Extract existing imports from the source code\r\n                  const imports = extractAllGoImports(message.parameter[4].main.code);\r\n                  // Combine additional imports with extracted imports\r\n                  let combinedImports = additionalImports.join('\\n');\r\n                  if (imports.length > 0) {\r\n                    combinedImports += `\\n\\n${imports.join('\\n')}`;\r\n                  }\r\n\r\n                  // Add the combined imports to the indentedString\r\n                  indentedString = `${combinedImports}\\n\\n${indentedString}`;\r\n                } else if (message.parameter[3] === \"Ginkgo\") {\r\n                  // Extract the package declaration from the source code\r\n                  const packageName = extractGoPackage(message.parameter[4].main.code);\r\n                  if (!packageName) {\r\n                    console.error(\"Package declaration not found in the code!\");\r\n                    return;\r\n                  }\r\n                  // Dynamically add the package declaration\r\n                  const additionalImports = [\r\n                    `package ${packageName};`, // Dynamic package\r\n                    'import .\"github.com/onsi/ginkgo/v2\";',\r\n                    'import .\"github.com/onsi/gomega\";',\r\n                    `import \"testing\"`\r\n                  ];\r\n\r\n\r\n                  let combinedImports = additionalImports.join('\\n');\r\n                  // Add TestReverseString function dynamically\r\n                  const testComponentFunction = `\r\n              func TestExecution(t *testing.T) {\r\n                  RegisterFailHandler(Fail)\r\n                  RunSpecs(t, \"TestComponent Suite\")\r\n              }\r\n                  `;\r\n                  // indentedString = `${combinedImports}\\n\\n${indentedString}`;\r\n                  indentedString = `${combinedImports}\\n\\n${testComponentFunction}\\n\\n${indentedString}`;\r\n\r\n                  console.log(indentedString, \"Updated indentedString\");\r\n                }\r\n                fileDoc += `${indentedString}\\n`;\r\n\r\n                // Run the test file and capture the results\r\n                const testResult = await runTestsFile(\r\n                  absoluteFilePath,\r\n                  this._panel.title,\r\n                  fileDoc,\r\n                  language,\r\n                  message.parameter[3],\r\n                  item.testTitle,\r\n                  message.parameter[4],\r\n                  item.testName\r\n                );\r\n\r\n                // Handle results incrementally\r\n                if (testResult && testResult.length > 0) {\r\n                  testResults.push(testResult[0]);\r\n                } else {\r\n                  testResults.push({\r\n                    testTitle: item.testTitle,\r\n                    uniqeTitle: item.testTitle,\r\n                    testResult: \"failed\",\r\n                    testFailureReason: \"\",\r\n                  });\r\n                }\r\n              }\r\n\r\n              console.log(testResults, \"Final testResults\");\r\n\r\n              // Send final results once all tests are done\r\n              this._panel.webview.postMessage({\r\n                type: \"run\",\r\n                data: testResults,\r\n                testData: message.parameter[0],\r\n                token: message.parameter[2],\r\n              });\r\n            }\r\n\r\n            return;\r\n\r\n          case \"runSingleTest\":\r\n            const commentStyle = {\r\n              python: \"#\",\r\n              javascript: \"//\",\r\n              java: \"//\",\r\n              go: \"//\",\r\n              ruby: \"#\",\r\n              rust: \"//\",\r\n              csharp: \"//\",\r\n              cpp: \"//\",\r\n              php: \"//\",\r\n            };\r\n\r\n            const commentSymbol = commentStyle[language] || \"//\"; // Default to `//`\r\n\r\n            fileDoc = `${commentSymbol} Date: ${curDate}\\n${commentSymbol} Author: Generated by GoCodeo.\\n\\n\\n`;\r\n            console.log(message.parameter, \"message.parameter\");\r\n\r\n            if (language === \"python\") {\r\n              const indent = (level) => \" \".repeat(level * 4); // 4 spaces per indentation level\r\n\r\n              fileDoc = `${commentSymbol} Date: ${curDate}\\n${commentSymbol} Author: Generated by GoCodeo.\\n\\n`;\r\n\r\n              if (message.parameter[5] === \"pytest\") {\r\n                if (message.parameter[1] && message.parameter[1].length > 0) {\r\n                  message.parameter[1].map((item) => {\r\n                    fileDoc += `${item}\\n\\n`;\r\n                  });\r\n                } else {\r\n                  fileDoc += `import pytest\\n\\n`;\r\n                  fileDoc += `class TestSuite:\\n`;\r\n                  fileDoc += `${indent(1)}def test_sample(self):\\n`;\r\n                  fileDoc += `${indent(2)}# Add your test logic here\\n`;\r\n                  fileDoc += `${indent(2)}assert True\\n\\n`;\r\n                }\r\n              } else if (message.parameter[5] === \"unittest\") {\r\n                if (message.parameter[1] && message.parameter[1].length > 0) {\r\n                  message.parameter[1].map((item) => {\r\n                    fileDoc += `${item}\\n\\n`;\r\n                  });\r\n                } else {\r\n                  fileDoc += `import unittest\\n\\n`;\r\n                  fileDoc += `class TestSuite(unittest.TestCase):\\n`;\r\n                  fileDoc += `${indent(1)}def test_sample(self):\\n`;\r\n                  fileDoc += `${indent(2)}# Add your test logic here\\n`;\r\n                  fileDoc += `${indent(2)}self.assertTrue(True)\\n\\n`;\r\n                }\r\n              } else if (message.parameter[5] === \"nose\") {\r\n                if (message.parameter[1] && message.parameter[1].length > 0) {\r\n                  message.parameter[1].map((item) => {\r\n                    fileDoc += `${item}\\n\\n`;\r\n                  });\r\n                } else {\r\n                  fileDoc += `import nose\\n\\n`;\r\n                  fileDoc += `def test_sample():\\n`;\r\n                  fileDoc += `${indent(1)}# Add your test logic here\\n`;\r\n                  fileDoc += `${indent(1)}assert True\\n\\n`;\r\n                }\r\n              } else if (message.parameter[5] === \"ward\") {\r\n                if (message.parameter[1] && message.parameter[1].length > 0) {\r\n                  message.parameter[1].map((item) => {\r\n                    fileDoc += `${item}\\n\\n`;\r\n                  });\r\n                } else {\r\n                  fileDoc += `from ward import test\\n\\n`;\r\n                  fileDoc += `@test\\n`;\r\n                  fileDoc += `def test_sample():\\n`;\r\n                  fileDoc += `${indent(1)}# Add your test logic here\\n`;\r\n                  fileDoc += `${indent(1)}assert True\\n\\n`;\r\n                }\r\n              }\r\n            }\r\n\r\n            // Add the dynamically generated test code\r\n            let indentedString = await addTabBeforeNewline(\r\n              message.parameter[0] ? message.parameter[0].testCode : \"\"\r\n            );\r\n\r\n            // Check if the language is JavaScript and the framework is Mocha\r\n            if (language === \"javascript\" && message.parameter[5] === \"Mocha\") {\r\n              indentedString = `const { expect, assert } = require(\"chai\");\\n\\n${indentedString}`;\r\n            } else if (language === \"go\" && message.parameter[5] === \"Testify\") {\r\n              // Define additional imports\r\n              const additionalImports = [\r\n                'package main;',\r\n                'import \"testing\";',\r\n                'import \"github.com/stretchr/testify/assert\";'\r\n              ];\r\n\r\n              // Extract existing imports from the source code\r\n              const imports = extractAllGoImports(message.parameter[6].main.code);\r\n\r\n              console.log(imports, \"Extracted Imports\");\r\n\r\n              // Combine additional imports with extracted imports\r\n              let combinedImports = additionalImports.join('\\n');\r\n              if (imports.length > 0) {\r\n                combinedImports += `\\n\\n${imports.join('\\n')}`;\r\n              }\r\n\r\n              // Add the combined imports to the indentedString\r\n              indentedString = `${combinedImports}\\n\\n${indentedString}`;\r\n\r\n              console.log(indentedString, \"Updated indentedString\");\r\n            } else if (language === \"go\" && message.parameter[5] === \"Ginkgo\") {\r\n              // Extract the package declaration from the source code\r\n              const packageName = extractGoPackage(message.parameter[6].main.code);\r\n              if (!packageName) {\r\n                console.error(\"Package declaration not found in the code!\");\r\n                return;\r\n              }\r\n              // Dynamically add the package declaration\r\n              const additionalImports = [\r\n                `package ${packageName};`, // Dynamic package\r\n                'import .\"github.com/onsi/ginkgo/v2\";',\r\n                'import .\"github.com/onsi/gomega\";',\r\n                `import \"testing\"`\r\n              ];\r\n\r\n\r\n              let combinedImports = additionalImports.join('\\n');\r\n              // Add TestReverseString function dynamically\r\n              const testComponentFunction = `\r\n              func TestExecution(t *testing.T) {\r\n                  RegisterFailHandler(Fail)\r\n                  RunSpecs(t, \"TestComponent Suite\")\r\n              }\r\n                  `;\r\n              // indentedString = `${combinedImports}\\n\\n${indentedString}`;\r\n              indentedString = `${combinedImports}\\n\\n${testComponentFunction}\\n\\n${indentedString}`;\r\n\r\n              console.log(indentedString, \"Updated indentedString\");\r\n            }\r\n\r\n\r\n\r\n            fileDoc += `${indentedString}\\n\\n`;\r\n\r\n            let testResults = [];\r\n            //@ts-ignore\r\n            const testResult = await runTestsFile(\r\n              absoluteFilePath,\r\n              this._panel.title,\r\n              fileDoc,\r\n              language,\r\n              message.parameter[5],\r\n              message.parameter[0] ? message.parameter[0].testTitle : \"\",\r\n              message.parameter[6],\r\n              message.parameter[0] ? message.parameter[0].testName : \"\",\r\n            );\r\n            console.log(testResult, \"testResultxyz\");\r\n\r\n            if (testResult && testResult.length > 0) {\r\n              testResults.push(testResult[0]);\r\n            } else {\r\n              testResults.push({\r\n                testTitle: message.parameter[0]\r\n                  ? message.parameter[0].testTitle\r\n                  : \"\",\r\n                testResult: \"failed\",\r\n                testFailureReason: \"\",\r\n              });\r\n            }\r\n\r\n            message2 = {\r\n              type: \"runSingle\",\r\n              data: testResults,\r\n              //@ts-ignore\r\n              testData: message.parameter[4],\r\n              index: message.parameter[2],\r\n              token: message.parameter[3],\r\n            };\r\n            this._panel.webview.postMessage(message2);\r\n            return;\r\n\r\n          // case \"saveFile\":\r\n          //   console.log(message.parameter, \"message.parameter\");\r\n          //   // Determine the comment syntax based on the language\r\n          //   let commentPrefix = \"//\"; // Default to JavaScript-style comments\r\n          //   if (language === \"python\") {\r\n          //     commentPrefix = \"#\";\r\n          //   } else if (language === \"csharp\") {\r\n          //     commentPrefix = \"//\";\r\n          //   }\r\n\r\n          //   // Initialize the file content with metadata\r\n          //   fileDoc = `${commentPrefix} Date: ${curDate}\\n${commentPrefix} Author: Generated by GoCodeo.\\n\\n`;\r\n\r\n          //   if (language === \"csharp\") {\r\n          //     fileDoc += `\\n\\nusing Xunit\\n\\nusing System\\n\\n`;\r\n          //   } else if (language === \"python\") {\r\n          //     // Add imports if provided in message.parameter[1]\r\n          //     if (message.parameter[1] && message.parameter[1].length > 0) {\r\n          //       message.parameter[1].forEach((item) => {\r\n          //         fileDoc += `${item}\\n\\n`; // Add provided import statements\r\n          //       });\r\n          //     }\r\n\r\n          //     // Add dynamically provided test classes and methods\r\n          //     if (message.parameter[0] && message.parameter[0].length > 0) {\r\n          //       message.parameter[0].forEach((item) => {\r\n          //         const indentedString = addSpaceBeforeNewline(item.testCode);\r\n          //         // fileDoc += `${indentedString}\\n\\n`; // Add test cases without redundant class definitions\r\n          //         fileDoc += `${item.testCode}\\n\\n`; // Add test cases without redundant class definitions\r\n          //       });\r\n          //     }\r\n          //   } else if (language === \"javascript\" || language === \"typescript\") {\r\n          //     // Add imports if provided in message.parameter[1]\r\n          //     if (message.parameter[1] && message.parameter[1].length > 0) {\r\n          //       message.parameter[1].forEach((item) => {\r\n          //         fileDoc += `${item}\\n\\n`; // Add provided import statements\r\n          //       });\r\n          //     }\r\n\r\n          //     // Add dynamically provided test classes and methods\r\n          //     if (message.parameter[0] && message.parameter[0].length > 0) {\r\n          //       message.parameter[0].forEach((item) => {\r\n          //         const indentedString = addSpaceBeforeNewline(item.testCode);\r\n          //         fileDoc += `${indentedString}\\n\\n`; // Add test cases without redundant class definitions\r\n          //       });\r\n          //     }\r\n          //   }\r\n\r\n          //   await saveFile(absoluteFilePath, this._panel.title, fileDoc);\r\n          //   return;\r\n          case \"saveFile\":\r\n            console.log(message.parameter, \"message.parameter\");\r\n            // Determine the comment syntax based on the language\r\n            let commentPrefix = \"//\"; // Default to JavaScript-style comments\r\n            if ([\"python\", \"ruby\"].includes(language)) {\r\n              commentPrefix = \"#\";\r\n            } else if ([\"csharp\", \"java\", \"cpp\", \"php\"].includes(language)) {\r\n              commentPrefix = \"//\";\r\n            } else if (language === \"go\") {\r\n              commentPrefix = \"//\";\r\n            } else if (language === \"rust\") {\r\n              commentPrefix = \"//\";\r\n            }\r\n\r\n            // Initialize the file content with metadata\r\n            fileDoc = `${commentPrefix} Date: ${curDate}\\n${commentPrefix} Author: Generated by GoCodeo.\\n\\n`;\r\n\r\n            if (language === \"csharp\") {\r\n              fileDoc += `\\nusing Xunit;\\nusing System;\\n\\n`;\r\n            } else if (language === \"java\") {\r\n              fileDoc += `\\nimport org.junit.jupiter.api.*;\\n\\n`;\r\n            } else if (language === \"go\") {\r\n              fileDoc += `\\npackage main\\n\\nimport (\\n\\t\"testing\"\\n)\\n\\n`;\r\n            } else if (language === \"cpp\") {\r\n              fileDoc += `\\n#include <iostream>\\n#include \"gtest/gtest.h\"\\n\\n`;\r\n            } else if (language === \"php\") {\r\n              fileDoc += `\\n<?php\\nuse PHPUnit\\\\Framework\\\\TestCase;\\n\\n`;\r\n            } else if (language === \"ruby\") {\r\n              fileDoc += `\\nrequire \"minitest/autorun\"\\n\\n`;\r\n            } else if (language === \"rust\") {\r\n              fileDoc += `\\n#[cfg(test)]\\nmod tests {\\n\\tuse super::*;\\n\\n`;\r\n            }\r\n\r\n            // Add imports if provided in message.parameter[1]\r\n            if (message.parameter[1] && message.parameter[1].length > 0) {\r\n              message.parameter[1].forEach((item) => {\r\n                fileDoc += `${item}\\n\\n`; // Add provided import statements\r\n              });\r\n            }\r\n\r\n            // Add dynamically provided test classes and methods\r\n            if (message.parameter[0] && message.parameter[0].length > 0) {\r\n              message.parameter[0].forEach((item) => {\r\n                const indentedString = addSpaceBeforeNewline(item.testCode);\r\n                if (language === \"rust\") {\r\n                  // Wrap test cases inside the module for Rust\r\n                  fileDoc += `\\t#[test]\\n\\tfn ${item.testName}() {\\n${indentedString}\\n\\t}\\n\\n`;\r\n                } else {\r\n                  fileDoc += `${indentedString}\\n\\n`;\r\n                }\r\n              });\r\n            }\r\n\r\n            // Add closing braces or specific endings for some languages\r\n            if (language === \"php\") {\r\n              fileDoc += `?>\\n`;\r\n            } else if (language === \"rust\") {\r\n              fileDoc += `}\\n`;\r\n            }\r\n\r\n            await saveFile(absoluteFilePath, this._panel.title, fileDoc);\r\n            return;\r\n\r\n          case \"handleForceUpgrade\":\r\n            vscode.commands.executeCommand(\"extension.open\", \"GoCodeo.gocodeo\");\r\n            break;\r\n\r\n\r\n          case \"showNotification\":\r\n            console.log(message, \"showNotification\");\r\n\r\n            vscode.window.showInformationMessage(message.message);\r\n            break;\r\n          case \"refreshSidebar\":\r\n            await vscode.commands.executeCommand(\"gocodeo.usage\");\r\n            // vscode.commands.executeCommand(`gocodeo-sidebar.refresh`);\r\n            return;\r\n          case \"openNewFile\":\r\n            await vscode.commands.executeCommand(\"gocodeo.usage\");\r\n            // const testData = message.parameter;\r\n            // console.log(message.parameter, \"testData\")\r\n            // let param1 = ''\r\n\r\n            // message.parameter.map(item => {\r\n            //     fileDoc += item.testCode;\r\n            // })\r\n            // console.log(message.parameter)\r\n\r\n            (vscode.env as any).clipboard\r\n              .writeText(message.parameter)\r\n              .then(() => {\r\n                // console.log(\"Code copied to clipboard!\");\r\n              })\r\n              //@ts-ignore\r\n              .catch((err) => {\r\n                console.error(\"Failed to copy code to clipboard:\", err);\r\n              });\r\n\r\n            return;\r\n          case \"review\":\r\n            //@ts-ignore\r\n            const differences = diff.diffLines(\r\n              fs.readFileSync(absoluteFilePath, \"utf-8\"),\r\n              message.parameter[0] ? message.parameter[0].reviewCode : \"\"\r\n            );\r\n\r\n            let diffOutput = \"\";\r\n            let lineNumber = 0;\r\n            //@ts-ignore\r\n            let linesAdded = [];\r\n            //@ts-ignore\r\n            let linesRemoved = [];\r\n            //@ts-ignore\r\n            let lines = [];\r\n            //@ts-ignore\r\n            differences.forEach((part) => {\r\n              if (part.added) {\r\n                // Added lines with line numbers\r\n                const addedLines = part.value?.split(\"\\n\").filter(Boolean);\r\n                //@ts-ignore\r\n                addedLines.forEach((line) => {\r\n                  diffOutput += `+ ${lineNumber++}: ${line}\\n`;\r\n                  linesAdded.push({ lineNumber: lineNumber, line: line });\r\n                  lines.push({\r\n                    lineNumber: lineNumber,\r\n                    line: line,\r\n                    type: \"added\",\r\n                  });\r\n                });\r\n              } else if (part.removed) {\r\n                // Removed lines with line numbers\r\n                const removedLines = part.value?.split(\"\\n\").filter(Boolean);\r\n                //@ts-ignore\r\n                removedLines.forEach((line) => {\r\n                  diffOutput += `- ${lineNumber++}: ${line}\\n`;\r\n                  linesRemoved.push({ lineNumber: lineNumber, line: line });\r\n                  lines.push({\r\n                    lineNumber: lineNumber,\r\n                    line: line,\r\n                    type: \"removed\",\r\n                  });\r\n                });\r\n              } else {\r\n                // Unchanged lines\r\n                lineNumber += part.count;\r\n              }\r\n            });\r\n\r\n            // // Show the differences in a new text document\r\n            // const diffDoc = vscode.workspace.openTextDocument({ content: diffOutput, language: 'plaintext' });\r\n            // vscode.window.showTextDocument(diffDoc);\r\n\r\n            let reviewLines = {\r\n              type: \"review\",\r\n              //@ts-ignore\r\n              linesAdded: linesAdded,\r\n              //@ts-ignore\r\n              linesRemoved: linesRemoved,\r\n              testdata: message.parameter[2],\r\n              index: message.parameter[1],\r\n              //@ts-ignore\r\n              lines: lines,\r\n            };\r\n            this._panel.webview.postMessage(reviewLines);\r\n\r\n            return;\r\n          // case \"applyCode\":\r\n          //   //@ts-ignore\r\n          //   const linestobeAdded = message.parameter[0];\r\n          //   const linestobeRemoved = message.parameter[1];\r\n          //   //@ts-ignore\r\n          //   let targetLineNumbers = [];\r\n          //   let linesToRemove = [];\r\n\r\n          //   //@ts-ignore\r\n          //   linestobeAdded.map((item) => {\r\n          //     targetLineNumbers.push(item.lineNumber);\r\n          //   });\r\n          //   //@ts-ignore\r\n          //   linestobeRemoved.map((item) => {\r\n          //     linesToRemove.push(item.lineNumber);\r\n          //   });\r\n\r\n          //   // Normalize JavaScript code to replace escaped characters\r\n          //   const normalizeCode = (code: string) => {\r\n          //     try {\r\n          //       return code\r\n          //         .replace(/\\\\n/g, \"\\n\")\r\n          //         .replace(/\\\\t/g, \"\\t\")\r\n          //         .replace(/\\\\\"/g, '\"');\r\n          //     } catch (err) {\r\n          //       console.error(\"Error normalizing code:\", err);\r\n          //       return code; // Fallback to original code if an error occurs\r\n          //     }\r\n          //   };\r\n\r\n          //   const correctedCode = normalizeCode(message.parameter[5]); // Normalize code\r\n\r\n          //   let newcode = encrypt(\r\n          //     payload.user.id,\r\n          //     JSON.stringify({\r\n          //       imports: [],\r\n          //       main: { file: fileName, code: correctedCode },\r\n          //     })\r\n          //   );\r\n\r\n          //   //@ts-ignore\r\n          //   await previousActiveEditor.edit((editBuilder) => {\r\n          //     let lastLine = previousActiveEditor.document.lineCount;\r\n          //     let rangeToDelete = new vscode.Range(\r\n          //       new vscode.Position(0, 0),\r\n          //       previousActiveEditor.document.lineAt(lastLine - 1).range.end\r\n          //     );\r\n          //     editBuilder.delete(rangeToDelete);\r\n\r\n          //     // Insert normalized code at the beginning of the file\r\n          //     editBuilder.insert(\r\n          //       new vscode.Position(0, 0),\r\n          //       correctedCode + \"\\n\"\r\n          //     );\r\n          //   });\r\n\r\n          //   //@ts-ignore\r\n          //   let apply = {\r\n          //     type: \"apply\",\r\n          //     success: true,\r\n          //     data: message.parameter[2],\r\n          //     index: message.parameter[3],\r\n          //     newcode: newcode,\r\n          //   };\r\n\r\n          //   this._panel.webview.postMessage(apply);\r\n\r\n          //   return;\r\n          case \"applyCode\":\r\n            //@ts-ignore\r\n            const linestobeAdded = message.parameter[0];\r\n            const linestobeRemoved = message.parameter[1];\r\n\r\n            //@ts-ignore\r\n            const normalizeCode = (code: string) => {\r\n              try {\r\n                return code\r\n                  .replace(/\\\\n/g, \"\\n\")\r\n                  .replace(/\\\\t/g, \"\\t\")\r\n                  .replace(/\\\\\"/g, '\"');\r\n              } catch (err) {\r\n                console.error(\"Error normalizing code:\", err);\r\n                return code; // Fallback to original code if an error occurs\r\n              }\r\n            };\r\n\r\n            const correctedCode = normalizeCode(message.parameter[5]); // Normalize code\r\n\r\n            const filePath1 = vscode.Uri.file(fileName);\r\n\r\n            // Reopen the editor if closed\r\n            const editor =\r\n              previousActiveEditor && !previousActiveEditor.document.isClosed\r\n                ? previousActiveEditor\r\n                : await vscode.window.showTextDocument(filePath1);\r\n\r\n            // Perform the edit operation\r\n            await editor.edit((editBuilder) => {\r\n              let lastLine = editor.document.lineCount;\r\n              let rangeToDelete = new vscode.Range(\r\n                new vscode.Position(0, 0),\r\n                editor.document.lineAt(lastLine - 1).range.end\r\n              );\r\n              editBuilder.delete(rangeToDelete);\r\n\r\n              // Insert normalized code\r\n              editBuilder.insert(new vscode.Position(0, 0), correctedCode + \"\\n\");\r\n            });\r\n\r\n            //@ts-ignore\r\n            let newcode = encrypt(\r\n              payload.user.id,\r\n              JSON.stringify({\r\n                imports: [],\r\n                main: { file: fileName, code: correctedCode },\r\n              })\r\n            );\r\n\r\n            //@ts-ignore\r\n            let apply = {\r\n              type: \"apply\",\r\n              success: true,\r\n              data: message.parameter[2],\r\n              index: message.parameter[3],\r\n              newcode: newcode,\r\n            };\r\n\r\n            this._panel.webview.postMessage(apply);\r\n\r\n            return;\r\n\r\n          case \"deployLimitExhausted\":\r\n            vscode.window.showErrorMessage(\"Deployment limit has been exhausted. Please upgrade your plan to deploy more projects.\");\r\n            break;\r\n          case \"showToast\":\r\n            console.log(\"showToast\", message);\r\n            vscode.window.showInformationMessage(message.text);\r\n            break;\r\n          case \"showError\":\r\n            console.log(\"showErrorshowError\", message);\r\n            vscode.window.showErrorMessage(message.parameter);\r\n            break;\r\n          case \"updateFramework\":\r\n            try {\r\n              const { language, framework, numTests } = message.parameter;\r\n\r\n              if (!language || !framework || typeof numTests === \"undefined\") {\r\n                throw new Error(\r\n                  \"Language, framework, and numTests are required parameters.\"\r\n                );\r\n              }\r\n              console.log(language, \"languageXYZ\");\r\n\r\n              const frameworkKey = `gocodeo.${language}TestFramework`;; // e.g., gocodeo.pythonTestFramework\r\n              const numTestsKey = `gocodeo.NumberOfTests`; // e.g., gocodeo.pythonNumTests\r\n\r\n              console.log(\r\n                \"Updating framework key:\",\r\n                frameworkKey,\r\n                \"to\",\r\n                framework\r\n              );\r\n              console.log(\r\n                \"Updating numTests key:\",\r\n                numTestsKey,\r\n                \"to\",\r\n                numTests\r\n              );\r\n\r\n              // Update the framework and numTests independently\r\n              await localStore.setValue(frameworkKey, framework);\r\n              await localStore.setValue(numTestsKey, numTests);\r\n\r\n              // globalStore.setValue(frameworkKey, framework);\r\n              // globalStore.setValue(numTestsKey, numTests);\r\n\r\n              // Notify the webview about the updated numTests\r\n              this._panel.webview.postMessage({\r\n                type: \"numTestsUpdate\",\r\n                data: { numTests },\r\n              });\r\n              // Notify webview of success\r\n              this._panel.webview.postMessage({\r\n                type: \"frameworkUpdateSuccess\",\r\n                data: { language, framework, numTests },\r\n              });\r\n            } catch (error) {\r\n              console.error(\"Error updating framework:\", error);\r\n\r\n              this._panel.webview.postMessage({\r\n                type: \"frameworkUpdateFailure\",\r\n                data: { error: error.message },\r\n              });\r\n            }\r\n            break;\r\n          // case 'applyFileChanges':\r\n          //   try {\r\n          //     const { fileChanges, rootDirectory } = message.parameter;\r\n          //     const workspaceRoot = vscode.workspace.workspaceFolders?.[0].uri.fsPath;\r\n\r\n          //     // If the rootDirectory is already absolute, use it as the project root.\r\n          //     // Otherwise, join it with the workspace root.\r\n          //     const projectRoot = path.isAbsolute(rootDirectory)\r\n          //       ? rootDirectory\r\n          //       : path.join(workspaceRoot, rootDirectory);\r\n\r\n          //     console.log(fileChanges, rootDirectory, \"I am in applyFileChanges\");\r\n\r\n          //     // Process each file change.\r\n          //     for (const change of fileChanges) {\r\n          //       // Remove any leading slash from the filePath to form a relative path.\r\n          //       const relativeFilePath = change.filePath.replace(/^[/\\\\]+/, '');\r\n          //       const fullFilePath = path.join(projectRoot, relativeFilePath);\r\n\r\n          //       // Ensure the directory exists.\r\n          //       fs.mkdirSync(path.dirname(fullFilePath), { recursive: true });\r\n          //       // Write the file.\r\n          //       fs.writeFileSync(fullFilePath, change.code, 'utf8');\r\n          //     }\r\n\r\n          //     // Optionally: remove files that are in the projectRoot but not in the filtered fileChanges list.\r\n          //     // (You can implement this by scanning projectRoot and comparing with the allowed file paths.)\r\n\r\n          //     this._panel.webview.postMessage({\r\n          //       command: \"applyFileChangesCompleted\",\r\n          //       data: `Files updated from changes up to the edited chat response.`,\r\n          //     });\r\n          //   } catch (error) {\r\n          //     console.error(\"Error applying file changes:\", error);\r\n          //     vscode.window.showErrorMessage(\"Error applying file changes after editing the chat response.\");\r\n          //   }\r\n          //   break;   \r\n          // case 'applyFileChanges':\r\n          //   try {\r\n          //     const { fileChanges, rootDirectory } = message.parameter;\r\n          //     const workspaceRoot = vscode.workspace.workspaceFolders?.[0].uri.fsPath;\r\n\r\n          //     // Determine projectRoot:\r\n          //     const projectRoot = path.isAbsolute(rootDirectory)\r\n          //       ? rootDirectory\r\n          //       : path.join(workspaceRoot, rootDirectory);\r\n\r\n          //     console.log('applyFileChanges: Received fileChanges:', fileChanges);\r\n          //     console.log('applyFileChanges: Project root:', projectRoot);\r\n\r\n          //     // Process each file change: remove any leading slash to form a relative path.\r\n          //     for (const change of fileChanges) {\r\n          //       const relativeFilePath = change.filePath.replace(/^[/\\\\]+/, '');\r\n          //       const fullFilePath = path.join(projectRoot, relativeFilePath);\r\n          //       console.log(`Writing file: ${fullFilePath}`);\r\n\r\n          //       // Ensure the directory exists.\r\n          //       fs.mkdirSync(path.dirname(fullFilePath), { recursive: true });\r\n          //       // Write (or overwrite) the file.\r\n          //       fs.writeFileSync(fullFilePath, change.code, 'utf8');\r\n          //     }\r\n\r\n          //     // Build the allowed list of relative file paths.\r\n          //     const allowedRelativeFilePaths = fileChanges.map(change =>\r\n          //       change.filePath.replace(/^[/\\\\]+/, '')\r\n          //     );\r\n          //     console.log('Allowed relative file paths:', allowedRelativeFilePaths);\r\n\r\n          //     // Now, retrieve all files currently under the projectRoot.\r\n          //     const allFiles = getAllFilesRecursively(projectRoot);\r\n          //     console.log('All files found in projectRoot:', allFiles);\r\n\r\n          //     // Delete any file that is not in the allowed list.\r\n          //     allFiles.forEach((relativeFilePath: string) => {\r\n          //       if (!allowedRelativeFilePaths.includes(relativeFilePath)) {\r\n          //         const fullFilePath = path.join(projectRoot, relativeFilePath);\r\n          //         console.log(`Deleting file not allowed: ${fullFilePath}`);\r\n          //         try {\r\n          //           fs.unlinkSync(fullFilePath);\r\n          //         } catch (unlinkError) {\r\n          //           console.error(`Error deleting file ${fullFilePath}:`, unlinkError);\r\n          //         }\r\n          //       }\r\n          //     });\r\n\r\n          //     // Optionally, you might want to remove empty directories as well.\r\n          //     // (That code is omitted here for clarity, but can be added if needed.)\r\n\r\n          //     this._panel.webview.postMessage({\r\n          //       command: \"applyFileChangesCompleted\",\r\n          //       data: `Files updated from changes up to the edited chat response.`,\r\n          //     });\r\n          //   } catch (error) {\r\n          //     console.error(\"Error applying file changes:\", error);\r\n          //     vscode.window.showErrorMessage(\"Error applying file changes after editing the chat response.\");\r\n          //   }\r\n          //   break;\r\n          case 'applyFileChanges':\r\n            try {\r\n              const { fileChanges, extraFilePaths, rootDirectory } = message.parameter;\r\n              const workspaceRoot = vscode.workspace.workspaceFolders?.[0].uri.fsPath;\r\n\r\n              // Determine projectRoot.\r\n              const projectRoot = path.isAbsolute(rootDirectory)\r\n                ? rootDirectory\r\n                : path.join(workspaceRoot, rootDirectory);\r\n\r\n              console.log(\"applyFileChanges - Allowed fileChanges:\", fileChanges);\r\n              console.log(\"applyFileChanges - Extra file paths to delete:\", extraFilePaths);\r\n              console.log(\"applyFileChanges - Project root:\", projectRoot);\r\n\r\n              // Write/update allowed files.\r\n              for (const change of fileChanges) {\r\n                // Remove any leading slash from filePath.\r\n                const relativeFilePath = change.filePath.replace(/^[/\\\\]+/, '');\r\n                const fullFilePath = path.join(projectRoot, relativeFilePath);\r\n                console.log(`Writing file: ${fullFilePath}`);\r\n\r\n                fs.mkdirSync(path.dirname(fullFilePath), { recursive: true });\r\n                fs.writeFileSync(fullFilePath, change.code, 'utf8');\r\n              }\r\n\r\n              // Delete only the extra files.\r\n              for (const filePath of extraFilePaths) {\r\n                // Remove leading slash to compute relative path.\r\n                const relativeFilePath = filePath.replace(/^[/\\\\]+/, '');\r\n                const fullFilePath = path.join(projectRoot, relativeFilePath);\r\n                if (fs.existsSync(fullFilePath)) {\r\n                  console.log(`Deleting extra file: ${fullFilePath}`);\r\n                  try {\r\n                    fs.unlinkSync(fullFilePath);\r\n                  } catch (unlinkError) {\r\n                    console.error(`Error deleting file ${fullFilePath}:`, unlinkError);\r\n                  }\r\n                } else {\r\n                  console.log(`Extra file not found (already deleted?): ${fullFilePath}`);\r\n                }\r\n              }\r\n\r\n              this._panel.webview.postMessage({\r\n                command: \"applyFileChangesCompleted\",\r\n                data: `Allowed files updated and extra files removed.`,\r\n              });\r\n            } catch (error) {\r\n              console.error(\"Error applying file changes:\", error);\r\n              vscode.window.showErrorMessage(\"Error applying file changes after editing the chat response.\");\r\n            }\r\n            break;\r\n\r\n\r\n          case 'buildsetupfiles':\r\n            try {\r\n              const rootDirectory = message.parameter.rootDirectory\r\n              const techStack = message.parameter.techStack\r\n              console.log(\"rootDirectory got\", rootDirectory, techStack);\r\n              const workspaceRoot = vscode.workspace.workspaceFolders?.[0].uri.fsPath;\r\n              console.log(\"workspace root in set up\", workspaceRoot)\r\n              const workspaceName = workspaceRoot.split(/[/\\\\]/).pop() || '';\r\n              console.log(\"Workspace name:\", workspaceName);\r\n              const projectRoot = path.join(workspaceRoot, rootDirectory);\r\n              const projectName = message.parameter.projectName\r\n              console.log(\"projectRoot buildsetupfiles\", projectRoot);\r\n\r\n              this._panel.webview.postMessage({\r\n                command: \"rootDirectoryPath\",\r\n                data: projectRoot,\r\n              });\r\n              await create_fs_buildsetup(rootDirectory, techStack, projectName);\r\n\r\n\r\n            }\r\n            catch (error) {\r\n              console.error(\"Error creating set up files for build\", error);\r\n              vscode.window.showErrorMessage(\"Error getting file suggestions\");\r\n            }\r\n            break;\r\n\r\n          case 'getFullPath':\r\n            try {\r\n              const rootDirectory = message.path;\r\n              console.log(\"rootDirectory got\", rootDirectory);\r\n              const workspaceRoot = vscode.workspace.workspaceFolders?.[0].uri.fsPath;\r\n              console.log(\"workspace root in set up\", workspaceRoot)\r\n              const workspaceName = workspaceRoot.split(/[/\\\\]/).pop() || '';\r\n              console.log(\"Workspace name:\", workspaceName);\r\n              const projectRoot = path.join(workspaceRoot, rootDirectory);\r\n              console.log(\"projectRoot buildsetupfiles\", projectRoot);\r\n\r\n              this._panel.webview.postMessage({\r\n                command: \"rootDirectoryPath\",\r\n                data: projectRoot,\r\n              });\r\n\r\n\r\n            }\r\n            catch (error) {\r\n              console.error(\"Error creating the full path\", error);\r\n            }\r\n            break;\r\n\r\n          case 'buildStartupProject':\r\n            try {\r\n              const techStack = message.parameter.techStack\r\n              const workspaceRoot = vscode.workspace.workspaceFolders?.[0].uri.fsPath;\r\n              const res = await create_fs_startupProject(techStack);\r\n              this._panel.webview.postMessage({\r\n                command: res.command,\r\n                status: res.status,\r\n                techStack: res.techStack,\r\n                setupfrom: res.setupfrom,\r\n              });\r\n            }\r\n            catch (error) {\r\n              console.error(\"Error creating set up files for build24\", error);\r\n              this._panel.webview.postMessage({\r\n                command: \"errorforbuildstartproject\",\r\n                error: error\r\n              });\r\n              // Check if the error message contains \"not recognized as an internal or external command\"\r\n              if (error?.message?.includes(\"not recognized as an internal or external command\")) {\r\n                vscode.window.showErrorMessage(\r\n                  \"The required setup is not properly configured. Please ensure the necessary dependencies are installed and added to your system's PATH.\"\r\n                );\r\n              } else {\r\n                vscode.window.showErrorMessage(\"An unexpected error occurred while creating the setup files. Please check the console for details.\");\r\n              }\r\n              // vscode.window.showErrorMessage(\"Error getting file suggestions3\");\r\n            }\r\n            break;\r\n          case \"getFileSuggestions\":\r\n            try {\r\n              const query = message.query?.replace(\"@\", \"\");\r\n              const suggestions = await getFileContextSuggestions(query);\r\n              console.log(suggestions, \"combined_suggetions\")\r\n              this._panel.webview.postMessage({\r\n                command: \"fileSuggestions\",\r\n                suggestions,\r\n              });\r\n            } catch (error) {\r\n              console.error(\"Error getting file suggestions:\", error);\r\n              vscode.window.showErrorMessage(\"Error getting file suggestions\");\r\n            }\r\n            break;\r\n\r\n          case \"getMoreFileSuggestions\":\r\n            try {\r\n              // Extract values from the incoming message.\r\n              const filePath: string = message.filePath;\r\n              const numberOfFilePresent: number = message.numberOfFilePresent || 0;\r\n              const activeFiles: Array<{ label: string; path: string }> = message.activeFiles || [];\r\n\r\n              if (!filePath) {\r\n                console.error(\"No file path provided for getMoreFileSuggestions\");\r\n                break;\r\n              }\r\n\r\n              // Get the directory of the provided file path.\r\n              const directoryPath = path.dirname(filePath);\r\n              console.log(directoryPath, \"directoryPath_react_panel\");\r\n\r\n              // Determine how many additional suggestions are needed.\r\n              const additionalNeeded = 10 - numberOfFilePresent;\r\n\r\n              // Retrieve additional file suggestions recursively from the current directory.\r\n              let additionalSuggestions = await getRecursiveNearByFiles(directoryPath, additionalNeeded);\r\n              const rootdirnameextract = path.dirname(directoryPath);\r\n              console.log(rootdirnameextract, \"rootdirnameextract_react_panel\");\r\n\r\n              // If not enough suggestions, climb the directory tree.\r\n              let currentDir = path.dirname(directoryPath);\r\n              console.log(currentDir, \"currentDirName\");\r\n\r\n              while (\r\n                additionalSuggestions.length < additionalNeeded &&\r\n                currentDir &&\r\n                currentDir !== path.dirname(currentDir) // avoid infinite loop at root\r\n              ) {\r\n                const remainingNeeded = additionalNeeded - additionalSuggestions.length;\r\n                const parentSuggestions = await getRecursiveNearByFiles(currentDir, remainingNeeded);\r\n                additionalSuggestions.push(...parentSuggestions);\r\n                // Move one level up.\r\n                currentDir = path.dirname(currentDir);\r\n              }\r\n\r\n              // Merge the active files and the additional suggestions.\r\n              // Active files come first, then add only those additional suggestions that aren’t already present.\r\n              const mergedSuggestions = [\r\n                ...activeFiles,\r\n                ...additionalSuggestions.filter(\r\n                  (sug) => !activeFiles.some((a) => a.path === sug.path)\r\n                ),\r\n              ];\r\n              // Extract the root directory name from currentDir\r\n              // const rootDirName = path.basename(rootdirnameextract);\r\n              // console.log(rootDirName, \"rootDirNameee\");\r\n              // Get the root directory name\r\n              const rootDirName2 = await findRootDir(directoryPath);\r\n              console.log(rootDirName2, \"rootDirNameee2\");\r\n              // If root directory wasn't found, fallback to a reasonable default\r\n              const finalRootDirName = rootDirName2 || path.basename(path.dirname(directoryPath));\r\n              // Send back the merged list.\r\n              this._panel.webview.postMessage({\r\n                command: \"moreFileSuggestions\",\r\n                suggestions: mergedSuggestions,\r\n                currentDir: finalRootDirName\r\n              });\r\n            } catch (error) {\r\n              console.error(\"Error getting more file suggestions:\", error);\r\n              vscode.window.showErrorMessage(\"Error retrieving more file suggestions\");\r\n            }\r\n            break;\r\n          //! in this below commented code , edge cases handdled , that is optimized varient, but for now we are going with the without edge cases handled code\r\n          // No Active Files:\r\n          // The code checks if activeFiles is empty and logs an error if so.\r\n\r\n          // Multiple Directories:\r\n          // The additional suggestions are collected for each active file(and thus for each directory) separately, then merged.\r\n\r\n          //               Duplicates:\r\n          // We filter duplicates from the additional suggestions and also when merging with active files.\r\n          // case \"getMoreFileSuggestions\":\r\n          //   try {\r\n          //     // Extract values from the incoming message.\r\n          //     // NOTE: We expect that activeFiles contains one or more active file objects.\r\n          //     const numberOfFilePresent: number = message.numberOfFilePresent || 0;\r\n          //     const activeFiles: Array<{ label: string; path: string }> = message.activeFiles || [];\r\n\r\n          //     // If no active file is provided, log an error and break.\r\n          //     if (!activeFiles || activeFiles.length === 0) {\r\n          //       console.error(\"No active files provided for getMoreFileSuggestions\");\r\n          //       break;\r\n          //     }\r\n\r\n          //     // Determine how many additional suggestions are needed in total.\r\n          //     const additionalNeeded = 10 - numberOfFilePresent;\r\n          //     let mergedAdditionalSuggestions: Array<{ label: string; path: string }> = [];\r\n\r\n          //     // If there is more than one active file, distribute the additionalNeeded evenly.\r\n          //     if (activeFiles.length > 1) {\r\n          //       const fractionNeeded = Math.ceil(additionalNeeded / activeFiles.length);\r\n          //       // For each active file, get suggestions from its directory.\r\n          //       for (const active of activeFiles) {\r\n          //         const activeDir = path.dirname(active.path);\r\n          //         // Get suggestions from the active file's directory.\r\n          //         let suggestionsForActive = await getRecursiveNearByFiles(activeDir, fractionNeeded);\r\n          //         // If not enough suggestions are found in that directory, climb the directory tree.\r\n          //         let currentDir = path.dirname(activeDir);\r\n          //         while (\r\n          //           suggestionsForActive.length < fractionNeeded &&\r\n          //           currentDir &&\r\n          //           currentDir !== path.dirname(currentDir) // avoid infinite loop at root\r\n          //         ) {\r\n          //           const remainingNeeded = fractionNeeded - suggestionsForActive.length;\r\n          //           const parentSuggestions = await getRecursiveNearByFiles(currentDir, remainingNeeded);\r\n          //           suggestionsForActive.push(...parentSuggestions);\r\n          //           currentDir = path.dirname(currentDir);\r\n          //         }\r\n          //         // Add these suggestions to the merged list.\r\n          //         mergedAdditionalSuggestions.push(...suggestionsForActive);\r\n          //       }\r\n          //       // Remove duplicates from the merged additional suggestions.\r\n          //       mergedAdditionalSuggestions = mergedAdditionalSuggestions.filter(\r\n          //         (sug, index, arr) =>\r\n          //           index === arr.findIndex((item) => item.path === sug.path)\r\n          //       );\r\n          //     } else {\r\n          //       // If there's only one active file, use the original logic.\r\n          //       const filePath = activeFiles[0].path;\r\n          //       const directoryPath = path.dirname(filePath);\r\n          //       let additionalSuggestions = await getRecursiveNearByFiles(directoryPath, additionalNeeded);\r\n          //       let currentDir = path.dirname(directoryPath);\r\n          //       while (\r\n          //         additionalSuggestions.length < additionalNeeded &&\r\n          //         currentDir &&\r\n          //         currentDir !== path.dirname(currentDir)\r\n          //       ) {\r\n          //         const remainingNeeded = additionalNeeded - additionalSuggestions.length;\r\n          //         const parentSuggestions = await getRecursiveNearByFiles(currentDir, remainingNeeded);\r\n          //         additionalSuggestions.push(...parentSuggestions);\r\n          //         currentDir = path.dirname(currentDir);\r\n          //       }\r\n          //       mergedAdditionalSuggestions = additionalSuggestions;\r\n          //     }\r\n\r\n          //     // Merge the active files and the additional suggestions.\r\n          //     // Active files come first, then we add only those additional suggestions that aren’t already present.\r\n          //     const mergedSuggestions = [\r\n          //       ...activeFiles,\r\n          //       ...mergedAdditionalSuggestions.filter(\r\n          //         (sug) => !activeFiles.some((a) => a.path === sug.path)\r\n          //       ),\r\n          //     ];\r\n\r\n          //     // Send back the merged list.\r\n          //     this._panel.webview.postMessage({\r\n          //       command: \"moreFileSuggestions\",\r\n          //       suggestions: mergedSuggestions,\r\n          //     });\r\n          //   } catch (error) {\r\n          //     console.error(\"Error getting more file suggestions:\", error);\r\n          //     vscode.window.showErrorMessage(\"Error retrieving more file suggestions\");\r\n          //   }\r\n          //   break;\r\n          // In your webviewpanel.ts (or extension code)\r\n\r\n          case \"getFileContent\":\r\n            try {\r\n              const content = await getFileContent(message.filePath);\r\n              const authToken = getStoreKey(AUTH_TOKEN);\r\n              if (!authToken) {\r\n                this._panel.webview.postMessage({\r\n                  command: \"fileContent\",\r\n                  error: \"Authentication required\",\r\n                });\r\n                return;\r\n              }\r\n\r\n              const authUser = await getUserProfile(authToken);\r\n\r\n              const workspaceRoot = vscode.workspace.workspaceFolders?.[0]?.name || ''\r\n              console.log(\"workspaceRoot got\", workspaceRoot);\r\n              const codeData = {\r\n                imports: [],\r\n                main: {\r\n                  file: message.filePath,\r\n                  code: content,\r\n                  workspaceName: workspaceRoot,\r\n                  workspaceRootpath: vscode.workspace.workspaceFolders?.[0]?.uri.fsPath || '',\r\n                },\r\n              };\r\n              console.log(codeData, \"codeData_for_context\");\r\n\r\n              const encodedCode = encrypt(\r\n                authUser.id,\r\n                JSON.stringify(codeData)\r\n              );\r\n\r\n              this._panel.webview.postMessage({\r\n                command: \"fileContent\",\r\n                content,\r\n                encodedCode,\r\n                fileName: path.basename(message.filePath),\r\n              });\r\n            } catch (error) {\r\n              console.error(\"Error getting file content:\", error);\r\n              this._panel.webview.postMessage({\r\n                command: \"fileContent\",\r\n                error: \"Error reading file content\",\r\n              });\r\n            }\r\n            break;\r\n\r\n          case 'getCodeBlockSuggestions':\r\n            try {\r\n              // Get all visible editors\r\n              const visibleEditors = vscode.window.visibleTextEditors;\r\n\r\n              // Find the editor in the left column (ViewColumn.One)\r\n              const editor = visibleEditors.find(\r\n                editor => editor.viewColumn === vscode.ViewColumn.One\r\n              );\r\n\r\n              if (!editor) {\r\n                console.log(\"No editor found in the left pane\");\r\n                this._panel.webview.postMessage({\r\n                  command: 'codeBlockSuggestions',\r\n                  blocks: [],\r\n                  error: 'Please open a file in the editor to get code block suggestions'\r\n                });\r\n                return;\r\n              }\r\n\r\n              console.log(\"Found editor in left pane:\", editor.document.fileName);\r\n              const processedBlocks = await processCodeBlocks(editor);\r\n              console.log(\"Raw processed blocks:\", processedBlocks);\r\n\r\n              // Format blocks for display\r\n              const formattedBlocks = processedBlocks.detectedCode.map(block => ({\r\n                name: block.name,\r\n                displayRange: `Lines ${block.range.start.line + 1}-${block.range.end.line + 1}`,\r\n                startLine: block.range.start.line + 1,\r\n                endLine: block.range.end.line + 1,\r\n                content: block.content,\r\n                kind: block.kind\r\n              }));\r\n\r\n              this._panel.webview.postMessage({\r\n                command: 'codeBlockSuggestions',\r\n                blocks: formattedBlocks,\r\n                filename: editor.document.fileName\r\n              });\r\n            } catch (error) {\r\n              console.error('Error getting code block suggestions:', error);\r\n              this._panel.webview.postMessage({\r\n                command: 'codeBlockSuggestions',\r\n                blocks: [],\r\n                error: 'Failed to process code blocks'\r\n              });\r\n            }\r\n            break;\r\n          case \"runTerminalCommands\":\r\n            const terminal = vscode.window.createTerminal(\"GoCodeo Commands\");\r\n            terminal.show();\r\n            console.log(\"parameter commandscommands:\", message.parameter);\r\n\r\n            const fullRootDirectory = message.parameter.rootDirectory;\r\n            let commands = message.parameter.runCommands\r\n              .split(\"\\n\")\r\n              .map((cmd) => cmd.trim())\r\n              .filter((cmd) => cmd && !cmd.startsWith(\"#\"));\r\n\r\n            console.log(\"commandscommands: \", commands);\r\n\r\n            if (commands[0].split(\" \")[0] === \"cd\") {\r\n              commands[0] = `cd ${fullRootDirectory}`;\r\n            } else {\r\n              commands = [`cd ${fullRootDirectory}`, ...commands];\r\n            }\r\n\r\n            console.log(\"updated commandscommands: \", commands);\r\n\r\n            // Function to execute commands sequentially\r\n            const executeCommandsSequentially = async (cmdList, terminal) => {\r\n              for (const cmd of cmdList) {\r\n                console.log(`Running command: ${cmd}`);\r\n                terminal.sendText(cmd);\r\n\r\n                // await new Promise((resolve) => setTimeout(resolve, 1500)); \r\n              }\r\n            };\r\n\r\n            executeCommandsSequentially(commands, terminal)\r\n              .then(() => {\r\n                console.log(\"All commands completed.\");\r\n                this._panel.webview.postMessage({\r\n                  command: \"terminalCommandCompleted\",\r\n                })\r\n                // Perform your actions here\r\n              })\r\n              .catch((err) => {\r\n                this._panel.webview.postMessage({\r\n                  command: \"terminalCommandCompleted\",\r\n                })\r\n                console.error(\"Error executing commands:\", err)\r\n\r\n              });\r\n\r\n            break;\r\n\r\n\r\n          // case \"runTerminalCommands\":\r\n          //   try {\r\n          //       const terminal = vscode.window.createTerminal(\"GoCodeo Commands\");\r\n          //       terminal.show();\r\n          //       console.log(\"Terminal created and shown\");\r\n          //       const fullRootDirectory = message.parameter.rootDirectory;\r\n          //       let commands = message.parameter.runCommands\r\n          //           .split(\"\\n\")\r\n          //           .map((cmd) => cmd.trim())\r\n          //           .filter((cmd) => cmd && !cmd.startsWith(\"#\"));\r\n\r\n          //           console.log(\"commandscommands: \", commands);\r\n\r\n          //             if (commands[0].trim().split(\" \")[0] !== \"cd\") {\r\n\r\n          //               commands = [`cd ${fullRootDirectory}`, ...commands ];\r\n          //             }\r\n\r\n          //             console.log(\"updated commandscommands: \", commands);\r\n\r\n          //       // Track current working directory\r\n          //       let currentPath = vscode.workspace.workspaceFolders?.[0].uri.fsPath || '';\r\n\r\n          //       const executeCommand = (cmd: string): Promise<number> => {\r\n          //           return new Promise((resolve, reject) => {\r\n          //               const { exec } = require('child_process');\r\n          //               console.log(\"Executing command:\", cmd, \"in directory:\", currentPath);\r\n\r\n          //               // Update currentPath if it's a cd command\r\n          //               if (cmd.startsWith('cd ')) {\r\n          //                   const newPath = cmd.slice(3).trim();\r\n          //                   currentPath = require('path').resolve(currentPath, newPath);\r\n          //                   console.log(\"Updated currentPath to:\", currentPath);\r\n\r\n          //                   terminal.sendText(cmd);\r\n          //                   resolve(0);\r\n          //                   return;\r\n          //               }\r\n\r\n          //               // Only send the command to terminal, don't send output\r\n          //               terminal.sendText(cmd);\r\n\r\n          //               exec(cmd, {\r\n          //                   cwd: currentPath // Use the tracked current path\r\n          //               }, (error: any, stdout: string, stderr: string) => {\r\n          //                   if (error) {\r\n          //                       console.error(`Error executing ${cmd}: ${error}`);\r\n          //                       reject(error);\r\n          //                       return;\r\n          //                   }\r\n\r\n          //                   // Don't send output to terminal as commands - it will show automatically\r\n          //                   // if (stdout) terminal.sendText(stdout);\r\n          //                   // if (stderr) terminal.sendText(stderr);\r\n\r\n          //                   resolve(0);\r\n          //               });\r\n          //           });\r\n          //       };\r\n\r\n          //       for (const cmd of commands) {\r\n          //           try {\r\n          //               console.log(\"Processing command:\", cmd);\r\n\r\n\r\n          //               if (cmd.includes('run dev') || cmd.includes('start')) {\r\n          //                   console.log(\"Executing long-running command:\", cmd);\r\n          //                   terminal.sendText(cmd, true);\r\n          //                   break;\r\n          //               }\r\n\r\n          //               // Wait for command to complete and check exit code\r\n          //               console.log(\"Awaiting command execution:\", cmd);\r\n          //               const exitCode = await executeCommand(cmd);\r\n          //               console.log(\"Command completed with exit code:\", exitCode);\r\n\r\n          //               if (exitCode !== 0) {\r\n          //                   // vscode.window.showErrorMessage(`Command failed: ${cmd}`);\r\n          //                   break;\r\n          //               }\r\n\r\n          //           } catch (error) {\r\n          //               console.error(`Failed to execute ${cmd}:`, error);\r\n          //               break;\r\n          //           }\r\n          //       }\r\n          //   } catch (error) {\r\n          //       console.error(\"Error in runTerminalCommands:\", error);\r\n          //       vscode.window.showErrorMessage(\"Failed to execute commands\");\r\n          //   } finally {\r\n          //     this._panel.webview.postMessage({\r\n          //       command: \"terminalCommandCompleted\",\r\n          //     })\r\n          //   }\r\n          //   break;\r\n\r\n          case \"getTokenLength\":\r\n            const chatResponses = message.chatResponses;\r\n            let dataInString = chatResponses.reduce((acc, response) => {\r\n              return acc + \" \" + response.question + \" \" + response.answer;\r\n            }, \"\");\r\n\r\n            console.log(\"Token1212 before\");\r\n\r\n            function approximateTokenLength(text) {\r\n              const words = text.split(/\\s+/).filter(word => word.trim() !== \"\").length;\r\n              const characters = text.length;\r\n\r\n              // Average token length (approximately 4 characters per token for GPT models)\r\n              return Math.floor(characters / 4) + words;\r\n            }\r\n\r\n            let tokens = approximateTokenLength(dataInString);\r\n            let startIndex = 0;\r\n\r\n            // Adjust start index to fit token length <= 2700\r\n            while (tokens > 2700 && startIndex < chatResponses.length) {\r\n              startIndex++;\r\n              let supabaseQuestions = 0;\r\n              dataInString = chatResponses.slice(startIndex).reduce((acc, response) => {\r\n                if (response.answer.startsWith(\"@Supabase\")) supabaseQuestions++;\r\n                return acc + \" \" + response.question + \" \" + response.answer;\r\n              }, \"\");\r\n              tokens = approximateTokenLength(dataInString) + supabaseQuestions * 200;\r\n            }\r\n\r\n            console.log(\"Token1212 length after adjustment:\", tokens);\r\n            console.log(\"Token1212 Start index where token length <= 3.2k:\", startIndex);\r\n\r\n\r\n            this._panel.webview.postMessage({\r\n              command: \"getTokenLengthCompleted\",\r\n              parameter: startIndex\r\n            });\r\n\r\n            break;\r\n\r\n\r\n          case \"deleteRootDirectory\":\r\n            try {\r\n              const workspaceRoot = vscode.workspace.workspaceFolders?.[0].uri.fsPath;\r\n              if (!workspaceRoot) {\r\n                vscode.window.showErrorMessage(\"No workspace is open.\");\r\n                return;\r\n              }\r\n\r\n              const rootFolderName = message.parameter; // Assuming `parameter` contains the root folder name\r\n              const projectRoot = path.join(workspaceRoot, rootFolderName);\r\n\r\n              if (fs.existsSync(projectRoot)) {\r\n                fs.rmSync(projectRoot, { recursive: true, force: true });\r\n                vscode.window.showInformationMessage(`Deleted: ${projectRoot}`);\r\n              } else {\r\n                vscode.window.showErrorMessage(`Directory does not exist: ${projectRoot}`);\r\n              }\r\n            } catch (error) {\r\n              console.error(\"Error deleting root directory:\", error);\r\n              vscode.window.showErrorMessage(\"Failed to delete root directory.\");\r\n            }\r\n            break;\r\n          case \"openExternal\":\r\n            const url = message.url;\r\n            vscode.env.openExternal(vscode.Uri.parse(url)); // Open the URL in the browser\r\n            break\r\n\r\n        }\r\n      },\r\n      null,\r\n      this._disposables\r\n    );\r\n  }\r\n\r\n  public doRefactor() {\r\n    // Send a message to the webview webview.\r\n    // You can send any JSON serializable data.\r\n    this._panel.webview.postMessage({ command: \"refactor\" });\r\n  }\r\n\r\n  public dispose() {\r\n    ReactPanel.currentPanel = undefined;\r\n\r\n    // Clean up our resources\r\n    this._panel.dispose();\r\n\r\n    while (this._disposables.length) {\r\n      const x = this._disposables.pop();\r\n      if (x) {\r\n        x.dispose();\r\n      }\r\n    }\r\n  }\r\n  //@ts-ignore\r\n  private _getHtmlForWebview(webview) {\r\n    //@ts-ignore\r\n    const manifestFile = vscode.Uri.file(\r\n      path.join(this.extensionUri.fsPath, \"build\", \"asset-manifest.json\")\r\n    );\r\n    let manifestConfig = fs.readFileSync(manifestFile.fsPath, {\r\n      encoding: \"utf8\",\r\n      flag: \"r\",\r\n    });\r\n    manifestConfig = JSON.parse(manifestConfig);\r\n    //@ts-ignore\r\n    const scriptUri = webview.asWebviewUri(\r\n      vscode.Uri.joinPath(\r\n        this.extensionUri,\r\n        \"build\",\r\n        manifestConfig[\"files\"][\"main.js\"]\r\n      )\r\n    );\r\n    //@ts-ignore\r\n    const styleUri = webview.asWebviewUri(\r\n      vscode.Uri.joinPath(\r\n        this.extensionUri,\r\n        \"build\",\r\n        manifestConfig[\"files\"][\"main.css\"]\r\n      )\r\n    );\r\n    // Use a nonce to whitelist which scripts can be run\r\n    const nonce = getNonce();\r\n    // <meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none';connect-src * self  'unsafe-inline' data:; img-src vscode-resource: https:; script-src 'nonce-${nonce}';style-src vscode-resource: 'unsafe-inline' http: https: data:;worker-src * data: 'unsafe-eval' 'unsafe-inline' blob:\">\r\n    // <base href=\"${vscode.Uri.file(path.join(this._extensionPath, \"build\")).with({\r\n    //     scheme: \"vscode-resource\",\r\n    // })}/\">\r\n    return `<!DOCTYPE html>\r\n            <html lang=\"en\">\r\n            <head>\r\n                <meta charset=\"UTF-8\">\r\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n                <meta name=\"theme-color\" content=\"#000000\">\r\n                <title>GoCodeo</title>\r\n                <link rel=\"stylesheet\" type=\"text/css\" href=\"${styleUri}\">\r\n            </head>\r\n\r\n            <body>\r\n                <noscript>You need to enable JavaScript to run this app.</noscript>\r\n                <div id=\"root\"></div>\r\n\r\n                <script nonce=\"${nonce}\" src=\"${scriptUri}\"></script>\r\n                <script nonce=\"${nonce}\" >\r\n                \r\n                    const vscode = acquireVsCodeApi();\r\n\r\n\r\n                    let  editorElement = document.getElementById(\"editorId\");\r\n                    let editorValue = ''\r\n                    // Step 1: Create a function\r\n                    function openNewFile() {\r\n                        vscode.postMessage({\r\n                                command: 'openNewFile',\r\n                                parameter: editorValue,\r\n                            })\r\n\r\n                    };\r\n                    function openSignIn() {\r\n                        vscode.postMessage({\r\n                                command: 'openSignIn',\r\n                                parameter: [true],\r\n                            })\r\n                    };\r\n                    function saveAsFile() {\r\n                        vscode.postMessage({\r\n                                command: 'saveFile',\r\n                                parameter: editorValue,\r\n                            })\r\n\r\n                    };\r\n                    function runGeneratedTests(){\r\n                        vscode.postMessage({\r\n                            command: 'runTests',\r\n                            parameter: editorValue,\r\n                        })\r\n                    }\r\n                    \r\n                    function applyCode(){\r\n                        vscode.postMessage({\r\n                            command: 'applyCode',\r\n                            parameter: editorValue,\r\n                        })\r\n                    }\r\n\r\n                        // Step 2: Assign an id to the element\r\n                        var button1 = document.getElementById(\"copyCode\");\r\n                        // Step 3: Get a reference to the element\r\n                        button1.addEventListener(\"click\", function() {\r\n                        editorValue = editorElement && editorElement.env.editor.getValue();\r\n                        // Step 5: Call the function in the event listener\r\n                        openNewFile();\r\n                        });\r\n                        var button2 = document.getElementById(\"saveFile\");\r\n                        button2.addEventListener(\"click\", function() {\r\n                            editorValue = editorElement && editorElement.env.editor.getValue();\r\n                            saveAsFile();\r\n                            });\r\n                        var upgradeButton = document.getElementById(\"upgradeButton\");\r\n                        // console.log(upgradeButton);\r\n                        if (upgradeButton){\r\n                            upgradeButton.addEventListener(\"click\", function() {\r\n                                // console.log(\"Clicked Upgrade Button\");\r\n                                openSignIn();\r\n                                });\r\n                        }\r\n                        var button3 = document.getElementById(\"runTests\");\r\n                        button3.addEventListener(\"click\", function() {\r\n                            editorValue = editorElement && editorElement.env.editor.getValue();\r\n                            runGeneratedTests();\r\n                            });\r\n\r\n                        var button4 = document.getElementById(\"applyCode\");\r\n                        button3.addEventListener(\"click\", function() {\r\n                            editorValue = editorElement && editorElement.env.editor.getValue();\r\n                            applyCode();\r\n                            });   \r\n\r\n                        // var button3 = document.getElementById(\"refreshSidebar\");\r\n                        // button3.addEventListener(\"click\", function() {\r\n                        //     console.log('here1')\r\n                        //     vscode.postMessage({\r\n                        //         command: 'refreshSidebar',\r\n                        //         parameter: null,\r\n                        //     });\r\n                        // });\r\n\r\n             \r\n                </script>\r\n            </body>\r\n            </html>`;\r\n    // console.log(tt);\r\n    // return tt;\r\n  }\r\n}","import { fileContentsForFastifyProject } from './backend_workspace/fastify';\r\nimport { fileContentsForKoaProject } from './backend_workspace/koa';\r\nimport { fileContentsForSpringBoootProject } from './backend_workspace/springboot';\r\nimport { fileContentsForEchoProject } from './backend_workspace/echo';\r\nimport { fileContentsForGinProject } from './backend_workspace/gin';\r\nimport fileContentsForFlaskProject  from './backend_workspace/flask';\r\nimport { fileContentsForNestJSProject } from './backend_workspace/NestJS';\r\nimport * as vscode from 'vscode';\r\nimport * as fs from 'fs';\r\nimport * as path from 'path';\r\nimport fileContentsForReactVite from './workspace/react_vite';\r\nimport {fileContentsForReactProject} from './workspace/react';\r\nimport fileContentsForNextjs, {fileContentsForNextjsProject} from './workspace/nextjs';\r\nimport fileContentsForVue, { fileContentsForVueProject } from './workspace/vue';\r\nimport fileContentsForTypeScript, {fileContentsForTypeScriptProject} from './workspace/typeScript';\r\nimport fileContentsForAngular, { fileContentsForAngularProject } from './workspace/angular';\r\nimport fileContentsForSvelteKit, { fileContentsForSvelteProject } from './workspace/svelteKit';\r\nimport fileContentsForRemix, { fileContentsForRemixProject } from './workspace/remix';\r\nimport fileContentsForAstro, { fileContentsForAstroProject } from './workspace/astro';\r\nimport fileContentsForNuxt, { fileContentsForNuxtProject } from './workspace/nuxtjs';\r\nimport fileContentsForQwik, { fileContentsForQwikProject } from './workspace/qwik';\r\nimport fileContentsForNativeScript, { fileContentsForNativeScriptProject } from './workspace/nativeScript';\r\nimport fileContentsForSd, { check, fileContentsForSlidevProject } from \"./workspace/slidev\";\r\nimport fileContentsForRemotion, { fileContentsForRemotionProject } from \"./workspace/remotion\";\r\nimport fileContentsForVite,  {fileContentsForViteProject} from \"./workspace/vite\";\r\nimport { fileContentsForExpressProject } from \"./backend_workspace/express\"  ;\r\nimport fileContentsForNodeProject from \"./backend_workspace/nodejs\"  ;\r\nimport fileContentsForFastAPIProject from \"./backend_workspace/fastAPI\"  ;\r\nimport { exec } from 'child_process'; \r\nexport async function create_fs_buildsetup(\r\n  rootFolderName: string,\r\n  techStack: string,\r\n  projectName: string\r\n): Promise<void> {\r\n  \r\n  try {\r\n    console.log(\"build fs setup rootFolderName: \", rootFolderName, \"techStack: \", techStack, \"projectName: \", projectName);\r\n    // Get workspace root path\r\n    const workspaceRoot = vscode.workspace.workspaceFolders?.[0].uri.fsPath;\r\n    if (!workspaceRoot) {\r\n      throw new Error(\"No workspace is open\");\r\n    }\r\n\r\n    console.log(\"check : 1212 \", check);\r\n    const sd = fileContentsForSd;\r\n    console.log(\"fileContents 1212: fileContentsForSd\", sd);\r\n    // Create root project directory\r\n    const projectRoot = path.join(workspaceRoot, rootFolderName);\r\n\r\n    // Remove directory if it exists\r\n    if (fs.existsSync(projectRoot)) {\r\n      fs.rmSync(projectRoot, { recursive: true, force: true });\r\n    }\r\n    \r\n    // Create the directory\r\n    fs.mkdirSync(projectRoot, { recursive: true });\r\n    let fileContents: any = [];\r\n    console.log(\"techStacktechStack\", techStack);\r\n    techStack = techStack.toLowerCase().trim();\r\n    \r\n    switch (techStack) {\r\n      case \"react.js\":\r\n        fileContents = fileContentsForReactVite;\r\n        break;\r\n      case \"reactjs\":\r\n        fileContents = fileContentsForReactVite;\r\n        break;\r\n      case \"slidev\":\r\n        fileContents = sd;\r\n        break;\r\n      case \"vite\":\r\n        fileContents = fileContentsForVite;\r\n        break;\r\n      case \"javascript_vite\":\r\n        fileContents = fileContentsForVite;\r\n        break;\r\n      case \"vite_javascript\":\r\n        fileContents = fileContentsForVite;\r\n        break;\r\n      case \"react_vite\":\r\n        fileContents = fileContentsForReactVite;\r\n        break;\r\n      case \"nextjs\":\r\n        fileContents = fileContentsForNextjs;\r\n        break;\r\n      case \"next.js\":\r\n        fileContents = fileContentsForNextjs;\r\n        break;\r\n      case \"typescript_vite\":\r\n        fileContents = fileContentsForTypeScript;\r\n        break;\r\n      case \"vite_typescript\":\r\n        fileContents = fileContentsForTypeScript;\r\n        break;\r\n      case \"vue_vite\":\r\n        fileContents = fileContentsForVue;\r\n        break;\r\n      case \"vue\":\r\n          fileContents = fileContentsForVue;\r\n          break;\r\n      case \"vue.js\":\r\n            fileContents = fileContentsForVue;\r\n            break;\r\n      case \"angular\":\r\n        fileContents = fileContentsForAngular;\r\n        break;\r\n      case 'svelte_vite':\r\n        fileContents = fileContentsForSvelteKit;\r\n        break;\r\n      case 'svelte':\r\n          fileContents = fileContentsForSvelteKit;\r\n          break;\r\n      case 'remix_vite':\r\n        fileContents = fileContentsForRemix;\r\n        break;\r\n      case 'remix':\r\n          fileContents = fileContentsForRemix;\r\n          break;\r\n      case 'remotion':\r\n        fileContents = fileContentsForRemotion;\r\n        break;\r\n      case 'astro':\r\n        fileContents = fileContentsForAstro;\r\n        break;\r\n      case 'nuxt':\r\n        fileContents = fileContentsForNuxt;\r\n        break;\r\n      case 'qwik':\r\n        fileContents = fileContentsForQwik;\r\n        break;\r\n      case 'nativeScript':\r\n        fileContents = fileContentsForNativeScript;\r\n        break;\r\n      case 'nativeScript':\r\n        fileContents = fileContentsForNativeScript;\r\n        break;\r\n      case 'express.js': \r\n        fileContents = fileContentsForExpressProject;\r\n        break;\r\n      case 'node.js':\r\n        fileContents = fileContentsForNodeProject;\r\n        break;\r\n      case 'fastapi':\r\n        fileContents = fileContentsForFastAPIProject;\r\n        break;\r\n      case 'nestjs':\r\n        fileContents = fileContentsForNestJSProject;\r\n        break;\r\n      case 'flask':\r\n        fileContents = fileContentsForFlaskProject;\r\n        break;\r\n      case 'gin':\r\n        fileContents = fileContentsForGinProject;\r\n        break;\r\n      case 'echo':\r\n        fileContents = fileContentsForEchoProject;\r\n        break;\r\n      case 'springboot':\r\n        fileContents = fileContentsForSpringBoootProject;\r\n        break;\r\n      case 'koa':\r\n        fileContents = fileContentsForKoaProject;\r\n        break;\r\n      case 'fastify':\r\n        fileContents = fileContentsForFastifyProject;\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n     \r\n    // Create each file with its content\r\n    console.log(\"fileContents 1212\");\r\n    console.log(\"projectRoot 1212\", projectRoot);\r\n    \r\n    for (const file of fileContents) {\r\n      console.log(\"projectRoot 1212 file:\", file);\r\n      let fileContent = file.content;\r\n      if (file.filename === \"index.html\") {\r\n        console.log(\"REnaming index.html title to projectName\", projectName);\r\n        fileContent = fileContent.replace(`<title>Vite + React + TS</title>`, `<title>${projectName}</title>`);\r\n      }\r\n      const filePath = path?.join(projectRoot, file.filename);\r\n      console.log(\"fileContents 1212\",file.filename, fileContents);\r\n      fs.writeFileSync(filePath, fileContent, \"utf8\");\r\n    }\r\n\r\n    console.log(`Project structure created successfully in ${projectRoot}`);\r\n  } catch (error) {\r\n    console.error(\"Error creating project structure:\", error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n\r\n\r\nexport async function create_fs_startupProject(techStack: string): Promise<any> {\r\n  console.log(\"techStack\", techStack);\r\n  \r\n  async function processFileContents(projectRoot: string, fileContents: any[], projectName: string) {\r\n    for (const file of fileContents) {\r\n      const filePath = path.join(projectRoot, file.filename);\r\n\r\n      if (file.content) {\r\n        // It's a file\r\n        let fileContent = file.content;\r\n\r\n        // Update index.html title if applicable\r\n        if (file.filename === \"index.html\") {\r\n          fileContent = fileContent.replace(\r\n            `<title>Vite App</title>`,\r\n            `<title>${projectName}</title>`\r\n          );\r\n        }\r\n\r\n        // Write file\r\n        fs.writeFileSync(filePath, fileContent, \"utf8\");\r\n      } else {\r\n        // It's a folder\r\n        fs.mkdirSync(filePath, { recursive: true });\r\n\r\n        // Recursively process the folder's contents\r\n        if (file.contents && Array.isArray(file.contents)) {\r\n          await processFileContents(filePath, file.contents, projectName);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  try {\r\n    const rootFolderName = `${techStack.split(\".\")[0]}Setup`;\r\n    const projectName = `${techStack.split(\".\")[0]} Project`;\r\n\r\n    const workspaceRoot = vscode.workspace.workspaceFolders?.[0].uri.fsPath;\r\n    if (!workspaceRoot) {\r\n      throw new Error(\"No workspace is open\");\r\n    }\r\n\r\n    const projectRoot = path.join(workspaceRoot, rootFolderName);\r\n\r\n    // Remove existing project directory if it exists\r\n    if (fs.existsSync(projectRoot)) {\r\n      fs.rmSync(projectRoot, { recursive: true, force: true });\r\n    }\r\n\r\n    if (techStack.trim().toLowerCase() !== 'django') {\r\n      \r\n      // Create root project directory\r\n      fs.mkdirSync(projectRoot, { recursive: true });\r\n    }\r\n    \r\n    // Helper function to execute shell commands\r\n    const runCommand = (command: string, cwd: string) => {\r\n      return new Promise((resolve, reject) => {\r\n        exec(command, { cwd }, (error, stdout, stderr) => {\r\n          if (error) {\r\n            reject(stderr || error.message);\r\n          } else {\r\n            resolve(stdout);\r\n          }\r\n        });\r\n      });\r\n    };\r\n \r\n    \r\n    if (techStack.trim().toLowerCase() === 'rubyonrails') {\r\n      // Create a VS Code terminal to run commands\r\n      await runCommand(`rails new ${rootFolderName} --minimal --skip-active-record`, workspaceRoot);\r\n          console.log(`Ruby on Rails project initialized at ${projectRoot}`);\r\n      return { command: \"finishFlag\", status: \"success\", techStack, setupfrom:\"backend\" };\r\n    } else if (techStack.trim().toLowerCase() === 'laravel'){\r\n      // Create a VS Code terminal to run commands\r\n          await runCommand(`laravel new ${rootFolderName}`, workspaceRoot);\r\n          console.log(`Laravel project initialized at ${projectRoot}`);\r\n      return { command: \"finishFlag\", status: \"success\", techStack, setupfrom: \"backend\" };\r\n    } else if (techStack.trim().toLowerCase() === 'asp.net') {\r\n      // Create a VS Code terminal to run commands\r\n          await runCommand(`dotnet new mvc -o ${rootFolderName}`, workspaceRoot);\r\n          console.log(`ASP.NET project initialized at ${projectRoot}`);\r\n      return { command: \"finishFlag\", status: \"success\", techStack, setupfrom: \"backend\" };\r\n    } else if (techStack.trim().toLowerCase() === 'django') {\r\n      // Create a VS Code terminal to run commands\r\n          await runCommand(`python -m venv myenv`, workspaceRoot);\r\n          const activateCommand = process.platform === 'win32'\r\n            ? `myenv\\\\Scripts\\\\activate`\r\n            : `source myenv/bin/activate`;\r\n          await runCommand(activateCommand, workspaceRoot);\r\n          await runCommand(`pip install django`, workspaceRoot);\r\n          await runCommand(`django-admin startproject ${rootFolderName}`, workspaceRoot);\r\n          console.log(`Django project initialized at ${projectRoot}`);\r\n      return { command: \"finishFlag\", status: \"success\", techStack, setupfrom: \"backend\" };\r\n    }\r\n    \r\n    // Select the appropriate template based on the tech stack\r\n    let fileContents: any[] = [];\r\n    techStack = techStack.trim();\r\n\r\n     switch (techStack) {\r\n      case \"react\":\r\n        fileContents = fileContentsForReactProject;\r\n        break;\r\n      case \"slidev\":\r\n        fileContents = fileContentsForSlidevProject;\r\n        break;\r\n      case \"vite\":\r\n         fileContents = fileContentsForViteProject;\r\n        break;\r\n      case \"next.js\":\r\n        fileContents = fileContentsForNextjsProject;\r\n        break;\r\n      case \"typescript\":\r\n        fileContents = fileContentsForTypeScriptProject;\r\n        break;\r\n      case \"vue.js\":\r\n         fileContents = fileContentsForVueProject;\r\n          break;\r\n      case \"angular\":\r\n         fileContents = fileContentsForAngularProject;\r\n         break;\r\n      case 'svelite':\r\n         fileContents = fileContentsForSvelteProject;\r\n          break;\r\n      case 'svelte':\r\n        fileContents = fileContentsForSvelteProject;\r\n        break;\r\n      case 'remix':\r\n         fileContents = fileContentsForRemixProject;\r\n        break;\r\n      case 'remotion':\r\n        fileContents = fileContentsForRemotionProject;\r\n        break;\r\n      case 'astro':\r\n         fileContents = fileContentsForAstroProject;\r\n        break;\r\n      case 'nuxt':\r\n         fileContents = fileContentsForNuxtProject;\r\n        break;\r\n      case 'qwik':\r\n         fileContents = fileContentsForQwikProject;\r\n        break;\r\n      case 'nativescript':\r\n         fileContents = fileContentsForNativeScriptProject;\r\n        break;\r\n       case 'express.js':\r\n         console.log(\"i am in express.js \");\r\n         \r\n         fileContents = fileContentsForExpressProject;\r\n        break;\r\n       case 'node.js':\r\n         fileContents = fileContentsForNodeProject;\r\n        break;\r\n       case 'fastapi':\r\n         fileContents = fileContentsForFastAPIProject;\r\n        break;\r\n       case 'nestjs':\r\n         fileContents = fileContentsForNestJSProject;\r\n        break;\r\n       case 'flask':\r\n         fileContents = fileContentsForFlaskProject;\r\n        break;\r\n       case 'gin':\r\n         fileContents = fileContentsForGinProject;\r\n        break;\r\n       case 'echo':\r\n         fileContents = fileContentsForEchoProject;\r\n        break; \r\n       case 'springboot': \r\n         fileContents = fileContentsForSpringBoootProject;\r\n        break;\r\n       case 'koa': \r\n         fileContents = fileContentsForKoaProject;\r\n        break;\r\n       case 'fastify': \r\n         fileContents = fileContentsForFastifyProject;\r\n        break;\r\n      default:\r\n         throw new Error(`Template for ${techStack} is not available.`);\r\n    }\r\n\r\n    // Process files and folders recursively\r\n    await processFileContents(projectRoot, fileContents, projectName);\r\n\r\n    console.log(`Project structure created successfully in ${projectRoot}`);\r\n    // return fileContents;\r\n    return { command: \"finishFlag\", status: \"success\", techStack, setupfrom: \"frontend\" };\r\n  } catch (error) {\r\n    console.error(\"Error creating project structure:\", error);\r\n    // Remove the root project directory if created and an error occurs\r\n    const workspaceRoot = vscode.workspace.workspaceFolders?.[0].uri.fsPath;\r\n    const projectRoot = path.join(workspaceRoot || \"\", `${techStack.split(\".\")[0]}Setup`);\r\n\r\n    if (fs.existsSync(projectRoot)) {\r\n      fs.rmSync(projectRoot, { recursive: true, force: true });\r\n      console.log(`Removed the incomplete project directory: ${projectRoot}`);\r\n    }\r\n    throw error;\r\n  }\r\n}","//@ts-ignore\r\n/* eslint-disable */\r\n// @ts-nocheck\r\nimport * as vscode from 'vscode';\r\nimport { getTestableCodes1, getLanguageType } from './CodeParser';\r\n\r\nexport async function processCodeBlocks(editor: vscode.TextEditor) {\r\n    try {\r\n        if (!editor) {\r\n            console.log('No active editor found');\r\n            return { detectedCode: [] };\r\n        }\r\n\r\n        const language = getLanguageType(editor.document.languageId);\r\n        const codeBlocks = await getTestableCodes1(editor.document, editor);\r\n        const filename = editor.document.fileName;\r\n        console.log(filename, \"filename got\");\r\n\r\n        // Debug log to see exact structure\r\n        console.log(\"Raw code blocks structure:\", JSON.stringify(codeBlocks, null, 2));\r\n\r\n        if (codeBlocks.detectedCode && Array.isArray(codeBlocks.detectedCode)) {\r\n            const processedBlocks = codeBlocks.detectedCode.map(block => {\r\n                try {\r\n                    if (!block || !block.range) {\r\n                        console.warn(\"Block missing range:\", block);\r\n                        return null;\r\n                    }\r\n\r\n                    // Debug log for each block's range\r\n                    console.log(\"Processing block:\", block.name);\r\n                    console.log(\"Range data:\", JSON.stringify(block.range, null, 2));\r\n\r\n                    // Extract range information, handling both array and object formats\r\n                    let startLine, endLine, startChar, endChar;\r\n\r\n                    if (block.range[0] && block.range[1]) {\r\n                        startLine = Number(block.range[0].line);\r\n                        endLine = Number(block.range[1].line);\r\n                        startChar = Number(block.range[0].character);\r\n                        endChar = Number(block.range[1].character);\r\n                    } else if (block.range.start && block.range.end) {\r\n                        startLine = Number(block.range.start.line);\r\n                        endLine = Number(block.range.end.line);\r\n                        startChar = Number(block.range.start.character);\r\n                        endChar = Number(block.range.end.character);\r\n                    } else {\r\n                        console.warn(\"Unexpected range format:\", block.range);\r\n                        return null;\r\n                    }\r\n\r\n                    // Validate the extracted numbers\r\n                    if (isNaN(startLine) || isNaN(endLine) || isNaN(startChar) || isNaN(endChar)) {\r\n                        console.warn(\"Invalid line numbers detected:\", { startLine, endLine, startChar, endChar });\r\n                        return null;\r\n                    }\r\n\r\n                    // Ensure valid line numbers\r\n                    startLine = Math.max(0, startLine);\r\n                    endLine = Math.min(editor.document.lineCount - 1, endLine);\r\n\r\n                    const startPos = new vscode.Position(startLine, startChar);\r\n                    const endPos = new vscode.Position(endLine, endChar);\r\n                    const range = new vscode.Range(startPos, endPos);\r\n                    \r\n                    // Get the actual code content for this block\r\n                    const codeContent = editor.document.getText(range);\r\n\r\n                    const processedBlock = {\r\n                        name: block.name,\r\n                        range: {\r\n                            start: { line: startLine, character: startChar },\r\n                            end: { line: endLine, character: endChar }\r\n                        },\r\n                        content: codeContent,\r\n                        kind: block.kind,\r\n                        language\r\n                    };\r\n\r\n                    // Log detailed information for each block\r\n                    // console.log(`\\nBlock: ${processedBlock.name}`);\r\n                    // console.log(`Range: Lines ${startLine + 1}-${endLine + 1}`);\r\n                    // console.log('Code content:');\r\n                    // console.log('------------------------');\r\n                    // console.log(codeContent);\r\n                    // console.log('------------------------');\r\n\r\n                    return processedBlock;\r\n                } catch (err) {\r\n                    console.error(\"Error processing block:\", err, \"Block:\", JSON.stringify(block, null, 2));\r\n                    return null;\r\n                }\r\n            }).filter(block => block !== null);\r\n\r\n            // Log summary of all blocks\r\n            console.log('\\nSummary of all code blocks:');\r\n            processedBlocks.forEach((block, index) => {\r\n                console.log(`\\n${index + 1}. ${block.name}`);\r\n                console.log(`   Lines: ${block.range.start.line + 1}-${block.range.end.line + 1}`);\r\n                console.log(`   Kind: ${block.kind}`);\r\n                console.log(`   Length: ${block.content.length} characters`);\r\n            });\r\n\r\n            return { \r\n                detectedCode: processedBlocks,\r\n                summary: processedBlocks.map(block => ({\r\n                    name: block.name,\r\n                    lineRange: `${block.range.start.line + 1}-${block.range.end.line + 1}`,\r\n                    codeLength: block.content.length\r\n                })),\r\n                filename: filename\r\n            };\r\n        }\r\n\r\n        return { detectedCode: [], summary: [], filename: filename };\r\n    } catch (error) {\r\n        console.error(\"Error processing code blocks:\", error);\r\n        return { detectedCode: [], summary: [], filename: '' };\r\n    }\r\n} ","const peq = new Uint32Array(0x10000);\nconst myers_32 = (a, b) => {\n    const n = a.length;\n    const m = b.length;\n    const lst = 1 << (n - 1);\n    let pv = -1;\n    let mv = 0;\n    let sc = n;\n    let i = n;\n    while (i--) {\n        peq[a.charCodeAt(i)] |= 1 << i;\n    }\n    for (i = 0; i < m; i++) {\n        let eq = peq[b.charCodeAt(i)];\n        const xv = eq | mv;\n        eq |= ((eq & pv) + pv) ^ pv;\n        mv |= ~(eq | pv);\n        pv &= eq;\n        if (mv & lst) {\n            sc++;\n        }\n        if (pv & lst) {\n            sc--;\n        }\n        mv = (mv << 1) | 1;\n        pv = (pv << 1) | ~(xv | mv);\n        mv &= xv;\n    }\n    i = n;\n    while (i--) {\n        peq[a.charCodeAt(i)] = 0;\n    }\n    return sc;\n};\nconst myers_x = (b, a) => {\n    const n = a.length;\n    const m = b.length;\n    const mhc = [];\n    const phc = [];\n    const hsize = Math.ceil(n / 32);\n    const vsize = Math.ceil(m / 32);\n    for (let i = 0; i < hsize; i++) {\n        phc[i] = -1;\n        mhc[i] = 0;\n    }\n    let j = 0;\n    for (; j < vsize - 1; j++) {\n        let mv = 0;\n        let pv = -1;\n        const start = j * 32;\n        const vlen = Math.min(32, m) + start;\n        for (let k = start; k < vlen; k++) {\n            peq[b.charCodeAt(k)] |= 1 << k;\n        }\n        for (let i = 0; i < n; i++) {\n            const eq = peq[a.charCodeAt(i)];\n            const pb = (phc[(i / 32) | 0] >>> i) & 1;\n            const mb = (mhc[(i / 32) | 0] >>> i) & 1;\n            const xv = eq | mv;\n            const xh = ((((eq | mb) & pv) + pv) ^ pv) | eq | mb;\n            let ph = mv | ~(xh | pv);\n            let mh = pv & xh;\n            if ((ph >>> 31) ^ pb) {\n                phc[(i / 32) | 0] ^= 1 << i;\n            }\n            if ((mh >>> 31) ^ mb) {\n                mhc[(i / 32) | 0] ^= 1 << i;\n            }\n            ph = (ph << 1) | pb;\n            mh = (mh << 1) | mb;\n            pv = mh | ~(xv | ph);\n            mv = ph & xv;\n        }\n        for (let k = start; k < vlen; k++) {\n            peq[b.charCodeAt(k)] = 0;\n        }\n    }\n    let mv = 0;\n    let pv = -1;\n    const start = j * 32;\n    const vlen = Math.min(32, m - start) + start;\n    for (let k = start; k < vlen; k++) {\n        peq[b.charCodeAt(k)] |= 1 << k;\n    }\n    let score = m;\n    for (let i = 0; i < n; i++) {\n        const eq = peq[a.charCodeAt(i)];\n        const pb = (phc[(i / 32) | 0] >>> i) & 1;\n        const mb = (mhc[(i / 32) | 0] >>> i) & 1;\n        const xv = eq | mv;\n        const xh = ((((eq | mb) & pv) + pv) ^ pv) | eq | mb;\n        let ph = mv | ~(xh | pv);\n        let mh = pv & xh;\n        score += (ph >>> (m - 1)) & 1;\n        score -= (mh >>> (m - 1)) & 1;\n        if ((ph >>> 31) ^ pb) {\n            phc[(i / 32) | 0] ^= 1 << i;\n        }\n        if ((mh >>> 31) ^ mb) {\n            mhc[(i / 32) | 0] ^= 1 << i;\n        }\n        ph = (ph << 1) | pb;\n        mh = (mh << 1) | mb;\n        pv = mh | ~(xv | ph);\n        mv = ph & xv;\n    }\n    for (let k = start; k < vlen; k++) {\n        peq[b.charCodeAt(k)] = 0;\n    }\n    return score;\n};\nconst distance = (a, b) => {\n    if (a.length < b.length) {\n        const tmp = b;\n        b = a;\n        a = tmp;\n    }\n    if (b.length === 0) {\n        return a.length;\n    }\n    if (a.length <= 32) {\n        return myers_32(a, b);\n    }\n    return myers_x(a, b);\n};\nconst closest = (str, arr) => {\n    let min_distance = Infinity;\n    let min_index = 0;\n    for (let i = 0; i < arr.length; i++) {\n        const dist = distance(str, arr[i]);\n        if (dist < min_distance) {\n            min_distance = dist;\n            min_index = i;\n        }\n    }\n    return arr[min_index];\n};\nexport { closest, distance };\n","\r\nimport {\r\n  AutocompleteLanguageInfo,\r\n  LANGUAGES,\r\n  Typescript,\r\n} from \"./Languages.js\";\r\n\r\n\r\n//  interface  TabAutocompleteOptions {\r\n//     disable: boolean;\r\n//     useCopyBuffer: boolean;\r\n//     useFileSuffix: boolean;\r\n//     maxPromptTokens: number;\r\n//     debounceDelay: number;\r\n//     maxSuffixPercentage: number;\r\n//     prefixPercentage: number;\r\n//     template?: string;\r\n//     multilineCompletions: \"always\" | \"never\" | \"auto\";\r\n//     slidingWindowPrefixPercentage: number;\r\n//     slidingWindowSize: number;\r\n//     maxSnippetPercentage: number;\r\n//     recentlyEditedSimilarityThreshold: number;\r\n//     useCache: boolean;\r\n//     onlyMyCode: boolean;\r\n//     useOtherFiles: boolean;\r\n//     useRecentlyEdited: boolean;\r\n//     recentLinePrefixMatchMinLength: number;\r\n//     disableInFiles?: string[];\r\n//     useImports?: boolean;\r\n//   }\r\n\r\n// export function languageForFilepath(filepath: string): AutocompleteLanguageInfo {\r\n//   return LANGUAGES[filepath.split(\".\").slice(-1)[0]] || Typescript;\r\n// }\r\n\r\nconst BLOCK_TYPES = [\"body\", \"statement_block\"];\r\n\r\nfunction shouldCompleteMultilineAst(\r\n  treePath: any[],\r\n  cursorLine: number,\r\n): boolean {\r\n  // If at the base of the file, do multiline\r\n  if (treePath.length === 1) {\r\n    return true;\r\n  }\r\n\r\n  // If at the first line of an otherwise empty funtion body, do multiline\r\n  for (let i = treePath.length - 1; i >= 0; i--) {\r\n    const node = treePath[i];\r\n    if (\r\n      BLOCK_TYPES.includes(node.type) &&\r\n      Math.abs(node.startPosition.row - cursorLine) <= 1\r\n    ) {\r\n      let text = node.text;\r\n      text = text.slice(text.indexOf(\"{\") + 1);\r\n      text = text.slice(0, text.lastIndexOf(\"}\"));\r\n      text = text.trim();\r\n      return text.split(\"\\n\").length === 1;\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nfunction isMidlineCompletion(prefix: string, suffix: string): boolean {\r\n  return !suffix.startsWith(\"\\n\");\r\n}\r\n\r\nasync function shouldCompleteMultiline(\r\n  filepath: string,\r\n  fullPrefix: string,\r\n  fullSuffix: string,\r\n  language: AutocompleteLanguageInfo\r\n): Promise<boolean> {\r\n  if (isMidlineCompletion(fullPrefix, fullSuffix)) {\r\n      return false;\r\n  }\r\n\r\n  if (\r\n      fullPrefix\r\n          .split(\"\\n\")\r\n          .slice(-1)[0]\r\n          ?.trimStart()\r\n          .startsWith(language.singleLineComment)\r\n  ) {\r\n      return false;\r\n  }\r\n\r\n  if (\r\n      [\"{\", \"(\", \"[\"].includes(\r\n          fullPrefix.split(\"\\n\").slice(-2)[0]?.trim().slice(-1)[0]\r\n      )\r\n  ) {\r\n      return true;\r\n  }\r\n\r\n  // Use AST to determine whether to complete multiline\r\n  let treePath = undefined;\r\n\r\n  let completeMultiline = false;\r\n  if (treePath) {\r\n    const cursorLine = fullPrefix.split(\"\\n\").length - 1;\r\n    completeMultiline = shouldCompleteMultilineAst(treePath, cursorLine);\r\n  }\r\n  return completeMultiline;\r\n}\r\n\r\nexport async function constructAutocompletePrompt(\r\n  filepath: string,\r\n  cursorLine: number,\r\n  fullPrefix: string,\r\n  fullSuffix: string,\r\n  clipboardText: string,\r\n  language: AutocompleteLanguageInfo,\r\n  options: any,\r\n  recentlyEditedRanges: any\r\n): Promise<{\r\n  prefix: string;\r\n  suffix: string;\r\n  completeMultiline: boolean;\r\n}> {\r\n  const prefix = fullPrefix.slice(-options.maxPromptTokens * options.prefixPercentage);\r\n  const suffix = fullSuffix.slice(0, options.maxPromptTokens * options.maxSuffixPercentage);\r\n\r\n  const completeMultiline = await shouldCompleteMultiline(\r\n      filepath,\r\n      fullPrefix,\r\n      fullSuffix,\r\n      language\r\n  );\r\n\r\n  return {\r\n      prefix,\r\n      suffix,\r\n      completeMultiline,\r\n  };\r\n}\r\n\r\n\r\n// export async function constructAutocompletePrompt(\r\n//   filepath: string,\r\n//   cursorLine: number,\r\n//   fullPrefix: string,\r\n//   fullSuffix: string,\r\n//   clipboardText: string,\r\n//   language: AutocompleteLanguageInfo,\r\n//   options: TabAutocompleteOptions,\r\n//   recentlyEditedRanges: any,\r\n// ): Promise<{\r\n//   prefix: string;\r\n//   suffix: string;\r\n//   useFim: boolean;\r\n//   completeMultiline: boolean;\r\n//   snippets: any[];\r\n// }> {\r\n//   // Construct basic prefix\r\n//   const maxPrefixTokens = options.maxPromptTokens * options.prefixPercentage;\r\n//   const prefix = \"<PREFIX>\";\r\n//   const suffix = \"<SUFFIX>\";\r\n\r\n\r\n//   if (options.useOtherFiles) {\r\n\r\n//     const windowAroundCursor =\r\n//       fullPrefix.slice(\r\n//         -options.slidingWindowSize * options.slidingWindowPrefixPercentage,\r\n//       ) +\r\n//       fullSuffix.slice(\r\n//         options.slidingWindowSize * (1 - options.slidingWindowPrefixPercentage),\r\n//       );\r\n\r\n//     // This was much too slow, and not super useful\r\n//     // const slidingWindowMatches = await slidingWindowMatcher(\r\n//     //   recentlyEditedFiles,\r\n//     //   windowAroundCursor,\r\n//     //   3,\r\n//     //   options.slidingWindowSize,\r\n//     // );\r\n//     // snippets.push(...slidingWindowMatches);\r\n\r\n//     // snippets.push(\r\n//     //   ...recentlyEditedRanges.map((r) => ({\r\n//     //     ...r,\r\n//     //     contents: r.lines.join(\"\\n\"),\r\n//     //   })),\r\n//     // );\r\n\r\n//     // if (options.useRecentlyEdited) {\r\n//     //   const currentLinePrefix = prefix.trim().split(\"\\n\").slice(-1)[0];\r\n//     //   if (currentLinePrefix?.length > options.recentLinePrefixMatchMinLength) {\r\n//     //     const matchingRange = findMatchingRange(\r\n//     //       recentlyEditedRanges,\r\n//     //       currentLinePrefix,\r\n//     //     );\r\n//     //     if (matchingRange) {\r\n//     //       snippets.push({\r\n//     //         ...matchingRange,\r\n//     //         contents: matchingRange.lines.join(\"\\n\"),\r\n//     //         score: 0.8,\r\n//     //       });\r\n//     //     }\r\n//     //   }\r\n//     // }\r\n\r\n\r\n\r\n//     // Filter out empty snippets and ones that are already in the prefix/suffix\r\n    \r\n//     // Remove prefix range from snippets\r\n//     const prefixLines = prefix.split(\"\\n\").length;\r\n//     const suffixLines = suffix.split(\"\\n\").length;\r\n//     const buffer = 8;\r\n//     const prefixSuffixRangeWithBuffer = {\r\n//       start: {\r\n//         line: cursorLine - prefixLines - buffer,\r\n//         character: 0,\r\n//       },\r\n//       end: {\r\n//         line: cursorLine + suffixLines + buffer,\r\n//         character: 0,\r\n//       },\r\n//     };\r\n//   }\r\n//   let snippets: any = [];\r\n\r\n//   return {\r\n//     prefix,\r\n//     suffix,\r\n//     useFim: true,\r\n//     completeMultiline: await shouldCompleteMultiline(\r\n//       filepath,\r\n//       fullPrefix,\r\n//       fullSuffix,\r\n//       language,\r\n//     ),\r\n//     snippets,\r\n//   };\r\n// }\r\n\r\n// interface AutocompleteTemplate {\r\n//     compilePrefixSuffix?: (\r\n//       prefix: string,\r\n//       suffix: string,\r\n//       filepath: string,\r\n//       reponame: string,\r\n//       snippets: any[],\r\n//     ) => [string, string];\r\n//     template:\r\n//       | string\r\n//       | ((\r\n//           prefix: string,\r\n//           suffix: string,\r\n//           filepath: string,\r\n//           reponame: string,\r\n//           language: string,\r\n//           snippets: any[],\r\n//         ) => string);\r\n//     completionOptions?: any;\r\n//   }\r\n\r\n// export const holeFillerTemplate: AutocompleteTemplate = {\r\n//     template: (\r\n//       prefix: string,\r\n//       suffix: string,\r\n//       filename: string,\r\n//       reponame: string,\r\n//       language: string,\r\n//       snippets: any[],\r\n//     ) => {\r\n//       // From https://github.com/VictorTaelin/AI-scripts\r\n//       const SYSTEM_MSG = `You are a HOLE FILLER. You are provided with a file containing holes, formatted as '{{HOLE_NAME}}'. Your TASK is to complete with a string to replace this hole with, inside a <COMPLETION/> XML tag, including context-aware indentation, if needed.  All completions MUST be truthful, accurate, well-written and correct.\r\n\r\n        // ## EXAMPLE QUERY:\r\n        \r\n        // <QUERY>\r\n        // function sum_evens(lim) {\r\n        //   var sum = 0;\r\n        //   for (var i = 0; i < lim; ++i) {\r\n        //     {{FILL_HERE}}\r\n        //   }\r\n        //   return sum;\r\n        // }\r\n        // </QUERY>\r\n        \r\n        // TASK: Fill the {{FILL_HERE}} hole.\r\n        \r\n        // ## CORRECT COMPLETION\r\n        \r\n        // <COMPLETION>if (i % 2 === 0) {\r\n        //       sum += i;\r\n        //     }</COMPLETION>\r\n        \r\n        // ## EXAMPLE QUERY:\r\n        \r\n        // <QUERY>\r\n        // def sum_list(lst):\r\n        //   total = 0\r\n        //   for x in lst:\r\n        //   {{FILL_HERE}}\r\n        //   return total\r\n        \r\n        // print sum_list([1, 2, 3])\r\n        // </QUERY>\r\n        \r\n        // ## CORRECT COMPLETION:\r\n        \r\n        // <COMPLETION>  total += x</COMPLETION>\r\n        \r\n        // ## EXAMPLE QUERY:\r\n        \r\n        // <QUERY>\r\n        // // data Tree a = Node (Tree a) (Tree a) | Leaf a\r\n        \r\n        // // sum :: Tree Int -> Int\r\n        // // sum (Node lft rgt) = sum lft + sum rgt\r\n        // // sum (Leaf val)     = val\r\n        \r\n        // // convert to TypeScript:\r\n        // {{FILL_HERE}}\r\n        // </QUERY>\r\n        \r\n        // ## CORRECT COMPLETION:\r\n        \r\n        // <COMPLETION>type Tree<T>\r\n        //   = {$:\"Node\", lft: Tree<T>, rgt: Tree<T>}\r\n        //   | {$:\"Leaf\", val: T};\r\n        \r\n        // function sum(tree: Tree<number>): number {\r\n        //   switch (tree.$) {\r\n        //     case \"Node\":\r\n        //       return sum(tree.lft) + sum(tree.rgt);\r\n        //     case \"Leaf\":\r\n        //       return tree.val;\r\n        //   }\r\n        // }</COMPLETION>\r\n        \r\n        // ## EXAMPLE QUERY:\r\n        \r\n        // The 5th {{FILL_HERE}} is Jupiter.\r\n        \r\n        // ## CORRECT COMPLETION:\r\n        \r\n        // <COMPLETION>planet from the Sun</COMPLETION>\r\n        \r\n        // ## EXAMPLE QUERY:\r\n        \r\n        // function hypothenuse(a, b) {\r\n        //   return Math.sqrt({{FILL_HERE}}b ** 2);\r\n        // }\r\n        \r\n        // ## CORRECT COMPLETION:\r\n        \r\n        // <COMPLETION>a ** 2 + </COMPLETION>`;\r\n\r\n        // const fullPrompt = `\\n\\n<QUERY>\\n${prefix}{{FILL_HERE}}${suffix}\\n</QUERY>\\n\r\n        // TASK: Fill the {{FILL_HERE}} hole. Answer only with the CORRECT completion, and NOTHING ELSE. Do it now.\\n`;\r\n        // return fullPrompt;\r\n//     },\r\n//     completionOptions: {\r\n//       stop: [\"</COMPLETION>\"],\r\n//     },\r\n//   };","import { log } from \"console\";\r\nimport { lineIsRepeated } from \"./charStream\";\r\n\r\n\r\nfunction longestCommonSubsequence(a: string, b: string) {\r\n  const lengths: number[][] = [];\r\n  for (let i = 0; i <= a.length; i++) {\r\n    lengths[i] = [];\r\n    for (let j = 0; j <= b.length; j++) {\r\n      if (i === 0 || j === 0) {\r\n        lengths[i][j] = 0;\r\n      } else if (a[i - 1] === b[j - 1]) {\r\n        lengths[i][j] = lengths[i - 1][j - 1] + 1;\r\n      } else {\r\n        lengths[i][j] = Math.max(lengths[i - 1][j], lengths[i][j - 1]);\r\n      }\r\n    }\r\n  }\r\n  let result = \"\";\r\n  let x = a.length;\r\n  let y = b.length;\r\n  while (x !== 0 && y !== 0) {\r\n    if (lengths[x][y] === lengths[x - 1][y]) {\r\n      x--;\r\n    } else if (lengths[x][y] === lengths[x][y - 1]) {\r\n      y--;\r\n    } else {\r\n      result = a[x - 1] + result;\r\n      x--;\r\n      y--;\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\n\r\nfunction rewritesLineAbove(completion: string, prefix: string): boolean {\r\n  const lineAbove = prefix\r\n    .split(\"\\n\")\r\n    .filter((line) => line.trim().length > 0)\r\n    .slice(-1)[0];\r\n  if (!lineAbove) {\r\n    return false;\r\n  }\r\n\r\n  const firstLineOfCompletion = completion\r\n    .split(\"\\n\")\r\n    .find((line) => line.trim().length > 0);\r\n  if (!firstLineOfCompletion) {\r\n    return false;\r\n  }\r\n  return lineIsRepeated(lineAbove, firstLineOfCompletion);\r\n}\r\n\r\nconst MAX_REPETITION_FREQ_TO_CHECK = 3;\r\nfunction isExtremeRepetition(completion: string): boolean {\r\n  const lines = completion.split(\"\\n\");\r\n  if (lines.length < 6) {\r\n    return false;\r\n  }\r\n  for (let freq = 1; freq < MAX_REPETITION_FREQ_TO_CHECK; freq++) {\r\n    const lcs = longestCommonSubsequence(lines[0], lines[freq]);\r\n    if (lcs.length > 5 || lcs.length > lines[0].length * 0.5) {\r\n      let matchCount = 0;\r\n      for (let i = 0; i < lines.length; i += freq) {\r\n        if (lines[i].includes(lcs)) {\r\n          matchCount++;\r\n        }\r\n      }\r\n      if (matchCount * freq > 8 || (matchCount * freq) / lines.length > 0.8) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n  return false;\r\n}\r\nexport function postprocessCompletion({\r\n  completion,\r\n  prefix,\r\n  suffix,\r\n  isAfterClosingBrace,\r\n  languageId\r\n}: {\r\n  completion: string;\r\n  prefix: string;\r\n  suffix: string;\r\n  languageId: string;\r\n  isAfterClosingBrace: boolean;\r\n}): string | undefined {\r\n  console.log(\"hello there i am from postprocessCompletion\", completion);\r\n\r\n  // Remove leading/trailing whitespace.\r\n  let processedCompletion = completion.trim();\r\n  if (processedCompletion.length === 0) {\r\n    return undefined;\r\n  }\r\n\r\n  // Instead of discarding completions that rewrite the line above,\r\n  // remove the duplicate part.\r\n  if (rewritesLineAbove(processedCompletion, prefix)) {\r\n    console.log(\"Detected repeated line above. Removing duplicate prefix from completion.\");\r\n\r\n    // Get the last non-empty line from the prefix.\r\n    const prefixLines = prefix.split(\"\\n\").filter(line => line.trim().length > 0);\r\n    const lastPrefixLine = prefixLines[prefixLines.length - 1] || \"\";\r\n\r\n    // Split the completion into lines.\r\n    const completionLines = processedCompletion.split(\"\\n\");\r\n    const firstLine = completionLines[0].trim();\r\n\r\n    // If the first line of the completion starts with the prefix's last line,\r\n    // remove that repeated part.\r\n    if (firstLine.startsWith(lastPrefixLine.trim())) {\r\n      // Remove exactly the repeated part from the beginning of the first line.\r\n      completionLines[0] = completionLines[0].slice(lastPrefixLine.length);\r\n      // Reconstruct the completion.\r\n      processedCompletion = completionLines.join(\"\\n\").trim();\r\n    }\r\n  }\r\n\r\n  // Check for extreme repetition as before.\r\n  if (isExtremeRepetition(processedCompletion)) {\r\n    return undefined;\r\n  }\r\n\r\n  console.log(\"postprocessCompletion: returning processed completion: \", processedCompletion);\r\n  return processedCompletion;\r\n}\r\n\r\n\r\n","import OpenAI from 'openai';\r\nimport { OpenAIStream } from './charStream';\r\nimport { constructAutocompletePrompt } from './promptBuilder';\r\nimport * as dotenv from 'dotenv';\r\ndotenv.config();\r\n\r\n \r\n\r\nexport async function getOpenAICompletion(\r\n  filepath: string,\r\n  cursorLine: number,\r\n  fullPrefix: string,\r\n  fullSuffix: string,\r\n  clipboardText: string,\r\n  languageInfo: any,\r\n  options: any,\r\n  recentlyEditedRanges: any,\r\n  signal?: AbortSignal\r\n): Promise<string> {\r\n  try {\r\n    const openai = new OpenAI({ apiKey: process.env.REACT_APP_OPENAI_API_KEY || \"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\" });\r\n\r\n    const { prefix, suffix, completeMultiline } = await constructAutocompletePrompt(\r\n      filepath,\r\n      cursorLine,\r\n      fullPrefix,\r\n      fullSuffix,\r\n      clipboardText,\r\n      languageInfo,\r\n      options,\r\n      recentlyEditedRanges\r\n    );\r\n    console.log(languageInfo, \"languageInfo\");\r\n\r\n    // Choose system message based on language\r\n    const SYSTEM_MSG =\r\n      languageInfo === \"python\"\r\n        ? `\r\n        You are a Python code assistant specialized in providing context-aware, well-formatted Python code completions. \r\n        You are provided with a Python file containing a placeholder '{{FILL_HERE}}'. \r\n        Your task is to fill that placeholder with correct Python code following PEP8 guidelines.\r\n        Return the completion inside <COMPLETION> tags. Do not include any extra commentary.\r\n        `\r\n                : `\r\n        You are a HOLE FILLER. You are provided with a file containing holes, formatted as '{{HOLE_NAME}}'. Your TASK is to complete with a string to replace this hole with, inside a <COMPLETION/> XML tag, including context-aware indentation, if needed.  All completions MUST be truthful, accurate, well-written and correct.\r\n        Always return well-formatted and properly indented code.\r\n        Ensure function calls and definitions are structured correctly in multiple lines.\r\n        - Always format your responses with proper indentation and spacing.\r\n        - Any statement following a closing brace \\`}\\` should start on a new line.\r\n        - Do **not** place statements immediately after \\`}\\` and \\`;\\`.\r\n        - Make sure give a nextline after every statement (***IMPORTANT***).\r\n\r\n        For example, instead of:\r\n\r\n        \r\n        <COMPLETION>function hello(){console.log(\"hello\")} hello()</COMPLETION>\r\n        \r\n\r\n        Return:\r\n\r\n        \r\n        <COMPLETION>function hello() {\r\n            console.log(\"hello\");\r\n        }\r\n\r\n        hello();</COMPLETION>\r\n        \r\n\r\n        Do **NOT** return minified, single-line code unless explicitly required.\r\n        Always maintain correct spacing and indentation.\r\n\r\n        ## EXAMPLE QUERY:\r\n        \r\n        <QUERY>\r\n        function sum_evens(lim) {\r\n          var sum = 0;\r\n          for (var i = 0; i < lim; ++i) {\r\n            {{FILL_HERE}}\r\n          }\r\n          return sum;\r\n        }\r\n        </QUERY>\r\n        \r\n        TASK: Fill the {{FILL_HERE}} hole.\r\n        \r\n        ## CORRECT COMPLETION\r\n        \r\n        <COMPLETION>if (i % 2 === 0) {\r\n              sum += i;\r\n            }</COMPLETION>\r\n        \r\n        ## EXAMPLE QUERY:\r\n        \r\n        <QUERY>\r\n        def sum_list(lst):\r\n          total = 0\r\n          for x in lst:\r\n          {{FILL_HERE}}\r\n          return total\r\n        \r\n        print sum_list([1, 2, 3])\r\n        </QUERY>\r\n        \r\n        ## CORRECT COMPLETION:\r\n        \r\n        <COMPLETION>  total += x</COMPLETION>\r\n        \r\n        ## EXAMPLE QUERY:\r\n        \r\n        <QUERY>\r\n        // data Tree a = Node (Tree a) (Tree a) | Leaf a\r\n        \r\n        // sum :: Tree Int -> Int\r\n        // sum (Node lft rgt) = sum lft + sum rgt\r\n        // sum (Leaf val)     = val\r\n        \r\n        // convert to TypeScript:\r\n        {{FILL_HERE}}\r\n        </QUERY>\r\n        \r\n        ## CORRECT COMPLETION:\r\n        \r\n        <COMPLETION>type Tree<T>\r\n          = {$:\"Node\", lft: Tree<T>, rgt: Tree<T>}\r\n          | {$:\"Leaf\", val: T};\r\n        \r\n        function sum(tree: Tree<number>): number {\r\n          switch (tree.$) {\r\n            case \"Node\":\r\n              return sum(tree.lft) + sum(tree.rgt);\r\n            case \"Leaf\":\r\n              return tree.val;\r\n          }\r\n        }</COMPLETION>\r\n        \r\n        ## EXAMPLE QUERY:\r\n        \r\n        The 5th {{FILL_HERE}} is Jupiter.\r\n        \r\n        ## CORRECT COMPLETION:\r\n        \r\n        <COMPLETION>planet from the Sun</COMPLETION>\r\n        \r\n        ## EXAMPLE QUERY:\r\n        \r\n        function hypothenuse(a, b) {\r\n          return Math.sqrt({{FILL_HERE}}b ** 2);\r\n        }\r\n        \r\n        ## CORRECT COMPLETION:\r\n        \r\n        <COMPLETION>a ** 2 + </COMPLETION>`;\r\n\r\n    const fullPrompt = `\r\n    <QUERY>\r\n    ${prefix}{{FILL_HERE}}${suffix}\r\n    </QUERY>\r\n    TASK: Fill the {{FILL_HERE}} hole with properly formatted code.\r\n    ${languageInfo === \"python\" ? \"Ensure the code is valid Python and follows PEP8 formatting.\" : \"Ensure all statements after '}' appear on a new line.\"}\r\n    `;\r\n\r\n    const response = await openai.chat.completions.create({\r\n      model: languageInfo === \"python\" ? \"gpt-4o-mini\" : \"gpt-4o-mini\", // you can choose different models if needed\r\n      messages: [\r\n        {\r\n          role: \"system\",\r\n          content: SYSTEM_MSG,\r\n        },\r\n        {\r\n          role: \"user\",\r\n          content: fullPrompt,\r\n        },\r\n      ],\r\n      max_tokens: 100,\r\n      temperature: 0.3,\r\n      presence_penalty: 0,\r\n      frequency_penalty: 0,\r\n      stream: true,\r\n      stop: [\"</COMPLETION>\"],\r\n    }, { signal });\r\n\r\n    const stream = OpenAIStream(response);\r\n    let completion = '';\r\n\r\n    for await (const chunk of stream) {\r\n      completion += chunk;\r\n    }\r\n\r\n    completion = completion.replace(/<\\/?COMPLETION>/g, '').trim();\r\n    console.log(completion, \"complete the response\");\r\n\r\n    return completion;\r\n  } catch (error: any) {\r\n    if (error.name === 'AbortError') {\r\n      throw error;\r\n    }\r\n    throw new Error(`OpenAI API error: ${error.message}`);\r\n  }\r\n}\r\n\r\n \r\nexport async function getGeminiCompletion(\r\n      filepath: string,\r\n      cursorLine: number,\r\n      fullPrefix: string,\r\n      fullSuffix: string,\r\n      clipboardText: string,\r\n      languageInfo: any,\r\n      options: any,\r\n      recentlyEditedRanges: any,\r\n      signal?: AbortSignal\r\n    ): Promise<string> {\r\n      try {\r\n         \r\n        const { GoogleGenerativeAI } = require(\"@google/generative-ai\"); \r\n        const genAI = new GoogleGenerativeAI(\"AIzaSyA-M-dyh4W--Hj2xFws4OC0mPGV0YC3SIM\"); \r\n        const model = genAI.getGenerativeModel({ model: \"gemini-2.0-flash-lite-preview-02-05\" }); \r\n        const { prefix, suffix, completeMultiline } = await constructAutocompletePrompt(\r\n          filepath,\r\n          cursorLine,\r\n          fullPrefix,\r\n          fullSuffix,\r\n          clipboardText,\r\n          languageInfo,\r\n          options,\r\n          recentlyEditedRanges\r\n        );\r\n        console.log(languageInfo, \"languageInfo\");\r\n  \r\n    const SYSTEM_MSG =\r\n      languageInfo === \"python\"\r\n        ? `\r\n      You are a Python code assistant specialized in providing context-aware, well-formatted Python code completions. \r\n      You are provided with a Python file containing a placeholder '{{FILL_HERE}}'. \r\n      Your task is to fill that placeholder with correct Python code following PEP8 guidelines.\r\n      Return the completion inside <COMPLETION> tags. Do not include any extra commentary.\r\n      `\r\n              : `\r\n      You are a HOLE FILLER. You are provided with a file containing holes, formatted as '{{HOLE_NAME}}'. Your TASK is to complete with a string to replace this hole with, inside a <COMPLETION/> XML tag, including context-aware indentation, if needed.  All completions MUST be truthful, accurate, well-written and correct.\r\n      Always return well-formatted and properly indented code.\r\n        Ensure function calls and definitions are structured correctly in multiple lines.\r\n        - Always format your responses with proper indentation and spacing.\r\n        - Any statement following a closing brace \\`}\\` should start on a new line.\r\n        - Do **not** place statements immediately after \\`}\\` and \\`;\\`.\r\n        - Make sure give a nextline after every statement (***IMPORTANT***).\r\n\r\n        For example, instead of:\r\n\r\n        \r\n        <COMPLETION>function hello(){console.log(\"hello\")} hello()</COMPLETION>\r\n        \r\n\r\n        Return:\r\n\r\n        \r\n        <COMPLETION>function hello() {\r\n            console.log(\"hello\");\r\n        }\r\n\r\n        hello();</COMPLETION>\r\n        \r\n\r\n        Do **NOT** return minified, single-line code unless explicitly required.\r\n        Always maintain correct spacing and indentation.\r\n\r\n        ## EXAMPLE QUERY:\r\n        \r\n        <QUERY>\r\n        function sum_evens(lim) {\r\n          var sum = 0;\r\n          for (var i = 0; i < lim; ++i) {\r\n            {{FILL_HERE}}\r\n          }\r\n          return sum;\r\n        }\r\n        </QUERY>\r\n        \r\n        TASK: Fill the {{FILL_HERE}} hole.\r\n        \r\n        ## CORRECT COMPLETION\r\n        \r\n        <COMPLETION>if (i % 2 === 0) {\r\n              sum += i;\r\n            }</COMPLETION>\r\n        \r\n        ## EXAMPLE QUERY:\r\n        \r\n        <QUERY>\r\n        def sum_list(lst):\r\n          total = 0\r\n          for x in lst:\r\n          {{FILL_HERE}}\r\n          return total\r\n        \r\n        print sum_list([1, 2, 3])\r\n        </QUERY>\r\n        \r\n        ## CORRECT COMPLETION:\r\n        \r\n        <COMPLETION>  total += x</COMPLETION>\r\n        \r\n        ## EXAMPLE QUERY:\r\n        \r\n        <QUERY>\r\n        // data Tree a = Node (Tree a) (Tree a) | Leaf a\r\n        \r\n        // sum :: Tree Int -> Int\r\n        // sum (Node lft rgt) = sum lft + sum rgt\r\n        // sum (Leaf val)     = val\r\n        \r\n        // convert to TypeScript:\r\n        {{FILL_HERE}}\r\n        </QUERY>\r\n        \r\n        ## CORRECT COMPLETION:\r\n        \r\n        <COMPLETION>type Tree<T>\r\n          = {$:\"Node\", lft: Tree<T>, rgt: Tree<T>}\r\n          | {$:\"Leaf\", val: T};\r\n        \r\n        function sum(tree: Tree<number>): number {\r\n          switch (tree.$) {\r\n            case \"Node\":\r\n              return sum(tree.lft) + sum(tree.rgt);\r\n            case \"Leaf\":\r\n              return tree.val;\r\n          }\r\n        }</COMPLETION>\r\n        \r\n        ## EXAMPLE QUERY:\r\n        \r\n        The 5th {{FILL_HERE}} is Jupiter.\r\n        \r\n        ## CORRECT COMPLETION:\r\n        \r\n        <COMPLETION>planet from the Sun</COMPLETION>\r\n        \r\n        ## EXAMPLE QUERY:\r\n        \r\n        function hypothenuse(a, b) {\r\n          return Math.sqrt({{FILL_HERE}}b ** 2);\r\n        }\r\n        \r\n        ## CORRECT COMPLETION:\r\n        \r\n        <COMPLETION>a ** 2 + </COMPLETION>`;\r\n\r\n  \r\n        const fullPrompt = `\r\n        <QUERY>\r\n        ${prefix}{{FILL_HERE}}${suffix}\r\n        </QUERY>\r\n        TASK: Fill the {{FILL_HERE}} hole with properly formatted code. \r\n        If the code is already complete, simply return an empty string within completion tags like <COMPLETION></COMPLETION> \\n\r\n        ${languageInfo === \"python\" ? \"Ensure the code is valid Python and follows PEP8 formatting.\" : \"Ensure all statements after '}' appear on a new line.\"}\r\n        `;\r\n  \r\n        const geminiResponse = await model.generateContentStream({ // Use generateContentStream for streaming\r\n          contents: [{\r\n            role: \"user\", // Gemini uses 'user' role\r\n            parts: [\r\n              { text: SYSTEM_MSG + \"\\n\\n\" + fullPrompt }, // Combine system message and full prompt\r\n            ],\r\n          }],\r\n          generationConfig: { //  Similar to OpenAI's completion parameters\r\n            maxOutputTokens: 100,\r\n            temperature: 0.3,\r\n            stopSequences: [\"</COMPLETION>\"], //  Stop sequence for Gemini\r\n          },\r\n        });\r\n        // [END] Gemini API call\r\n  \r\n  \r\n        let completion = '';\r\n  \r\n        // [START] Gemini stream handling\r\n        for await (const chunk of geminiResponse.stream) { // Iterate over stream chunks\r\n          const chunkText = chunk.text(); // Get text from chunk\r\n          completion += chunkText;\r\n        }\r\n        // [END] Gemini stream handling\r\n  \r\n  \r\n        completion = completion.replace(/<\\/?COMPLETION>/g, '').trim();\r\n        console.log(completion, \"complete the response\");\r\n  \r\n        return completion;\r\n      } catch (error: any) {\r\n        if (error.name === 'AbortError') {\r\n          throw error;\r\n        }\r\n        throw new Error(`Gemini API error: ${error.message}`); // Updated error message for Gemini\r\n      }\r\n    }\r\n \r\n","import { distance } from \"fastest-levenshtein\";\r\nimport { Stream } from 'openai/streaming';\r\n\r\nexport type DiffLineType = \"new\" | \"old\" | \"same\";\r\n\r\nexport interface DiffLine {\r\n    type: DiffLineType;\r\n    line: string;\r\n  }\r\n\r\nexport type LineStream = AsyncGenerator<string>;\r\n\r\nexport async function* streamLines(\r\n    streamCompletion: AsyncGenerator<string>,\r\n  ): LineStream {\r\n    let buffer = \"\";\r\n    for await (const update of streamCompletion) {\r\n      const chunk = update;\r\n      buffer += chunk;\r\n      const lines = buffer.split(\"\\n\");\r\n      buffer = lines.pop() ?? \"\";\r\n      for (const line of lines) {\r\n        yield line;\r\n      }\r\n    }\r\n    if (buffer.length > 0) {\r\n      yield buffer;\r\n    }\r\n  }\r\n\r\nexport type LineFilter = (args: {\r\n  lines: LineStream;\r\n  fullStop: () => void;\r\n}) => LineStream;\r\n\r\nexport async function* noTopLevelKeywordsMidline(\r\n  lines: LineStream,\r\n  topLevelKeywords: string[],\r\n  fullStop: () => void,\r\n): LineStream {\r\n  for await (const line of lines) {\r\n    for (const keyword of topLevelKeywords) {\r\n      const indexOf = line.indexOf(`${keyword} `);\r\n      if (indexOf >= 0 && line.slice(indexOf - 1, indexOf).trim() !== \"\") {\r\n        yield line.slice(0, indexOf);\r\n        fullStop();\r\n        break;\r\n      }\r\n    }\r\n    yield line;\r\n  }\r\n}\r\n\r\nexport async function* avoidPathLine(\r\n  stream: LineStream,\r\n  comment: string,\r\n): LineStream {\r\n  // Snippets are inserted as comments with a line at the start '// Path: <PATH>'.\r\n  // Sometimes the model with copy this pattern, which is unwanted\r\n  for await (const line of stream) {\r\n    // Also filter lines that are empty comments\r\n    if (line.startsWith(`${comment} Path: `) || line.trim() === comment) {\r\n      continue;\r\n    }\r\n    yield line;\r\n  }\r\n}\r\n\r\nexport async function* streamWithNewLines(stream: LineStream): LineStream {\r\n  let firstLine = true;\r\n  for await (const nextLine of stream) {\r\n    if (!firstLine) {\r\n      yield \"\\n\";\r\n    }\r\n    firstLine = false;\r\n    yield nextLine;\r\n  }\r\n}\r\n\r\nconst bracketEnding = [\")\", \"]\", \"}\", \";\"];\r\nfunction isBracketEnding(line: string): boolean {\r\n  return line\r\n    .trim()\r\n    .split(\"\")\r\n    .some((char) => bracketEnding.includes(char));\r\n}\r\n\r\nfunction commonPrefixLength(a: string, b: string): number {\r\n  let i = 0;\r\n  while (i < a.length && i < b.length && a[i] === b[i]) {\r\n    i++;\r\n  }\r\n  return i;\r\n}\r\n\r\nexport function lineIsRepeated(a: string, b: string): boolean {\r\n  if (a.length <= 4 || b.length <= 4) {\r\n    return false;\r\n  }\r\n\r\n  const aTrim = a.trim();\r\n  const bTrim = b.trim();\r\n  return (\r\n    commonPrefixLength(aTrim, bTrim) > 12 ||\r\n    distance(aTrim, bTrim) / bTrim.length < 0.1\r\n  );\r\n}\r\n\r\nexport async function* stopAtSimilarLine(\r\n  stream: LineStream,\r\n  line: string,\r\n  fullStop: () => void,\r\n): AsyncGenerator<string> {\r\n  const trimmedLine = line.trim();\r\n  const lineIsBracketEnding = isBracketEnding(trimmedLine);\r\n  for await (const nextLine of stream) {\r\n    if (nextLine === line) {\r\n      fullStop();\r\n      break;\r\n    }\r\n\r\n    if (lineIsBracketEnding && trimmedLine.trim() === nextLine.trim()) {\r\n      yield nextLine;\r\n      continue;\r\n    }\r\n\r\n    if (lineIsRepeated(nextLine, trimmedLine)) {\r\n      fullStop();\r\n      break;\r\n    }\r\n    yield nextLine;\r\n  }\r\n}\r\n\r\nconst LINES_TO_STOP_AT = [\"# End of file.\", \"<STOP EDITING HERE\"];\r\n\r\nexport async function* stopAtLines(\r\n  stream: LineStream,\r\n  fullStop: () => void,\r\n): LineStream {\r\n  for await (const line of stream) {\r\n    if (LINES_TO_STOP_AT.some((stopAt) => line.trim().includes(stopAt))) {\r\n      fullStop();\r\n      break;\r\n    }\r\n    yield line;\r\n  }\r\n}\r\n\r\nconst PREFIXES_TO_SKIP = [\"<COMPLETION>\"];\r\nexport async function* skipPrefixes(lines: LineStream): LineStream {\r\n  let isFirstLine = true;\r\n  for await (const line of lines) {\r\n    if (isFirstLine) {\r\n      const match = PREFIXES_TO_SKIP.find((prefix) => line.startsWith(prefix));\r\n      if (match) {\r\n        yield line.slice(match.length);\r\n        continue;\r\n      }\r\n      isFirstLine = false;\r\n    }\r\n    yield line;\r\n  }\r\n}\r\n\r\nconst LINES_TO_SKIP = [\"</START EDITING HERE>\"];\r\n\r\nexport async function* skipLines(stream: LineStream): LineStream {\r\n  for await (const line of stream) {\r\n    if (!LINES_TO_SKIP.some((skipAt) => line.startsWith(skipAt))) {\r\n      yield line;\r\n    }\r\n  }\r\n}\r\n\r\nconst LINES_TO_REMOVE_BEFORE_START = [\r\n  \"<COMPLETION>\",\r\n  \"[CODE]\",\r\n  \"<START EDITING HERE>\",\r\n];\r\n\r\nfunction shouldRemoveLineBeforeStart(line: string): boolean {\r\n  return (\r\n    line.trimStart().startsWith(\"```\") ||\r\n    LINES_TO_REMOVE_BEFORE_START.some((l) => line.trim() === l)\r\n  );\r\n}\r\n\r\nfunction shouldChangeLineAndStop(line: string): string | undefined {\r\n  if (line.trimStart() === \"```\") {\r\n    return line;\r\n  }\r\n\r\n  if (line.includes(\"[/CODE]\")) {\r\n    return line.split(\"[/CODE]\")[0].trimEnd();\r\n  }\r\n\r\n  return undefined;\r\n}\r\n\r\nexport async function* filterCodeBlockLines(rawLines: LineStream): LineStream {\r\n  let seenValidLine = false;\r\n\r\n  let waitingToSeeIfLineIsLast = undefined;\r\n\r\n  for await (const line of rawLines) {\r\n    // Filter out starting ```\r\n    if (!seenValidLine) {\r\n      if (shouldRemoveLineBeforeStart(line)) {\r\n        continue;\r\n      }\r\n      seenValidLine = true;\r\n    }\r\n\r\n    // Filter out ending ```\r\n    if (typeof waitingToSeeIfLineIsLast !== \"undefined\") {\r\n      yield waitingToSeeIfLineIsLast;\r\n      waitingToSeeIfLineIsLast = undefined;\r\n    }\r\n\r\n    const changedEndLine = shouldChangeLineAndStop(line);\r\n    if (typeof changedEndLine === \"string\") {\r\n      yield changedEndLine;\r\n      return;\r\n    }\r\n\r\n    if (line.startsWith(\"```\")) {\r\n      waitingToSeeIfLineIsLast = line;\r\n    } else {\r\n      yield line;\r\n    }\r\n  }\r\n}\r\n\r\nfunction isEnglishFirstLine(line: string) {\r\n  line = line.trim().toLowerCase();\r\n  if (line.endsWith(\":\") && !line.trimStart().startsWith(\"def\")) {\r\n    return true;\r\n  }\r\n  if (\r\n    line.startsWith(\"here is\") ||\r\n    line.startsWith(\"here's\") ||\r\n    line.startsWith(\"sure, here\") ||\r\n    line.startsWith(\"sure thing\") ||\r\n    line.startsWith(\"sure!\") ||\r\n    line.startsWith(\"to fill\") ||\r\n    line.startsWith(\"certainly\") ||\r\n    line.startsWith(\"of course\") ||\r\n    line.startsWith(\"the code should\")\r\n  ) {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nexport async function* filterEnglishLinesAtStart(lines: LineStream) {\r\n  let i = 0;\r\n  let wasEnglishFirstLine = false;\r\n  for await (const line of lines) {\r\n    if (i === 0 && line.trim() === \"\") {\r\n      continue;\r\n    }\r\n    if (i === 0) {\r\n      if (isEnglishFirstLine(line)) {\r\n        wasEnglishFirstLine = true;\r\n        i++;\r\n        continue;\r\n      }\r\n    } else if (i === 1 && wasEnglishFirstLine && line.trim() === \"\") {\r\n      i++;\r\n      continue;\r\n    }\r\n    i++;\r\n    yield line;\r\n  }\r\n}\r\n\r\nfunction isEnglishPostExplanation(line: string): boolean {\r\n  const lower = line.toLowerCase();\r\n  return (\r\n    lower.startsWith(\"explanation:\") ||\r\n    lower.startsWith(\"here is\") ||\r\n    lower.startsWith(\"here's how\") ||\r\n    lower.startsWith(\"the above\")\r\n  );\r\n}\r\n\r\nexport async function* filterEnglishLinesAtEnd(lines: LineStream) {\r\n  let finishedCodeBlock = false;\r\n  for await (const line of lines) {\r\n    if (line.trim() === \"```\") {\r\n      finishedCodeBlock = true;\r\n    }\r\n    if (finishedCodeBlock && isEnglishPostExplanation(line)) {\r\n      break;\r\n    }\r\n    yield line;\r\n  }\r\n}\r\n\r\nexport async function* fixCodeLlamaFirstLineIndentation(lines: LineStream) {\r\n  let isFirstLine = true;\r\n  for await (const line of lines) {\r\n    if (isFirstLine && line.startsWith(\"  \")) {\r\n      yield line.slice(2);\r\n      isFirstLine = false;\r\n    } else {\r\n      yield line;\r\n    }\r\n  }\r\n}\r\n\r\nfunction isUselessLine(line: string): boolean {\r\n  const trimmed = line.trim().toLowerCase();\r\n  return trimmed === \"\" || trimmed === \"```\" || trimmed.startsWith(\"// end\");\r\n}\r\n\r\nexport async function* filterLeadingAndTrailingNewLineInsertion(\r\n  diffLines: AsyncGenerator<DiffLine>,\r\n): AsyncGenerator<DiffLine> {\r\n  let isFirst = true;\r\n  let buffer: DiffLine[] = [];\r\n  for await (const diffLine of diffLines) {\r\n    const isBlankLineInsertion =\r\n      diffLine.type === \"new\" && isUselessLine(diffLine.line);\r\n    if (isFirst && isBlankLineInsertion) {\r\n      isFirst = false;\r\n      continue;\r\n    }\r\n    isFirst = false;\r\n\r\n    if (isBlankLineInsertion) {\r\n      buffer.push(diffLine);\r\n    } else {\r\n      if (diffLine.type === \"old\") {\r\n        buffer = [];\r\n      } else {\r\n        while (buffer.length > 0) {\r\n          yield buffer.shift()!;\r\n        }\r\n      }\r\n      yield diffLine;\r\n    }\r\n  }\r\n}\r\n\r\nexport async function* stopAtRepeatingLines(\r\n  lines: LineStream,\r\n  fullStop: () => void,\r\n): LineStream {\r\n  const repeatedLines: string[] = [];\r\n  for await (const line of lines) {\r\n    if (repeatedLines.length === 0) {\r\n      repeatedLines.push(line);\r\n    } else if (repeatedLines.length < 3) {\r\n      if (repeatedLines[repeatedLines.length - 1] === line) {\r\n        repeatedLines.push(line);\r\n      } else {\r\n        while (repeatedLines.length > 0) {\r\n          yield repeatedLines.shift()!;\r\n        }\r\n        yield line;\r\n      }\r\n    } else {\r\n      yield repeatedLines[0];\r\n      fullStop();\r\n      return;\r\n    }\r\n  }\r\n\r\n  while (repeatedLines.length > 0) {\r\n    yield repeatedLines.shift()!;\r\n  }\r\n}\r\n\r\nexport async function* onlyWhitespaceAfterEndOfLine(\r\n    stream: AsyncGenerator<string>,\r\n    endOfLine: string[],\r\n    fullStop: () => void,\r\n  ): AsyncGenerator<string> {\r\n    let pending = \"\";\r\n    for await (let chunk of stream) {\r\n      chunk = pending + chunk;\r\n      pending = \"\";\r\n      for (let i = 0; i < chunk.length - 1; i++) {\r\n        if (\r\n          endOfLine.includes(chunk[i]) &&\r\n          chunk[i + 1].trim() === chunk[i + 1]\r\n        ) {\r\n          yield chunk.slice(0, i + 1);\r\n          fullStop();\r\n          return;\r\n        }\r\n      }\r\n      if (endOfLine.includes(chunk[chunk.length - 1])) {\r\n        pending = chunk[chunk.length - 1];\r\n        yield chunk.slice(0, chunk.length - 1);\r\n      } else {\r\n        yield chunk;\r\n      }\r\n    }\r\n    yield pending;\r\n  }\r\n  \r\n  export async function* noFirstCharNewline(stream: AsyncGenerator<string>) {\r\n    let first = true;\r\n    for await (const char of stream) {\r\n      if (first) {\r\n        first = false;\r\n        if (char.startsWith(\"\\n\") || char.startsWith(\"\\r\")) {\r\n          return;\r\n        }\r\n      }\r\n      yield char;\r\n    }\r\n  }\r\n  \r\n  export async function* stopAtStopTokens(\r\n    stream: AsyncGenerator<string>,\r\n    stopTokens: string[],\r\n  ): AsyncGenerator<string> {\r\n    if (stopTokens.length === 0) {\r\n      for await (const char of stream) {\r\n        yield char;\r\n      }\r\n      return;\r\n    }\r\n  \r\n    const maxStopTokenLength = Math.max(\r\n      ...stopTokens.map((token) => token.length),\r\n    );\r\n    let buffer = \"\";\r\n  \r\n    for await (const chunk of stream) {\r\n      buffer += chunk;\r\n  \r\n      while (buffer.length >= maxStopTokenLength) {\r\n        let found = false;\r\n        for (const stopToken of stopTokens) {\r\n          if (buffer.startsWith(stopToken)) {\r\n            found = true;\r\n            return;\r\n          }\r\n        }\r\n  \r\n        if (!found) {\r\n          yield buffer[0];\r\n          buffer = buffer.slice(1);\r\n        }\r\n      }\r\n    }\r\n  \r\n    // Yield any remaining characters in the buffer\r\n    for (const char of buffer) {\r\n      yield char;\r\n    }\r\n  }\r\n\r\nexport async function* OpenAIStream(stream: Stream<any>): AsyncGenerator<string> {\r\n    for await (const chunk of stream) {\r\n        if (chunk.choices[0]?.delta?.content) {\r\n            yield chunk.choices[0].delta.content;\r\n        }\r\n    }\r\n}\r\n\r\nexport async function* streamToAsyncGenerator(stream: any): AsyncGenerator<string> {\r\n    for await (const chunk of stream) {\r\n        if (chunk.text) {\r\n            yield chunk.text;\r\n        }\r\n    }\r\n}","import * as vscode from 'vscode';\r\nimport {getGeminiCompletion} from \"./openaiLLM\";\r\nimport { postprocessCompletion } from \"./postProcessing\";\r\nimport { AUTH_TOKEN } from \"./Constants\";\r\nimport { updateAccountUsage, getAccountUsage } from \"./CommonServices\";\r\nimport { getStoreKey } from \"./StorageService\";\r\n \r\n/**\r\n * AICodeCompletionProvider now includes:\r\n * - A 1-second debounce delay\r\n * - Checks for meaningful trigger patterns and minimal changes (95% similarity threshold)\r\n * - A 30-second cache keyed by file+cursor+context\r\n * - Aborting in-flight API requests if new ones are triggered\r\n */\r\n// export class AICodeCompletionProvider implements vscode.InlineCompletionItemProvider {\r\n//     // Debounce timer and abort controller for in-flight API calls\r\n//     private timeout: NodeJS.Timeout | undefined;\r\n//     private abortController: AbortController | undefined;\r\n\r\n//     // Track the last prefix for similarity checks and typing pattern detection.\r\n//     private lastPrefix: string | null = null;\r\n//     private lastInvocationTime: number = 0;\r\n//     private lastLineNumber: number | null = null;\r\n//     private readonly DEBOUNCE_DELAY = 200; // increased debounce delay\r\n//     private readonly MIN_TYPING_INTERVAL = 150;\r\n\r\n//     // Cache for completions (valid for 30 seconds)\r\n//     // Removed \"private\" so that it can be accessed by helper functions.\r\n//     static cache = new Map<string, { completion: string, timestamp: number }>();\r\n//     static readonly CACHE_DURATION = 30000; // in milliseconds\r\n\r\n\r\n//     async provideInlineCompletionItems(\r\n//         document: vscode.TextDocument,\r\n//         position: vscode.Position,\r\n//         context: vscode.InlineCompletionContext,\r\n//         token: vscode.CancellationToken\r\n//     ): Promise<vscode.InlineCompletionList | null> {\r\n//         console.log(\"Completion provider triggered\", document.fileName);\r\n//         const startTime = Date.now();\r\n//         console.log(`[${startTime}] Completion provider triggered for ${document.fileName}`);\r\n//         // Clear any pending debounce timer and abort any in-flight request\r\n//         if (this.timeout) {\r\n//             console.log(`[${Date.now()}] Clearing previous debounce timer.`);\r\n//             clearTimeout(this.timeout);\r\n//         }\r\n//         if (this.abortController) {\r\n//             console.log(`[${Date.now()}] Aborting previous API request.`);\r\n//             this.abortController.abort();\r\n//         }\r\n\r\n//         // Wrap in a promise that waits DEBOUNCE_DELAY before proceeding.\r\n//         return new Promise((resolve) => {\r\n//             this.timeout = setTimeout(async () => {\r\n//                 try {\r\n//                     const now = Date.now();\r\n//                     console.log(`[${now}] Debounce delay passed. Checking API quota...`);\r\n//                     const authToken = getStoreKey(AUTH_TOKEN);\r\n//                     const userUsage = await getAccountUsage(authToken);\r\n\r\n//                     // Check if autocomplete quota is exhausted.\r\n//                     if (\r\n//                         userUsage?.account_usage?.autocomplete?.used_requests >=\r\n//                         userUsage?.account_usage?.autocomplete?.total_requests\r\n//                     ) {\r\n//                         console.log(`[${Date.now()}] Autocompletion quota exhausted!`);\r\n\r\n//                         resolve(null);\r\n//                         return;\r\n//                     }\r\n\r\n//                     // Get document text and determine cursor offset.\r\n//                     const fullText = document.getText();\r\n//                     const cursorOffset = document.offsetAt(position);\r\n\r\n//                     const prefix = fullText.slice(0, cursorOffset);\r\n//                     const suffix = fullText.slice(cursorOffset);\r\n\r\n//                     // --- Smarter Trigger Detection ---\r\n//                     // (a) Require a minimum of 3 non-whitespace characters.\r\n//                     if (prefix.trim().length < 3) {\r\n//                         console.log(`[${Date.now()}] Prefix too short. Skipping API call.`);\r\n//                         resolve(null);\r\n//                         return;\r\n//                     }\r\n//                     // 1. Determine the current line number.\r\n//                     const currentLineNumber = position.line;\r\n\r\n//                     // 2. If the user moved to a new line, reset the lastPrefix.\r\n//                     if (this.lastLineNumber !== null && this.lastLineNumber !== currentLineNumber) {\r\n//                         this.lastPrefix = null;\r\n//                     }\r\n//                     this.lastLineNumber = currentLineNumber;\r\n\r\n//                     // 3. Now get the current line text.\r\n//                     const currentLineText = document.lineAt(position.line).text;\r\n\r\n//                     // 4. Do the similarity check using the current line text.\r\n//                     if (this.lastPrefix !== null) {\r\n//                         const similarity = calculateSimilarity(this.lastPrefix, currentLineText);\r\n//                         if (similarity >= 0.95) {\r\n//                             console.log(`[${Date.now()}] Minimal prefix change (similarity=${similarity}). Skipping API call.`);\r\n//                             resolve(null);\r\n//                             return;\r\n//                         }\r\n//                     }\r\n\r\n//                     // 5. Save the current line text for the next comparison.\r\n//                     this.lastPrefix = currentLineText;\r\n\r\n//                     // (b) Compare with last prefix; if very similar (>95%), skip API call.\r\n//                     // if (this.lastPrefix !== null) {\r\n//                     //     const similarity = calculateSimilarity(this.lastPrefix, prefix);\r\n//                     //     if (similarity >= 0.95) {\r\n//                     //         console.log(`[${Date.now()}] Minimal prefix change (similarity=${similarity}). Skipping API call.`);\r\n//                     //         resolve(null);\r\n//                     //         return;\r\n//                     //     }\r\n//                     // }\r\n//                     // Save current prefix for next comparison.\r\n//                     this.lastPrefix = prefix;\r\n\r\n//                     // (c) Ensure the last character is “meaningful.”\r\n//                     let meaningfulPattern: RegExp;\r\n//                     if (document.languageId === \"python\") {\r\n//                         meaningfulPattern = /[a-zA-Z0-9\\)\\]\\}\\:]+$/;\r\n//                     } else if (\r\n//                         [\r\n//                             \"javascript\",\r\n//                             \"typescript\",\r\n//                             \"typescriptreact\",\r\n//                             \"java\",\r\n//                             \"csharp\",\r\n//                         ].includes(document.languageId)\r\n//                     ) {\r\n//                         meaningfulPattern = /[a-zA-Z0-9\\)\\]\\}\\{]+$/;\r\n//                     } else {\r\n//                         meaningfulPattern = /[a-zA-Z0-9\\)\\]\\}]$/;\r\n//                     }\r\n//                     console.log(prefix, \"prefixxx\");\r\n//                     if (!meaningfulPattern.test(prefix.trim())) {\r\n//                         console.log(\r\n//                             `[${Date.now()}] Last character \"${prefix.trim()}\" not meaningful. Skipping API call.`\r\n//                         );\r\n\r\n//                         resolve(null);\r\n//                         return;\r\n//                     }\r\n\r\n//                     // --- Typing Pattern Detection ---\r\n//                     // If the user is typing too fast, skip.\r\n//                     if (now - this.lastInvocationTime < this.MIN_TYPING_INTERVAL) {\r\n//                         console.log(`[${Date.now()}] Typing too fast (${now - this.lastInvocationTime}ms since last call). Skipping API call.`);\r\n//                         resolve(null);\r\n//                         return;\r\n//                     }\r\n//                     this.lastInvocationTime = now;\r\n\r\n//                     // --- Caching ---\r\n//                     // Build a cache key from file name, cursor offset, and the last 50 characters of the prefix.\r\n//                     const cacheKey = generateCacheKey(document, cursorOffset, prefix);\r\n//                     cleanupCache(); // remove expired cache entries\r\n//                     if (AICodeCompletionProvider.cache.has(cacheKey)) {\r\n//                         const cached = AICodeCompletionProvider.cache.get(cacheKey)!;\r\n//                         if (now - cached.timestamp < AICodeCompletionProvider.CACHE_DURATION) {\r\n//                             console.log(\"Returning cached completion.\");\r\n//                             // Adjust the insertion position as below.\r\n//                             const adjustedPosition = adjustPosition(document, position);\r\n//                             const item = new vscode.InlineCompletionItem(\r\n//                                 cached.completion,\r\n//                                 new vscode.Range(adjustedPosition, adjustedPosition)\r\n//                             );\r\n//                             resolve({ items: [item] });\r\n//                             return;\r\n//                         } else {\r\n//                             // Expired; remove from cache.\r\n//                             AICodeCompletionProvider.cache.delete(cacheKey);\r\n//                         }\r\n//                     }\r\n\r\n//                     // Check if we're at the end of a code block.\r\n//                     const lineText = document.lineAt(position.line).text;\r\n//                     const isAfterClosingBrace = lineText.trim().endsWith('}');\r\n\r\n//                     // Adjust the insertion position if needed.\r\n//                     const adjustedPosition = adjustPosition(document, position);\r\n\r\n//                     // Set up a new abort controller for this API call.\r\n//                     this.abortController = new AbortController();\r\n//                     console.log(`[${Date.now()}] Making API call to OpenAI...`);\r\n//                     // Call OpenAI API to get the completion.\r\n\r\n\r\n//                     const completion = await getOpenAICompletion(\r\n//                         document.fileName,\r\n//                         cursorOffset,\r\n//                         prefix,\r\n//                         suffix,\r\n//                         await vscode.env.clipboard.readText(),\r\n//                         document.languageId,\r\n//                         {\r\n//                             disable: false,\r\n//                             useCopyBuffer: false,\r\n//                             useFileSuffix: true,\r\n//                             maxPromptTokens: 1024,\r\n//                             prefixPercentage: 0.85,\r\n//                             maxSuffixPercentage: 0.25,\r\n//                             debounceDelay: 350,\r\n//                             multilineCompletions: \"auto\",\r\n//                             slidingWindowPrefixPercentage: 0.75,\r\n//                             slidingWindowSize: 500,\r\n//                             maxSnippetPercentage: 0.6,\r\n//                             recentlyEditedSimilarityThreshold: 0.3,\r\n//                             useCache: true,\r\n//                             onlyMyCode: true,\r\n//                             useOtherFiles: true,\r\n//                             useRecentlyEdited: true,\r\n//                             recentLinePrefixMatchMinLength: 7,\r\n//                             disableInFiles: undefined,\r\n//                             useImports: true\r\n//                         },\r\n//                         [],\r\n//                         this.abortController.signal\r\n//                     );\r\n//                     console.log(`[${Date.now()}] ${completion} Received API response.`);\r\n//                     // Update account usage.\r\n\r\n//                     try {\r\n//                         const updatePayload = { autocomplete: 1 };\r\n//                         await updateAccountUsage(authToken, updatePayload);\r\n//                     } catch (error) {\r\n//                         console.log(\"Error updating autocomplete usage\", error);\r\n//                     }\r\n\r\n//                     // if (token.isCancellationRequested) {\r\n//                     //     resolve(null);\r\n//                     //     return;\r\n//                     // }\r\n//                     // --- 7. Respect the Cancellation Token, but check for significant changes ---\r\n\r\n//                     if (token.isCancellationRequested) {\r\n//                         // Get the current prefix and compare with the one used for the API call.\r\n//                         const currentPrefix = document\r\n//                             .getText()\r\n//                             .slice(0, document.offsetAt(position));\r\n//                         const similarityAfter = calculateSimilarity(currentPrefix, prefix);\r\n//                         if (similarityAfter < 0.95) {\r\n//                             console.log(\r\n//                                 `[${Date.now()}] Cancellation token signaled and prefix changed significantly (${similarityAfter}). Discarding API response.`\r\n//                             );\r\n//                             resolve(null);\r\n//                             return;\r\n//                         } else {\r\n//                             console.log(\r\n//                                 `[${Date.now()}] Cancellation token signaled but prefix remains similar (${similarityAfter}). Proceeding with suggestion.`\r\n//                             );\r\n//                         }\r\n//                     }\r\n\r\n//                     // Postprocess the completion (formatting and filtering).\r\n\r\n//                     const processedCompletion = postprocessCompletion({\r\n//                         completion,\r\n//                         prefix,\r\n//                         suffix,\r\n//                         isAfterClosingBrace,\r\n//                         languageId: document.languageId,\r\n//                     });\r\n\r\n//                     if (!processedCompletion) {\r\n//                         console.log(`[${Date.now()}] Processed completion is empty. Skipping.`);\r\n//                         resolve(null);\r\n//                         return;\r\n//                     }\r\n\r\n//                     // Cache the completion.\r\n//                     AICodeCompletionProvider.cache.set(cacheKey, {\r\n//                         completion: processedCompletion,\r\n//                         timestamp: Date.now()\r\n//                     });\r\n//                     console.log(`[${Date.now()}] Caching new completion with key: ${cacheKey}`);\r\n//                     // Create an inline completion item.\r\n\r\n//                     const item = new vscode.InlineCompletionItem(\r\n//                         processedCompletion,\r\n//                         new vscode.Range(adjustedPosition, adjustedPosition)\r\n//                     );\r\n//                     console.log(`[${Date.now()}] Returning inline completion.`);\r\n\r\n//                     resolve({ items: [item] });\r\n//                 } catch (error: any) {\r\n//                     if (error.name === \"AbortError\" || error.message?.includes(\"Request was aborted\")) {\r\n//                         resolve(null);\r\n//                     } else {\r\n//                         console.error(\"Completion error:\", error.name, error);\r\n//                         resolve(null);\r\n//                     }\r\n//                 }\r\n//             }, this.DEBOUNCE_DELAY);\r\n//         });\r\n//     }\r\n// }\r\n\r\n// /**\r\n//  * Generates a cache key based on the file name, cursor offset, and last 50 characters of the prefix.\r\n//  */\r\n// function generateCacheKey(document: vscode.TextDocument, cursorOffset: number, prefix: string): string {\r\n//     const contextSnippet = prefix.slice(-50);\r\n//     return `${document.fileName}:${cursorOffset}:${contextSnippet}`;\r\n// }\r\n\r\n// /**\r\n//  * Cleans up expired cache entries.\r\n//  */\r\n// function cleanupCache() {\r\n//     const now = Date.now();\r\n//     for (const [key, value] of AICodeCompletionProvider.cache.entries()) {\r\n//         if (now - value.timestamp >= AICodeCompletionProvider.CACHE_DURATION) {\r\n//             AICodeCompletionProvider.cache.delete(key);\r\n//         }\r\n//     }\r\n// }\r\n// function adjustPosition(document: vscode.TextDocument, position: vscode.Position): vscode.Position {\r\n//     const lineText = document.lineAt(position.line).text;\r\n//     const isAfterClosingBrace = lineText.trim().endsWith('}');\r\n//     let adjustedPosition = position;\r\n//     if (\r\n//         isAfterClosingBrace &&\r\n//         (document.languageId === \"javascript\" ||\r\n//             document.languageId === \"typescript\" ||\r\n//             document.languageId === \"csharp\" ||\r\n//             document.languageId === \"java\")\r\n//     ) {\r\n//         adjustedPosition = position.translate(1, 0);\r\n//     } else if (\r\n//         (document.languageId === \"python\" || document.languageId === \"typescriptreact\") &&\r\n//         lineText.trim() !== \"\"\r\n//     ) {\r\n//         adjustedPosition = new vscode.Position(position.line + 1, 0);\r\n//     }\r\n//     return position;\r\n// }\r\n\r\n// function calculateSimilarity(a: string, b: string): number {\r\n//     const minLen = Math.min(a.length, b.length);\r\n//     let commonLength = 0;\r\n//     for (let i = 0; i < minLen; i++) {\r\n//         if (a[i] === b[i]) {\r\n//             commonLength++;\r\n//         } else {\r\n//             break;\r\n//         }\r\n//     }\r\n//     const similarity = commonLength / Math.max(a.length, b.length);\r\n//     console.log(`[${new Date().toISOString()}] Similarity between prefixes: ${similarity}`);\r\n//     return commonLength / Math.max(a.length, b.length);\r\n// }\r\n\r\n\r\n// Utility: simple debounce function\r\nfunction debounce<T extends (...args: any[]) => any>(fn: T, delay: number): T {\r\n    let timeout: NodeJS.Timeout | null = null;\r\n    return ((...args: any[]) => {\r\n        if (timeout) {\r\n            clearTimeout(timeout);\r\n        }\r\n        return new Promise((resolve) => {\r\n            timeout = setTimeout(async () => {\r\n                resolve(await fn(...args));\r\n            }, delay);\r\n        });\r\n    }) as T;\r\n}\r\n\r\n\r\n/**\r\n * AICodeCompletionProvider now includes:\r\n * - A 1-second debounce delay\r\n * - Checks for meaningful trigger patterns and minimal changes (95% similarity threshold)\r\n * - A 30-second cache keyed by file+cursor+context\r\n * - Aborting in-flight API requests if new ones are triggered\r\n */\r\nexport class AICodeCompletionProvider implements vscode.InlineCompletionItemProvider {\r\n    // Timer & cancellation management\r\n    private abortController: AbortController | null = null;\r\n    private lastValidCompletion: vscode.InlineCompletionItem | null = null;\r\n\r\n    // For tracking changes in the full prefix (we now focus only on the last 30 characters)\r\n    private lastFullPrefix: string | null = null;\r\n    private lastInvocationTime: number = 0;\r\n\r\n    // Constants\r\n    private readonly DEBOUNCE_DELAY = 250; // ms\r\n    private readonly MIN_TYPING_INTERVAL = 300; // ms\r\n    private readonly SUGGESTION_TIMEOUT = 5000; // 5 seconds\r\n\r\n    // Cache for completions (valid for 30 seconds)\r\n    static cache = new Map<string, { completion: string; timestamp: number }>();\r\n    static readonly CACHE_DURATION = 30000; // ms\r\n\r\n    // Wrap our API call in a debounced function.\r\n    private debouncedProvide = debounce(this.provideCompletionInternal.bind(this), this.DEBOUNCE_DELAY);\r\n\r\n\r\n    // Track the last prefix for similarity checks and typing pattern detection.\r\n    private lastPrefix: string | null = null;\r\n    \r\n\r\n    async provideInlineCompletionItems(\r\n        document: vscode.TextDocument,\r\n        position: vscode.Position,\r\n        context: vscode.InlineCompletionContext,\r\n        token: vscode.CancellationToken\r\n    ): Promise<vscode.InlineCompletionList | null> {\r\n        console.log(\"Triggering completion for\", document.fileName);\r\n        return await this.debouncedProvide(document, position, token);\r\n    }\r\n\r\n    private async provideCompletionInternal(\r\n        document: vscode.TextDocument,\r\n        position: vscode.Position,\r\n        token: vscode.CancellationToken\r\n    ): Promise<vscode.InlineCompletionList | null> {\r\n        const now = Date.now();\r\n        const fullText = document.getText();\r\n        const cursorOffset = document.offsetAt(position);\r\n        const prefix = fullText.slice(0, cursorOffset);\r\n        const suffix = fullText.slice(cursorOffset);\r\n        // Throttle calls if typing too fast.\r\n        if (now - this.lastInvocationTime < this.MIN_TYPING_INTERVAL) {\r\n            console.log(`Typing too fast (${now - this.lastInvocationTime}ms). Skipping API call.`);\r\n            return null;\r\n        }\r\n        this.lastInvocationTime = now;\r\n\r\n        // Abort any in-flight API call.\r\n        if (this.abortController  ) {\r\n            console.log(\"Aborting previous API request.\");\r\n\r\n            this.abortController.abort();\r\n        }\r\n        this.abortController = new AbortController();\r\n\r\n        // Check autocomplete quota before proceeding (assumes getStoreKey and getAccountUsage exist).\r\n        const authToken = getStoreKey(AUTH_TOKEN);\r\n        const userUsage = await getAccountUsage(authToken);\r\n        if (\r\n            userUsage?.account_usage?.autocomplete?.used_requests >=\r\n            userUsage?.account_usage?.autocomplete?.total_requests\r\n        ) {\r\n            console.log(\"Autocompletion quota exhausted.\");\r\n            return null;\r\n        }\r\n\r\n        // Get prefix and suffix.\r\n        // const fullText = document.getText();\r\n        // const cursorOffset = document.offsetAt(position);\r\n        // const prefix = fullText.slice(0, cursorOffset);\r\n        // const suffix = fullText.slice(cursorOffset);\r\n        console.log(fullText, \"fullText_vscode\");\r\n        console.log(cursorOffset, \"cursorOffset_vscode\");\r\n        console.log(prefix, \"prefix_vscode\");\r\n        console.log(suffix, \"suffix_vscode\");\r\n        \r\n        // (a) Skip if prefix is too short (minimum non-whitespace characters).\r\n        if (prefix.trim().length < 3) {\r\n            console.log(\"Prefix too short. Skipping API call.\");\r\n            return null;\r\n        }\r\n\r\n        // (b) Compare only the recent part of the prefix (e.g. last 30 characters).\r\n        const recentContextLength = 30;\r\n        const newRecent = prefix.slice(-recentContextLength);\r\n        // console.log(this.lastFullPrefix.slice(-recentContextLength), \"oldRecent\", newRecent,\"newRecent\");\r\n        if (this.lastFullPrefix !== null) {\r\n            const oldRecent = this.lastFullPrefix.slice(-recentContextLength);\r\n            console.log(oldRecent, \"oldRecent\", newRecent,\"newRecent\");\r\n            \r\n            const similarity = calculateSimilarity(oldRecent, newRecent);\r\n            if (similarity>= 0.85 && this.lastValidCompletion ) {\r\n                console.log(`Minimal change in recent prefix (similarity=${similarity}). Skipping API call.`);\r\n                return { items: [this.lastValidCompletion] };\r\n            }\r\n        }\r\n        this.lastFullPrefix = prefix;\r\n\r\n        // (c) Check that the last character is meaningful.\r\n        const lastChar = prefix.trim().slice(-1);\r\n        const meaningfulPattern = getMeaningfulPatternForLanguage(document.languageId);\r\n        if (!meaningfulPattern.test(lastChar)) {\r\n            console.log(`Last character \"${lastChar}\" not meaningful. Skipping API call.`);\r\n            return null;\r\n        }\r\n\r\n        // --- Caching ---\r\n        const cacheKey = generateCacheKey(document, cursorOffset, prefix);\r\n        cleanupCache();\r\n        if (AICodeCompletionProvider.cache.has(cacheKey)) {\r\n            const cached = AICodeCompletionProvider.cache.get(cacheKey)!;\r\n            if (now - cached.timestamp < AICodeCompletionProvider.CACHE_DURATION) {\r\n                console.log(\"Returning cached completion.\");\r\n                const adjustedPosition = adjustPosition(document, position);\r\n                const item = new vscode.InlineCompletionItem(\r\n                    cached.completion,\r\n                    new vscode.Range(adjustedPosition, adjustedPosition)\r\n                );\r\n                return { items: [item] };\r\n            } else {\r\n                AICodeCompletionProvider.cache.delete(cacheKey);\r\n            }\r\n        }\r\n\r\n        // --- API Call ---\r\n        const isAfterClosingBrace = document.lineAt(position.line).text.trim().endsWith(\"}\");\r\n        const adjustedPosition = adjustPosition(document, position);\r\n        console.log(\"Making API call to OpenAI...\");\r\n\r\n        let completion: string;\r\n        try {\r\n            completion = await getGeminiCompletion(\r\n                document.fileName,\r\n                cursorOffset,\r\n                prefix,\r\n                suffix,\r\n                await vscode.env.clipboard.readText(),\r\n                document.languageId,\r\n                {\r\n                    // ... your options here\r\n                    disable: false,\r\n                    useCopyBuffer: false,\r\n                    useFileSuffix: true,\r\n                    maxPromptTokens: 1024,\r\n                    prefixPercentage: 0.85,\r\n                    maxSuffixPercentage: 0.25,\r\n                    debounceDelay: 350,\r\n                    multilineCompletions: \"auto\",\r\n                    slidingWindowPrefixPercentage: 0.75,\r\n                    slidingWindowSize: 500,\r\n                    maxSnippetPercentage: 0.6,\r\n                    recentlyEditedSimilarityThreshold: 0.3,\r\n                    useCache: true,\r\n                    onlyMyCode: true,\r\n                    useOtherFiles: true,\r\n                    useRecentlyEdited: true,\r\n                    recentLinePrefixMatchMinLength: 7,\r\n                    disableInFiles: undefined,\r\n                    useImports: true,\r\n                },\r\n                [],\r\n                this.abortController.signal\r\n            );\r\n        } catch (error: any) {\r\n            if (error.name === \"AbortError\" || error.message?.includes(\"Request was aborted\")) {\r\n                console.log(\"API call aborted.\");\r\n                return null;\r\n            } else {\r\n                console.error(\"Error during API call:\", error);\r\n                return null;\r\n            }\r\n        }\r\n        console.log(`[${Date.now()}] ${completion} Received API response.`);\r\n        // Update account usage asynchronously (fire-and-forget).\r\n        updateAccountUsage(authToken, { autocomplete: 1 }).catch((err) =>\r\n            console.error(\"Error updating usage:\", err)\r\n        );\r\n\r\n        // Respect the cancellation token before postprocessing.\r\n        if (token.isCancellationRequested) {\r\n            const currentPrefix = document.getText().slice(0, document.offsetAt(position));\r\n            const similarityAfter = calculateSimilarity(currentPrefix, prefix);\r\n            if (similarityAfter < 0.90) {\r\n                console.log(\r\n                    `Cancellation detected with significant change (similarity=${similarityAfter}). Discarding response.`\r\n                );\r\n                return null;\r\n            } else {\r\n                console.log(\r\n                    `Cancellation detected but prefix similar (similarity=${similarityAfter}). Proceeding.`\r\n                );\r\n            }\r\n        }\r\n\r\n        // --- Postprocessing ---\r\n        const processedCompletion = postprocessCompletion({\r\n            completion,\r\n            prefix,\r\n            suffix,\r\n            isAfterClosingBrace,\r\n            languageId: document.languageId,\r\n        });\r\n        if (processedCompletion) {\r\n            const item = new vscode.InlineCompletionItem(\r\n                processedCompletion,\r\n                new vscode.Range(adjustedPosition, adjustedPosition)\r\n            );\r\n            this.lastValidCompletion = item;\r\n            return { items: [item] };\r\n        }\r\n        else{\r\n            console.log(\"Processed completion:\", processedCompletion);\r\n            return null;\r\n        }\r\n    }\r\n        // Cache the new completion.\r\n    //     AICodeCompletionProvider.cache.set(cacheKey, {\r\n    //         completion: processedCompletion,\r\n    //         timestamp: Date.now(),\r\n    //     });\r\n    //     console.log(\"Caching new completion with key:\", cacheKey);\r\n\r\n    //     const item = new vscode.InlineCompletionItem(\r\n    //         processedCompletion,\r\n    //         new vscode.Range(adjustedPosition, adjustedPosition)\r\n    //     );\r\n    //     console.log(\"Returning inline completion.\");\r\n    //     return { items: [item] };\r\n    // }\r\n}\r\n\r\n/** Helper to return a language-specific meaningful-character regex */\r\nfunction getMeaningfulPatternForLanguage(languageId: string): RegExp {\r\n    if (languageId === \"python\") {\r\n        return /[a-zA-Z0-9\\)\\]\\}\\:]/; // check only last character\r\n    } else if ([\"javascript\", \"typescript\", \"typescriptreact\", \"java\", \"csharp\"].includes(languageId)) {\r\n        return /[a-zA-Z0-9\\)\\]\\}\\{]/;\r\n    }\r\n    return /[a-zA-Z0-9\\)\\]\\}]/;\r\n}\r\n\r\n/**\r\n * Generates a cache key based on file name, cursor offset, and a snippet of the prefix.\r\n */\r\nfunction generateCacheKey(document: vscode.TextDocument, cursorOffset: number, prefix: string): string {\r\n    const contextSnippet = prefix.slice(-50);\r\n    return `${document.fileName}:${cursorOffset}:${contextSnippet}`;\r\n}\r\n\r\n/**\r\n * Cleans up expired cache entries.\r\n */\r\nfunction cleanupCache() {\r\n    const now = Date.now();\r\n    for (const [key, value] of AICodeCompletionProvider.cache.entries()) {\r\n        if (now - value.timestamp >= AICodeCompletionProvider.CACHE_DURATION) {\r\n            AICodeCompletionProvider.cache.delete(key);\r\n        }\r\n    }\r\n}\r\n\r\nfunction adjustPosition(document: vscode.TextDocument, position: vscode.Position): vscode.Position {\r\n    // Optionally adjust the insertion point (for example, skip whitespace)\r\n    return position;\r\n}\r\n\r\nfunction calculateSimilarity(a: string, b: string): number {\r\n    const minLen = Math.min(a.length, b.length);\r\n    let commonLength = 0;\r\n    for (let i = 0; i < minLen; i++) {\r\n        if (a[i] === b[i]) {\r\n            commonLength++;\r\n        } else {\r\n            break;\r\n        }\r\n    }\r\n    const similarity = commonLength / Math.max(a.length, b.length);\r\n    console.log(`Similarity between strings: ${similarity}`);\r\n    return similarity;\r\n}\r\n\r\n","//@ts-ignore\r\nimport * as vscode from \"vscode\";\r\nimport * as os from 'os';\r\nimport * as crypto from 'crypto';\r\n\r\nimport { MIXPANEL_KEY } from './Constants';\r\nconst MixPanel = require('mixpanel');\r\n\r\nexport class Analytics {\r\n    private systemInfo: any;\r\n    private ctx: vscode.ExtensionContext;\r\n    constructor(ctx: vscode.ExtensionContext){\r\n        this.ctx = ctx;\r\n        //@ts-ignore\r\n        this.conn = MixPanel.init(MIXPANEL_KEY, {\r\n            // keepAlive: false,\r\n            debug: true,\r\n        });\r\n        this.systemInfo = getSystemDetails(ctx);\r\n    }\r\n    public track(eventName:string, extraData:any){\r\n        console.log(\"TRACKING EVENT\", eventName, \"EXTRA DATA\", extraData, \"DISTINCT UID\", extraData.userTrackPoints.distinct_id)\r\n        if(extraData.uid)\r\n            extraData.distinct_id = extraData.uid;\r\n        else if (extraData?.userTrackPoints?.distinct_id)\r\n            extraData.distinct_id = extraData?.userTrackPoints?.distinct_id;\r\n        if (extraData.user_ip_address)\r\n            // extraData.ip_address = extraData.user_ip_address\r\n            extraData.ip = extraData.user_ip_address\r\n            // extraData.$ip = extraData.user_ip_address\r\n        extraData = {...this.systemInfo, ...extraData};\r\n        console.log(\"FINAL DATA FOR TRACKING\", extraData)\r\n        //@ts-ignore\r\n        this.identify(extraData);\r\n        //@ts-ignore\r\n        this.conn.track(eventName, extraData);\r\n    }\r\n    public identify(user:any, isNew:boolean) {\r\n    // create or update a user in Mixpanel Engage\r\n    // MPObject.identify(user.uid || user.email);\r\n    // const extraData = {...this.systemInfo, ...user};\r\n    const uid = user.distinct_id || user.uid || user.email;\r\n    const userProfile = {    \r\n        distinct_id: uid,    \r\n        $email: user.email,\r\n        $name: user.name || user.username,\r\n        $created: new Date(user.createdAt || 0).toISOString(),\r\n        osPlatform: user.osPlatform || process.platform,\r\n        editorVersion: user.editorVersion,\r\n        extensionVersion: user.extensionVersion,\r\n        ip: user.ip || user.user_ip_address,\r\n    };\r\n\r\n    console.log(\"UPDATING USER PROFILE\", userProfile);\r\n        //@ts-ignore\r\n        this.conn.people.set(uid, userProfile);\r\n    // if (isNew) {\r\n    //     MPObject.alias('distinct_id', user.uid);\r\n    // }\r\n    }\r\n}\r\n\r\nexport const getUniqueDeviceId = (): string => {\r\n    const networkInterfaces = os.networkInterfaces();\r\n    //@ts-ignore\r\n    const macAddresses = Object.values(networkInterfaces)\r\n        .flat()//@ts-ignore\r\n        .filter((iface) => !iface.internal && iface.mac !== '00:00:00:00:00:00')//@ts-ignore\r\n        .map((iface) => iface.mac);\r\n\r\n    const macAddress = macAddresses.length > 0 ? macAddresses[0] : 'unknown';\r\n    const hash = crypto.createHash('sha256');\r\n    hash.update(macAddress);\r\n    return hash.digest('hex');\r\n};\r\n\r\nexport const getSystemDetails = (ctx: vscode.ExtensionContext)=> {\r\n    const osMap: Record<string, string> = {\r\n        win32: \"Windows\",\r\n        darwin: \"Mac OS X\",\r\n        linux: \"Linux\",\r\n        android: \"Android\",\r\n        ios: \"iOS\"\r\n      };\r\n    const detectedOS = osMap[process.platform] || \"Unknown\";\r\n    return {\r\n        vscodeExtensionMode: ctx.extensionMode,\r\n        extensionId: ctx.extension.id,\r\n        extensionPath: ctx.extension.extensionPath,\r\n        // extensionIsActive: ctx.extension.isActive,\r\n        editorVersion: vscode.version,\r\n        extensionVersion: ctx.extension.packageJSON.version,\r\n        osPlatform: process.platform,\r\n        $os: detectedOS,\r\n        osVersion: process.version,\r\n        deviceId: getUniqueDeviceId()\r\n    };\r\n}\r\n\r\n\r\nexport const getUserTrackPoints = (user:any, testData: any)=> {\r\n    let trackDetails = {};\r\n    if (user){\r\n        trackDetails = {\r\n            email: user.email,\r\n            name: user.name || user.username,\r\n            distinct_id: user.uid,\r\n            createdAt: user.createdAt,\r\n        }\r\n    }\r\n    if (testData){\r\n        //@ts-ignore\r\n        trackDetails.language = testData.language;\r\n        //@ts-ignore\r\n        trackDetails.framework = testData.framework;\r\n        //@ts-ignore\r\n        trackDetails.requestId = testData.requestId;\r\n    }\r\n    return trackDetails;\r\n}\r\n","// AUTH_CONTEXT\r\nexport const SIGN_IN_BUTTON_CLICKED = \"sign in button clicked\";\r\nexport const SIGN_IN_SIDEBAR_BUTTON_CLICKED = \"sign in sidebar button clicked\";\r\nexport const LOGIN_SUCCESS_EVENT = \"login succeeded\";\r\nexport const LOGIN_FAILED_EVENT = \"login failed\";\r\nexport const HANDLE_URI_CALLBACK_INVOKED_EVENT = \"handle uri callback invoked\";\r\nexport const HANDLE_URI_CALLBACK_FAILED_EVENT = \"handle uri callback failed\";\r\nexport const LOGIN_PAGE_OPENED_EVENT = \"login page opened\";\r\n// EXTENSION_CONTEXT\r\nexport const EXTENSION_INSTALLED = \"extension installed\";\r\nexport const OPENED_SCANNER_CLICKED = \"open scanner clicked\";\r\nexport const OPENED_SCANNER_EDITOR_CLICKED = \"open scanner editor clicked\";\r\n\r\n// GEN_TESTS_CONTEXT\r\nexport const GENERATE_TESTS_ACTION_TRIGGERED_EVENT = \"generate tests action triggered\";\r\nexport const GENERATE_TESTS_SIDEBAR_ACTION_TRIGGERED_EVENT = \"generate tests sidebar action triggered\";\r\nexport const GENERATE_TESTS_REQUEST_SUCCEEDED_EVENT = \"generate tests request succeeded\";\r\nexport const GENERATE_TESTS_REQUEST_FAILED_EVENT = \"generate tests request failed\";\r\nexport const STREAM_DATA_ERROR_EVENT = \"stream data error\";\r\n\r\n// GENERATE_DOCSTRINGS_CONTEXT\r\nexport const GENERATE_DOCSTRINGS_ACTION_TRIGGERED_EVENT = \"generate docstrings action triggered\";\r\nexport const GENERATE_DOCSTRINGS_SIDEBAR_ACTION_TRIGGERED_EVENT = \"generate docstrings sidebar action triggered\";\r\nexport const GENERATE_DOCSTRINGS_REQUEST_SUCCEEDED_EVENT = \"generate docstrings request succeeded\";\r\nexport const GENERATE_DOCSTRINGS_REQUEST_FAILED_EVENT = \"generate docstrings request failed\";\r\n\r\n// Trigger events for generateExplainByClick\r\nexport const GENERATE_EXPLAIN_BY_CLICK_ACTION_TRIGGERED_EVENT= \"generate explain by click action triggered\";\r\nexport const GENERATE_EXPLAIN_BY_CLICK_SIDEBAR_ACTION_TRIGGERED_EVENT= \"generate explain by click sidebar action triggered\";\r\nexport const GENERATE_EXPLAIN_BY_CLICK_REQUEST_SUCCEEDED_EVENT= \"generate explain by click request succeeded\";\r\nexport const GENERATE_EXPLAIN_BY_CLICK_REQUEST_FAILED_EVENT= \"generate explain by click request failed\";\r\n\r\nexport const TERMINAL_CHAT_TRIGGERED = \"terminal chat triggered by kkey binding\"\r\nexport const TERMINAL_DEBUG_TRIGGERED = \"terminal debug triggered by key binding\"\r\nexport const EDIT_CODE_TRIGGERED = \"edit code triggered by key binding\"\r\n// Trigger events for generateAnswerByClick\r\nexport const GENERATE_ANSWER_BY_CLICK_ACTION_TRIGGERED_EVENT= \"generate answer by click action triggered\";\r\nexport const GENERATE_ANSWER_BY_CLICK_SIDEBAR_ACTION_TRIGGERED_EVENT= \"generate answer by click sidebar action triggered\";\r\nexport const GENERATE_ANSWER_BY_CLICK_REQUEST_SUCCEEDED_EVENT= \"generate answer by click request succeeded\";\r\nexport const GENERATE_ANSWER_BY_CLICK_REQUEST_FAILED_EVENT= \"generate answer by click request failed\";\r\n\r\n\r\nexport const ASK_PANEL_ACTION_TRIGGERED_EVENT_BY_KEYBINDING= \"ask panel action triggered\";\r\nexport const ASK_PANEL_BY_CLICK_SIDEBAR_ACTION_TRIGGERED_EVENT_BY_KEYBINDING= \"ask panel by click sidebar action triggered\";\r\n\r\nexport const BUILD_PANEL_ACTION_TRIGGERED_EVENT_BY_KEYBINDING= \"build panel action triggered\";\r\nexport const BUILD_PANEL_BY_CLICK_SIDEBAR_ACTION_TRIGGERED_EVENT_BY_KEYBINDING= \"build panel by click sidebar action triggered\";\r\n\r\n\r\n\r\n\r\n\r\n\r\n","// const baseURL = 'https://dev-ai-service.gocodeo.com';\r\n\r\n// const baseURL = 'http://127.0.0.1:5000';\r\n\r\n// const baseURL = 'https://staging-ai-service.gocodeo.com';\r\n\r\nconst baseURL =\"https://ai-service.gocodeo.com/\";\r\n\r\n\r\nexport const generateBehaviours = async (requestData, authToken) => {\r\n  try {\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), 40000); // Timeout after 40 seconds\r\n    const response = await fetch(`${baseURL}/api/v1/generate_behaviours/`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `${authToken}`,\r\n        \"mode\": \"cors\",\r\n        \"cache\": \"no-cache\"\r\n      },\r\n      body: JSON.stringify(requestData),\r\n      signal: controller.signal,\r\n    });\r\n    clearTimeout(timeoutId); // Clear the timeout if the request succeeds\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Error generating behaviors:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const generateTests = async (requestData, authToken) => {\r\n  try {\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), 40000); // Timeout after 20 seconds\r\n\r\n    const response = await fetch(`${baseURL}/api/v1/generate_test_cases/`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${authToken}`\r\n      },\r\n      body: JSON.stringify(requestData),\r\n      signal: controller.signal,\r\n    });\r\n    clearTimeout(timeoutId); // Clear the timeout if the request succeeds\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Error generating tests:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n\r\nexport const fixTests = async (requestData, authToken) => {\r\n  try {\r\n    console.log(\"fixing tests\", requestData);\r\n    const response = await fetch(`${baseURL}/api/v1/fix_failed_test_code/`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${authToken}`\r\n      },\r\n      body: JSON.stringify(requestData),\r\n    });\r\n    console.log(\"API response, fixTests\", response);\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Error generating tests:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const fixSingleTest = async (requestData, authToken) => {\r\n  try {\r\n    const response = await fetch(`${baseURL}/api/v1/fix_failed_single_test/`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${authToken}`\r\n      },\r\n      body: JSON.stringify(requestData),\r\n    });\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Error generating tests:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n\r\nexport const fixSingleCode = async (requestData, authToken) => {\r\n  try {\r\n    const response = await fetch(`${baseURL}/api/v1/fix_failed_single_code/`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${authToken}`\r\n      },\r\n      body: JSON.stringify(requestData),\r\n    });\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Error generating tests:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n\r\nexport const regenerateTests = async (requestData, authToken) => {\r\n  try {\r\n    const response = await fetch(\r\n      `${baseURL}/api/v1/test_case_regeneration/`,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${authToken}`,\r\n        },\r\n        body: JSON.stringify(requestData),\r\n      }\r\n    );\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error(\"Error generating tests:\", error);\r\n    throw error;\r\n  }\r\n};\r\nexport const feedbackOfTests = async (requestData, authToken) => {\r\n  try {\r\n    const response = await fetch(`${baseURL}/api/v1/test_case_feedback/`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${authToken}`,\r\n      },\r\n      body: JSON.stringify(requestData),\r\n    });\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error(\"Error generating tests:\", error);\r\n    throw error;\r\n  }\r\n};\r\nexport const addCustomTestsAPI = async (requestData, authToken) => {\r\n  try {\r\n    const response = await fetch(`${baseURL}/api/v1/custom_test_case/`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${authToken}`,\r\n      },\r\n      body: JSON.stringify(requestData),\r\n    });\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error(\"Error generating tests:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const customTestStyleAPI = async (requestData, authToken) => {\r\n  try {\r\n    const response = await fetch(`${baseURL}/api/v1/generate_test_cases/`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${authToken}`,\r\n      },\r\n      body: JSON.stringify(requestData),\r\n    });\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error(\"Error generating tests:\", error);\r\n    throw error;\r\n  }\r\n};\r\n// export const generateTestCodeFromTestPlansAPI = async (requestData, authToken) => {\r\n//   try {\r\n//     const response = await fetch(`${baseURL}/api/v1/generate_test_cases/`, {\r\n//       method: \"POST\",\r\n//       headers: {\r\n//         \"Content-Type\": \"application/json\",\r\n//         Authorization: `Bearer ${authToken}`,\r\n//       },\r\n//       body: JSON.stringify(requestData),\r\n//     });\r\n//     if (!response.ok) {\r\n//       throw new Error(`HTTP error! Status: ${response.status}`);\r\n//     }\r\n//     const data = await response.json();\r\n//     return data;\r\n//   } catch (error) {\r\n//     console.error(\"Error generating tests:\", error);\r\n//     throw error;\r\n//   }\r\n// };\r\n\r\nexport const getAutoComplete = async (requestData, authToken) => {\r\n  try {\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), 20000); // Timeout after 20 seconds\r\n\r\n    const response = await fetch(`${baseURL}/api/v1/codebase/autocomplete`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${authToken}`\r\n      },\r\n      body: JSON.stringify(requestData),\r\n      signal: controller.signal,\r\n    });\r\n    clearTimeout(timeoutId);\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Error getting autocomplete:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n\r\nexport const askCodeEdit = async(requestData, authToken) => {\r\n  try {\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), 40000); // Timeout after 20 seconds\r\n\r\n    const response = await fetch(`${baseURL}/api/v1/codebase/edit`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${authToken}`\r\n      },\r\n      body: JSON.stringify(requestData),\r\n      signal: controller.signal,\r\n    });\r\n    clearTimeout(timeoutId);\r\n    console.log(\"EDITCODE RESPONSE\", response);\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Error getting autocomplete:', error);\r\n    throw error;\r\n  }\r\n};\r\n","//@ts-nocheck\r\n/* eslint-disable */\r\nimport * as path from \"path\";\r\n\r\n//@ts-ignore\r\nconst fs = require(\"fs\");\r\n//@ts-ignore\r\nimport * as vscode from \"vscode\";\r\n// import { createClient } from '@supabase/supabase-js';\r\n\r\nimport { TestCodelensProvider, BuildCodeLensProvider, GoCodeoAskCodeLensProvider } from \"./CodelensProvider\";\r\nimport { ComponentsUnderTestDataProvider } from \"./Sidebar\";\r\nimport { getLanguageType, getImportedContent } from \"./CodeParser\";\r\nimport { openWebview } from \"./WebViewPanel\";\r\nimport { StorageService, getStoreKey } from \"./StorageService\";\r\nimport { AICodeCompletionProvider } from \"./AICodeCompletionProvider\";\r\n\r\nimport {\r\n  AUTH_TOKEN,\r\n  CMD_GET_STARTED,\r\n  CMD_SIGNIN,\r\n  SIGNIN_GOOGLE_URL,\r\n  SIGNIN_GITHUB_URL,\r\n  LOGGED_IN_KEY,\r\n  PRICING_PAGE,\r\n  SUPABASE_CLIENT_ID,\r\n  SUPABASE_CLIENT_SECRET,\r\n  SUPABASE_REDIRECT_URL,\r\n  BASE_URL\r\n} from \"./Constants\";\r\nimport {\r\n  authenticateUser,\r\n  doSignup,\r\n  getUniqueId,\r\n  parseJwt,\r\n  getUserProfile,\r\n  getUserUsage,\r\n  updateUserProfile,\r\n  getIPAddress,\r\n  askTerminalQuestion,\r\n} from \"./CommonServices\";\r\nimport {\r\n  Analytics,\r\n  getSystemDetails,\r\n  getUserTrackPoints,\r\n} from \"./MixpanelAnalytics\";\r\nimport * as AnalyticsEvents from \"./AnalyticsConstants\";\r\nimport { encrypt } from \"./EncryptDecrypt\";\r\nimport { log } from \"console\";\r\nimport { Position, TextDocument } from \"vscode\";\r\n//@ts-ignore\r\nimport { getAutoComplete, askCodeEdit } from \"../src/api\";\r\nimport {\r\n  CompletionItem,\r\n  CompletionItemProvider,\r\n  CompletionItemKind,\r\n  Position,\r\n  TextDocument,\r\n  CancellationToken,\r\n  CompletionContext,\r\n} from \"vscode\";\r\nimport prettier from \"prettier\";\r\nimport { debounce } from \"lodash\";\r\n\r\n// const supabase = createClient(\r\n//   SUPABASE_URL, SUPABASE_API_KEY\r\n// );\r\n// Add these interfaces\r\ninterface SessionInfo {\r\n  sessionId: string;\r\n  dateCreated: string;\r\n}\r\n\r\ninterface accountProfile {\r\n  uid: string;\r\n  extensionVersion: string\r\n}\r\n\r\ninterface ChatHistory {\r\n  sessionId: string;\r\n  chatHistory: Array<{\r\n    question: string;\r\n    answer: string;\r\n    timestamp: string;\r\n    context: string[];\r\n  }>;\r\n  title: string;\r\n}\r\n\r\ninterface BuildHistory {\r\n  sessionId: string;\r\n  buildHistory: Array<{\r\n    input: string;\r\n    output: string;\r\n    timestamp: string;\r\n  }>;\r\n  title: string;\r\n  rootDirectory: string;\r\n}\r\nlet sidebarProvider: ComponentsUnderTestDataProvider;\r\nfunction manageSessionsFile(sessionDir: string, sessionId: string): void {\r\n  const sessionsFile = path.join(sessionDir, \"sessions.json\");\r\n  let sessions: SessionInfo[] = [];\r\n  // console.log(sessionsFile, sessionId, \"sessionsFile,sessionId\");\r\n  // Read existing sessions or create new file\r\n  if (fs.existsSync(sessionsFile)) {\r\n    const content = fs.readFileSync(sessionsFile, \"utf8\");\r\n    sessions = JSON.parse(content);\r\n  }\r\n\r\n  // Add new session\r\n  const timestamp = sessionId?.split(\"_\")[1];\r\n  sessions.push({\r\n    sessionId: sessionId,\r\n    dateCreated: timestamp,\r\n  });\r\n  // console.log(sessions, \"sessions\");\r\n\r\n  // Write back to file\r\n  fs.writeFileSync(sessionsFile, JSON.stringify(sessions, null, 2));\r\n}\r\n\r\nexport function manageAccountsFile(systemInfo) {\r\n  const userDataPath =\r\n    process.platform === \"win32\"\r\n      ? process.env.APPDATA ||\r\n      path.join(process.env.USERPROFILE || \"\", \"AppData\", \"Roaming\")\r\n      : path.join(process.env.HOME || \"\", \".config\");\r\n\r\n  const accountsDir = path.join(userDataPath, \"gocodeo\", \"User\", \"globalStorage\");\r\n  const accountsFile = path.join(accountsDir, \"storage.json\")\r\n  let associatedProfiles: accountProfile = []\r\n\r\n\r\n  if (!fs.existsSync(accountsDir)) {\r\n    // console.log(`2201: Directory ${accountsDir} does not exist. Creating it`);\r\n    fs.mkdirSync(accountsDir, { recursive: true });\r\n  }\r\n\r\n  if (!fs.existsSync(accountsFile)) {\r\n    associatedProfiles.push({\r\n      uid: systemInfo?.uid,\r\n      extensionVersion: systemInfo?.extensionVersion\r\n    })\r\n    const sampleJson = { deviceId: systemInfo?.deviceId, associatedProfiles: associatedProfiles };\r\n    // console.log(`2201: File ${accountsFile} does not exist. Creating file with sample JSON. ${sampleJson}`);\r\n    fs.writeFileSync(accountsFile, JSON.stringify(sampleJson, null, 2), \"utf8\");\r\n  } else {\r\n    const content = fs.readFileSync(accountsFile, \"utf8\");\r\n    const account = JSON.parse(content);\r\n    associatedProfiles = account?.associatedProfiles\r\n\r\n    // console.log(\"2201: account file contents\", account)\r\n  }\r\n}\r\n\r\nexport function getRecentBuildHistories(): BuildHistory[] {\r\n  const userDataPath =\r\n    process.platform === \"win32\"\r\n      ? process.env.APPDATA ||\r\n      path.join(process.env.USERPROFILE || \"\", \"AppData\", \"Roaming\")\r\n      : path.join(process.env.HOME || \"\", \".config\");\r\n\r\n  const sessionDir = path.join(userDataPath, \"gocodeo\", \"build_sessions\");\r\n\r\n  if (!fs.existsSync(sessionDir)) {\r\n    // console.log(`Directory ${sessionDir} does not exist.`);\r\n    return [];\r\n  }\r\n\r\n  const files = fs\r\n    .readdirSync(sessionDir)\r\n    ?.filter((file) => file.endsWith(\".json\") && file !== \"sessions.json\")\r\n    ?.map((file) => {\r\n      const fullPath = path.join(sessionDir, file);\r\n      const timestamp = parseInt(file?.split(\"_\")[1]?.split(\".\")[0] || \"0\");\r\n      return { file, timestamp, fullPath };\r\n    })\r\n    .sort((a, b) => b.timestamp - a.timestamp);\r\n\r\n  const recentHistories: BuildHistory[] = [];\r\n\r\n  for (const file of files) {\r\n    try {\r\n      const content = fs.readFileSync(file.fullPath, \"utf8\");\r\n      const buildData: BuildHistory = JSON.parse(content);\r\n\r\n      if (buildData.buildHistory && buildData.buildHistory.length > 0) {\r\n        recentHistories.push(buildData);\r\n      } else {\r\n        fs.unlinkSync(file.fullPath);\r\n        console.log(\r\n          `Deleted empty build history file: ${path.basename(file.fullPath)}`\r\n        );\r\n      }\r\n    } catch (err) {\r\n      console.error(`Error reading file ${file.file}:`, err);\r\n\r\n      try {\r\n        fs.unlinkSync(file.fullPath);\r\n        console.log(\r\n          `Deleted corrupted build history file due to read error: ${path.basename(\r\n            file.fullPath\r\n          )}`\r\n        );\r\n      } catch (deleteErr) {\r\n        console.error(\r\n          `Error deleting file ${path.basename(file.fullPath)}:`,\r\n          deleteErr\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  // Limit to the 10 most recent histories\r\n  if (recentHistories.length > 21) {\r\n    const excessFiles = files.slice(21); // Get the files exceeding the latest 20\r\n    for (const excessFile of excessFiles) {\r\n      try {\r\n        fs.unlinkSync(excessFile.fullPath);\r\n        console.log(\r\n          `Deleted oldest build history file: ${path.basename(\r\n            excessFile.fullPath\r\n          )}`\r\n        );\r\n      } catch (deleteErr) {\r\n        console.error(\r\n          `Error deleting file ${path.basename(excessFile.fullPath)}:`,\r\n          deleteErr\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  console.log(\r\n    `Found ${recentHistories.length} non-empty build histories in build_sessions`\r\n  );\r\n  return recentHistories.slice(0, 20);\r\n}\r\n\r\nexport function getRecentChatHistories(): ChatHistory[] {\r\n  // Calculate the session directory based on the operating system\r\n  const userDataPath =\r\n    process.platform === \"win32\"\r\n      ? process.env.APPDATA ||\r\n      path.join(process.env.USERPROFILE || \"\", \"AppData\", \"Roaming\")\r\n      : path.join(process.env.HOME || \"\", \".config\");\r\n\r\n  const sessionDir = path.join(userDataPath, \"gocodeo\", \"sessions\");\r\n\r\n  const files = fs\r\n    .readdirSync(sessionDir)\r\n    ?.filter((file) => file.endsWith(\".json\") && file !== \"sessions.json\")\r\n    ?.map((file) => {\r\n      const fullPath = path.join(sessionDir, file);\r\n      const timestamp = parseInt(file?.split(\"_\")[1]?.split(\".\")[0] || \"0\");\r\n      return { file, timestamp, fullPath };\r\n    })\r\n    .sort((a, b) => b.timestamp - a.timestamp);\r\n\r\n  const recentHistories: ChatHistory[] = [];\r\n\r\n  for (const file of files) {\r\n    try {\r\n      const content = fs.readFileSync(file.fullPath, \"utf8\");\r\n      const chatData: ChatHistory = JSON.parse(content);\r\n\r\n      if (chatData.chatHistory && chatData.chatHistory.length > 0) {\r\n        recentHistories.push(chatData);\r\n\r\n        // Stop if we have found the required non-empty histories (either 1 or 2)\r\n        // if (recentHistories.length >= 2) {\r\n        //   break;\r\n        // }\r\n      } else {\r\n        // Delete the file immediately if it's empty\r\n        fs.unlinkSync(file.fullPath);\r\n        console.log(\r\n          `Deleted empty chat history file: ${path.basename(file.fullPath)}`\r\n        );\r\n      }\r\n    } catch (err) {\r\n      console.error(`Error reading file ${file.file}:`, err);\r\n\r\n      // Delete the file immediately if there's an error reading it\r\n      try {\r\n        fs.unlinkSync(file.fullPath);\r\n        console.log(\r\n          `Deleted corrupted chat history file due to read error: ${path.basename(\r\n            file.fullPath\r\n          )}`\r\n        );\r\n      } catch (deleteErr) {\r\n        console.error(\r\n          `Error deleting file ${path.basename(file.fullPath)}:`,\r\n          deleteErr\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  // Limit to the 10 most recent histories\r\n  if (recentHistories.length > 11) {\r\n    const excessFiles = files.slice(11); // Get the files exceeding the latest 10\r\n    for (const excessFile of excessFiles) {\r\n      try {\r\n        fs.unlinkSync(excessFile.fullPath);\r\n        console.log(\r\n          `Deleted oldest chat history file: ${path.basename(\r\n            excessFile.fullPath\r\n          )}`\r\n        );\r\n      } catch (deleteErr) {\r\n        console.error(\r\n          `Error deleting file ${path.basename(excessFile.fullPath)}:`,\r\n          deleteErr\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  console.log(`Found ${recentHistories.length} non-empty chat histories`);\r\n  console.log(\"Recent histories:\", recentHistories);\r\n  return recentHistories.slice(0, 10);\r\n}\r\n\r\nlet isAutocompleteActive = false; // shared between autocomplete and emptyline decorator to avoid overwriting\r\n\r\nfunction registerEmptyLineDecorator(context: vscode.ExtensionContext) {\r\n  const emptyLineDecorationType = vscode.window.createTextEditorDecorationType(\r\n    {}\r\n  );\r\n\r\n  context.subscriptions.push(\r\n    vscode.window.onDidChangeTextEditorSelection((event) => {\r\n      const editor = event.textEditor;\r\n      if (!editor) return;\r\n\r\n      const selection = editor.selection;\r\n\r\n      editor.setDecorations(emptyLineDecorationType, []);\r\n\r\n      if (isAutocompleteActive) return;\r\n\r\n      if (!selection.isEmpty) return;\r\n\r\n      const cursorPosition = selection.start.character;\r\n      if (cursorPosition !== 0) return;\r\n\r\n      const line = editor.document.lineAt(selection.start.line);\r\n      const commandKey = process.platform === \"darwin\" ? \"Cmd\" : \"Ctrl\";\r\n\r\n      if (line.isEmptyOrWhitespace) {\r\n        const decorationOptions: vscode.DecorationOptions[] = [\r\n          {\r\n            range: line.range,\r\n            renderOptions: {\r\n              after: {\r\n                contentText: `GoCodeo-BUILD: ${commandKey}+Shift+K | GoCodeo-ASK: ${commandKey}+Shift+L`,\r\n                color: new vscode.ThemeColor(\"editorLineNumber.foreground\"),\r\n                margin: \"0 0 0 10px\",\r\n                fontStyle: \"italic\",\r\n                opacity: \"1.5\",\r\n              },\r\n            },\r\n          },\r\n        ];\r\n        editor.setDecorations(emptyLineDecorationType, decorationOptions);\r\n      }\r\n    })\r\n  );\r\n\r\n  // Clean up when editor changes\r\n  context.subscriptions.push(\r\n    vscode.window.onDidChangeActiveTextEditor(() => {\r\n      if (vscode.window.activeTextEditor) {\r\n        vscode.window.activeTextEditor.setDecorations(\r\n          emptyLineDecorationType,\r\n          []\r\n        );\r\n      }\r\n    })\r\n  );\r\n}\r\n\r\nfunction registerSelectionHoverProvider(context: vscode.ExtensionContext) {\r\n  const decorationType = vscode.window.createTextEditorDecorationType({});\r\n  let debounceTimer: NodeJS.Timeout | null = null;\r\n\r\n  context.subscriptions.push(\r\n    vscode.window.onDidChangeTextEditorSelection((event) => {\r\n      if (debounceTimer) {\r\n        clearTimeout(debounceTimer);\r\n      }\r\n\r\n      debounceTimer = setTimeout(() => {\r\n        const editor = event.textEditor;\r\n        if (!editor) return;\r\n\r\n        const selection = editor.selection;\r\n        if (selection.isEmpty) {\r\n          editor.setDecorations(decorationType, []);\r\n          return;\r\n        }\r\n\r\n        // Get the line number of the selection end\r\n        const lineNumber = selection.end.line;\r\n        const lineEndPosition = editor.document.lineAt(lineNumber).range.end;\r\n        const decorationRange = new vscode.Range(\r\n          lineEndPosition,\r\n          lineEndPosition\r\n        );\r\n        const commandKey = process.platform === \"darwin\" ? \"Cmd\" : \"Ctrl\";\r\n\r\n        const decorationOptions: vscode.DecorationOptions[] = [\r\n          {\r\n            range: decorationRange,\r\n            renderOptions: {\r\n              after: {\r\n                contentText: `Ask GoCodeo (${commandKey}+Shift+L) | Edit (${commandKey}+Shift+E)`,\r\n                backgroundColor: new vscode.ThemeColor(\r\n                  \"editorWidget.background\"\r\n                ),\r\n                color: new vscode.ThemeColor(\"editorWidget.foreground\"),\r\n                margin: \"0 20px 0 60px\",\r\n                border: \"1px solid\",\r\n                borderColor: new vscode.ThemeColor(\"editorWidget.border\"),\r\n                borderRadius: \"3px\",\r\n                padding: \"2px 8px\",\r\n              },\r\n            },\r\n          },\r\n        ];\r\n\r\n        editor.setDecorations(decorationType, decorationOptions);\r\n      }, 200);\r\n    })\r\n  );\r\n}\r\n\r\nasync function getTerminalContents(commands = -1): Promise<string> {\r\n  const tempCopyBuffer = await vscode.env.clipboard.readText();\r\n  if (commands < 0) {\r\n    await vscode.commands.executeCommand(\"workbench.action.terminal.selectAll\");\r\n  } else {\r\n    for (let i = 0; i < commands; i++) {\r\n      await vscode.commands.executeCommand(\r\n        \"workbench.action.terminal.selectToPreviousCommand\"\r\n      );\r\n    }\r\n  }\r\n  await vscode.commands.executeCommand(\r\n    \"workbench.action.terminal.copySelection\"\r\n  );\r\n  await vscode.commands.executeCommand(\r\n    \"workbench.action.terminal.clearSelection\"\r\n  );\r\n  let terminalContents = (await vscode.env.clipboard.readText()).trim();\r\n  await vscode.env.clipboard.writeText(tempCopyBuffer);\r\n\r\n  if (tempCopyBuffer === terminalContents) {\r\n    // This means there is no terminal open to select text from\r\n    return \"\";\r\n  }\r\n\r\n  // Sometimes the above won't successfully separate by command, so we attempt manually\r\n  const lines = terminalContents.split(\"\\n\");\r\n  const lastLine = lines.pop()?.trim();\r\n  if (lastLine) {\r\n    let i = lines.length - 1;\r\n    while (i >= 0 && !lines[i].trim().startsWith(lastLine)) i--;\r\n    terminalContents = lines.slice(Math.max(i, 0)).join(\"\\n\");\r\n  }\r\n\r\n  return terminalContents;\r\n}\r\n\r\n// async function handleSupabaseAuthCallback(uri: vscode.Uri) {\r\n//   try {\r\n//     // Get the session\r\n//     console.log(\"Handling auth Callback for supabase\")\r\n//     const { data: { session }, error } = await supabase.auth.getSession();\r\n\r\n//     if (error) {\r\n//       throw error;\r\n//     }\r\n\r\n//     if (session) {\r\n//       await vscode.secrets.store('supabase-token', session.access_token);\r\n//       vscode.window.showInformationMessage('Successfully logged in with supabase!');\r\n//     }\r\n//   } catch (error) {\r\n//     vscode.window.showErrorMessage(`Failed to handle authentication: ${error.message}`);\r\n//   }\r\n// }\r\n\r\nexport async function activate(context: vscode.ExtensionContext) {\r\n  const analytics = new Analytics(context);\r\n  const localConfig = vscode.workspace.getConfiguration();\r\n  const localStore = new StorageService(localConfig);\r\n  const globalStore = new StorageService(context.globalState, \"global\");\r\n  const systemInfo = getSystemDetails(context);\r\n  const editorName = vscode.env.appName.toLowerCase();\r\n  // console.log(\"========================editorName\", editorName);\r\n  let { is_new = false, uid = null } = globalStore.getInstallationId() || {};\r\n\r\n  let user_ip_address = globalStore.getValue();\r\n  if (!user_ip_address) {\r\n    user_ip_address = await getIPAddress();\r\n    globalStore.setValue(\"ipAddress\", user_ip_address);\r\n  }\r\n\r\n  // let dataProvider1 = new ComponentsUnderTestDataProvider(); // Initialize once\r\n\r\n  // vscode.window.registerTreeDataProvider(\"gocodeo-sidebar\", dataProvider1);\r\n\r\n  // context.subscriptions.push(\r\n  //   vscode.commands.registerCommand(\"gocodeo.refreshSidebar\", () => {\r\n  //     dataProvider1.refresh(); // Manually refresh\r\n  //   })\r\n  // );\r\n\r\n  //@ts-ignore\r\n  systemInfo.uid = uid;\r\n  manageAccountsFile(systemInfo)\r\n  // vscode.window.showInformationMessage(`data: ${uid} ${is_new}`)\r\n  //@ts-ignore\r\n  let authUser = null;\r\n  //@ts-ignore\r\n  let highlightedCodes = [];\r\n  let authToken = localStore.getValue(AUTH_TOKEN);\r\n\r\n  if (!authToken) {\r\n    console.log(\"Authenticating user with device ID\", systemInfo.deviceId, \"uid\", systemInfo.uid)\r\n    const userResponse = await authenticateUser({ \"deviceId\": systemInfo.deviceId, \"uid\": systemInfo.uid });\r\n    authToken = userResponse?.token || null;\r\n    authUser = userResponse?.user || null;\r\n    console.log(`Got authToken: ${authToken}, user: ${authUser}`)\r\n    if (authToken) {\r\n      localStore.setValue(AUTH_TOKEN, authToken);\r\n      console.log(\"Saved auth Token to localStore\")\r\n    }\r\n  }\r\n\r\n  const debugStatusBarItem = vscode.window.createStatusBarItem(\r\n    vscode.StatusBarAlignment.Right,\r\n    100\r\n  );\r\n  debugStatusBarItem.text = `$(debug) Debug with GoCodeo`;\r\n  debugStatusBarItem.command = \"gocodeo.debugTerminal\";\r\n  debugStatusBarItem.tooltip = \"Debug the error with GoCodeo\";\r\n\r\n  vscode.window.onDidEndTerminalShellExecution(async (event) => {\r\n    console.log(\"terminal shell execution ended\", event);\r\n    if (event.exitCode !== 0) {\r\n      const terminalContents = await getTerminalContents();\r\n      if (terminalContents) {\r\n        if (terminalContents.toLowerCase().includes(\"error\") || terminalContents.toLowerCase().includes(\"fail\")) {\r\n          console.log(\"terminal shell execution failed\", event);\r\n          const eventTerminal = event.terminal;\r\n          eventTerminal.show();\r\n          debugStatusBarItem.show();\r\n          let debugCommandKey = process.platform === \"darwin\" ? \"Cmd\" : \"Ctrl\";\r\n          vscode.window.showInformationMessage(\r\n            `Command execution failed. Debug with GoCodeo (${debugCommandKey}+Shift+D)`\r\n          );\r\n        }\r\n        else {\r\n          debugStatusBarItem.hide();\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n\r\n  vscode.window.onDidChangeTextEditorSelection((event) => {\r\n    if (event.textEditor.document.languageId !== \"terminal\") {\r\n      debugStatusBarItem.hide();\r\n    }\r\n  });\r\n\r\n\r\n  const loginCommand = vscode.commands.registerCommand(\r\n    \"gocodeo.login\",\r\n    async () => {\r\n      vscode.commands.executeCommand(\"gocodeo.signin\");\r\n    }\r\n  );\r\n  context.subscriptions.push(loginCommand);\r\n\r\n  async function runLoginCommand() {\r\n    console.log(\"Running login command...\");\r\n    await vscode.commands.executeCommand(\"gocodeo.login\");\r\n  }\r\n\r\n  if (!authToken) {\r\n\r\n    vscode.commands.executeCommand(\"gocodeo.signin\", true);\r\n  }\r\n\r\n  const debugTerminal = vscode.commands.registerCommand(\r\n    \"gocodeo.debugTerminal\",\r\n    async () => {\r\n      // console.log(\"debugTerminal====================\");\r\n      let eventName = AnalyticsEvents.TERMINAL_DEBUG_TRIGGERED;\r\n      const authToken = getStoreKey(AUTH_TOKEN);\r\n\r\n      if (!authToken) {\r\n        vscode.commands.executeCommand(CMD_SIGNIN, true);\r\n        return;\r\n      }\r\n\r\n      if (!authUser) {\r\n        try {\r\n          authUser = await getUserProfile(authToken);\r\n        } catch (error) {\r\n          console.log(\"Error while getting profile\", error);\r\n          // return; // Terminate execution if authUser is essential\r\n        }\r\n      }\r\n\r\n      const isExhausted = !authUser.remaining_usage;\r\n      if (isExhausted && !authUser.is_verified) {\r\n        vscode.commands.executeCommand(CMD_SIGNIN, false, true);\r\n        return;\r\n      }\r\n\r\n      const activeTerminal = vscode.window.activeTerminal;\r\n\r\n      const args: any = {\r\n        language: \"\",\r\n        terminalName: activeTerminal.name,\r\n        isSidebar: false,\r\n        terminalExitStatus: activeTerminal.exitStatus,\r\n        component: \"defaultComponent\",\r\n        type: \"default\",\r\n      };\r\n\r\n      const terminalContents = await getTerminalContents();\r\n      console.log(\"checking it here\", terminalContents);\r\n      args.terminalContents = terminalContents;\r\n\r\n      const { language } = args;\r\n      args.is_verified = authUser.is_verified;\r\n      args.requestId = getUniqueId();\r\n      args.is_new_user = authUser.is_new;\r\n\r\n      // Track the event\r\n      let userTrackPoints = getUserTrackPoints(authUser, args);\r\n      analytics.track(eventName, { userTrackPoints, user_ip_address });\r\n\r\n      args.user = authUser;\r\n      args.token = authToken;\r\n\r\n      // Create session ID with timestamp\r\n      const timestamp = new Date().getTime();\r\n      args.requestId = `${getUniqueId()}_${timestamp}`;\r\n      args.sessionId = args.requestId;\r\n      // console.log(args.sessionId, \"args.sessionId\");\r\n      // console.log(\"++++++++++++++++++++++ DEBUG TERMINAL ARGS++++++\", args);\r\n      handleChat(args, \"debugTerminal\");\r\n    }\r\n  );\r\n  context.subscriptions.push(debugTerminal, debugStatusBarItem);\r\n\r\n  const hasShownWalkthrough = context.globalState.get<boolean>('gocodeo.hasShownWalkthrough', false);\r\n\r\n  // Logic to determine if the walkthrough should be shown\r\n  if (!hasShownWalkthrough) {\r\n    // Show the walkthrough\r\n    const defaultWalkthroughStepId = 'sign-in';\r\n    const walkthroughs = vscode.extensions.getExtension('GoCodeo.gocodeo')?.packageJSON.contributes.walkthroughs;\r\n    if (walkthroughs && walkthroughs.length > 0) {\r\n      vscode.commands.executeCommand('workbench.action.openWalkthrough', {\r\n        category: 'GoCodeo.gocodeo#gocodeo',\r\n        step: defaultWalkthroughStepId,\r\n      });\r\n    }\r\n\r\n    // Mark the walkthrough as shown\r\n    context.globalState.update('gocodeo.hasShownWalkthrough', true);\r\n  }\r\n\r\n  // Register a command to allow users to view the walkthrough manually\r\n  const openWalkthroughCommand = vscode.commands.registerCommand('gocodeo.openWalkthrough', () => {\r\n    const defaultWalkthroughStepId = 'sign-in';\r\n    const walkthroughs = vscode.extensions.getExtension('GoCodeo.gocodeo')?.packageJSON.contributes.walkthroughs;\r\n    if (walkthroughs && walkthroughs.length > 0) {\r\n      vscode.commands.executeCommand('workbench.action.openWalkthrough', {\r\n        category: 'GoCodeo.gocodeo#gocodeo',\r\n        step: defaultWalkthroughStepId,\r\n      });\r\n    }\r\n  });\r\n\r\n  context.subscriptions.push(openWalkthroughCommand);\r\n\r\n\r\n  // const defaultWalkthroughStepId = 'sign-in';\r\n  // const walkthroughs = vscode.extensions.getExtension('GoCodeo.gocodeo')?.packageJSON.contributes.walkthroughs;\r\n  // vscode.commands.executeCommand('workbench.action.openWalkthrough', {\r\n  //     walkthrough: walkthroughs[0],\r\n  //     step: defaultWalkthroughStepId,\r\n  //   });\r\n  // vscode.commands.executeCommand(CMD_GET_STARTED);\r\n  // context.subscriptions.push(openWalkthrough);\r\n\r\n  // if (!authToken) {\r\n  //   console.log(\"1402 auth token not found, UID SIGNUP TRIGGERED\");\r\n  //   const res = await doSignup(systemInfo);\r\n  //   console.log(\"1402 UID SIGNUP RESPONSE\", res);\r\n\r\n  //   if (res && res.status === 200) {\r\n  //     authToken = res.data.token;\r\n  //     // is_new = false;\r\n  //     localStore.setValue(AUTH_TOKEN, authToken);\r\n\r\n  //     globalStore.setValue(LOGGED_IN_KEY, true);\r\n  //     //@ts-ignore\r\n  //     // analytics.track(AnalyticsEvents.EXTENSION_INSTALLED, {\r\n  //     //   uid,\r\n  //     //   user_ip_address,\r\n  //     // });\r\n  //     console.log(\"1402 SET AUTH TOKEN FROM UID SIGNUP\", authToken);\r\n\r\n  //     // const defaultWalkthroughStepId = 'sign-in';\r\n  //     // const walkthroughs = vscode.extensions.getExtension('GoCodeo.gocodeo')?.packageJSON.contributes.walkthroughs;\r\n  //     // vscode.commands.executeCommand('workbench.action.openWalkthrough', {\r\n  //     //     walkthrough: walkthroughs[0],\r\n  //     //     step: defaultWalkthroughStepId,\r\n  //     //   });\r\n  //     // vscode.commands.executeCommand(CMD_GET_STARTED);\r\n\r\n  //   }\r\n\r\n  //   if (!authToken) {\r\n  //     console.log(\"1402 still couldnt find auth token\");\r\n  //     vscode.commands.executeCommand(\"gocodeo.signin\", true);\r\n  //   }\r\n    \r\n  // }\r\n\r\n  const provider = new TestCodelensProvider(highlightedCodes);\r\n  context.subscriptions.push(\r\n    vscode.languages.registerCodeLensProvider(\r\n      { scheme: \"file\" },\r\n      provider\r\n    )\r\n  );\r\n\r\n\r\n  context.subscriptions.push(\r\n    vscode.languages.registerCodeLensProvider(\r\n      { scheme: \"file\" },\r\n      new GoCodeoAskCodeLensProvider(highlightedCodes)\r\n    )\r\n  );\r\n\r\n  context.subscriptions.push(\r\n    vscode.languages.registerCodeLensProvider(\r\n      { scheme: \"file\" },\r\n      new BuildCodeLensProvider(highlightedCodes)\r\n    )\r\n  );\r\n\r\n  // Optionally add support for notebook cells\r\n  context.subscriptions.push(\r\n    vscode.languages.registerCodeLensProvider(\r\n      { scheme: \"vscode-notebook-cell\", language: \"python\" },\r\n      provider\r\n    )\r\n  );\r\n\r\n  let disposable = vscode.commands.registerCommand(\"gocodeo.watchTutorial\", () => {\r\n    const tutorialUrl = vscode.Uri.parse(\"https://youtu.be/-H2a7HRELy8?si=tG1wk2BblfESuUBn\");\r\n    vscode.env.openExternal(tutorialUrl);\r\n  });\r\n\r\n  context.subscriptions.push(disposable);\r\n\r\n  const signInCommand = vscode.commands.registerCommand(\r\n    \"gocodeo.signin\",\r\n    async (flag: any, isExhausted = false) => {\r\n      authToken = getStoreKey(AUTH_TOKEN);\r\n\r\n      //@ts-ignore\r\n      if (!authToken) authUser = null;\r\n      //@ts-ignore\r\n      if (!flag && authUser && !authUser.is_verified) flag = true;\r\n\r\n      if (!authToken || isExhausted || flag) {\r\n        const { uid, is_new } = globalStore.getInstallationId();\r\n\r\n        // Identify source editor\r\n        let source = \"vscode\";\r\n        if (editorName === \"cursor\") source = \"cursor\";\r\n        else if (editorName == \"pearai\") source = \"pear\";\r\n\r\n        let signinMsg = \"Please sign in to GoCodeo \";\r\n        const googleButton: vscode.MessageItem = {\r\n          title: \"Sign in with Google\",\r\n        };\r\n\r\n        const response = await vscode.window.showInformationMessage(\r\n          signinMsg,\r\n          googleButton\r\n        );\r\n\r\n        let signInUrl = \"\";\r\n        if (response === googleButton)\r\n          signInUrl = `${SIGNIN_GOOGLE_URL}?uid=${uid}&source=${source}&deviceId=${systemInfo?.deviceId}`;\r\n        else return;\r\n\r\n        // Register URI handler for the sign-in callback\r\n        const uriHandlerDisposable = vscode.window.registerUriHandler({\r\n          handleUri(uri: vscode.Uri): vscode.ProviderResult<void> {\r\n            function getParams(query: string) {\r\n              const params: Record<string, string> = {};\r\n              query\r\n                .replace(/^\\?/, \"\")\r\n                ?.split(\"&\")\r\n                .forEach(function (e) {\r\n                  if (e) {\r\n                    const [i, n] = e?.split(\"=\");\r\n                    //@ts-ignore\r\n                    params[decodeURIComponent(i)] = decodeURIComponent(n);\r\n                  }\r\n                });\r\n              return params;\r\n            }\r\n            const params = getParams(uri.query);\r\n            console.log(\"Received URI:\", uri);\r\n            if (uri.path === '/api/v1/supabase-auth-callback') {\r\n              console.log(\"Received callback URI params:\", params);\r\n              localStore.setValue(\"gocodeo.supabaseAccessToken\", params.supabase_access_token);\r\n              localStore.setValue(\"gocodeo.supabaseRefreshToken\", params.supabase_refresh_token);\r\n              vscode.window.showInformationMessage(\"Successfully authorized Supabase.\");\r\n            } else {\r\n              const { token = null, is_upgraded = null } = params;\r\n              if (token) {\r\n                authToken = token;\r\n                vscode.commands.executeCommand(\r\n                  \"setContext\",\r\n                  \"gocodeo.user.isLoggedIn\",\r\n                  true\r\n                );\r\n                localStore.setValue(AUTH_TOKEN, token);\r\n                const tempUser = parseJwt(authToken);\r\n                // Refresh sidebar after login\r\n                // dataProvider1.fetchUserAccountDetails(); // Fetch user details again\r\n                // dataProvider1.refresh(); \r\n                // Fetch user account details\r\n                fetch(`${BASE_URL}/v1/users/account?email=${tempUser?.email}`)\r\n                  .then(response => response.json())\r\n                  .then(async (data) => {\r\n                    const { plan_name, user_name, account_usage, user_email, user_id } = data;\r\n                    sidebarProvider.userInfo = data;\r\n                    console.log(\"sidebarProvider.userInfo\", sidebarProvider.userInfo);\r\n                    sidebarProvider.refresh();\r\n                    const welcomeMsg = `Welcome to GoCodeo, ${user_name || \"User\"}. You are currently on the ${plan_name || \"Hobby\"} plan.\\n Premium model requests: ${account_usage.premium.used_requests}/${account_usage.premium.total_requests}.`;\r\n\r\n                    // Initialize an array to hold message items\r\n                    const messageItems: vscode.MessageItem[] = [];\r\n                    let buttonText = \"View Plans\";\r\n                    if (account_usage.basic.used_requests >= account_usage.basic.total_requests && account_usage.premium.used_requests >= account_usage.premium.total_requests) {\r\n                      buttonText = plan_name === \"Pro\" ? \"Purchase Add-on\" : \"Upgrade plan\";\r\n                    }\r\n                    const upgradeButton = {\r\n                      title: buttonText,\r\n                      isCloseAffordance: false, // Prevents the default close button from being shown\r\n                    };\r\n                    messageItems.push(upgradeButton);\r\n\r\n\r\n                    // Display the information message with the appropriate buttons\r\n                    const response = await vscode.window.showInformationMessage(welcomeMsg, ...messageItems);\r\n\r\n\r\n                    // Handle the user's response\r\n                    if (response && response.title === buttonText) {\r\n                      vscode.env.openExternal(vscode.Uri.parse(`${PRICING_PAGE}/?user_id=${user_id}`));\r\n                      // Open the plans overview page\r\n                      // vscode.env.openExternal(vscode.Uri.parse(`${PRICING_PAGE}/?email=${user_email}`));\r\n                    }\r\n\r\n                  })\r\n                  .catch((error) => {\r\n                    console.error(\"Error fetching user account details1:\", error);\r\n                    vscode.window.showErrorMessage(\"Failed to fetch user account details.\");\r\n                  });\r\n              }\r\n            }\r\n            // Dispose URI handler once the URI is handled\r\n            uriHandlerDisposable.dispose();\r\n          },\r\n        });\r\n\r\n        vscode.env.openExternal(vscode.Uri.parse(signInUrl));\r\n      } else {\r\n        if (!flag) {\r\n          try {\r\n            authUser = await getUserProfile(authToken);\r\n          } catch (error) {\r\n            console.log(\"Error while getting profile\", error);\r\n          }\r\n\r\n          // Fetch user account details\r\n          fetch(`${BASE_URL}/v1/users/account?email=${authUser?.email}`)\r\n            .then(response => response.json())\r\n            .then(async (data) => {\r\n              const { plan_name, user_name, account_usage, user_email, user_id } = data;\r\n              // const welcomeMsg = `Welcome to GoCodeo, ${user_name || \"User\"}. You are currently on the ${plan_name || \"N/A\"} plan.`;\r\n              const welcomeMsg = `Welcome to GoCodeo, ${user_name || \"User\"}. You are currently on the ${plan_name || \"Hobby\"} plan.\\n Premium model requests: ${account_usage.premium.used_requests}/${account_usage.premium.total_requests}.`;\r\n\r\n              // Initialize an array to hold message items\r\n              const messageItems: vscode.MessageItem[] = [];\r\n              // Determine the button text based on the plan_name\r\n              let buttonText = \"View Plans\";\r\n              if (account_usage.basic.used_requests >= account_usage.basic.total_requests && account_usage.premium.used_requests >= account_usage.premium.total_requests) {\r\n                buttonText = plan_name === \"Pro\" ? \"Purchase Add-on\" : \"Upgrade plan\";\r\n              }\r\n\r\n              const upgradeButton: vscode.MessageItem = {\r\n                title: buttonText,\r\n                isCloseAffordance: false, // Prevents the default close button from being shown\r\n              };\r\n              messageItems.push(upgradeButton);\r\n\r\n\r\n              // Display the information message with the appropriate buttons\r\n              const response = await vscode.window.showInformationMessage(welcomeMsg, ...messageItems);\r\n\r\n              if (response && response.title === buttonText) {\r\n                // Open the pricing page for upgrading \r\n                vscode.env.openExternal(vscode.Uri.parse(`${PRICING_PAGE}/?user_id=${user_id}`));\r\n              }\r\n            })\r\n            .catch((error) => {\r\n              console.error(\"Error fetching user account details2:\", error);\r\n              vscode.window.showErrorMessage(\"Failed to fetch user account details.\");\r\n            });\r\n          const newContent = \"Select the file to  get started...\";\r\n          updateSidebarContent(newContent);\r\n          console.log(\"It's entered in first condition\");\r\n          // vscode.commands.executeCommand(\"gocodeo.refreshSidebar\");\r\n          // vscode.window.showInformationMessage(statusBarMsg);\r\n        }\r\n      }\r\n\r\n      // if (authToken) {\r\n      //   console.log(\"It's entered in if condition\");\r\n\r\n      //   try {\r\n      //     authUser = await getUserProfile(authToken);\r\n      //   } catch (error) {\r\n      //     console.log(\"Error while getting profile\", error);\r\n      //   }\r\n      //   const dataProvider = new ComponentsUnderTestDataProvider();\r\n      //   // dataProvider.updateWelcomeMessage();\r\n      // }\r\n    }\r\n  );\r\n\r\n\r\n  //   let SupabaseLoginCommand = vscode.commands.registerCommand(\r\n  //   'gocodeo.supabaseLogin',\r\n  //   async () => {\r\n  //     console.log('Connecting to Supabase...');\r\n  //     const authUrl = `https://api.supabase.com/v1/oauth/authorize?client_id=${SUPABASE_CLIENT_ID}&redirect_uri=${SUPABASE_REDIRECT_URL}&response_type=code&scope=read`;\r\n  //     vscode.env.openExternal(vscode.Uri.parse(authUrl));\r\n\r\n  //     return new Promise((resolve, reject) => {\r\n  //       vscode.window.registerUriHandler({\r\n  //         handleUri(uri: vscode.Uri): void {\r\n  //           function getParams(query: string) {\r\n  //             const params: { [key: string]: string } = {};\r\n  //             query\r\n  //               .replace(/^\\?/, '')\r\n  //               .split('&')\r\n  //               .forEach((e) => {\r\n  //                 if (e) {\r\n  //                   const [key, value] = e.split('=');\r\n  //                   params[decodeURIComponent(key)] = decodeURIComponent(value || '');\r\n  //                 }\r\n  //               });\r\n  //             return params;\r\n  //           }\r\n\r\n  //           const params = getParams(uri.query);\r\n\r\n  //           if (uri.path === '/api/v1/supabase-auth-callback') {\r\n  //             const accessToken = params.supabase_access_token;\r\n  //             const refreshToken = params.supabase_refresh_token;\r\n  //             console.log('Received callback URI params:', params);\r\n\r\n  //             if (accessToken && refreshToken) {\r\n  //               localStore.setValue('gocodeo.supabaseAccessToken', accessToken);\r\n  //               localStore.setValue('gocodeo.supabaseRefreshToken', refreshToken);\r\n  //               vscode.window.showInformationMessage('Successfully authorized Supabase.');\r\n  //               resolve(accessToken); \r\n  //             } else {\r\n  //               reject(new Error('Missing tokens in the callback URI.'));\r\n  //             }\r\n  //           } else {\r\n  //             reject(new Error('Invalid URI path.'));\r\n  //           }\r\n  //         },\r\n  //       });\r\n  //     });\r\n  //   }\r\n  // );\r\n\r\n\r\n  let SupabaseLoginCommand = vscode.commands.registerCommand('gocodeo.supabaseLogin', async () => {\r\n    console.log(\"Connecting to Supabase...\");\r\n\r\n    // Open external authentication URL\r\n    const authUrl = `https://api.supabase.com/v1/oauth/authorize?client_id=${SUPABASE_CLIENT_ID}&redirect_uri=${SUPABASE_REDIRECT_URL}&response_type=code&scope=read`;\r\n    vscode.env.openExternal(vscode.Uri.parse(authUrl));\r\n\r\n    // Return a promise that will resolve once the URI handler catches the callback\r\n    return new Promise((resolve, reject) => {\r\n      const timeout = setTimeout(() => {\r\n        reject(new Error(\"Timeout: Supabase access token not received within the allowed time.\"));\r\n      }, 20000); // Timeout after 20 seconds\r\n\r\n      // Register URI handler to catch the callback\r\n      const uriHandler = vscode.window.registerUriHandler({\r\n        handleUri: async (uri: vscode.Uri) => {\r\n          const params = getParams(uri.query);\r\n\r\n          if (uri.path === '/api/v1/supabase-auth-callback' && params.supabase_access_token) {\r\n            // Set the tokens in localStorage\r\n            localStore.setValue(\"gocodeo.supabaseAccessToken\", params.supabase_access_token);\r\n            localStore.setValue(\"gocodeo.supabaseRefreshToken\", params.supabase_refresh_token);\r\n\r\n            // Resolve the promise with the token\r\n            clearTimeout(timeout); // Clear the timeout once the token is received\r\n            resolve(params.supabase_access_token);\r\n\r\n            vscode.window.showInformationMessage(\"Successfully authorized Supabase.\");\r\n          }\r\n        },\r\n      });\r\n\r\n      // Cleanup after the URI handler is no longer needed (in case of timeout or completion)\r\n      setTimeout(() => {\r\n        uriHandler.dispose();\r\n      }, 20000);\r\n    });\r\n  });\r\n\r\n  // Function to parse query parameters\r\n  function getParams(query: string) {\r\n    const params = {};\r\n    query\r\n      .replace(/^\\?/, \"\")\r\n      .split(\"&\")\r\n      .forEach((e) => {\r\n        if (e) {\r\n          var r = e.split(\"=\"),\r\n            i = r[0],\r\n            n = r[1];\r\n          params[decodeURIComponent(i)] = decodeURIComponent(n);\r\n        }\r\n      });\r\n    return params;\r\n  }\r\n\r\n\r\n  context.subscriptions.push(SupabaseLoginCommand);\r\n\r\n  // add the status bar item and command to the context\r\n  context.subscriptions.push(signInCommand);\r\n\r\n\r\n  if (authToken) {\r\n    try {\r\n      authUser = await getUserProfile(authToken);\r\n    } catch (error) {\r\n      console.log(\"Error while getting profile\", error);\r\n      // return; // Terminate execution if authUser is essential\r\n    }\r\n    console.log(\"authUserauthUserauthUser : \", authUser);\r\n\r\n    // Call to keep track of user's system information every time the extension is activated. \r\n    // Not updating the response as authUser, since it might break some functionality\r\n    const userProfile = await updateUserProfile(authToken, systemInfo);\r\n    console.log(\"2201 User profile response: \", userProfile)\r\n\r\n    // TODO block user if they are not using version 8.x.x or above. Ask them to upgrade their extension\r\n\r\n\r\n    if (authUser && !(authUser.uid && authUser.extensionVersion))\r\n      authUser = await updateUserProfile(authToken, systemInfo);\r\n\r\n    if (!authUser) {\r\n      localStore.setValue(AUTH_TOKEN, undefined);\r\n      console.log(\"authUserauthUserauthUser : \", localStore.getValue(AUTH_TOKEN));\r\n      authToken = null;\r\n      authUser = null;\r\n      // await runLoginCommand();\r\n    }\r\n    if (!authUser.uid) authUser.uid = uid;\r\n    analytics.identify(authUser, is_new, user_ip_address);\r\n  }\r\n\r\n  const statusBarIcon1 = vscode.window.createStatusBarItem(\r\n    vscode.StatusBarAlignment.Right,\r\n    100\r\n  );\r\n  statusBarIcon1.text = \"GoCodeo\";\r\n  // statusBarIcon1.command = signInCmd;\r\n  statusBarIcon1.command = CMD_SIGNIN;\r\n  statusBarIcon1.show();\r\n  context.subscriptions.push(statusBarIcon1);\r\n  // vscode.commands.executeCommand('gocodeo.signin', true);\r\n  // context.subscriptions.push(\r\n  //   //@ts-ignore\r\n  //   vscode.window.registerTreeDataProvider(\r\n  //     \"gocodeo-sidebar\",\r\n  //     new ComponentsUnderTestDataProvider(highlightedCodes)\r\n  //   )\r\n  // );\r\n  sidebarProvider = new ComponentsUnderTestDataProvider(highlightedCodes);\r\n    context.subscriptions.push(\r\n    vscode.window.registerTreeDataProvider(\r\n        \"gocodeo-sidebar\",\r\n        sidebarProvider\r\n    )\r\n);\r\n  vscode.commands.executeCommand(\"gocodeo-sidebar.focus\")\r\n\r\n  // vscode.window.registerUriHandler({\r\n  //   handleUri(uri: vscode.Uri): vscode.ProviderResult<void> {\r\n\r\n  //     function getParams(query: string) {\r\n  //       const params = {};\r\n  //       query\r\n  //         .replace(/^\\?/, \"\")\r\n  //         ?.split(\"&\")\r\n  //         .forEach(function (e) {\r\n  //           if (e) {\r\n  //             var r = e?.split(\"=\"),\r\n  //               i = r[0],\r\n  //               n = r[1];\r\n  //             //@ts-ignore\r\n  //             params[decodeURIComponent(i)] = decodeURIComponent(n);\r\n  //           }\r\n  //         });\r\n  //       return params;\r\n  //     }\r\n  //     const params = getParams(uri.query);\r\n\r\n  //     console.log(\"1501: Received URI:\", uri);\r\n  //     if (uri.path === '/api/v1/supabase-auth-callback') {\r\n  //       console.log(\"1501: Received callback URI params:\", params);\r\n  //       localStore.setValue(\"gocodeo.supabaseAccessToken\", params.supabase_access_token);\r\n  //       localStore.setValue(\"gocodeo.supabaseRefreshToken\", params.supabase_refresh_token);\r\n  //       vscode.window.showInformationMessage(\"Successfully authorized Supabase.\");\r\n  //     }\r\n\r\n  //     else {\r\n\r\n  //     // get query parameters\r\n\r\n  //     console.log(\"1501 parsed query params\", params);\r\n  //     //@ts-ignore\r\n  //     const { token = null, is_upgraded = null } = params;\r\n  //     if (token) {\r\n  //       authToken = token;\r\n  //       vscode.commands.executeCommand(\r\n  //         \"setContext\",\r\n  //         \"gocodeo.user.isLoggedIn\",\r\n  //         true\r\n  //       );\r\n  //       localStore.setValue(AUTH_TOKEN, token);\r\n  //       const tempUser = parseJwt(authToken);\r\n  //       let welcomeMsg = `Welcome to GoCodeo, ${tempUser.name || \"User\"}. Start building and testing today ! `;\r\n  //       if (is_upgraded)\r\n  //         welcomeMsg = `Congratulations, ${\r\n  //           tempUser.name || \"\"\r\n  //         }. GC credits have been added to your profile.`;\r\n  //       // else welcomeMsg += \"Start building and testing today !\";\r\n\r\n  //       //@ts-ignore\r\n  //       vscode.window.showInformationMessage(welcomeMsg, { isTrusted: true });\r\n  //     }}\r\n  //   },\r\n  // });\r\n  // vscode.window.registerUriHandler({\r\n  //   handleUri(uri: vscode.Uri): vscode.ProviderResult<void> {\r\n  //     // get query parameters\r\n  //     function getParams(query: string) {\r\n  //       const params = {};\r\n  //       query\r\n  //         .replace(/^\\?/, \"\")\r\n  //         ?.split(\"&\")\r\n  //         .forEach(function (e) {\r\n  //           if (e) {\r\n  //             var r = e?.split(\"=\"),\r\n  //               i = r[0],\r\n  //               n = r[1];\r\n  //             //@ts-ignore\r\n  //             params[decodeURIComponent(i)] = decodeURIComponent(n);\r\n  //           }\r\n  //         });\r\n  //       return params;\r\n  //     }\r\n  //     const params = getParams(uri.query);\r\n  //     //@ts-ignore\r\n  //     const { token = null, is_upgraded = null } = params;\r\n  //     if (token) {\r\n  //       authToken = token;\r\n  //       vscode.commands.executeCommand(\r\n  //         \"setContext\",\r\n  //         \"gocodeo.user.isLoggedIn\",\r\n  //         true\r\n  //       );\r\n  //       localStore.setValue(AUTH_TOKEN, token);\r\n  //       const tempUser = parseJwt(authToken);\r\n  //       let welcomeMsg = `Welcome to GoCodeo, ${tempUser.name || \"\"}. Start building and testing today ! `;\r\n  //       if (is_upgraded)\r\n  //         welcomeMsg = `Congratulations, ${\r\n  //           tempUser.name || \"\"\r\n  //         }. GC credits have been added to your profile.`;\r\n  //       // else welcomeMsg += \"Start building and testing today !\";\r\n\r\n  //       //@ts-ignore\r\n  //       vscode.window.showInformationMessage(welcomeMsg, { isTrusted: true });\r\n  //     }\r\n  //   },\r\n  // });\r\n  let provideToken = vscode.commands.registerCommand(\r\n    \"gocodeo.provideAuthenticationToken\",\r\n    () => {\r\n      vscode.window\r\n        .showInputBox({\r\n          prompt: \"Enter your auth token\",\r\n          title: \"Enter your GoCodeo authentication token\",\r\n          //@ts-ignore\r\n        })\r\n        //@ts-ignore\r\n        .then(async (token) => {\r\n          if (token) {\r\n            authToken = token;\r\n            localStore.setValue(AUTH_TOKEN, token);\r\n            try {\r\n              authUser = await getUserProfile(authToken);\r\n            } catch (error) {\r\n              console.log(\"Error while getting profile\", error);\r\n              // return; // Terminate execution if authUser is essential\r\n            }\r\n            vscode.window.showInformationMessage(\r\n              `Welcome to GoCodeo4, ${authUser.name || \"\"}. Start building and testing today !`\r\n            );\r\n          }\r\n        });\r\n    }\r\n  );\r\n  context.subscriptions.push(provideToken);\r\n\r\n  const getStarted = vscode.commands.registerCommand(\r\n    \"gocodeo.getStarted\",\r\n    async () => {\r\n      await vscode.commands.executeCommand(\"workbench.action.openWalkthrough\", {\r\n        category: \"GoCodeo.gocodeo#gocodeo\",\r\n      });\r\n    }\r\n  );\r\n  context.subscriptions.push(getStarted);\r\n\r\n  // {\r\n  //     \"command\": \"gocodeo.clear\",\r\n  //     \"title\": \"Clear\",\r\n  //     \"category\": \"GoCodeo\"\r\n  // },\r\n  // const clearStore = vscode.commands.registerCommand(\"gocodeo.clear\", async () => {\r\n  //     //@ts-ignore\r\n  //     globalStore.clear();\r\n  // });\r\n  // context.subscriptions.push(clearStore);\r\n\r\n  // register a command to handle the sign-in button click\r\n  // const googleSignInCommand = vscode.commands.registerCommand('gocodeo.signin.google', async (flag) => {\r\n  //     vscode.env.openExternal(vscode.Uri.parse(signInGoogleUrl));\r\n  // });\r\n  // const githubSignInCommand = vscode.commands.registerCommand('gocodeo.signin.github', async (flag) => {\r\n  //     vscode.env.openExternal(vscode.Uri.parse(signInGithubUrl));\r\n  // });\r\n  // context.subscriptions.push(googleSignInCommand);\r\n  // context.subscriptions.push(githubSignInCommand);\r\n  //@ts-ignore\r\n\r\n\r\n  const openSiderBar = vscode.commands.registerCommand(\r\n    \"gocodeo.opensidebar\",\r\n    async (isSidebar = false) => {\r\n      let eventName = AnalyticsEvents.GENERATE_TESTS_ACTION_TRIGGERED_EVENT;\r\n      if (isSidebar) eventName = AnalyticsEvents.OPENED_SCANNER_EDITOR_CLICKED;\r\n      vscode.commands.executeCommand(\"gocodeo-sidebar.focus\");\r\n      //@ts-ignore\r\n      let userTrackPoints = getUserTrackPoints(authUser);\r\n      analytics.track(eventName, { userTrackPoints, user_ip_address });\r\n    }\r\n  );\r\n  context.subscriptions.push(openSiderBar);\r\n\r\n  // Function to update the sidebar content\r\n  function updateSidebarContent(newContent: string) {\r\n    const sidebarViewId = \"gocodeo-sidebar\"; // The ID of your sidebar view\r\n    const newSidebarContents = [\r\n      {\r\n        view: sidebarViewId,\r\n        contents: newContent,\r\n      },\r\n    ];\r\n\r\n    // Assuming you have a method to update the sidebar view\r\n    vscode.commands.executeCommand(\r\n      \"gocodeo.updateSidebarContent\",\r\n      newSidebarContents\r\n    );\r\n  }\r\n\r\n  // Add the signInCommand to the context subscriptions\r\n  context.subscriptions.push(signInCommand);\r\n\r\n  const refreshSideBar = vscode.commands.registerCommand(\r\n    \"gocodeo.usage\",\r\n    async () => {\r\n      await getUserUsage(authToken, globalStore);\r\n      // await vscode.commands.executeCommand('workbench.action.refreshFilesExplorer');\r\n      // vscode.commands.executeCommand(\"workbench.action.webview.reloadWebviewAction\");\r\n      // vscode.commands.executeCommand('gocodeo-sidebar-view.refresh');\r\n    }\r\n  );\r\n\r\n  context.subscriptions.push(refreshSideBar);\r\n  //   Register command for generate test cases for click code action button.\r\n  const generateTestsByClick = vscode.commands.registerCommand(\r\n    \"gocodeo.generateTestsByClick\",\r\n    async (args: any, isSidebar = false) => {\r\n      const isNotebook =\r\n        args.language === \"python\" &&\r\n        vscode.window.activeTextEditor?.document.uri.scheme ===\r\n        \"vscode-notebook-cell\";\r\n      let eventName = AnalyticsEvents.GENERATE_TESTS_ACTION_TRIGGERED_EVENT;\r\n      if (isSidebar)\r\n        eventName =\r\n          AnalyticsEvents.GENERATE_TESTS_SIDEBAR_ACTION_TRIGGERED_EVENT;\r\n      authToken = getStoreKey(AUTH_TOKEN);\r\n      if (!authToken) {\r\n        vscode.commands.executeCommand(CMD_SIGNIN, true);\r\n        return;\r\n      }\r\n      try {\r\n        authUser = await getUserProfile(authToken);\r\n      } catch (error) {\r\n        console.log(\"Error while getting profile\", error);\r\n        // return; // Terminate execution if authUser is essential\r\n      }\r\n      console.log(authUser.remaining_usage, \"authUser.remaining_usage\");\r\n      const isExhausted = authUser.remaining_usage ? false : true;\r\n      if (isExhausted && !authUser.is_verified) {\r\n        vscode.commands.executeCommand(CMD_SIGNIN, false, true);\r\n        return;\r\n      }\r\n\r\n      const { language } = args;\r\n      args.is_verified = authUser.is_verified;\r\n      args.requestId = getUniqueId();\r\n      args.is_new_user = authUser.is_new_user;\r\n      let userTrackPoints = getUserTrackPoints(authUser, args);\r\n      analytics.track(eventName, { userTrackPoints, user_ip_address });\r\n      args.token = authToken;\r\n      // console.log(args);\r\n      args.user = authUser;\r\n      // Get Relevent code file and imported code\r\n      const activeEditor = vscode.window.activeTextEditor;\r\n      if (isNotebook) {\r\n        args.isNotebookCell = true;\r\n      }\r\n      // Code Encryption\r\n      const importedCode = await getImportedContent(\r\n        language,\r\n        activeEditor.document,\r\n        activeEditor.document.uri.fsPath\r\n      );\r\n      args.sourceCode = importedCode;\r\n      console.log(importedCode, \"Code Encryption\");\r\n      args.code = encrypt(\r\n        authUser.id,\r\n        JSON.stringify(\r\n          await getImportedContent(\r\n            language,\r\n            activeEditor.document,\r\n            activeEditor.document.uri.fsPath\r\n          )\r\n        )\r\n      );\r\n      // args.code = await getImportedContent(language, activeEditor.document, activeEditor.document.uri.fsPath);\r\n\r\n      console.log(args, \"hello args\");\r\n      generateTests(args);\r\n    }\r\n  );\r\n  context.subscriptions.push(generateTestsByClick);\r\n\r\n  const generateAnswerByClick = vscode.commands.registerCommand(\r\n    \"gocodeo.generateAnswerByClick\",\r\n    async (args: any, isSidebar = false) => {\r\n      console.log(\"generateAnswerByClick command executed\");\r\n      let eventName =\r\n        AnalyticsEvents.GENERATE_ANSWER_BY_CLICK_ACTION_TRIGGERED_EVENT;\r\n      if (isSidebar) {\r\n        eventName =\r\n          AnalyticsEvents.GENERATE_ANSWER_BY_CLICK_SIDEBAR_ACTION_TRIGGERED_EVENT;\r\n      }\r\n\r\n      // Get the auth token\r\n      const authToken = getStoreKey(AUTH_TOKEN);\r\n\r\n      // Check if the user is authenticated\r\n      if (!authToken) {\r\n        vscode.commands.executeCommand(CMD_SIGNIN, true);\r\n        return;\r\n      }\r\n\r\n      // Get the user profile\r\n      // const authUser = await getUserProfile(authToken);\r\n      let authUser;\r\n\r\n      try {\r\n        authUser = await getUserProfile(authToken);\r\n      } catch (error) {\r\n        console.log(\"Error while getting profile\", error);\r\n        // return; // Terminate execution if authUser is essential\r\n      }\r\n\r\n      const isExhausted = !authUser.remaining_usage;\r\n      if (isExhausted && !authUser.is_verified) {\r\n        vscode.commands.executeCommand(CMD_SIGNIN, false, true);\r\n        return;\r\n      }\r\n\r\n      const quickPickOptions = [\r\n        { label: \"/test\", description: \"Generate tests\" },\r\n        { label: \"/docstring\", description: \"Generate a docstring\" },\r\n        { label: \"/explain\", description: \"Explain\" },\r\n        { label: \"/ask\", description: \"Ask a question\" },\r\n      ];\r\n\r\n      const selection = await vscode.window.showQuickPick(quickPickOptions, {\r\n        placeHolder: \"Choose what you want to do!\",\r\n      });\r\n      console.log(selection, \"selectionselection\");\r\n\r\n      if (!selection) return;\r\n      const { language } = args;\r\n      args.is_verified = authUser.is_verified;\r\n      args.requestId = getUniqueId();\r\n      args.is_new_user = authUser.is_new;\r\n\r\n      // Track the event\r\n      let userTrackPoints = getUserTrackPoints(authUser, args);\r\n      analytics.track(eventName, {\r\n        userTrackPoints,\r\n        user_ip_address,\r\n        quick_pick_option: selection.label,\r\n      });\r\n      args.user = authUser;\r\n      args.token = authToken;\r\n      const activeEditor = vscode.window.activeTextEditor;\r\n      let filePath;\r\n      let fileName;\r\n      // Add filePath to args\r\n      if (activeEditor) {\r\n        filePath = activeEditor.document.uri.fsPath;\r\n        fileName = path.basename(filePath);\r\n        args.filePath = filePath;\r\n        args.fileName = fileName;\r\n      } else {\r\n        vscode.window.showErrorMessage(\"No active editor found.\");\r\n        return;\r\n      }\r\n      // Code Encryption\r\n      args.code = encrypt(\r\n        authUser.id,\r\n        JSON.stringify(\r\n          await getImportedContent(\r\n            language,\r\n            activeEditor.document,\r\n            activeEditor.document.uri.fsPath\r\n          )\r\n        )\r\n      );\r\n\r\n      // Create session ID with timestamp\r\n      const timestamp = new Date().getTime();\r\n      args.requestId = `${getUniqueId()}_${timestamp}`;\r\n      args.sessionId = args.requestId;\r\n      // console.log(args.sessionId, \"args.sessionId\");\r\n\r\n      const userDataPath =\r\n        process.platform === \"win32\"\r\n          ? process.env.APPDATA ||\r\n          path.join(process.env.USERPROFILE || \"\", \"AppData\", \"Roaming\")\r\n          : path.join(process.env.HOME || \"\", \".config\");\r\n\r\n      // Set up paths for both `sessions` and `build_sessions`\r\n      const sessionDir = path.join(userDataPath, \"gocodeo\", \"sessions\");\r\n      const buildSessionDir = path.join(\r\n        userDataPath,\r\n        \"gocodeo\",\r\n        \"build_sessions\"\r\n      );\r\n\r\n      console.log(\"calling manageSessionsFile\", manageSessionsFile);\r\n\r\n      try {\r\n        // Ensure `sessions` directory exists\r\n        if (!fs.existsSync(sessionDir)) {\r\n          fs.mkdirSync(sessionDir, { recursive: true });\r\n        }\r\n\r\n        // Ensure `build_sessions` directory exists\r\n        if (!fs.existsSync(buildSessionDir)) {\r\n          fs.mkdirSync(buildSessionDir, { recursive: true });\r\n        }\r\n\r\n        // Create empty session file for `sessions`\r\n        const sessionFile = path.join(sessionDir, `${args.sessionId}.json`);\r\n        if (!fs.existsSync(sessionFile)) {\r\n          fs.writeFileSync(\r\n            sessionFile,\r\n            JSON.stringify({\r\n              sessionId: args.sessionId,\r\n              chatHistory: [],\r\n              title: \"\",\r\n            })\r\n          );\r\n        }\r\n\r\n        // Create empty session file for `build_sessions`\r\n        const buildSessionFile = path.join(\r\n          buildSessionDir,\r\n          `${args.sessionId}.json`\r\n        );\r\n        if (!fs.existsSync(buildSessionFile)) {\r\n          fs.writeFileSync(\r\n            buildSessionFile,\r\n            JSON.stringify({\r\n              sessionId: args.sessionId,\r\n              buildHistory: [],\r\n              title: \"\",\r\n            })\r\n          );\r\n        }\r\n      } catch (err) {\r\n        console.error(\r\n          \"Error creating session or build session directory/file:\",\r\n          err\r\n        );\r\n      }\r\n\r\n      // Call manageSessionsFile for both `sessions` and `build_sessions`\r\n      manageSessionsFile(sessionDir, args.sessionId);\r\n      manageSessionsFile(buildSessionDir, args.sessionId);\r\n\r\n      // Retrieve recent histories for both `sessions` and `build_sessions`\r\n      getRecentChatHistories();\r\n      getRecentBuildHistories();\r\n      if (selection.label === \"/test\") {\r\n        generateTests(args);\r\n      } else if (selection.label === \"/docstring\") {\r\n        handleChat(args, \"docStrings\");\r\n      } else if (selection.label === \"/explain\") {\r\n        handleChat(args, \"explain\");\r\n      } else if (selection.label === \"/ask\") {\r\n        handleChat(args, \"ask\");\r\n      }\r\n    }\r\n  );\r\n\r\n  const askChatCommand = vscode.commands.registerCommand(\r\n    \"gocodeo.askChat\",\r\n    async (isSidebar = false) => {\r\n      console.log(\r\n        \"askChatCommand command executed with key binding ctrl+shift+l\"\r\n      );\r\n      let eventName =\r\n        AnalyticsEvents.ASK_PANEL_ACTION_TRIGGERED_EVENT_BY_KEYBINDING;\r\n      if (isSidebar) {\r\n        eventName =\r\n          AnalyticsEvents.ASK_PANEL_BY_CLICK_SIDEBAR_ACTION_TRIGGERED_EVENT_BY_KEYBINDING;\r\n      }\r\n\r\n      // Get the auth token\r\n      const authToken = getStoreKey(AUTH_TOKEN);\r\n\r\n      // Check if the user is authenticated\r\n      if (!authToken) {\r\n        vscode.commands.executeCommand(CMD_SIGNIN, true);\r\n        return;\r\n      }\r\n\r\n      // Get the user profile\r\n      // const authUser = await getUserProfile(authToken);\r\n      let authUser;\r\n      try {\r\n        authUser = await getUserProfile(authToken);\r\n      } catch (error) {\r\n        console.log(\"Error while getting profile\", error);\r\n        // return; // Terminate execution if authUser is essential\r\n      }\r\n\r\n      const isExhausted = !authUser.remaining_usage;\r\n      if (isExhausted && !authUser.is_verified) {\r\n        vscode.commands.executeCommand(CMD_SIGNIN, false, true);\r\n        return;\r\n      }\r\n\r\n      const activeEditor = vscode.window.activeTextEditor;\r\n      const args: any = {\r\n        language: activeEditor.document.languageId,\r\n        component: \"defaultComponent\",\r\n        type: \"default\",\r\n      };\r\n\r\n      const { language } = args;\r\n      args.is_verified = authUser.is_verified;\r\n      args.requestId = getUniqueId();\r\n      args.is_new_user = authUser.is_new;\r\n\r\n      // Track the event\r\n      let userTrackPoints = getUserTrackPoints(authUser, args);\r\n      analytics.track(eventName, { userTrackPoints, user_ip_address });\r\n\r\n      args.user = authUser;\r\n      args.token = authToken;\r\n      let filePath;\r\n      let fileName;\r\n      // Add filePath to args\r\n      if (activeEditor) {\r\n        filePath = activeEditor.document.uri.fsPath;\r\n        fileName = path.basename(filePath);\r\n        args.filePath = filePath;\r\n        args.fileName = fileName;\r\n      } else {\r\n        vscode.window.showErrorMessage(\"No active editor found.\");\r\n        return;\r\n      }\r\n\r\n      const selection = activeEditor.selection;\r\n      let contextCode: any;\r\n\r\n      if (selection && !selection.isEmpty) {\r\n        contextCode = {};\r\n        contextCode.imports = []; //@ts-ignore\r\n        contextCode.main = {\r\n          file: activeEditor.document.uri.fsPath,\r\n          code: activeEditor.document.getText(selection),\r\n        };\r\n      } else {\r\n        contextCode = await getImportedContent(\r\n          language,\r\n          activeEditor.document,\r\n          activeEditor.document.uri.fsPath\r\n        );\r\n      }\r\n\r\n      // console.log(\"contextCode\", contextCode)\r\n      // Code Encryption\r\n      args.code = encrypt(authUser.id, JSON.stringify(contextCode));\r\n\r\n      // Create session ID with timestamp\r\n      const timestamp = new Date().getTime();\r\n      args.requestId = `${getUniqueId()}_${timestamp}`;\r\n      args.sessionId = args.requestId;\r\n      console.log(args.sessionId, \"args.sessionId\");\r\n\r\n      // Get platform-specific user data path\r\n      const userDataPath =\r\n        process.platform === \"win32\"\r\n          ? process.env.APPDATA ||\r\n          path.join(process.env.USERPROFILE || \"\", \"AppData\", \"Roaming\")\r\n          : path.join(process.env.HOME || \"\", \".config\");\r\n\r\n      const sessionDir = path.join(userDataPath, \"gocodeo\", \"sessions\");\r\n      console.log(\"calling managesession\", manageSessionsFile);\r\n\r\n      try {\r\n        if (!fs.existsSync(sessionDir)) {\r\n          fs.mkdirSync(sessionDir, { recursive: true });\r\n        }\r\n\r\n        // Create empty session file\r\n        const sessionFile = path.join(sessionDir, `${args.sessionId}.json`);\r\n        if (!fs.existsSync(sessionFile)) {\r\n          fs.writeFileSync(\r\n            sessionFile,\r\n            JSON.stringify({\r\n              sessionId: args.sessionId,\r\n              chatHistory: [],\r\n            })\r\n          );\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error creating session directory/file:\", err);\r\n      }\r\n\r\n      manageSessionsFile(sessionDir, args.sessionId);\r\n      getRecentChatHistories();\r\n\r\n      handleChat(args, \"ask\");\r\n    }\r\n  );\r\n\r\n  const terminalChatCommand = vscode.commands.registerCommand(\r\n    \"gocodeo.openTerminalChat\",\r\n    async (isSidebar = false) => {\r\n      console.log(\r\n        \"terminalChat command executed with key binding ctrl+shift+t\"\r\n      );\r\n      let eventName = AnalyticsEvents.TERMINAL_CHAT_TRIGGERED;\r\n\r\n      // Get the auth token\r\n      const authToken = getStoreKey(AUTH_TOKEN);\r\n\r\n      // Check if the user is authenticated\r\n      if (!authToken) {\r\n        vscode.commands.executeCommand(CMD_SIGNIN, true);\r\n        return;\r\n      }\r\n\r\n      // Get the user profile\r\n      // const authUser = await getUserProfile(authToken);\r\n\r\n      let authUser;\r\n      try {\r\n        authUser = await getUserProfile(authToken);\r\n      } catch (error) {\r\n        console.log(\"Error while getting profile\", error);\r\n        // return; // Terminate execution if authUser is essential\r\n      }\r\n\r\n      const isExhausted = !authUser.remaining_usage;\r\n      if (isExhausted && !authUser.is_verified) {\r\n        vscode.commands.executeCommand(CMD_SIGNIN, false, true);\r\n        return;\r\n      }\r\n\r\n      vscode.window\r\n        .showInputBox({\r\n          prompt: \"Ask for a command\",\r\n          title: \"Ask for a command\",\r\n          //@ts-ignore\r\n        })\r\n        //@ts-ignore\r\n        .then(async (query) => {\r\n          if (query) {\r\n            const activeTerminal = vscode.window.activeTerminal;\r\n            if (!activeTerminal) {\r\n              vscode.window.showInformationMessage(\"No active terminal found.\");\r\n              return;\r\n            }\r\n            console.log(\r\n              \"active terminal details----->\",\r\n              activeTerminal.name,\r\n              activeTerminal.id,\r\n              activeTerminal.exitStatus\r\n            );\r\n\r\n            const args: any = {\r\n              language: \"\",\r\n              terminalName: activeTerminal.name,\r\n              isSidebar: isSidebar,\r\n              terminalExitStatus: activeTerminal.exitStatus,\r\n              component: \"defaultComponent\",\r\n              type: \"default\",\r\n            };\r\n\r\n            const { language } = args;\r\n            args.is_verified = authUser.is_verified;\r\n            args.requestId = getUniqueId();\r\n            args.is_new_user = authUser.is_new;\r\n\r\n            // Track the event\r\n            let userTrackPoints = getUserTrackPoints(authUser, args);\r\n            analytics.track(eventName, { userTrackPoints, user_ip_address });\r\n\r\n            args.user = authUser;\r\n            args.token = authToken;\r\n\r\n            // Create session ID with timestamp\r\n            const timestamp = new Date().getTime();\r\n            args.requestId = `${getUniqueId()}_${timestamp}`;\r\n            args.sessionId = args.requestId;\r\n            console.log(args.sessionId, \"args.sessionId\");\r\n\r\n            const getAnswer = async (query: string, authToken: string) => {\r\n              try {\r\n                const answer = await askTerminalQuestion(query, authToken);\r\n                console.log(\"getAnswer result:\", answer);\r\n                return answer;\r\n              } catch (error) {\r\n                vscode.window.showErrorMessage(`API Error: ${error.message}`);\r\n                throw error;\r\n              }\r\n            };\r\n\r\n            try {\r\n              if (authToken) {\r\n                const answer = await getAnswer(query, authToken);\r\n                const terminalCommand =\r\n                  answer?.command.replace(/(\\r\\n|\\n|\\r)/gm, \"\") ||\r\n                  \"No command found\";\r\n                //Strip new line character from answer\r\n                // terminalCommand = terminalCommand.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\r\n                console.log(\"Requested command:\", terminalCommand);\r\n                // vscode.window.showInformationMessage(\r\n                //   `Answer: ${JSON.stringify(answer)}, Command: ${terminalCommand}`\r\n                // );\r\n\r\n                console.log(`Sending command to terminal: ${terminalCommand}`);\r\n                const activeTerminal = vscode.window.activeTerminal;\r\n                if (activeTerminal) {\r\n                  activeTerminal.show();\r\n                  activeTerminal.sendText(\r\n                    terminalCommand || \"No answer provided.\",\r\n                    false\r\n                  );\r\n                } else {\r\n                  vscode.window.showErrorMessage(\"No active terminal found.\");\r\n                }\r\n              } else {\r\n                vscode.window.showErrorMessage(\r\n                  \"Authentication token not found. Please log in.\"\r\n                );\r\n              }\r\n            } catch (error) {\r\n              console.error(\"Error in submitQuery:\", error);\r\n              vscode.window.showErrorMessage(\r\n                `Failed to process query: ${error.message}`\r\n              );\r\n            }\r\n          }\r\n        });\r\n\r\n      //   const activeEditor = vscode.window.activeTextEditor;\r\n      //   const activeTerminal = vscode.window.activeTerminal;\r\n\r\n      //   console.log(\"activeTerminal\", activeTerminal, \"activeWindow\", activeEditor);\r\n\r\n      //   if (!activeTerminal) {\r\n      //     vscode.window.showInformationMessage('No active terminal found.');\r\n      //     return;\r\n      //   }\r\n      //   // activeTerminal.sendText('echo Hello, World!');\r\n      //   console.log(\"active terminal details----->\", activeTerminal.name, activeTerminal.id, activeTerminal.exitStatus);\r\n\r\n      //   const args: any = {\r\n      //     language: activeEditor.document.languageId,\r\n      //     terminalName: activeTerminal.name,\r\n      //     isSidebar: isSidebar,\r\n      //     terminalExitStatus: activeTerminal.exitStatus,\r\n      //     component: \"defaultComponent\",\r\n      //     type: \"default\",\r\n      //   };\r\n\r\n      //   const { language } = args;\r\n      //   args.is_verified = authUser.is_verified;\r\n      //   args.requestId = getUniqueId();\r\n      //   args.is_new_user = authUser.is_new;\r\n\r\n      //   // Track the eventq\r\n      //   let userTrackPoints = getUserTrackPoints(authUser, args)\r\n      //   analytics.track(eventName, {userTrackPoints, user_ip_address});\r\n\r\n      //   args.user = authUser;\r\n      //   args.token = authToken;\r\n\r\n      //   // Create session ID with timestamp\r\n      //   const timestamp = new Date().getTime();\r\n      //   args.requestId = `${getUniqueId()}_${timestamp}`;\r\n      //   args.sessionId = args.requestId;\r\n      //   console.log(args.sessionId, \"args.sessionId\");\r\n\r\n      // handleTerminalChat(args, 'ask');\r\n    }\r\n  );\r\n\r\n  const editCodeCommand = vscode.commands.registerCommand(\r\n    \"gocodeo.editSelectedCode\",\r\n    async (isSidebar = false) => {\r\n      console.log(\"edit code command executed with key binding ctrl+shift+e\");\r\n      let eventName = AnalyticsEvents.EDIT_CODE_TRIGGERED;\r\n\r\n      // Get the auth token\r\n      const authToken = getStoreKey(AUTH_TOKEN);\r\n\r\n      // Check if the user is authenticated\r\n      if (!authToken) {\r\n        vscode.commands.executeCommand(CMD_SIGNIN, true);\r\n        return;\r\n      }\r\n\r\n      // Get the user profile\r\n      // const authUser = await getUserProfile(authToken);\r\n\r\n      let authUser;\r\n      try {\r\n        authUser = await getUserProfile(authToken);\r\n      } catch (error) {\r\n        console.log(\"Error while getting profile\", error);\r\n        // return; // Terminate execution if authUser is essential\r\n      }\r\n\r\n      const isExhausted = !authUser.remaining_usage;\r\n      if (isExhausted && !authUser.is_verified) {\r\n        vscode.commands.executeCommand(CMD_SIGNIN, false, true);\r\n        return;\r\n      }\r\n\r\n      vscode.window\r\n        .showInputBox({\r\n          prompt: \"Suggest an edit\",\r\n          title: \"Suggest an edit\",\r\n          //@ts-ignore\r\n        })\r\n        //@ts-ignore\r\n        .then(async (query) => {\r\n          if (query) {\r\n            const activeEditor = vscode.window.activeTextEditor;\r\n            if (!activeEditor) {\r\n              vscode.window.showInformationMessage(\"No active editor found.\");\r\n              return;\r\n            }\r\n\r\n            const args: any = {\r\n              language: activeEditor.document.languageId,\r\n              component: \"defaultComponent\",\r\n              type: \"default\",\r\n              user_input: query,\r\n            };\r\n\r\n            const { language } = args;\r\n            args.is_verified = authUser.is_verified;\r\n            args.requestId = getUniqueId();\r\n            args.is_new_user = authUser.is_new;\r\n\r\n            // Track the event\r\n            let userTrackPoints = getUserTrackPoints(authUser, args);\r\n            analytics.track(eventName, { userTrackPoints, user_ip_address });\r\n\r\n            args.user = authUser;\r\n            args.token = authToken;\r\n            let filePath;\r\n            let fileName;\r\n            // Add filePath to args\r\n            if (activeEditor) {\r\n              filePath = activeEditor.document.uri.fsPath;\r\n              fileName = path.basename(filePath);\r\n              args.filePath = filePath;\r\n              args.fileName = fileName;\r\n            } else {\r\n              vscode.window.showErrorMessage(\"No active editor found.\");\r\n              return;\r\n            }\r\n\r\n            const selection = activeEditor.selection;\r\n            let contextCode: any;\r\n\r\n            if (selection && !selection.isEmpty) {\r\n              contextCode = {};\r\n              contextCode.imports = []; //@ts-ignore\r\n              contextCode.main = {\r\n                file: activeEditor.document.uri.fsPath,\r\n                code: activeEditor.document.getText(selection),\r\n              };\r\n            } else {\r\n              contextCode = await getImportedContent(\r\n                language,\r\n                activeEditor.document,\r\n                activeEditor.document.uri.fsPath\r\n              );\r\n            }\r\n\r\n            console.log(\"contextCode\", contextCode);\r\n            // Code Encryption\r\n            args.code = [encrypt(authUser.id, JSON.stringify(contextCode))];\r\n\r\n            // Create session ID with timestamp\r\n            const timestamp = new Date().getTime();\r\n            args.requestId = `${getUniqueId()}_${timestamp}`;\r\n            args.sessionId = args.requestId;\r\n            console.log(args.sessionId, \"args.sessionId\");\r\n\r\n            const getEditedCode = async (query: string, authToken: string) => {\r\n              try {\r\n                const answer = await askCodeEdit(args, authToken);\r\n                console.log(\"askCodeEdit result:\", answer);\r\n                return answer;\r\n              } catch (error) {\r\n                // vscode.window.showErrorMessage(`API Error: ${error.message}`);\r\n                throw error;\r\n              }\r\n            };\r\n\r\n            try {\r\n              if (authToken) {\r\n                const newCode = await getEditedCode(args, authToken);\r\n                if (!newCode) {\r\n                  console.log(\"Empty code received\");\r\n                  vscode.window.showErrorMessage(\r\n                    `Something went wrong. Please try again later.`\r\n                  );\r\n                }\r\n                console.log(`updated Code: ${newCode}`);\r\n                if (activeEditor) {\r\n                  const selection = activeEditor.selection;\r\n                  if (selection && !selection.isEmpty) {\r\n                    await activeEditor.edit((editBuilder) => {\r\n                      editBuilder.replace(selection, newCode.code); // Replacing selection with newCode\r\n                    });\r\n                    vscode.window.showInformationMessage(\r\n                      \"Code updated successfully!\"\r\n                    );\r\n                  } else {\r\n                    const cursorPosition = selection.active;\r\n                    await activeEditor.edit((editBuilder) => {\r\n                      editBuilder.insert(cursorPosition, newCode.code);\r\n                    });\r\n                    vscode.window.showInformationMessage(\r\n                      \"Code inserted successfully!\"\r\n                    );\r\n                  }\r\n                }\r\n              } else {\r\n                vscode.window.showErrorMessage(\r\n                  \"Authentication token not found. Please log in.\"\r\n                );\r\n              }\r\n            } catch (error) {\r\n              console.error(\"Error in editCodeCommand:\", error);\r\n              vscode.window.showErrorMessage(\r\n                `Could not process query. Please try again later.`\r\n              );\r\n            }\r\n          }\r\n        });\r\n    }\r\n  );\r\n// Helper: check if a document is probably binary\r\nfunction isBinaryDocument(document: vscode.TextDocument): boolean {\r\n  // You might check the languageId if you set it for binary files in your extension.\r\n  // Alternatively, a simple heuristic is to check for null characters.\r\n  const text = document.getText();\r\n  return text.includes('\\0');\r\n}\r\n  const buildCommand = vscode.commands.registerCommand(\r\n    \"gocodeo.builder\",\r\n    async (isSidebar = false) => {\r\n      console.log(\"BuildCommand: command executed with key binding ctrl+shift+k\");\r\n\r\n      let eventName =\r\n        AnalyticsEvents.BUILD_PANEL_ACTION_TRIGGERED_EVENT_BY_KEYBINDING;\r\n      if (isSidebar) {\r\n        eventName =\r\n          AnalyticsEvents.BUILD_PANEL_BY_CLICK_SIDEBAR_ACTION_TRIGGERED_EVENT_BY_KEYBINDING;\r\n      }\r\n      console.log(\"BuildCommand: Determined event name:\", eventName);\r\n\r\n      // Get the auth token\r\n      const authToken = getStoreKey(AUTH_TOKEN);\r\n      console.log(\"BuildCommand: Retrieved auth token:\", authToken);\r\n\r\n      // Check if the user is authenticated\r\n      if (!authToken) {\r\n        console.log(\"BuildCommand: User not authenticated, triggering sign-in.\");\r\n        vscode.commands.executeCommand(CMD_SIGNIN, true);\r\n        return;\r\n      }\r\n\r\n      // Get the user profile\r\n      let authUser;\r\n      try {\r\n        console.log(\"BuildCommand: Fetching user profile...\");\r\n        authUser = await getUserProfile(authToken);\r\n        console.log(\"BuildCommand: Fetched user profile:\", authUser);\r\n      } catch (error) {\r\n        console.log(\"BuildCommand: Error while getting profile:\", error);\r\n        // return; // Uncomment this if profile is essential\r\n      }\r\n\r\n      const isExhausted = !authUser?.remaining_usage;\r\n      if (isExhausted && !authUser?.is_verified) {\r\n        console.log(\r\n          \"BuildCommand: Usage exhausted and user is not verified, triggering sign-in.\"\r\n        );\r\n        vscode.commands.executeCommand(CMD_SIGNIN, false, true);\r\n        return;\r\n      }\r\n    \r\n      // Try to get the active editor\r\n      let activeEditor = vscode.window.activeTextEditor;\r\n      console.log(\"BuildCommand: Active editor 1st :\", activeEditor);\r\n       // If an active editor exists but it contains binary data, disregard it.\r\n       if (activeEditor && isBinaryDocument(activeEditor.document)) {\r\n        console.log(\"BuildCommand: Active document is binary. Ignoring and searching for a fallback file.\");\r\n        activeEditor = undefined;\r\n      }\r\n      // Fallback if no valid active editor\r\n      if (!activeEditor) {\r\n        console.log(\"BuildCommand: No valid active editor, checking Column One...\");\r\n        const tabGroups = vscode.window.tabGroups.all;\r\n        let found = false;\r\n\r\n        for (const group of tabGroups) {\r\n          if (group.viewColumn === vscode.ViewColumn.One) {\r\n            const columnOneTab = group.tabs.find((tab) => tab.input instanceof vscode.TabInputText);\r\n            if (columnOneTab) {\r\n              try {\r\n                console.log(\"BuildCommand: Found a file in Column One:\", columnOneTab.label);\r\n                const document = await vscode.workspace.openTextDocument(columnOneTab.input.uri);\r\n                if (isBinaryDocument(document)) {\r\n                  console.log(\"BuildCommand: File in Column One is binary. Skipping.\");\r\n                  continue;\r\n                }\r\n                await vscode.window.showTextDocument(document, {\r\n                  viewColumn: vscode.ViewColumn.One,\r\n                  preview: false,\r\n                });\r\n                activeEditor = vscode.window.activeTextEditor;\r\n                if (activeEditor) {\r\n                  console.log(\"BuildCommand: Successfully focused on Column One editor.\");\r\n                  found = true;\r\n                  break;\r\n                }\r\n              } catch (err) {\r\n                console.error(\"BuildCommand: Error opening file from Column One:\", err);\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        // If still not found, search the workspace root for a text file\r\n        if (!activeEditor) {\r\n          console.log(\"BuildCommand: No valid editor in Column One, checking workspace root...\");\r\n          const workspaceFolders = vscode.workspace.workspaceFolders;\r\n          if (workspaceFolders && workspaceFolders.length > 0) {\r\n            const rootFolder = workspaceFolders[0].uri.fsPath;\r\n            // Get all files (without a limit so we can try multiple candidates)\r\n            const files = await vscode.workspace.findFiles(\r\n              new vscode.RelativePattern(rootFolder, \"**/*\"),\r\n              \"**/node_modules/**\"\r\n            );\r\n            for (const file of files) {\r\n              try {\r\n                console.log(\"BuildCommand: Trying file:\", file.fsPath);\r\n                const document = await vscode.workspace.openTextDocument(file);\r\n                if (isBinaryDocument(document)) {\r\n                  console.log(\"BuildCommand: Skipping binary file:\", file.fsPath);\r\n                  continue;\r\n                }\r\n                await vscode.window.showTextDocument(document, {\r\n                  viewColumn: vscode.ViewColumn.One,\r\n                  preview: false,\r\n                });\r\n                activeEditor = vscode.window.activeTextEditor;\r\n                if (activeEditor) {\r\n                  console.log(\"BuildCommand: Successfully opened fallback text file:\", file.fsPath);\r\n                  break;\r\n                }\r\n              } catch (err) {\r\n                console.error(\"BuildCommand: Error opening file:\", file.fsPath, err);\r\n              }\r\n            }\r\n\r\n            // If no valid text file is found, create a new temporary document.\r\n            if (!activeEditor) {\r\n              console.log(\"BuildCommand: No text files found, creating a temporary untitled document...\");\r\n              const tempFileUri = vscode.Uri.parse(\"untitled:Untitled-1\");\r\n              const document = await vscode.workspace.openTextDocument(tempFileUri);\r\n              await vscode.window.showTextDocument(document, {\r\n                viewColumn: vscode.ViewColumn.One,\r\n                preview: false,\r\n              });\r\n              activeEditor = vscode.window.activeTextEditor;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if (!activeEditor) {\r\n        console.error(\"BuildCommand: No active editor found after all fallback attempts.\");\r\n        return; // Exit if no editor is available\r\n      }\r\n \r\n      console.log(\"BuildCommand: Active editor details:\", activeEditor);\r\n\r\n      const args: any = {\r\n        language: activeEditor.document.languageId,\r\n        component: \"defaultComponent\",\r\n        type: \"default\",\r\n      };\r\n      console.log(\"BuildCommand: Initialized args:\", args);\r\n\r\n      const { language } = args;\r\n      args.is_verified = authUser.is_verified;\r\n      args.requestId = getUniqueId();\r\n      args.is_new_user = authUser.is_new;\r\n\r\n      console.log(\"BuildCommand: Updated args with user details:\", args);\r\n\r\n      // Track the event\r\n      let userTrackPoints = getUserTrackPoints(authUser, args);\r\n      console.log(\"BuildCommand: Tracking event with data:\", {\r\n        eventName,\r\n        userTrackPoints,\r\n      });\r\n      analytics.track(eventName, { userTrackPoints, user_ip_address });\r\n\r\n      args.user = authUser;\r\n      args.token = authToken;\r\n\r\n      args.code = encrypt(\r\n        authUser.id,\r\n        JSON.stringify(\r\n          await getImportedContent(\r\n            language,\r\n            activeEditor.document,\r\n            activeEditor.document.uri.fsPath\r\n          )\r\n        )\r\n      );\r\n      console.log(\"BuildCommand: Encrypted code content:\", args.code);\r\n\r\n      // Create session ID with timestamp\r\n      const timestamp = new Date().getTime();\r\n      args.requestId = `${getUniqueId()}_${timestamp}`;\r\n      args.sessionId = args.requestId;\r\n      console.log(\"BuildCommand: Generated session ID:\", args.sessionId);\r\n\r\n      // Get platform-specific user data path\r\n      const userDataPath =\r\n        process.platform === \"win32\"\r\n          ? process.env.APPDATA ||\r\n          path.join(process.env.USERPROFILE || \"\", \"AppData\", \"Roaming\")\r\n          : path.join(process.env.HOME || \"\", \".config\");\r\n\r\n      const sessionDir = path.join(userDataPath, \"gocodeo\", \"build_sessions\");\r\n      console.log(\"BuildCommand: User data path for session:\", sessionDir);\r\n\r\n      try {\r\n        if (!fs.existsSync(sessionDir)) {\r\n          console.log(\"BuildCommand: Creating session directory...\");\r\n          fs.mkdirSync(sessionDir, { recursive: true });\r\n        }\r\n\r\n        // Create empty session file\r\n        const sessionFile = path.join(sessionDir, `${args.sessionId}.json`);\r\n        console.log(\"BuildCommand: Checking session file existence...\");\r\n        if (!fs.existsSync(sessionFile)) {\r\n          console.log(\"BuildCommand: Creating new session file...\");\r\n          fs.writeFileSync(\r\n            sessionFile,\r\n            JSON.stringify({\r\n              sessionId: args.sessionId,\r\n              chatHistory: [],\r\n            })\r\n          );\r\n        }\r\n      } catch (err) {\r\n        console.error(\"BuildCommand: Error creating session directory/file:\", err);\r\n      }\r\n\r\n      console.log(\"BuildCommand: Managing sessions...\");\r\n      manageSessionsFile(sessionDir, args.sessionId);\r\n\r\n      console.log(\"BuildCommand: Fetching recent build histories...\");\r\n      getRecentBuildHistories();\r\n\r\n      console.log(\"BuildCommand: Handling chat with args...\");\r\n      handleChat(args, \"build\");\r\n      console.log(\"BuildCommand: Completed execution.\");\r\n    }\r\n  );\r\n\r\n  console.log(vscode.workspace.workspaceFolders, \"vscode.workspace.workspaceFolders\");\r\n      \r\n      if (!vscode.workspace.workspaceFolders) {\r\n        // Create a new untitled document\r\n        vscode.workspace.openTextDocument({ content: '', language: 'plaintext' }).then((document) => {\r\n            vscode.window.showTextDocument(document);\r\n        });\r\n    }\r\n\r\n  context.subscriptions.push(generateAnswerByClick);\r\n  context.subscriptions.push(askChatCommand);\r\n  context.subscriptions.push(buildCommand);\r\n\r\n  //   let disposable2 = vscode.commands.registerCommand('gocodeo.closeSpecificFiles', async (filePaths) => {\r\n  //     for (const filePath of filePaths) {\r\n  //         try {\r\n\r\n  //             const document = await vscode.workspace.openTextDocument(filePath);\r\n\r\n  //             const editor = vscode.window.visibleTextEditors.find(\r\n  //                 (e) => e.document.fileName === document.fileName\r\n  //             );\r\n\r\n  //             if (editor) {\r\n  //                 // Focus on the editor to close it\r\n  //                 await vscode.window.showTextDocument(document, { preview: false });\r\n  //                 await vscode.commands.executeCommand('workbench.action.closeActiveEditor');\r\n  //             }\r\n  //         } catch (error) {\r\n  //             vscode.window.showErrorMessage(`Error closing file: ${filePath} - ${error.message}`);\r\n  //         }\r\n  //     }\r\n  //     vscode.window.showInformationMessage('Selected files have been closed!');\r\n  // });\r\n\r\n  // context.subscriptions.push(disposable2);\r\n\r\n  context.subscriptions.push(\r\n    vscode.extensions.onDidChange(() => {\r\n      if (!vscode.extensions.getExtension(\"GoCodeo.gocodeo\")) {\r\n        // extension is being uninstalled or deactivated\r\n        // remove properties or data from the extension's global storage\r\n      }\r\n    })\r\n  );\r\n\r\n  // //  Show/hide sidebar panel\r\n  // const toggleSidebar = \"gocodeo.toggleSidebar\";\r\n  // let statusBarIcon2 = vscode.window.createStatusBarItem(\r\n  //   vscode.StatusBarAlignment.Left,\r\n  //   100\r\n  // );\r\n  // statusBarIcon2.text = \"$(search) GoCodeo-Scanner\";\r\n  // // set up a click event listener for the status bar item\r\n  // statusBarIcon2.command = toggleSidebar;\r\n  // statusBarIcon2.show();\r\n  // context.subscriptions.push(statusBarIcon2);\r\n  // // Register the commands to show and hide the sidebar\r\n  // context.subscriptions.push(\r\n  //   vscode.commands.registerCommand(toggleSidebar, () => {\r\n  //     // vscode.commands.executeCommand('workbench.action.toggleSidebarVisibility');\r\n  //     vscode.commands.executeCommand(`gocodeo-sidebar.focus`);\r\n  //   })\r\n  // );\r\n\r\n  const gocodeoBuilder = \"gocodeo.builder\";\r\n  let statusBarBuilder = vscode.window.createStatusBarItem(\r\n    vscode.StatusBarAlignment.Left,\r\n    100\r\n  );\r\n  statusBarBuilder.text = \"GoCodeo-BUILD\";\r\n  statusBarBuilder.command = gocodeoBuilder;\r\n  statusBarBuilder.show();\r\n\r\n  context.subscriptions.push(\r\n    vscode.commands.registerCommand(\"gocodeo.generateUnitTests\", () => {\r\n      if (!authToken) {\r\n        vscode.commands.executeCommand(CMD_SIGNIN);\r\n        return;\r\n      }\r\n      // console.log(\"Clicked for test case\");\r\n      const editor = vscode.window.activeTextEditor;\r\n      let selectedText = \"\";\r\n      if (editor) {\r\n        // Get the selected text\r\n        selectedText = editor.document.getText(editor.selection);\r\n        console.log(selectedTextm, \"selectedTextXYZ\");\r\n        if (!selectedText) {\r\n          vscode.window.showErrorMessage(\r\n            \"Please select some code to generate tests\"\r\n          );\r\n          return;\r\n        }\r\n      } else {\r\n        vscode.window.showErrorMessage(\"No active text editor found.\");\r\n      }\r\n      //@ts-ignore\r\n      const language = getLanguageType(editor.document.languageId);\r\n      console.log(selectedTextm, \"selectedTextXYZ\");\r\n\r\n      const payload = { token: authToken, language, code: selectedText };\r\n      generateTests(payload);\r\n    })\r\n  );\r\n\r\n  function generateTests(payload) {\r\n    const { language, isNotebookCell } = payload;\r\n    const commandType = \"generateTestsByClick\";\r\n    payload.commandType = commandType;\r\n    console.log(\"Hello generated tests\", payload);\r\n\r\n    // Setting a default value of 6 for numberofTest across all languages\r\n    let numberofTest = getStoreKey(\"gocodeo.NumberOfTests\") || 6;\r\n    console.log(numberofTest, \"numberofTest value at start\");\r\n\r\n    // JavaScript/TypeScript framework handling\r\n    if ([\"javascript\", \"typescript\"].includes(language)) {\r\n      const framework = getStoreKey(\"gocodeo.jsTestFramework\");\r\n      if (!framework) {\r\n        const options = [\r\n          \"Jest\",\r\n          \"Mocha\",\r\n          \"React Testing Library\",\r\n          \"Jasmine\",\r\n          \"Cypress\",\r\n        ];\r\n        vscode.window.showInformationMessage(\"Choose JS/TS test framework\");\r\n        vscode.window\r\n          .showQuickPick(options, {\r\n            canPickMany: false,\r\n            placeHolder:\r\n              \"Please choose Test Framework (Will be applied to all files)\",\r\n          })\r\n          .then((selectedValue) => {\r\n            payload.framework = selectedValue;\r\n            payload.numberofTest = numberofTest;\r\n            localStore.setValue(\"gocodeo.jsTestFramework\", selectedValue);\r\n            localStore.setValue(\"gocodeo.NumberOfTests\", numberofTest);\r\n            openWebview(context, payload);\r\n          });\r\n      } else {\r\n        payload.framework = framework;\r\n        payload.numberofTest = numberofTest;\r\n        openWebview(context, payload);\r\n      }\r\n    }\r\n    // Python framework handling\r\n    else if (language === \"python\") {\r\n      const framework = getStoreKey(\"gocodeo.pythonTestFramework\");\r\n      if (!framework) {\r\n        const options = [\"unittest\", \"pytest\", \"nose\"];\r\n        vscode.window.showInformationMessage(\"Choose Python test framework\");\r\n        vscode.window\r\n          .showQuickPick(options, {\r\n            canPickMany: false,\r\n            placeHolder:\r\n              \"Please choose Test Framework (Will be applied to all files)\",\r\n          })\r\n          .then((selectedValue) => {\r\n            payload.framework = selectedValue;\r\n            payload.numberofTest = numberofTest;\r\n            localStore.setValue(\"gocodeo.pythonTestFramework\", selectedValue);\r\n            localStore.setValue(\"gocodeo.NumberOfTests\", numberofTest);\r\n            openWebview(context, payload);\r\n          });\r\n      } else {\r\n        payload.framework = framework;\r\n        payload.numberofTest = numberofTest;\r\n        openWebview(context, payload);\r\n      }\r\n    }\r\n\r\n    // C# framework handling\r\n    else if (language === \"csharp\") {\r\n      const framework = getStoreKey(\"gocodeo.csharpTestFramework\");\r\n      if (!framework) {\r\n        const options = [\"xUnit\", \"NUnit\", \"MSTest\"];\r\n        vscode.window.showInformationMessage(\"Choose C# test framework\");\r\n        vscode.window\r\n          .showQuickPick(options, {\r\n            canPickMany: false,\r\n            placeHolder:\r\n              \"Please choose Test Framework (Will be applied to all files)\",\r\n          })\r\n          .then((selectedValue) => {\r\n            payload.framework = selectedValue;\r\n            payload.numberofTest = numberofTest;\r\n            localStore.setValue(\"gocodeo.csharpTestFramework\", selectedValue);\r\n            localStore.setValue(\"gocodeo.NumberOfTests\", numberofTest);\r\n            openWebview(context, payload);\r\n          });\r\n      } else {\r\n        payload.framework = framework;\r\n        payload.numberofTest = numberofTest;\r\n        openWebview(context, payload);\r\n      }\r\n    }\r\n\r\n    // Java framework handling\r\n    else if (language === \"java\") {\r\n      const framework = getStoreKey(\"gocodeo.javaTestFramework\");\r\n      if (!framework) {\r\n        const options = [\"JUnit\", \"TestNG\", \"Spock\", \"Mockito\"];\r\n        vscode.window.showInformationMessage(\"Choose Java test framework\");\r\n        vscode.window\r\n          .showQuickPick(options, {\r\n            canPickMany: false,\r\n            placeHolder:\r\n              \"Please choose Test Framework (Will be applied to all files)\",\r\n          })\r\n          .then((selectedValue) => {\r\n            payload.framework = selectedValue;\r\n            payload.numberofTest = numberofTest;\r\n            localStore.setValue(\"gocodeo.javaTestFramework\", selectedValue);\r\n            localStore.setValue(\"gocodeo.NumberOfTests\", numberofTest);\r\n            openWebview(context, payload);\r\n          });\r\n      } else {\r\n        payload.framework = framework;\r\n        payload.numberofTest = numberofTest;\r\n        openWebview(context, payload);\r\n      }\r\n    }\r\n\r\n    // Go framework handling\r\n    else if (language === \"go\") {\r\n      const framework = getStoreKey(\"gocodeo.goTestFramework\");\r\n      if (!framework) {\r\n        const options = [\"Testify\", \"Ginkgo\", \"GoConvey\"];\r\n        vscode.window.showInformationMessage(\"Choose Go test framework\");\r\n        vscode.window\r\n          .showQuickPick(options, {\r\n            canPickMany: false,\r\n            placeHolder:\r\n              \"Please choose Test Framework (Will be applied to all files)\",\r\n          })\r\n          .then((selectedValue) => {\r\n            payload.framework = selectedValue;\r\n            payload.numberofTest = numberofTest;\r\n            localStore.setValue(\"gocodeo.goTestFramework\", selectedValue);\r\n            localStore.setValue(\"gocodeo.NumberOfTests\", numberofTest);\r\n            openWebview(context, payload);\r\n          });\r\n      } else {\r\n        payload.framework = framework;\r\n        payload.numberofTest = numberofTest;\r\n        openWebview(context, payload);\r\n      }\r\n    }\r\n\r\n    // C++ framework handling\r\n    else if (language === \"cpp\") {\r\n      const framework = getStoreKey(\"gocodeo.cppTestFramework\");\r\n      if (!framework) {\r\n        const options = [\"Google Test\", \"Catch2\", \"Boost.Test\"];\r\n        vscode.window.showInformationMessage(\"Choose C++ test framework\");\r\n        vscode.window\r\n          .showQuickPick(options, {\r\n            canPickMany: false,\r\n            placeHolder:\r\n              \"Please choose Test Framework (Will be applied to all files)\",\r\n          })\r\n          .then((selectedValue) => {\r\n            payload.framework = selectedValue;\r\n            payload.numberofTest = numberofTest;\r\n            localStore.setValue(\"gocodeo.cppTestFramework\", selectedValue);\r\n            localStore.setValue(\"gocodeo.NumberOfTests\", numberofTest);\r\n            openWebview(context, payload);\r\n          });\r\n      } else {\r\n        payload.framework = framework;\r\n        payload.numberofTest = numberofTest;\r\n        openWebview(context, payload);\r\n      }\r\n    }\r\n\r\n    // PHP framework handling\r\n    else if (language === \"php\") {\r\n      const framework = getStoreKey(\"gocodeo.phpTestFramework\");\r\n      if (!framework) {\r\n        const options = [\"PHPUnit\", \"Codeception\", \"Behat\", \"PHPSpec\"];\r\n        vscode.window.showInformationMessage(\"Choose PHP test framework\");\r\n        vscode.window\r\n          .showQuickPick(options, {\r\n            canPickMany: false,\r\n            placeHolder:\r\n              \"Please choose Test Framework (Will be applied to all files)\",\r\n          })\r\n          .then((selectedValue) => {\r\n            payload.framework = selectedValue;\r\n            payload.numberofTest = numberofTest;\r\n            localStore.setValue(\"gocodeo.phpTestFramework\", selectedValue);\r\n            localStore.setValue(\"gocodeo.NumberOfTests\", numberofTest);\r\n            openWebview(context, payload);\r\n          });\r\n      } else {\r\n        payload.framework = framework;\r\n        payload.numberofTest = numberofTest;\r\n        openWebview(context, payload);\r\n      }\r\n    }\r\n\r\n    // Ruby framework handling\r\n    else if (language === \"ruby\") {\r\n      const framework = getStoreKey(\"gocodeo.rubyTestFramework\");\r\n      if (!framework) {\r\n        const options = [\"RSpec\", \"Minitest\", \"Cucumber\", \"Test::Unit\"];\r\n        vscode.window.showInformationMessage(\"Choose Ruby test framework\");\r\n        vscode.window\r\n          .showQuickPick(options, {\r\n            canPickMany: false,\r\n            placeHolder:\r\n              \"Please choose Test Framework (Will be applied to all files)\",\r\n          })\r\n          .then((selectedValue) => {\r\n            payload.framework = selectedValue;\r\n            payload.numberofTest = numberofTest;\r\n            localStore.setValue(\"gocodeo.rubyTestFramework\", selectedValue);\r\n            localStore.setValue(\"gocodeo.NumberOfTests\", numberofTest);\r\n            openWebview(context, payload);\r\n          });\r\n      } else {\r\n        payload.framework = framework;\r\n        payload.numberofTest = numberofTest;\r\n        openWebview(context, payload);\r\n      }\r\n    }\r\n\r\n    // Rust framework handling\r\n    else if (language === \"rust\") {\r\n      const framework = getStoreKey(\"gocodeo.rustTestFramework\");\r\n      if (!framework) {\r\n        const options = [\"Cargo\", \"Rust Test\", \"Mockall\"];\r\n        vscode.window.showInformationMessage(\"Choose Rust test framework\");\r\n        vscode.window\r\n          .showQuickPick(options, {\r\n            canPickMany: false,\r\n            placeHolder:\r\n              \"Please choose Test Framework (Will be applied to all files)\",\r\n          })\r\n          .then((selectedValue) => {\r\n            payload.framework = selectedValue;\r\n            payload.numberofTest = numberofTest;\r\n            localStore.setValue(\"gocodeo.rustTestFramework\", selectedValue);\r\n            localStore.setValue(\"gocodeo.NumberOfTests\", numberofTest);\r\n            openWebview(context, payload);\r\n          });\r\n      } else {\r\n        payload.framework = framework;\r\n        payload.numberofTest = numberofTest;\r\n        openWebview(context, payload);\r\n      }\r\n    }\r\n\r\n    // If language is not supported\r\n    else {\r\n      vscode.window.showErrorMessage(`Language ${language} not supported`);\r\n    }\r\n  }\r\n\r\n  function handleChat(payload: any, type: string) {\r\n    const { language } = payload;\r\n    const commandType = \"chat\";\r\n\r\n    payload.commandType = commandType;\r\n    payload.type = type;\r\n    console.log(`Inside chat ... `);\r\n    // Get the active text editor\r\n    const activeEditor = vscode.window.activeTextEditor;\r\n    const activeTerminal = vscode.window.activeTerminal;\r\n\r\n    if (activeEditor) {\r\n      const fileName = activeEditor.document.fileName;\r\n      const baseName = path.basename(fileName);\r\n\r\n      console.log(`Active file name: ${fileName}`);\r\n      console.log(`Base file name: ${baseName}`);\r\n\r\n      payload.fileName = baseName;\r\n      console.log(\"payload\", payload);\r\n\r\n      openWebview(context, payload);\r\n    } else if (activeTerminal) {\r\n      console.log(\"Chatting from terminal\", payload);\r\n      openWebview(context, payload);\r\n    } else {\r\n      console.log(\"No active editor found.\");\r\n    }\r\n  }\r\n\r\n  function getCodeWithCursorMarker(\r\n    document: TextDocument,\r\n    cursorPosition: Position\r\n  ): string {\r\n    try {\r\n      const cursorOffset = document.offsetAt(cursorPosition);\r\n      const fullCode = document.getText();\r\n      // Insert the <MID> identifier at the cursor position\r\n      const codeWithMid = `${fullCode.slice(\r\n        0,\r\n        cursorOffset\r\n      )}<MID>${fullCode.slice(cursorOffset)}`;\r\n      // console.log(\r\n      //   `\\n=== Code with <MID> identifier ===\\n${codeWithMid}\\n=== End of code ===\\n`\r\n      // );\r\n      // console.log(`Total characters: ${codeWithMid.length}`);\r\n      return codeWithMid;\r\n    } catch (error) {\r\n      console.error(\"Error adding <MID> identifier to code:\", error);\r\n      return document.getText();\r\n    }\r\n  }\r\n\r\n  function getCodeUntilCursor(\r\n    document: TextDocument,\r\n    cursorPosition: Position\r\n  ): string {\r\n    try {\r\n      const range = new vscode.Range(new Position(0, 0), cursorPosition);\r\n      const code = document.getText(range);\r\n\r\n      // console.log(\"\\n=== Code until cursor ===\");\r\n      // console.log(code);\r\n      // console.log(\"\\n=== End of code ===\");\r\n      // console.log(`Total characters: ${code.length}`);\r\n\r\n      return code;\r\n    } catch (error) {\r\n      console.error(\"Error getting code until cursor:\", error);\r\n      return \"\";\r\n    }\r\n  }\r\n\r\n  // Add this interface for the debounced function\r\n  interface DebouncedFunction<T> {\r\n    (document: vscode.TextDocument, position: vscode.Position): Promise<T>;\r\n    cancel(): void;\r\n  }\r\n\r\n  // Add this helper function to get the last word before cursor\r\n  function getLastWord(document: TextDocument, position: Position): string {\r\n    const line = document.lineAt(position.line).text;\r\n    const linePrefix = line.substring(0, position.character);\r\n    const words = linePrefix.split(/[\\s(){}[\\],.:;=+\\-*/&|<>~]+/);\r\n    return words[words.length - 1];\r\n  }\r\n\r\n\r\n  // class GoCodeoCompletionItemProvider\r\n  //   implements vscode.InlineCompletionItemProvider {\r\n  //   // Add debounced version of the API call\r\n  //   private debouncedGetCompletion: DebouncedFunction<any> = debounce(\r\n  //     async (document: vscode.TextDocument, position: vscode.Position) => {\r\n  //       try {\r\n  //         const editor = vscode.window.activeTextEditor;\r\n  //         if (!editor) {\r\n  //           console.log(\"No active editor found\");\r\n  //           return null;\r\n  //         }\r\n\r\n  //         // if (isAutocompleteActive){\r\n  //         //   console.log(\"Previous autocomplete active\");\r\n  //         //   return null;\r\n  //         // }\r\n\r\n  //         // Get the last word before cursor\r\n  //         const lastWord = getLastWord(document, position);\r\n  //         console.log(\"Last word:\", lastWord);\r\n\r\n  //         // Only proceed if we have meaningful input\r\n  //         // if (!lastWord || lastWord.length < 1) {\r\n  //         //   console.log(\r\n  //         //     \"lastword not useful: +\",\r\n  //         //     lastWord,\r\n  //         //     \"+ not calling API\"\r\n  //         //   );\r\n  //         //   return null;\r\n  //         // }\r\n\r\n  //         const codeUntilCursor = getCodeWithCursorMarker(document, position);\r\n  //         const fileName = path.basename(document.fileName);\r\n\r\n  //         const authToken = getStoreKey(AUTH_TOKEN);\r\n  //         if (!authToken) {\r\n  //           console.log(\"No auth token found\");\r\n  //           return null;\r\n  //         }\r\n\r\n  //         // const authUser = await getUserProfile(authToken);\r\n  //         let authUser;\r\n  //         try {\r\n  //           authUser = await getUserProfile(authToken);\r\n  //         } catch (error) {\r\n  //           console.log(\"Error while getting profile\", error);\r\n  //           // return; // Terminate execution if authUser is essential\r\n  //         }\r\n\r\n  //         console.log(\"Got user profile:\", authUser.id);\r\n\r\n  //         // const codeData = {\r\n  //         //   imports: [],\r\n  //         //   main: {\r\n  //         //     file: fileName,\r\n  //         //     code: codeUntilCursor,\r\n  //         //   },\r\n  //         // };\r\n  //         const codeData = {\r\n  //           imports: extractImports(document),\r\n  //           functions: extractFunctionNames(document),\r\n  //           comments: extractRelevantComments(document),\r\n  //           main: {\r\n  //             file: fileName,\r\n  //             code: codeUntilCursor,\r\n  //           },\r\n  //         };\r\n\r\n  //         function extractImports(document: vscode.TextDocument): string[] {\r\n  //           return document.getText().split(\"\\n\").filter(line => line.startsWith(\"import\"));\r\n  //         }\r\n\r\n  //         function extractFunctionNames(document: vscode.TextDocument): string[] {\r\n  //           return [...document.getText().matchAll(/function (\\w+)/g)].map(match => match[1]);\r\n  //         }\r\n\r\n  //         function extractRelevantComments(document: vscode.TextDocument): string {\r\n  //           return document.getText().split(\"\\n\").filter(line => line.trim().startsWith(\"//\")).join(\"\\n\");\r\n  //         }\r\n\r\n  //         const encodedCode = encrypt(authUser.id, JSON.stringify(codeData));\r\n  //         const model_name = \"gpt-4o-mini\";\r\n\r\n  //         const requestData = {\r\n  //           code: [encodedCode],\r\n  //           language: getLanguageType(document.languageId),\r\n  //           cursorPosition: {\r\n  //             line: position.line,\r\n  //             character: position.character,\r\n  //           },\r\n  //           lastWord: lastWord, // Add the last word to the request\r\n  //           requestId: getUniqueId(),\r\n  //           model: model_name,\r\n  //         };\r\n\r\n  //         console.log(\"Making API call with requestId:\", requestData.requestId);\r\n  //         return await getAutoComplete(requestData, authToken);\r\n  //       } catch (error) {\r\n  //         console.error(\"Error in debounced completion:\", error);\r\n  //         return null;\r\n  //       }\r\n  //     },\r\n  //     100 // Reduced to 500ms for better responsiveness\r\n  //   );\r\n\r\n  //   private lastSuggestion: string | null = null;\r\n  //   private latestRequestId: string | null = null;\r\n  //   async provideInlineCompletionItems(\r\n  //     document: vscode.TextDocument,\r\n  //     position: vscode.Position,\r\n  //     context: vscode.InlineCompletionContext,\r\n  //     token: vscode.CancellationToken\r\n  //   ): Promise<vscode.InlineCompletionItem[] | null> {\r\n  //     try {\r\n  //       const requestId = getUniqueId(); // Generate a new request ID\r\n  //       this.latestRequestId = requestId;\r\n  //       // Get the current line text\r\n  //       const lineText = document.lineAt(position.line).text;\r\n  //       const linePrefix = lineText.substring(0, position.character);\r\n  //       const lastWord = getLastWord(document, position);\r\n  //       const lastLine = document.lineAt(position.line).text.trim();\r\n  //       console.log(\"LAST LINE\", lastLine, \"Last word\", lastWord);\r\n\r\n  //       // Check if we're in a valid completion context\r\n  //       if (token.isCancellationRequested) {\r\n  //         this.debouncedGetCompletion.cancel();\r\n  //         return null;\r\n  //       }\r\n\r\n  //       token.onCancellationRequested(() => {\r\n  //         this.debouncedGetCompletion.cancel();\r\n  //       });\r\n\r\n  //       isAutocompleteActive = true;\r\n\r\n  //       // **Use the last suggestion if still valid**\r\n  //       if (this.lastSuggestion) {\r\n  //         console.log(\r\n  //           \"previous suggestion\",\r\n  //           this.lastSuggestion,\r\n  //           \"line prefix\",\r\n  //           linePrefix\r\n  //         );\r\n  //         const suggestionPrefix = this.lastSuggestion.slice(\r\n  //           0,\r\n  //           linePrefix.length\r\n  //         );\r\n  //         if (linePrefix && linePrefix.endsWith(suggestionPrefix)) {\r\n  //           // Create a new item from the retained suggestion\r\n  //           const retainedSuggestion = this.lastSuggestion.slice(\r\n  //             linePrefix.length\r\n  //           );\r\n  //           const retainedRange = new vscode.Range(\r\n  //             position,\r\n  //             position.translate(0, retainedSuggestion.length)\r\n  //           );\r\n\r\n  //           const retainedItem = new vscode.InlineCompletionItem(\r\n  //             retainedSuggestion,\r\n  //             retainedRange\r\n  //           );\r\n\r\n  //           (retainedItem as any).completeBracketPairs = true;\r\n\r\n  //           console.log(\"Returning retained suggestion:\", retainedItem);\r\n  //           return [retainedItem];\r\n  //         }\r\n  //       }\r\n\r\n  //       const response = await this.debouncedGetCompletion(document, position);\r\n\r\n  //       if (this.latestRequestId !== requestId) {\r\n  //         console.log(\"Obsolete response discarded:\", requestId);\r\n  //         return null;\r\n  //       }\r\n  //       if (!response?.code) {\r\n  //         return null;\r\n  //       }\r\n  //       if (response?.cursorPosition?.line !== position?.line) {\r\n  //         console.log(\"Cursor moved, discarding obsolete suggestion\");\r\n  //         return null;\r\n  //       }\r\n\r\n  //       if (response && response.code) {\r\n  //         console.log(\"response.code\", response.code);\r\n  //         let suggestion = response.code\r\n  //           .replace(/\\\\n/g, \"\\n\")\r\n  //           .replace(/\\\\\\\"/g, '\"')\r\n  //           .trim();\r\n\r\n  //         // If the suggestion starts with what user already typed, remove that part\r\n\r\n  //         if (suggestion.startsWith(lastWord)) {\r\n  //           suggestion = suggestion.substring(lastWord.length);\r\n  //         } else if (suggestion.startsWith(lastLine)) {\r\n  //           // console.log(\"TRIMMING LAST LINE\", lastLine);\r\n  //           suggestion = suggestion.substring(lastLine.length);\r\n  //         } else {\r\n  //           console.log(\r\n  //             `not trimming anything from suggestion ${suggestion}, lastline ${lastLine}, lastWord ${lastWord}`\r\n  //           );\r\n  //         }\r\n\r\n  //         // Skip showing the suggestion if it's identical to the last one\r\n  //         if (this.lastSuggestion === suggestion) {\r\n  //           console.log(\r\n  //             \"Duplicate suggestion retained:\",\r\n  //             suggestion,\r\n  //             linePrefix\r\n  //           );\r\n  //           const lastsuggestionPrefix = this.lastSuggestion.slice(\r\n  //             0,\r\n  //             linePrefix.length\r\n  //           );\r\n  //           let retainedSuggestion = \"\";\r\n  //           if (linePrefix && linePrefix.endsWith(lastsuggestionPrefix)) {\r\n  //             retainedSuggestion = this.lastSuggestion.slice(linePrefix.length);\r\n  //           } else {\r\n  //             retainedSuggestion = this.lastSuggestion;\r\n  //           }\r\n  //           const retainedRange = new vscode.Range(\r\n  //             position,\r\n  //             position.translate(0, retainedSuggestion.length)\r\n  //           );\r\n\r\n  //           const retainedItem = new vscode.InlineCompletionItem(\r\n  //             retainedSuggestion,\r\n  //             retainedRange\r\n  //           );\r\n\r\n  //           (retainedItem as any).completeBracketPairs = true;\r\n\r\n  //           console.log(\"Returning retained suggestion:\", retainedItem);\r\n  //           return [retainedItem];\r\n  //         }\r\n\r\n  //         // Update the last suggestion to the new one\r\n  //         this.lastSuggestion = suggestion;\r\n\r\n  //         console.log(\"\\n=== Formatted Suggestion ===\");\r\n  //         console.log(\"Formatted suggestion:\", suggestion);\r\n\r\n  //         const completionRange = new vscode.Range(\r\n  //           position,\r\n  //           position.translate(0, suggestion.length)\r\n  //         );\r\n\r\n  //         const item = new vscode.InlineCompletionItem(\r\n  //           suggestion,\r\n  //           completionRange\r\n  //         );\r\n\r\n  //         (item as any).completeBracketPairs = true;\r\n  //         console.log(\"SUGGESTING ITEM\", item);\r\n  //         // **Force Update of Inline Suggestions**\r\n  //         vscode.commands.executeCommand(\"editor.action.inlineSuggest.trigger\");\r\n  //         vscode.window.activeTextEditor?.setDecorations(\r\n  //           vscode.window.createTextEditorDecorationType({}),\r\n  //           []\r\n  //         );\r\n\r\n  //         console.log(\"New suggestion:\", item);\r\n  //         isAutocompleteActive = false;\r\n  //         return [item];\r\n  //       }\r\n  //       return null;\r\n  //     } catch (error) {\r\n  //       console.error(\"Error in inline completion provider:\", error);\r\n  //       return null;\r\n  //     } finally {\r\n  //       console.log(\r\n  //         \"autocomplete run done, setting isautocomplete active = false\"\r\n  //       );\r\n  //       isAutocompleteActive = false;\r\n  //     }\r\n  //   }\r\n\r\n  //   // Reset the last suggestion when the suggestion is accepted or changed\r\n  //   resetLastSuggestion() {\r\n  //     this.lastSuggestion = null;\r\n  //   }\r\n\r\n  //   // Add dispose method to clean up\r\n  //   dispose() {\r\n  //     this.debouncedGetCompletion.cancel();\r\n  //   }\r\n  // }\r\n\r\n  // class GoCodeoCompletionItemProvider\r\n  //   implements vscode.InlineCompletionItemProvider {\r\n\r\n  //   private debouncedGetCompletion: DebouncedFunction<any> = debounce(\r\n  //     async (document: vscode.TextDocument, position: vscode.Position) => {\r\n  //       try {\r\n  //         const editor = vscode.window.activeTextEditor;\r\n  //         if (!editor) {\r\n  //           console.log(\"No active editor found\");\r\n  //           return null;\r\n  //         }\r\n\r\n  //         const lastWord = getLastWord(document, position);\r\n  //         console.log(\"Last word:\", lastWord);\r\n\r\n  //         const codeUntilCursor = getCodeWithCursorMarker(document, position);\r\n  //         const fileName = path.basename(document.fileName);\r\n\r\n  //         const authToken = getStoreKey(AUTH_TOKEN);\r\n  //         if (!authToken) {\r\n  //           console.log(\"No auth token found\");\r\n  //           return null;\r\n  //         }\r\n\r\n  //         let authUser;\r\n  //         try {\r\n  //           authUser = await getUserProfile(authToken);\r\n  //         } catch (error) {\r\n  //           console.log(\"Error while getting profile\", error);\r\n  //         }\r\n\r\n  //         console.log(\"Got user profile:\", authUser.id);\r\n\r\n  //         const codeData = {\r\n  //           imports: extractImports(document),\r\n  //           functions: extractFunctionNames(document),\r\n  //           comments: extractRelevantComments(document),\r\n  //           main: {\r\n  //             file: fileName,\r\n  //             code: codeUntilCursor,\r\n  //           },\r\n  //         };\r\n\r\n  //         function extractImports(document: vscode.TextDocument): string[] {\r\n  //           return document.getText().split(\"\\n\").filter(line => line.startsWith(\"import\"));\r\n  //         }\r\n\r\n  //         function extractFunctionNames(document: vscode.TextDocument): string[] {\r\n  //           return [...document.getText().matchAll(/function (\\w+)/g)].map(match => match[1]);\r\n  //         }\r\n\r\n  //         function extractRelevantComments(document: vscode.TextDocument): string {\r\n  //           return document.getText().split(\"\\n\").filter(line => line.trim().startsWith(\"//\")).join(\"\\n\");\r\n  //         }\r\n\r\n  //         const encodedCode = encrypt(authUser.id, JSON.stringify(codeData));\r\n  //         const model_name = \"gpt-4o-mini\";\r\n\r\n  //         const requestData = {\r\n  //           code: [encodedCode],\r\n  //           language: getLanguageType(document.languageId),\r\n  //           cursorPosition: {\r\n  //             line: position.line,\r\n  //             character: position.character,\r\n  //           },\r\n  //           lastWord: lastWord,\r\n  //           requestId: getUniqueId(),\r\n  //           model: model_name,\r\n  //         };\r\n\r\n  //         console.log(\"Making API call with requestId:\", requestData.requestId);\r\n  //         return await getAutoComplete(requestData, authToken);\r\n  //       } catch (error) {\r\n  //         console.error(\"Error in debounced completion:\", error);\r\n  //         return null;\r\n  //       }\r\n  //     },\r\n  //     200\r\n  //   );\r\n\r\n  //   private lastSuggestion: string | null = null;\r\n  //   private latestRequestId: string | null = null;\r\n\r\n  //   async provideInlineCompletionItems(\r\n  //     document: vscode.TextDocument,\r\n  //     position: vscode.Position,\r\n  //     context: vscode.InlineCompletionContext,\r\n  //     token: vscode.CancellationToken\r\n  //   ): Promise<vscode.InlineCompletionItem[] | null> {\r\n  //     try {\r\n  //       const requestId = getUniqueId();\r\n  //       this.latestRequestId = requestId;\r\n  //       const lineText = document.lineAt(position.line).text;\r\n  //       const linePrefix = lineText.substring(0, position.character);\r\n  //       const lastWord = getLastWord(document, position);\r\n  //       const lastLine = document.lineAt(position.line).text.trim();\r\n  //       console.log(\"LAST LINE\", lastLine, \"Last word\", lastWord);\r\n\r\n  //       if (token.isCancellationRequested) {\r\n  //         this.debouncedGetCompletion.cancel();\r\n  //         return null;\r\n  //       }\r\n\r\n  //       token.onCancellationRequested(() => {\r\n  //         this.debouncedGetCompletion.cancel();\r\n  //       });\r\n\r\n  //       isAutocompleteActive = true;\r\n\r\n  //       if (this.lastSuggestion) {\r\n  //         console.log(\"Previous suggestion:\", this.lastSuggestion);\r\n  //         const suggestionPrefix = this.lastSuggestion.slice(0, linePrefix.length);\r\n  //         if (linePrefix && linePrefix.endsWith(suggestionPrefix)) {\r\n  //           const retainedSuggestion = this.lastSuggestion.slice(linePrefix.length);\r\n  //           const retainedRange = new vscode.Range(\r\n  //             position,\r\n  //             position.translate(0, retainedSuggestion.length)\r\n  //           );\r\n\r\n  //           const retainedItem = new vscode.InlineCompletionItem(\r\n  //             retainedSuggestion,\r\n  //             retainedRange\r\n  //           );\r\n\r\n  //           (retainedItem as any).completeBracketPairs = true;\r\n\r\n  //           console.log(\"Returning retained suggestion:\", retainedItem);\r\n  //           return [retainedItem];\r\n  //         }\r\n  //       }\r\n\r\n  //       const response = await this.debouncedGetCompletion(document, position);\r\n\r\n  //       if (this.latestRequestId !== requestId) {\r\n  //         console.log(\"Obsolete response discarded:\", requestId);\r\n  //         return null;\r\n  //       }\r\n  //       if (!response?.code) {\r\n  //         return null;\r\n  //       }\r\n  //       if (response?.cursorPosition?.line !== position?.line) {\r\n  //         console.log(\"Cursor moved, discarding obsolete suggestion\");\r\n  //         return null;\r\n  //       }\r\n\r\n  //       if (response && response.code) {\r\n  //         console.log(\"response.code\", response.code);\r\n  //         let suggestion = response.code\r\n  //           .replace(/\\\\n/g, \"\\n\")\r\n  //           .replace(/\\\\\\\"/g, '\"')\r\n  //           .trim();\r\n\r\n  //         // **Format the suggestion for proper indentation & spacing**\r\n  //         suggestion = formatCodeSuggestion(suggestion);\r\n\r\n  //         if (suggestion.startsWith(lastWord)) {\r\n  //           suggestion = suggestion.substring(lastWord.length);\r\n  //         } else if (suggestion.startsWith(lastLine)) {\r\n  //           suggestion = suggestion.substring(lastLine.length);\r\n  //         } else {\r\n  //           console.log(`No trimming needed for suggestion: ${suggestion}`);\r\n  //         }\r\n\r\n  //         if (this.lastSuggestion === suggestion) {\r\n  //           console.log(\"Duplicate suggestion retained:\", suggestion);\r\n  //           const lastsuggestionPrefix = this.lastSuggestion.slice(0, linePrefix.length);\r\n  //           let retainedSuggestion = \"\";\r\n  //           if (linePrefix && linePrefix.endsWith(lastsuggestionPrefix)) {\r\n  //             retainedSuggestion = this.lastSuggestion.slice(linePrefix.length);\r\n  //           } else {\r\n  //             retainedSuggestion = this.lastSuggestion;\r\n  //           }\r\n  //           const retainedRange = new vscode.Range(\r\n  //             position,\r\n  //             position.translate(0, retainedSuggestion.length)\r\n  //           );\r\n\r\n  //           const retainedItem = new vscode.InlineCompletionItem(\r\n  //             retainedSuggestion,\r\n  //             retainedRange\r\n  //           );\r\n\r\n  //           (retainedItem as any).completeBracketPairs = true;\r\n\r\n  //           console.log(\"Returning retained suggestion:\", retainedItem);\r\n  //           return [retainedItem];\r\n  //         }\r\n\r\n  //         this.lastSuggestion = suggestion;\r\n\r\n  //         console.log(\"Formatted Suggestion:\", suggestion);\r\n\r\n  //         const completionRange = new vscode.Range(\r\n  //           position,\r\n  //           position.translate(0, suggestion.length)\r\n  //         );\r\n\r\n  //         const item = new vscode.InlineCompletionItem(\r\n  //           suggestion,\r\n  //           completionRange\r\n  //         );\r\n\r\n  //         (item as any).completeBracketPairs = true;\r\n\r\n  //         vscode.commands.executeCommand(\"editor.action.inlineSuggest.trigger\");\r\n  //         vscode.window.activeTextEditor?.setDecorations(\r\n  //           vscode.window.createTextEditorDecorationType({}),\r\n  //           []\r\n  //         );\r\n\r\n  //         console.log(\"New suggestion:\", item);\r\n  //         isAutocompleteActive = false;\r\n  //         return [item];\r\n  //       }\r\n  //       return null;\r\n  //     } catch (error) {\r\n  //       console.error(\"Error in inline completion provider:\", error);\r\n  //       return null;\r\n  //     } finally {\r\n  //       console.log(\"Autocomplete finished, setting isAutocompleteActive = false\");\r\n  //       isAutocompleteActive = false;\r\n  //     }\r\n  //   }\r\n\r\n  //   resetLastSuggestion() {\r\n  //     this.lastSuggestion = null;\r\n  //   }\r\n\r\n  //   dispose() {\r\n  //     this.debouncedGetCompletion.cancel();\r\n  //   }\r\n  // }\r\n\r\n  // function formatCodeSuggestion(suggestion: string): string {\r\n  //   try {\r\n  //     console.log(\"Before formatting:\", suggestion);\r\n  //     const formatted = prettier.format(suggestion, { parser: \"babel\" }).trim();\r\n  //     console.log(\"After formatting:\", formatted);\r\n  //     return formatted;\r\n  //   } catch (error) {\r\n  //     console.error(\"Prettier formatting error:\", error);\r\n  //     return suggestion; // Return unformatted if Prettier fails\r\n  //   }\r\n  // }\r\n\r\n\r\n  // const completionProvider = new GoCodeoCompletionItemProvider();\r\n  // Update the registration in the activate function:\r\n  registerSelectionHoverProvider(context);\r\n  registerEmptyLineDecorator(context);\r\n  const supportedLanguages = [\r\n    \"javascript\",\r\n    \"typescript\",\r\n    \"python\",\r\n    \"java\",\r\n    \"csharp\", \"typescriptreact\"\r\n  ];\r\n  \r\n  const completionProvider = new AICodeCompletionProvider();\r\n  console.log(\"Registering inline completion provider\", completionProvider);\r\n  \r\n  const completionProviderDisposable =\r\n    vscode.languages.registerInlineCompletionItemProvider(\r\n      supportedLanguages.map((lang) => ({ scheme: \"file\", language: lang })),\r\n      completionProvider\r\n    );\r\n  context.subscriptions.push(completionProviderDisposable);\r\n}\r\n\r\n"],"names":["installedChunks","SchemaType","ExecutableCodeLanguage","Outcome","exports","POSSIBLE_ROLES","HarmCategory","HarmBlockThreshold","HarmProbability","BlockReason","FinishReason","TaskType","FunctionCallingMode","DynamicRetrievalMode","GoogleGenerativeAIError","Error","constructor","message","super","GoogleGenerativeAIResponseError","response","this","GoogleGenerativeAIFetchError","status","statusText","errorDetails","GoogleGenerativeAIRequestInputError","PACKAGE_VERSION","PACKAGE_LOG_HEADER","Task","RequestUrl","model","task","apiKey","stream","requestOptions","toString","_a","_b","apiVersion","url","baseUrl","async","getHeaders","headers","Headers","append","clientHeaders","apiClient","push","join","getClientHeaders","customHeaders","e","JSON","stringify","headerName","headerValue","entries","makeModelRequest","body","fetchFn","fetch","fetchOptions","Object","assign","buildFetchOptions","method","constructModelRequest","err","stack","handleResponseError","ok","json","error","details","handleResponseNotOk","makeRequest","undefined","signal","timeout","controller","AbortController","setTimeout","abort","addEventListener","addHelpers","text","candidates","length","console","warn","hadBadFinishReason","formatBlockErrorMessage","_c","_d","textStrings","content","parts","part","executableCode","language","code","codeExecutionResult","output","getText","promptFeedback","functionCall","getFunctionCalls","functionCalls","badFinishReasons","RECITATION","SAFETY","LANGUAGE","candidate","finishReason","includes","firstCandidate","finishMessage","blockReason","blockReasonMessage","__await","v","SuppressedError","responseLineRE","getResponsePromise","allResponses","reader","getReader","done","value","read","aggregateResponses","generateResponseSequence","thisArg","_arguments","generator","Symbol","asyncIterator","TypeError","i","g","apply","q","verb","n","Promise","a","b","resume","r","resolve","then","fulfill","reject","settle","f","shift","__asyncGenerator","arguments","responses","lastResponse","aggregatedResponse","index","citationMetadata","groundingMetadata","safetyRatings","role","newPart","keys","usageMetadata","generateContentStream","params","responseStream","inputStream","ReadableStream","start","currentText","pump","trim","close","parsedResponse","match","parse","enqueue","substring","getResponseStream","pipeThrough","TextDecoderStream","fatal","stream1","stream2","tee","processStream","STREAM_GENERATE_CONTENT","generateContent","GENERATE_CONTENT","formatSystemInstruction","input","formatNewContent","request","newParts","partOrString","userContent","functionContent","hasUserContent","hasFunctionContent","assignRoleToPartsAndValidateSendMessageRequest","formatGenerateContentInput","formattedRequest","contents","systemInstruction","VALID_PART_FIELDS","VALID_PARTS_PER_ROLE","user","function","system","SILENT_ERROR","ChatSession","_requestOptions","_history","_sendPromise","_apiKey","history","prevContent","currContent","Array","isArray","countFields","inlineData","functionResponse","fileData","key","validParts","validateChatHistory","_e","_f","newContent","generateContentRequest","safetySettings","generationConfig","tools","toolConfig","cachedContent","chatSessionRequestOptions","finalResult","result","responseContent","blockErrorMessage","streamPromise","catch","_ignored","streamResult","GenerativeModel","modelParams","formattedParams","generativeModelRequestOptions","name","startChat","startChatParams","formattedGenerateContentRequest","containsGenerateContentRequest","formatCountTokensInput","singleRequestOptions","COUNT_TOKENS","countTokens","EMBED_CONTENT","embedContent","batchEmbedContentRequest","requestsWithModel","requests","map","BATCH_EMBED_CONTENTS","batchEmbedContents","GoogleGenerativeAI","getGenerativeModel","getGenerativeModelFromCachedContent","disallowedDuplicates","startsWith","replace","modelParamsFromCache","defineProperty","eventTargetShim","AbortSignal","EventTarget","aborted","abortedFlags","get","defineEventAttribute","prototype","WeakMap","defineProperties","enumerable","toStringTag","configurable","signals","set","create","call","createAbortSignal","getSignal","dispatchEvent","type","module","__importDefault","mod","__esModule","events_1","debug_1","promisify_1","debug","default","isSecureEndpoint","split","some","l","indexOf","createAgent","callback","opts","Agent","EventEmitter","_opts","maxFreeSockets","maxSockets","maxTotalSockets","Infinity","sockets","freeSockets","options","defaultPort","explicitDefaultPort","protocol","explicitProtocol","req","fn","addRequest","secureEndpoint","host","port","path","agent","hostname","_defaultAgent","createConnection","_last","shouldKeepAlive","timedOut","timeoutId","timeoutMs","onerror","_hadError","emit","ontimeout","callbackError","clearTimeout","onsocket","socket","Boolean","once","freeSocket","onSocket","promisifiedCallback","Number","destroy","rtn","HttpsAgent","constants","OriginalAgent","ms","INIT_SOCKET","CURRENT_ID","CREATE_ID","SOCKET_CREATED_TIME","SOCKET_NAME","SOCKET_REQUEST_COUNT","SOCKET_REQUEST_FINISHED_COUNT","defaultTimeoutListenerCount","majorVersion","parseInt","process","version","deprecate","log","getSocketTimeout","_idleTimeout","inspect","obj","res","keepAlive","freeSocketTimeout","keepAliveTimeout","freeSocketKeepAliveTimeout","Math","max","socketActiveTTL","createSocketCount","createSocketCountLastCheck","createSocketErrorCount","createSocketErrorCountLastCheck","closeSocketCount","closeSocketCountLastCheck","errorSocketCount","errorSocketCountLastCheck","requestCount","requestCountLastCheck","timeoutSocketCount","timeoutSocketCountLastCheck","on","calcSocketTimeout","diff","Date","now","keepSocketAlive","customTimeout","reuseSocket","args","reusedSocket","agentTimeout","id","MAX_SAFE_INTEGER","setNoDelay","_agentKey","onFree","_httpMessage","getName","writable","onClose","isError","onTimeout","listenerCount","listeners","reqTimeoutListenerCount","enabled","removeSocket","onError","removeListener","onRemove","installListeners","oncreate","called","onNewCreate","newSocket","statusChanged","changed","getCurrentStatus","CREATE_HTTPS_CONNECTION","OriginalHttpsAgent","HttpAgent","maxCachedSessions","_sessionCache","list","forEach","parallel","serial","serialOrdered","clean","jobs","state","bind","defer","isAsync","nextTick","setImmediate","iterator","item","runJob","results","sortMethod","isNamedList","initState","keyedList","size","sort","iterate","terminator","ascending","iteratorHandler","descending","util","Stream","DelayedStream","CombinedStream","readable","dataSize","maxDataSize","pauseStreams","_released","_streams","_currentStream","_insideLoop","_pendingNext","inherits","combinedStream","option","isStreamLike","Buffer","isBuffer","newStream","pauseStream","_checkDataSize","_handleErrors","pause","pipe","dest","_getNext","_realGetNext","_pipeNext","end","write","self","_emitError","data","_reset","_updateDataSize","formatArgs","useColors","namespace","humanize","c","color","splice","lastC","save","namespaces","storage","setItem","removeItem","load","getItem","env","DEBUG","window","__nwjs","navigator","userAgent","toLowerCase","document","documentElement","style","WebkitAppearance","firebug","exception","table","RegExp","$1","localStorage","localstorage","warned","colors","formatters","j","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","curr","prev","coerce","unshift","format","formatter","val","selectColor","extend","init","delimiter","newDebug","toNamespace","regexp","disable","names","skips","enable","len","slice","test","hash","charCodeAt","abs","browser","tty","inspectOpts","stderr","colorCode","prefix","hideDate","toISOString","isatty","fd","supportsColor","level","filter","reduce","prop","_","k","toUpperCase","o","str","O","source","_maxDataSizeExceeded","_bufferedEvents","delayedStream","realEmit","_handleEmit","setEncoding","release","_checkIfMaxDataSizeExceeded","fs","os","crypto","LINE","_debug","_dotenvKey","DOTENV_KEY","_instructions","dotenvKey","uri","URL","password","environment","searchParams","environmentKey","ciphertext","parsed","_vaultPath","possibleVaultPath","filepath","existsSync","endsWith","cwd","_resolveHome","envPath","homedir","DotenvModule","configDotenv","dotenvPath","encoding","lastError","optionPaths","parsedAll","readFileSync","populate","processEnv","_configVault","_parseVault","vaultPath","decrypted","attrs","decrypt","config","encrypted","keyStr","from","nonce","subarray","authTag","aesgcm","createDecipheriv","setAuthTag","update","final","isRange","RangeError","invalidKeyLength","decryptionFailed","src","lines","exec","maybeQuote","override","hasOwnProperty","privateData","wrappers","pd","event","retv","assert","setCancelFlag","passiveListener","cancelable","canceled","preventDefault","Event","eventTarget","eventPhase","currentTarget","stopped","immediateStopped","timeStamp","defineRedirectDescriptor","defineCallDescriptor","getWrapper","proto","wrapper","BaseEvent","CustomEvent","isFunc","getOwnPropertyDescriptor","defineWrapper","getPrototypeOf","isStopped","setPassiveListener","target","composedPath","NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","stopPropagation","stopImmediatePropagation","bubbles","defaultPrevented","composed","srcElement","cancelBubble","returnValue","initEvent","setPrototypeOf","listenersMap","ATTRIBUTE","isObject","x","getListeners","eventTargetPrototype","eventName","node","listenerType","listener","next","delete","newNode","passive","defineEventAttributeDescriptor","defineCustomEventTarget","eventNames","CustomEventTarget","types","Map","optionsIsObj","capture","removeEventListener","wrappedEvent","wrapEvent","handleEvent","setEventPhase","setCurrentTarget","http","https","Writable","events","eventHandlers","arg1","arg2","arg3","_redirectable","InvalidUrlError","createErrorType","RedirectionError","TooManyRedirectsError","MaxBodyLengthExceededError","WriteAfterEndError","RedirectableRequest","responseCallback","_sanitizeOptions","_options","_ended","_ending","_redirectCount","_redirects","_requestBodyLength","_requestBodyBuffers","_onNativeResponse","_processResponse","_performRequest","wrap","protocols","maxRedirects","maxBodyLength","nativeProtocols","scheme","nativeProtocol","wrappedProtocol","isString","urlToOptions","isFunction","equal","wrappedRequest","noop","urlObject","search","pathname","href","removeMatchingHeaders","regex","lastValue","header","String","baseClass","CustomError","properties","captureStackTrace","cause","abortRequest","_currentRequest","currentRequest","setHeader","removeHeader","msecs","destroyOnTimeout","addListener","startTimer","_timeout","clearTimer","property","searchPos","agents","_currentUrl","_isRedirect","buffers","writeNext","buffer","finished","statusCode","trackRedirects","location","followRedirects","responseUrl","redirects","requestHeaders","beforeRedirect","Host","getHeader","redirectUrl","currentHostHeader","currentUrlParts","currentHost","currentUrl","redirectUrlParts","subdomain","domain","dot","isSubdomain","responseDetails","requestDetails","parseUrl","mime","asynckit","FormData","_overheadLength","_valueLength","_valuesToMeasure","LINE_BREAK","DEFAULT_CONTENT_TYPE","field","filename","_error","_multiPartHeader","footer","_multiPartFooter","_trackLength","valueLength","knownLength","byteLength","_lengthRetriever","stat","fileSize","contentDisposition","_getContentDisposition","contentType","_getContentType","concat","getBoundary","normalize","basename","client","lookup","_lastBoundary","userHeaders","formHeaders","setBoundary","boundary","_boundary","_generateBoundary","getBuffer","dataBuffer","alloc","floor","random","getLengthSync","hasKnownLength","getLength","cb","values","submit","defaults","onResponse","responce","dst","flag","argv","position","terminatorPosition","__awaiter","P","fulfilled","step","rejected","net_1","tls_1","url_1","assert_1","agent_base_1","parse_proxy_response_1","HttpsProxyAgent","proxy","secureProxy","ALPNProtocols","connect","payload","auth","secure","isDefaultPort","Connection","proxyResponsePromise","buffered","servername","ret","omit","fakeSocket","Socket","s","agent_1","createHttpsProxyAgent","buffersLength","firstLine","ondata","onclose","onend","t","extensions","preference","db","extname","EXTRACT_TYPE_REGEXP","TEXT_TYPE_REGEXP","charset","charsets","extension","exts","substr","to","ProfileHelpers","MixpanelGroups","mp_instance","mixpanel","endpoint","set_once","group_key","group_id","modifiers","identifiers","$group_key","$group_id","_set","delete_group","_delete_profile","remove","_remove","union","_union","unset","_unset","querystring","packageInfo","async_all","ensure_timestamp","MixpanelPeople","DEFAULT_CONFIG","verbose","geolocate","create_client","token","metrics","REQUEST_LIBS","REQUEST_AGENTS","proxyPath","HTTPS_PROXY","HTTP_PROXY","proxyAgent","send_request","query_params","secret","request_lib","request_options","encoded","api_key","chunk","ex","send_event_request","mp_lib","$lib_version","arr","chunks","total","send_batch_requests","event_list","max_batch_size","min","max_concurrent_requests","ceil","event_batches","request_batches","total_event_batches","total_request_batches","send_event_batch","batch","time","send_next_request_batch","request_batch","errors","track","track_batch","batch_options","import","import_batch","alias","distinct_id","groups","people","set_config","Client","merge_modifiers","$distinct_id","increment","by","$add","isNaN","parseFloat","$append","track_charge","amount","$ignore_time","$amount","$time","clear_charges","delete_user","$ignore_alias","$ip","$latitude","$longitude","Base","$set","ip","$remove","$union","merge_values","$unset","handler","getTime","m","h","d","plural","msAbs","isPlural","round","isFinite","long","fmtShort","punycode","mappingTable","PROCESSING_OPTIONS","TRANSITIONAL","NONTRANSITIONAL","findStatus","mid","regexAstralSymbols","countSymbols","string","combiningMarksRegex","validateLabel","label","processing_option","toUnicode","codePointAt","processing","domain_name","useSTD3","hasError","processed","codePoint","fromCodePoint","mapChars","labels","validation","toASCII","verifyDnsLength","conversions","sign","createNumberConversion","bitLength","typeOpts","unsigned","lowerBound","pow","upperBound","moduloVal","moduloBitLength","moduloBound","V","enforceRange","clamp","evenRound","treatNullAsEmptyString","S","U","usm","implementation","constructorArgs","base","parsedBase","basicURLParse","parsedURL","baseURL","_url","serializeURL","origin","serializeURLOrigin","stateOverride","username","cannotHaveAUsernamePasswordPort","setTheUsername","setThePassword","serializeHost","serializeInteger","cannotBeABaseURL","query","fragment","toJSON","utils","Impl","impl","implSymbol","setup","is","wrapperSymbol","interface","expose","Window","Worker","tr46","specialSchemes","ftp","file","gopher","ws","wss","failure","ucs2","decode","at","idx","isASCIIDigit","isASCIIAlpha","isASCIIHex","isSingleDot","isWindowsDriveLetterString","isSpecialScheme","isSpecial","percentEncode","hex","isC0ControlPercentEncode","extraPathPercentEncodeSet","Set","isPathPercentEncode","has","extraUserinfoPercentEncodeSet","isUserinfoPercentEncode","percentEncodeChar","encodeSetPredicate","cStr","buf","utf8PercentEncode","parseIPv4Number","R","charAt","parseHost","isSpecialArg","address","pieceIndex","compress","pointer","numbersSeen","ipv4Piece","number","swaps","temp","parseIPv6","decoded","parseOpaqueHost","utf8PercentDecode","asciiDomain","ipv4Host","pop","numbers","ipv4","counter","parseIPv4","serializeIPv4","maxIdx","maxLen","currStart","currLen","findLongestZeroSequence","ignore0","serializeIPv6","shortenPath","includesCredentials","URLStateMachine","encodingOverride","parseError","trimControlChars","trimTabAndNewline","atFlag","arrFlag","passwordTokenSeenFlag","isASCIIAlphanumeric","encodedCodePoints","fileOtherwiseCodePoints","cp1","cp2","excludeFragment","parseURL","tuple","serializeOrigin","integer","mixin","getOwnPropertyNames","wrapperForImpl","implForWrapper","DEFAULT_PORTS","stringEndsWith","getEnv","parsedUrl","NO_PROXY","every","parsedProxy","parsedProxyHostname","parsedProxyPort","shouldProxy","PythonShell","NewlineTransformer","PythonShellErrorWithLogs","PythonShellError","child_process_1","os_1","path_1","stream_1","fs_1","util_1","toArray","getRandomInt","execPromise","promisify","Transform","_transform","_lastLineData","EOL","_flush","scriptPath","stdoutSplitter","stderrSplitter","pythonPath","errorData","defaultOptions","defaultPythonPath","pythonOptions","scriptArgs","terminateIfNeeded","stderrHasEnded","stdoutHasEnded","exitCode","exitSignal","executable","script","_endCallback","terminated","command","mode","parser","stderrParser","childProcess","spawn","stdout","static","randomInt","filePath","tmpdir","sep","writeFile","writeFilePromise","checkSyntaxFile","getPythonPath","pyshell","logs","writeFileSync","run","execSync","traceback","send","stdin","kill","terminate","platform","hasFlag","forceColor","translateLevel","hasBasic","has256","has16m","haveStream","streamIsTTY","TERM","osRelease","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","FORCE_COLOR","isTTY","require","u","p","y","queueMicrotask","Function","w","_cursor","_size","_front","_elements","_next","_back","peek","T","C","E","_ownerReadableStream","_reader","_state","B","_storedError","Gt","W","A","_readableStreamController","_closedPromise","_closedPromise_resolve","_closedPromise_reject","z","L","trunc","F","I","D","$","M","Y","Q","N","H","locked","getWriter","Vt","_readRequests","G","_closeSteps","_chunkSteps","X","J","K","ReadableStreamDefaultReader","Ut","closed","ee","cancel","_disturbed","_errorSteps","releaseLock","Z","te","_ongoingPromise","_isFinished","_preventCancel","_nextSteps","return","_returnSteps","re","oe","_asyncIteratorImpl","ne","ae","ie","Uint8Array","le","ArrayBuffer","byteOffset","se","_queue","_queueTotalSize","ue","ce","ReadableStreamBYOBRequest","view","fe","Be","_view","respond","_associatedReadableByteStreamController","_pendingPullIntos","_controlledReadableByteStream","bytesFilled","qe","respondWithNewView","isView","bufferByteLength","ReadableByteStreamController","byobRequest","de","Ae","_byobRequest","desiredSize","ke","_closeRequested","Pe","Ee","Xt","Re","readerType","ge","We","me","Ce","Le","Te","be","he","_cancelAlgorithm","_autoAllocateChunkSize","elementSize","viewConstructor","_started","ze","_pulling","_pullAgain","_pullAlgorithm","pe","_readIntoRequests","ye","we","Se","ve","Jt","_strategyHWM","je","Fe","ReadableStreamBYOBReader","De","DataView","BYTES_PER_ELEMENT","Ie","$e","highWaterMark","Me","Ye","Qe","Ne","He","xe","Ve","Ue","WritableStream","_writer","_writableStreamController","_writeRequests","_inFlightWriteRequest","_closeRequest","_inFlightCloseRequest","_pendingAbortRequest","_backpressure","WritableStreamDefaultController","_controlledWritableStream","_abortReason","_abortController","_strategySizeAlgorithm","_writeAlgorithm","_closeAlgorithm","_abortAlgorithm","bt","nt","dt","Ze","Ge","_t","Xe","Je","rt","Ke","WritableStreamDefaultWriter","_promise","_resolve","_reject","_reason","_wasAlreadyErroring","et","Et","lt","tt","it","ot","St","Rt","_ownerWritableStream","qt","gt","Tt","vt","wt","mt","yt","ct","ready","_readyPromise","_closedPromiseState","ft","_readyPromiseState","Ct","abortReason","st","pt","ht","ut","_readyPromise_resolve","_readyPromise_reject","Pt","DOMException","Wt","kt","reason","all","ReadableStreamDefaultController","Bt","Dt","Lt","Ft","_controlledReadableStream","jt","zt","At","$t","Mt","Yt","Qt","Nt","Ht","preventAbort","preventCancel","preventClose","autoAllocateChunkSize","pull","Oe","It","Kt","xt","pipeTo","Ot","Zt","er","ByteLengthQueuingStrategy","_byteLengthQueuingStrategyHighWaterMark","rr","tr","or","CountQueuingStrategy","_countQueuingStrategyHighWaterMark","ar","nr","ir","lr","sr","TransformStream","flush","readableType","transform","writableType","_writableState","_writableStoredError","_writableHasInFlightOperation","_writableStarted","_writable","_writableController","Cr","Rr","_transformStreamController","_backpressureChangePromise","pr","_flushAlgorithm","hr","_readableState","_readableStoredError","gr","wr","cr","_readableCloseRequested","_readablePulling","_readable","_readableController","Sr","fr","dr","_backpressureChangePromise_resolve","TransformStreamDefaultController","_r","_controlledTransformStream","_transformAlgorithm","ur","yr","Tr","br","mr","vr","qr","CHUNK_SIZE","clonePart","consumeNodeBlob","blob","arrayBuffer","consumeBlobParts","clone","_Blob_parts","_Blob_type","_Blob_size","__classPrivateFieldGet","receiver","kind","__classPrivateFieldSet","Blob","blobParts","encoder","TextEncoder","raw","encode","hasInstance","blobSize","relativeStart","relativeEnd","span","added","partSize","sliceBlob","decoder","TextDecoder","offset","_File_name","_File_lastModified","File","fileBits","lastModified","webkitRelativePath","isFile","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","chunkId","promises","moreModules","modules","chunkIds","ids","runtime","installChunk","PyParser","isValid","line","Class","JSParser","Variable","regExp","range","JavaParser","Method","GoParser","Struct","CppParser","CsharpParser","PhpParser","RubyParser","RustParser","Interface","checkFile","lstat","stats","getJSFile","importedFile","fsStat","finalFile","isDirectory","files","getPyFile","replaceAll","getRubyFile","getRustFile","readFile","getComponentType","parseCode","codeTree","detectedCode","traverseSymbols","symbols","symbol","children","reactComponentRegex","componentName","lineAt","positionAt","getLanguageType","getTestableCodes","activeEditor","activeTextEditor","languageId","executeCommand","importedCode","getImportedContent","codePath","imports","importRegex","matches","finalImports","row","main","fileName","getPhpImportedCodeFiles","importRegex1","importLine","codeFile","rootPath","dir","LocNo","lineCount","funcs","importedFuncs","func","priortyImports1","priortyImports2","getPythonImportedCodeFiles","getRubyImportedCodeFiles","importRegex2","funcsRegex","matches1","matches2","lastIndex","toLocaleLowerCase","testFiles","testExt","testFile","testData","tests","getJSImportedCodeFiles","mainFileCode","getCsharpImportedCodeFiles","getCppImportedCodeFiles","codeText","importedModule","getRustImportedCodeFiles","gutterDecoration","createTextEditorDecorationType","gutterIconPath","__dirname","gutterIconSize","GCCodeLens","component","BuildCodeLensProvider","_onDidChangeCodeLenses","onDidChangeCodeLenses","onDidChangeConfiguration","fire","gutterIcons","importedFiles","codeLenses","buildButtonPos","cl","pos","setDecorations","resolveCodeLens","codeLens","componentType","BuildCommand","title","tooltip","iconPath","light","dark","GoCodeoAskCodeLensProvider","TestCodelensProvider","testCommandTitle","testCommand","AUTH_TOKEN","CMD_SIGNIN","INSTALLATION_ID","VERCEL_TOKEN","REACT_APP_VERCEL_TOKEN","PRICING_PAGE","SUPABASE_CLIENT_ID","SUPABASE_REDIRECT_URL","SIGNIN_GOOGLE_URL","kindOf","cache","thing","kindOfTest","typeOfTest","isUndefined","isArrayBuffer","isNumber","isPlainObject","isDate","isBlob","isFileList","isURLSearchParams","allOwnKeys","findKey","_key","_global","globalThis","global","isContextDefined","context","isTypedArray","TypedArray","isHTMLForm","isRegExp","reduceDescriptors","reducer","descriptors","getOwnPropertyDescriptors","reducedDescriptors","descriptor","ALPHA","DIGIT","ALPHABET","ALPHA_DIGIT","isAsyncFn","isFormData","isArrayBufferView","isBoolean","isStream","merge","caseless","assignValue","targetKey","stripBOM","superConstructor","props","toFlatObject","sourceObj","destObj","propFilter","merged","searchString","forEachEntry","pair","matchAll","hasOwnProp","freezeMethods","toObjectSet","arrayOrString","define","toCamelCase","p1","p2","toFiniteNumber","defaultValue","generateString","alphabet","isSpecCompliantForm","toJSONObject","visit","reducedValue","isThenable","AxiosError","description","lineNumber","columnNumber","customProps","axiosError","isVisitable","removeBrackets","renderKey","dots","predicates","formData","metaTokens","indexes","visitor","defaultVisitor","useBlob","convertValue","isFlatArray","el","exposedHelpers","build","charMap","encodeURIComponent","AxiosURLSearchParams","_pairs","_encode","buildURL","serializeFn","serialize","serializedParams","hashmarkIndex","handlers","use","synchronous","runWhen","eject","clear","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","isNode","classes","URLSearchParams","buildPath","isNumericKey","isLast","arrayToObject","parsePropPath","transitional","adapter","transformRequest","getContentType","hasJSONContentType","isObjectPayload","setContentType","helpers","toURLEncodedForm","formSerializer","_FormData","rawValue","stringifySafely","transformResponse","JSONRequested","responseType","strictJSONParsing","ERR_BAD_RESPONSE","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","common","ignoreDuplicateOf","$internals","normalizeHeader","normalizeValue","matchHeaderValue","isHeaderNameFilter","AxiosHeaders","valueOrRewrite","rewrite","_value","_header","_rewrite","lHeader","setHeaders","isValidHeaderName","rawHeaders","parseHeaders","tokens","tokensRE","parseTokens","matcher","deleted","deleteHeader","normalized","char","formatHeader","targets","asStrings","first","computed","accessors","defineAccessor","accessorName","methodName","buildAccessors","accessor","transformData","fns","isCancel","__CANCEL__","CanceledError","ERR_CANCELED","ERR_BAD_REQUEST","buildFullPath","requestedURL","relativeURL","combineURLs","VERSION","parseProtocol","DATA_URL_PATTERN","samplesCount","bytes","timestamps","firstSampleTS","head","tail","chunkLength","startedAt","bytesCount","passed","kInternals","AxiosTransformStream","readableHighWaterMark","maxRate","chunkSize","minChunkSize","timeWindow","ticksRate","internals","bytesSeen","isCaptured","notifiedBytesLoaded","ts","onReadCallback","_speedometer","bytesNotified","updateProgress","freq","timestamp","threshold","timer","force","totalBytes","bytesTransferred","progressBytes","destroyed","rate","onFinish","_read","bytesThreshold","transformChunk","_chunk","_callback","bytesLeft","chunkRemainder","maxChunkSize","pushChunk","transformNextChunk","setLength","BOUNDARY_ALPHABET","textEncoder","CRLF","CRLF_BYTES","FormDataPart","escapeName","isStringValue","contentLength","ZlibHeaderTransformStream","__transform","zlibOptions","Z_SYNC_FLUSH","finishFlush","brotliOptions","BROTLI_OPERATION_FLUSH","isBrotliSupported","httpFollow","httpsFollow","isHttps","supportedProtocols","dispatchBeforeRedirect","beforeRedirects","setProxy","configProxy","proxyUrl","base64","proxyHost","redirectOptions","asyncExecutor","onDone","family","responseEncoding","isDone","entry","emitter","onFinished","cancelToken","unsubscribe","removeAllListeners","isRejected","subscribe","fullPath","convertedData","asBlob","_Blob","ERR_INVALID_URL","isBase64","decodeURIComponent","ERR_NOT_SUPPORT","fromDataURI","onDownloadProgress","onUploadProgress","maxUploadRate","maxDownloadRate","userBoundary","form","headersHandler","tag","boundaryBytes","footerBytes","computedHeaders","Readable","hasContentLength","setContentLength","getContentLength","objectMode","progress","upload","paramsSerializer","customErr","exists","httpAgent","httpsAgent","transport","socketPath","isHttpsRequest","insecureHTTPParser","streams","responseLength","transformStream","download","lastRequest","decompress","offListeners","statusMessage","responseBuffer","totalResponseBytes","responseData","setKeepAlive","ERR_BAD_OPTION_VALUE","timeoutErrorMessage","ETIMEDOUT","ECONNABORTED","ended","errored","onDoneHandler","isStandardBrowserEnv","expires","cookie","toGMTString","msie","urlParsingNode","createElement","originURL","resolveURL","setAttribute","requestURL","progressEventReducer","isDownloadStream","loaded","lengthComputable","estimated","knownAdapters","xhr","XMLHttpRequest","requestData","onCanceled","isStandardBrowserWebWorkerEnv","unescape","btoa","onloadend","responseHeaders","getAllResponseHeaders","responseText","open","onreadystatechange","readyState","responseURL","onabort","ERR_NETWORK","xsrfValue","withCredentials","isURLSameOrigin","cookies","setRequestHeader","throwIfCancellationRequested","throwIfRequested","dispatchRequest","adapters","nameOrAdapter","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","timeoutMessage","configValue","validators","deprecatedWarnings","validator","formatMessage","opt","desc","ERR_DEPRECATED","assertOptions","schema","allowUnknown","ERR_BAD_OPTION","Axios","instanceConfig","interceptors","configOrUrl","contextHeaders","boolean","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","promise","chain","newConfig","onFulfilled","onRejected","getUri","generateHTTPMethod","isForm","CancelToken","executor","resolvePromise","_listeners","onfulfilled","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","InternalServerError","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","createInstance","defaultConfig","instance","toFormData","Cancel","spread","isAxiosError","formToJSON","randomUUID","rnds8Pool","poolPtr","rng","byteToHex","rnds","unsafeStringify","StorageService","_storage","_type","getValue","setValue","Global","getInstallationId","uid","getUniqueId","isLoggedInBefore","is_new","getStoreKey","localConfig","getConfiguration","getUserProfile","Authorization","localStore","updateAccountUsage","authToken","updatePayload","put","updateUserProfile","profile","patch","ComponentsUnderTestDataProvider","userInfo","_onDidChangeTreeData","onDidChangeTreeData","welcomeMessage","listenToActiveTextEditorChanges","listenToDocumentChanges","fetchUserAccountDetails","onDidChangeActiveTextEditor","refresh","onDidChangeTextDocument","authUser","email","plan_name","user_name","account_usage","premium","used_requests","total_requests","getTreeItem","element","parentItems","None","default_format","RFC1738","RFC3986","is_array","hex_table","array","limit","maybe_map","mapped","array_prefix_generators","brackets","comma","indices","repeat","push_to_array","value_or_array","to_ISO","addQueryPrefix","allowDots","allowEmptyArrays","arrayFormat","charsetSentinel","encodeDotInKeys","_defaultEncoder","_kind","escape","$0","out","segment","encodeValuesOnly","serializeDate","date","skipNulls","strictNullHandling","sentinel","inner_stringify","object","generateArrayPrefix","commaRoundTrip","sideChannel","tmp_sc","find_flag","is_buffer","key_value","obj_keys","encoded_prefix","adjusted_prefix","encoded_key","key_prefix","valueSideChannel","getDefaultAgent","fileFromPath","isFsReadStream","auto","Request","Response","BUFFER","TYPE","ab","slicedBuffer","FetchError","systemError","errno","convert","INTERNALS","PassThrough","Body","_this","_ref","_ref$size","_ref$timeout","disturbed","consumeBody","_this4","accum","accumBytes","resTimeout","getAll","bodyUsed","extractContentType","getTotalBytes","_lengthRetrievers","_this2","textConverted","_this3","convertBody","mixIn","invalidTokenRegex","invalidHeaderCharRegex","validateName","validateValue","find","MAP","headerNames","pairs","_pairs$i","createHeadersIterator","INTERNAL","HeadersIteratorPrototype","_INTERNAL","exportNodeCompatibleHeaders","__proto__","hostHeaderKey","INTERNALS$1","STATUS_CODES","redirected","INTERNALS$2","parse_url","format_url","urlStr","streamDestructionSupported","isRequest","inputBody","isAbortSignal","redirect","follow","AbortError","URL$1","PassThrough$1","contentLengthValue","getNodeRequestOptions","destroyStream","abortAndFinalize","finalize","reqTimeout","errorCallback","hadError","fixResponseChunkedTransferBadEnding","hasDataListener","createHeadersLenient","isRedirect","locationURL","requestOpts","destination","original","orig","isDomainOrSubdomain","response_options","codings","writeToStream","deprecateConstructorEntries","_FormData_instances","_FormData_entries","_FormData_setEntry","add","WeakSet","argsLength","custom","getType","pp","isFileLike","_FormDataEncoder_instances","_FormDataEncoder_CRLF","_FormDataEncoder_CRLF_BYTES","_FormDataEncoder_CRLF_BYTES_LENGTH","_FormDataEncoder_DASHES","_FormDataEncoder_encoder","_FormDataEncoder_footer","_FormDataEncoder_form","_FormDataEncoder_options","_FormDataEncoder_getFieldHeader","enableAdditionalHeaders","FormDataEncoder","boundaryOrOptions","freeze","MultipartBody","fileFromPathWarned","defaultHttpAgent","defaultHttpsAgent","shims","getMultipartRequestOptions","_fileFromPath","APIError","makeMessage","request_id","param","msg","errorResponse","APIConnectionError","castToError","BadRequestError","AuthenticationError","PermissionDeniedError","NotFoundError","ConflictError","UnprocessableEntityError","RateLimitError","APIUserAbortError","APIConnectionTimeoutError","LengthFinishReasonError","ContentFilterFinishReasonError","trailingCR","decodeText","trailingNewline","NEWLINE_CHARS","NEWLINE_REGEXP","textDecoder","consumed","sse","sseDecoder","SSEDecoder","lineDecoder","iter","readableStreamAsyncIterable","sseChunk","binaryChunk","patternIndex","newData","findDoubleNewlineIndex","iterSSEChunks","_iterSSEMessages","readableStream","iterLines","left","right","teeIterator","queue","toReadableStream","ctrl","fieldname","partition","cancelPromise","isResponseLike","isBlobLike","toFile","bits","isAsyncIterableIterator","propsForError","getBytes","getStringFromMaybeBuffer","isMultipartBody","multipartFormRequestOptions","createForm","addFormValue","isUploadable","_AbstractPage_client","defaultParseResponse","__streamClass","fromSSEResponse","__binaryResponse","_addRequestID","APIPromise","responsePromise","parseResponse","_thenUnwrap","asResponse","parsedPromise","onrejected","finally","onfinally","APIClient","maxRetries","overridenFetch","validatePositiveInteger","authHeaders","defaultHeaders","Accept","getUserAgent","getPlatformHeaders","validateHeaders","defaultIdempotencyKey","uuid4","methodRequest","post","getAPIList","Page","requestAPIList","calculateContentLength","buildRequest","retryCount","__binaryRequest","minAgentTimeout","idempotencyHeader","idempotencyKey","buildHeaders","reqHeaders","applyHeadersMut","fromEntries","makeStatusError","generate","remainingRetries","optionsInput","retriesRemaining","prepareOptions","prepareRequest","fetchWithTimeout","retryRequest","createResponseHeaders","shouldRetry","errText","errJSON","safeJSON","errMessage","PagePromise","defaultQuery","isEmptyObj","stringifyQuery","getRequestClient","shouldRetryHeader","timeoutMillis","retryAfterMillisHeader","retryAfterHeader","timeoutSeconds","calculateDefaultRetryTimeoutMillis","sleep","numRetries","AbstractPage","hasNextPage","getPaginatedItems","nextPageInfo","nextInfo","nextOptions","page","getNextPage","iterPages","Proxy","requestOptionsKeys","isRequestOptions","hasOwn","normalizeArch","arch","normalizePlatform","_platformHeaders","Deno","deno","EdgeRuntime","browserInfo","browserPatterns","pattern","getBrowserInfo","getPlatformProperties","startsWithSchemeRegexp","isInteger","readEnv","_k","targetHeaders","newHeaders","lowerKey","action","lowerCasedHeader","isHeadersProtocol","intercapsHeader","_m","g1","g2","isObj","APIResource","_client","Completions","Chat","completions","Embeddings","nextPageParams","CursorPage","info","after","Files","retrieve","fileId","FileObjectsPage","del","retrieveContent","pollInterval","maxWait","TERMINAL_STATES","Images","createVariation","edit","Speech","Transcriptions","Translations","Audio","transcriptions","translations","speech","Moderations","Models","ModelsPage","Checkpoints","fineTuningJobId","FineTuningJobCheckpointsPage","Jobs","checkpoints","FineTuningJobsPage","listEvents","FineTuningJobEventsPage","FineTuning","Assistants","assistantId","AssistantsPage","isRunnableFunctionWithParse","isAssistantMessage","isFunctionMessage","isToolMessage","_EventStream_instances","_EventStream_connectedPromise","_EventStream_resolveConnectedPromise","_EventStream_rejectConnectedPromise","_EventStream_endPromise","_EventStream_resolveEndPromise","_EventStream_rejectEndPromise","_EventStream_listeners","_EventStream_ended","_EventStream_errored","_EventStream_aborted","_EventStream_catchingPromiseCreated","_EventStream_handleError","EventStream","_run","_emitFinal","_emit","_connected","off","findIndex","emitted","isAutoParsableResponseFormat","response_format","isAutoParsableTool","tool","parseChatCompletion","completion","choices","choice","finish_reason","tool_calls","toolCall","inputTool","parsed_arguments","$parseRaw","strict","parseToolCall","refusal","parseResponseFormat","shouldParseToolCall","hasAutoParseableInput","openAIError","_AbstractChatCompletionRunner_instances","_AbstractChatCompletionRunner_getFinalContent","_AbstractChatCompletionRunner_getFinalMessage","_AbstractChatCompletionRunner_getFinalFunctionCall","_AbstractChatCompletionRunner_getFinalFunctionCallResult","_AbstractChatCompletionRunner_calculateTotalUsage","_AbstractChatCompletionRunner_validateParams","_AbstractChatCompletionRunner_stringifyFunctionCallResult","DEFAULT_MAX_CHAT_COMPLETIONS","AbstractChatCompletionRunner","_chatCompletions","messages","_addChatCompletion","chatCompletion","_addMessage","function_call","tool_call","allChatCompletions","finalMessage","finalContent","finalFunctionCall","finalFunctionCallResult","usage","chat","_createChatCompletion","restParams","singleFunctionToCall","maxChatCompletions","functionsByName","functions","parameters","rawContent","tool_choice","inputTools","$callback","tool_call_id","rest","completion_tokens","prompt_tokens","total_tokens","ChatCompletionRunner","runner","_runFunctions","_runTools","PartialJSON","MalformedJSON","partialParse","jsonString","allowPartial","ATOM","allow","markPartialJSON","throwMalformedError","parseAny","skipBlank","parseStr","parseObj","parseArr","NaN","parseNum","lastIndexOf","_parseJSON","parseJSON","Allow","_ChatCompletionStream_instances","_ChatCompletionStream_params","_ChatCompletionStream_choiceEventStates","_ChatCompletionStream_currentChatCompletionSnapshot","_ChatCompletionStream_beginRequest","_ChatCompletionStream_getChoiceEventState","_ChatCompletionStream_addChunk","_ChatCompletionStream_emitToolCallDoneEvent","_ChatCompletionStream_emitContentDoneEvents","_ChatCompletionStream_endRequest","_ChatCompletionStream_getAutoParseableResponseFormat","_ChatCompletionStream_accumulateChatCompletion","ChatCompletionStream","currentChatCompletionSnapshot","_fromReadableStream","_runChatCompletion","fromReadableStream","chatId","content_done","refusal_done","logprobs_content_done","logprobs_refusal_done","done_tool_calls","current_tool_call_index","choiceSnapshot","delta","snapshot","logprobs","toolCallDelta","toolCallSnapshot","arguments_delta","toolCallIndex","responseFormat","created","system_fingerprint","choiceRest","messageRest","toolRest","fnRest","maybeParseChatCompletion","finalizeChatCompletion","other","pushQueue","readQueue","ChatCompletionStreamingRunner","validateInputTools","runFunctions","runTools","createChatCompletion","_AssistantStream_instances","_AssistantStream_events","_AssistantStream_runStepSnapshots","_AssistantStream_messageSnapshots","_AssistantStream_messageSnapshot","_AssistantStream_finalRun","_AssistantStream_currentContentIndex","_AssistantStream_currentContent","_AssistantStream_currentToolCallIndex","_AssistantStream_currentToolCall","_AssistantStream_currentEvent","_AssistantStream_currentRunSnapshot","_AssistantStream_currentRunStepSnapshot","_AssistantStream_addEvent","_AssistantStream_endRequest","_AssistantStream_handleMessage","_AssistantStream_handleRunStep","_AssistantStream_handleEvent","_AssistantStream_accumulateRunStep","_AssistantStream_accumulateMessage","_AssistantStream_accumulateContent","_AssistantStream_handleRun","AssistantStream","_addRun","threadId","runId","runs","_runToolAssistantStream","submitToolOutputs","thread","_threadAssistantStream","_runAssistantStream","currentEvent","currentRun","currentMessageSnapshot","currentRunStepSnapshot","createAndRun","acc","deltaValue","accValue","deltaEntry","accEntry","accumulateDelta","_createThreadAssistantStream","_createAssistantStream","_createToolAssistantStream","accumulatedMessage","snapshotContent","textDelta","image_file","currentContent","accumulatedRunStep","step_details","accumulated","contentElement","Messages","messageId","MessagesPage","Steps","stepId","RunStepsPage","Runs","steps","include","RunsPage","poll","createAndStream","createAssistantStream","beta","threads","pollIntervalMs","withResponse","sleepInterval","headerInterval","headerIntervalMs","submitToolOutputsStream","createToolAssistantStream","Threads","thread_id","createAndRunStream","createThreadAssistantStream","vectorStoreId","VectorStoreFilesPage","fileResponse","fileInfo","purpose","file_id","FileBatches","batchId","listFiles","fileIds","configuredConcurrency","maxConcurrency","concurrencyLimit","fileIterator","allFileIds","workers","fill","fileObj","allSettled","allSettledWithThrow","createAndPoll","file_ids","VectorStores","fileBatches","VectorStoresPage","Beta","vectorStores","assistants","Batches","BatchesPage","Parts","uploadId","Uploads","complete","organization","project","dangerouslyAllowBrowser","embeddings","images","audio","moderations","models","fineTuning","batches","uploads","normalize_stringify_options","joined","OpenAI","DEFAULT_TIMEOUT","OpenAIError","spawnSync","runCommandSync","shell","stdio","outputFilePath","extractAllGoImports","sourceCode","extractGoPackage","packageMatch","runTestsFile","fileText","framework","testTitle","testName","className","baseFileName","UniqueId","testFileName","testFilePath","modifiedCode","defaultExport","defaultExportRegex","defaultMatch","standaloneDefaultRegex","standaloneDefaultMatch","modifyJSCode","modifyGoCode","combinedFileText","testDirectory","jsFramework","installFramework","goModFilePath","installGinkgo","getTestCommand","startTime","waitForFile","sampleOutput","testResults","hasFailingTests","matched","testTitleName","testResult","executionTime","testFailureReason","uniqeTitle","parseMochaTestOutput","isConfigError","suiteName","parseJSTestOutput","passedMatch","failedMatch","errorMatch","parsePythonUnittestOutput","parsePythonPytestOutput","parseGoTestifyOutput","cleanedOutput","parseGoGinkgoOutput","matchPass","matchFail","matchError","parseJunitTestOutput","unlinkSync","Diff","buildValues","lastComponent","newString","oldString","useLongestToken","nextComponent","components","previousComponent","reverse","componentPos","componentLen","newPos","oldPos","removed","count","tmp","oldValue","finalComponent","equals","_options$timeout","castInput","removeEmpty","tokenize","newLen","oldLen","editLength","maxEditLength","maxExecutionTime","abortAfterTimestamp","bestPath","extractCommon","minDiagonalToConsider","maxDiagonalToConsider","execEditLength","diagonalPath","basePath","removePath","addPath","canAdd","addPathNewPos","canRemove","addToPath","oldPosInc","last","commonCount","comparator","ignoreCase","chars","extendedWordChars","reWhitespace","wordDiff","ignoreWhitespace","lineDiff","_typeof","stripTrailingCr","retLines","linesAndNewlines","newlineIsToken","objectPrototypeToString","jsonDiff","canonicalize","replacementStack","replacer","canonicalizedObj","sortedKeys","_this$options","undefinedReplacement","_this$options$stringi","stringifyReplacer","arrayDiff","encrypt","secretKey","getSecretKey","cipher","createCipheriv","encryptedData","fileDecorationState","createDecorations","addedLineDecoration","backgroundColor","isWholeLine","removedLineDecoration","activeDiffViews","updateDecorations","editor","originalContent","fileUri","addedDecoration","removedDecoration","removedRanges","addedRanges","globalDiffCommandDisposable","DiffReadOnlyContentProvider","_onDidChange","_content","onDidChange","provideTextDocumentContent","updateContent","dispose","changeDisposables","reapplyDecorations","fileKey","createFile","workspaceUri","unsavedContent","fullFolderPath","joinPath","createDirectory","existingContent","initialContent","openTextDocument","showTextDocument","preview","viewColumn","One","tempUri","originalUri","oldContent","originalFileName","contentProvider","providerRegistration","registerTextDocumentContentProvider","leftUri","rightUri","editableUri","editableDocument","applyEdit","diffKey","diffUri","diffCommandsDisposable","registerCommand","isDirty","__diffCleanup","registerDiffCommand","diffPromise","disposables","onDidSaveTextDocument","savedDoc","diffOptions","Active","preserveFocus","readOnly","contextmenu","hover","quickSuggestions","suggestOnTriggerCharacters","parameterHints","lightbulb","editorChangeDisposable","currentUri","cursorStyle","Line","lineNumbers","renderWhitespace","matchBrackets","renderControlCharacters","renderIndentGuides","selectionHighlight","occurrencesHighlight","closeListener","onDidChangeVisibleTextEditors","editors","visibleUris","showDiffForFile","saveDisposable","savedDocument","newEditor","changeDisposable","firstTimeSaveDisposable","showErrorMessage","deleteFolder","rootDir","folderUri","workspaceFolders","folderPath","fsPath","closeTabsInFolder","tabsToClose","unsavedTabs","tabGroups","group","tabs","tab","recursive","defaultIgnorePatterns","configFilePatterns","excludedFilePatterns","isConfigFile","shouldIncludeFile","isExplicitSearch","ext","shouldIgnoreDirectory","dirPath","dirName","searchFilesInDirectory","searchQuery","maxResults","depth","seen","searchQueryLower","isConfigSearch","currentPath","readdir","withFileTypes","fileNameLower","isConfig","score","getFileContent","getRecursiveNearByFiles","directory","additionalNeeded","visitedDirs","suggestions","items","subSuggestions","fileContentsForFastifyProject","fileContentsForKoaProject","fileContentsForSpringBoootProject","fileContentsForEchoProject","fileContentsForGinProject","fileContentsForNestJSProject","fileContentsForReactProject","fileContentsForNextjsProject","fileContentsForVueProject","fileContentsForTypeScriptProject","fileContentsForAngularProject","fileContentsForSvelteProject","fileContentsForRemixProject","fileContentsForAstroProject","fileContentsForNuxtProject","fileContentsForQwikProject","fileContentsForNativeScriptProject","check","hello","fileContentsForSlidevProject","fileContentsForRemotionProject","fileContentsForViteProject","fileContentsForExpressProject","openWebview","commandType","ReactPanel","createOrShow","addTabBeforeNewline","inputString","insideClass","deployToVercel","projectPath","panel","projectFolder","webview","postMessage","buildDir","frameworkType","frameworkDetectors","detectProjectType","buildCommands","distDir","outDir","prepareDeploymentPackage","projectName","deployCommand","deploymentOutput","deploymentUrl","siteUrl","myHeaders","production","getSiteUrl","errorMessage","fetchSupabaseProjects","supabaseToken","newToken","supabaseRefreshToken","access_token","refresh_token","refreshSupabaseToken","supabaseProjects","projects","currentPanel","_disposables","selectedText","numberofTest","_extensionPath","extensionPath","extensionUri","_panel","createWebviewPanel","viewType","Two","enableScripts","retainContextWhenHidden","localResourceRoots","isNotebookCell","absoluteFilePath","previousActiveEditor","previousVisibleEditors","visibleTextEditors","functionName","globalState","fileExt","html","_getHtmlForWebview","onDidDispose","foundEditor","message2","onDidReceiveMessage","curDate","getFullYear","getMonth","getDate","fileDoc","reveal","splitAndResizeColumns","filePath4","parameter","success","selection","showInformationMessage","modal","semantic_results","recentHistory","user_message","history_context","file_paths","root","is_error","error_message","prompt","formattedHistoryContext","createSemanticSearchResponse","openai","max_tokens","temperature","presence_penalty","frequency_penalty","getSemanticSearchResponse","rootDirectory","semanticResultsObj","relevant_files","currentCodeFiles","adjusted_file_path","file_path","current_code_files","encodedSemanticResults","flagForResult","filePaths","deleteRoot","deletee","closeError","deleteError","deleteFolderError","deleteFiles","updatedContent","savedContent","entireRange","fileUriString","diffView","doc","flatMap","modified","isExactMatch","revertChangesOrDelete","filePath2","allTabs","matchingTabs","tabFileName","diffTabs","isMatch","saveBuildFile","requestId","chatHistory","chatTitle","userDataPath","APPDATA","USERPROFILE","HOME","sessionDir","sessionFile","sessionData","sessionId","fileContent","mkdirSync","buildRequestIdTem","chatResponses","buildHistory","buildChatTitle","supabaseProjectID","supabaseProjectName","serviceRoleKey","supabaseAnonKey","techStack","isSupabaseAuthAdded","isSupabaseDataPersisted","buildRequestId","buildUserDataPath","buildSessionDir","buildSessionFile","buildSessionData","getRecentChatHistories","build_history","getRecentBuildHistories","fileMatch","pathParts","createSingleFile","apiResponse","project_directory","structure","rootProjectUri","folder","parseAndCreateFiles","openExternal","commands","cleanedCommands","sqlCommands","sqlResult","formattedMessage","errorRegex","executeSupabaseSQL","supabaseAccessToken","projectsResponse","quickPickOptions","showQuickPick","placeHolder","selectedProject","showWarningMessage","handleDeploymentSuccess","user_input","query_type","apiError","handleDeploymentFailure","editorsToClose","indentedString","testCode","additionalImports","combinedImports","packageName","commentSymbol","python","javascript","java","go","ruby","rust","csharp","cpp","php","indent","commentPrefix","addSpaceBeforeNewline","defaultUri","saveLabel","filters","showSaveDialog","curDoc","saveFile","clipboard","writeText","differences","oldStr","newStr","reviewCode","diffOutput","linesAdded","linesRemoved","addedLines","removedLines","reviewLines","testdata","correctedCode","normalizeCode","filePath1","isClosed","editBuilder","lastLine","rangeToDelete","insert","newcode","numTests","frameworkKey","numTestsKey","fileChanges","extraFilePaths","workspaceRoot","projectRoot","change","relativeFilePath","fullFilePath","unlinkError","workspaceName","rootFolderName","sd","fileContents","create_fs_buildsetup","runCommand","setupfrom","activateCommand","processFileContents","create_fs_startupProject","allActiveTabs","openTabFiles","localeCompare","getAllActiveTabs","activeTabs","workspaceResults","activeTabPaths","currentFolder","workspaceFolder","getWorkspaceFolder","parent","folders","combined","getFileContextSuggestions","numberOfFilePresent","activeFiles","directoryPath","additionalSuggestions","rootdirnameextract","currentDir","remainingNeeded","parentSuggestions","mergedSuggestions","sug","rootDirName2","startPath","dirname","findRootDir","finalRootDirName","codeData","workspaceRootpath","encodedCode","blocks","processedBlocks","codeBlocks","getTestableCodes1","block","startLine","endLine","startChar","endChar","character","startPos","endPos","codeContent","summary","lineRange","codeLength","processCodeBlocks","formattedBlocks","displayRange","terminal","createTerminal","show","fullRootDirectory","runCommands","cmd","executeCommandsSequentially","cmdList","sendText","dataInString","question","answer","approximateTokenLength","words","word","characters","startIndex","supabaseQuestions","rmSync","doRefactor","manifestFile","manifestConfig","scriptUri","asWebviewUri","styleUri","possible","getNonce","peq","Uint32Array","distance","lst","pv","mv","sc","eq","xv","myers_32","mhc","phc","hsize","vsize","vlen","pb","mb","xh","ph","mh","myers_x","shouldCompleteMultiline","fullPrefix","fullSuffix","trimStart","singleLineComment","completeMultiline","longestCommonSubsequence","lengths","postprocessCompletion","suffix","isAfterClosingBrace","processedCompletion","lineAbove","firstLineOfCompletion","aTrim","bTrim","commonPrefixLength","lineIsRepeated","rewritesLineAbove","prefixLines","lastPrefixLine","completionLines","lcs","matchCount","isExtremeRepetition","AICodeCompletionProvider","abortController","lastValidCompletion","lastFullPrefix","lastInvocationTime","DEBOUNCE_DELAY","MIN_TYPING_INTERVAL","SUGGESTION_TIMEOUT","debouncedProvide","delay","debounce","provideCompletionInternal","lastPrefix","fullText","cursorOffset","offsetAt","userUsage","getAccountUsage","autocomplete","newRecent","oldRecent","similarity","calculateSimilarity","lastChar","cacheKey","contextSnippet","generateCacheKey","CACHE_DURATION","cleanupCache","cached","adjustedPosition","adjustPosition","cursorLine","clipboardText","languageInfo","recentlyEditedRanges","maxPromptTokens","prefixPercentage","maxSuffixPercentage","SYSTEM_MSG","fullPrompt","geminiResponse","maxOutputTokens","stopSequences","getGeminiCompletion","readText","useCopyBuffer","useFileSuffix","debounceDelay","multilineCompletions","slidingWindowPrefixPercentage","slidingWindowSize","maxSnippetPercentage","recentlyEditedSimilarityThreshold","useCache","onlyMyCode","useOtherFiles","useRecentlyEdited","recentLinePrefixMatchMinLength","disableInFiles","useImports","isCancellationRequested","similarityAfter","minLen","commonLength","MixPanel","Analytics","ctx","conn","systemInfo","getSystemDetails","extraData","userTrackPoints","user_ip_address","identify","isNew","userProfile","$email","$name","$created","createdAt","osPlatform","editorVersion","extensionVersion","getUniqueDeviceId","networkInterfaces","macAddresses","flat","iface","internal","mac","macAddress","digest","detectedOS","win32","darwin","linux","android","ios","vscodeExtensionMode","extensionMode","extensionId","packageJSON","$os","osVersion","deviceId","getUserTrackPoints","trackDetails","OPENED_SCANNER_EDITOR_CLICKED","GENERATE_TESTS_ACTION_TRIGGERED_EVENT","GENERATE_TESTS_SIDEBAR_ACTION_TRIGGERED_EVENT","TERMINAL_CHAT_TRIGGERED","TERMINAL_DEBUG_TRIGGERED","EDIT_CODE_TRIGGERED","GENERATE_ANSWER_BY_CLICK_ACTION_TRIGGERED_EVENT","GENERATE_ANSWER_BY_CLICK_SIDEBAR_ACTION_TRIGGERED_EVENT","ASK_PANEL_ACTION_TRIGGERED_EVENT_BY_KEYBINDING","ASK_PANEL_BY_CLICK_SIDEBAR_ACTION_TRIGGERED_EVENT_BY_KEYBINDING","BUILD_PANEL_ACTION_TRIGGERED_EVENT_BY_KEYBINDING","BUILD_PANEL_BY_CLICK_SIDEBAR_ACTION_TRIGGERED_EVENT_BY_KEYBINDING","askCodeEdit","sidebarProvider","manageSessionsFile","sessionsFile","sessions","dateCreated","manageAccountsFile","accountsDir","accountsFile","associatedProfiles","account","sampleJson","readdirSync","recentHistories","buildData","deleteErr","excessFiles","excessFile","chatData","isAutocompleteActive","getTerminalContents","tempCopyBuffer","terminalContents","activate","analytics","globalStore","editorName","appName","getIPAddress","highlightedCodes","userResponse","authenticateUser","debugStatusBarItem","createStatusBarItem","Right","onDidEndTerminalShellExecution","debugCommandKey","hide","onDidChangeTextEditorSelection","textEditor","loginCommand","subscriptions","debugTerminal","remaining_usage","is_verified","activeTerminal","terminalName","isSidebar","terminalExitStatus","exitStatus","is_new_user","handleChat","defaultWalkthroughStepId","walkthroughs","getExtension","contributes","category","openWalkthroughCommand","provider","registerCodeLensProvider","disposable","tutorialUrl","signInCommand","isExhausted","signinMsg","googleButton","signInUrl","uriHandlerDisposable","registerUriHandler","handleUri","getParams","supabase_access_token","supabase_refresh_token","is_upgraded","tempUser","atob","parseJwt","user_email","user_id","welcomeMsg","messageItems","buttonText","basic","upgradeButton","isCloseAffordance","newSidebarContents","updateSidebarContent","SupabaseLoginCommand","authUrl","uriHandler","statusBarIcon1","registerTreeDataProvider","provideToken","showInputBox","getStarted","openSiderBar","refreshSideBar","user_limit","token_usage","remainingTokens","getUserUsage","generateTestsByClick","isNotebook","generateTests","generateAnswerByClick","quick_pick_option","askChatCommand","contextCode","isEmpty","isBinaryDocument","getAnswer","userQuery","userPayload","askTerminalQuestion","terminalCommand","getEditedCode","newCode","cursorPosition","active","buildCommand","found","columnOneTab","rootFolder","findFiles","tempFileUri","statusBarBuilder","Left","canPickMany","selectedValue","baseName","selectedTextm","decorationType","debounceTimer","lineEndPosition","decorationRange","commandKey","decorationOptions","renderOptions","contentText","margin","border","borderColor","borderRadius","padding","registerSelectionHoverProvider","emptyLineDecorationType","isEmptyOrWhitespace","fontStyle","opacity","registerEmptyLineDecorator","completionProvider","completionProviderDisposable","registerInlineCompletionItemProvider","lang"],"sourceRoot":""}